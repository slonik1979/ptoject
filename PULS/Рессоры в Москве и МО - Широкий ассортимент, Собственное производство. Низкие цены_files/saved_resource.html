
<!-- saved from url=(0011)about:blank -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="google" content="notranslate"><meta http-equiv="X-UA-Compatible" content="IE=edge"><script type="text/javascript">window.onerror = function (message, url, lineNumber, columnNumber, error) {
                    if (error && error.error) {
                        error = error.error;
                    }
                
                    if (!error || !(error instanceof Error)) {
                        error = {};
                    }
                
                    error.stack = error.stack || 'empty';
                    error.message = 'Bundle init error: ' + message + ' error.message: ' + error.message;
                    error.columnNumber = columnNumber;
                    error.lineNumber = lineNumber;
                    error.url = url;
                
                    window.parent.__jivoOnError(error);
                };window.base_langpack = {"botTransferChat":"Диалог переведен на оператора","businessCopyright":"Бизнес-мессенджер {0}","byYandex":"через Яндекс","callback_delayed_button_submit":"Заказать звонок","callback_delayed_period_as_possible":"В ближайшее время","callback_delayed_period_delimiter":"в","callback_delayed_period_today":"Сегодня","callback_delayed_period_tomorrow":"Завтра","callback_delayed_submit_fail":"Не удалось заказать звонок на указанное время. Пожалуйста, попробуйте еще раз","callback_delayed_submit_success":"Спасибо!\nМы перезвоним в указанное время","callback_delayed_title":"Когда вам перезвонить?","cancel":"Отмена","captchaPlaceholder":"Введите текст с картинки","captchaPlaceholderAgain":"Введите текст еще раз","chat_agent_join":"Оператор _AGENT_ приглашен в диалог","chat_agent_left":"Оператор _AGENT_  вышел из диалога","chat_on_site":"Чат c","cobrowseError":"Ошибка - ссылка устарела или элемент не найден","continue":"Продолжить","conversation_with":"Идет разговор","cw_callAfter":"Перезвоним вам через","cw_callButtonText":"Перезвоните мне","cw_callHeader":"Обратный звонок","cw_call_forward":"Спасибо за заказ обратного звонка! Наши сотрудники перезвонят вам в ближайшее время","cw_call_to":"Звонок на","cw_code_restrict":"К сожалению, мы не можем позвонить на этот номер","cw_connecting":"Соединяем...","cw_enterPhonePlaceholder":"Введите ваш телефон","cw_errInfoText":"Попробуйте позвонить еще раз, или напишите нам в чат.","cw_form_second":"секунду","cw_form_secondd":"секунд","cw_form_seconds":"секунды","cw_pickUpPhone":"Возьмите трубку","cw_rate_limit":"Вызов на указанный номер невозможен","cw_repeatCall":"Перезвоните мне","cw_repeatCallAgain":"Перезвонить еще раз","cw_thxForCall":"Спасибо вам за звонок!","cw_typeInChat":"Написать в чат","cw_unableToConnect":"Не смогли соединиться?","cw_weCalling":"Мы вам звоним","cw_weRecallAfter":"Введите номер телефона, и мы перезвоним вам за","c_callDisconnected":"Вызов завершен","defCallformTitle":"Нужна помощь? Мы перезвоним через _SEC_ секунд!","defOfflineFormText":"Здравствуйте. \nУ вас возникли вопросы? Мы с удовольствием ответим!","defOfflineFormText2":"Здравствуйте. \nУ вас возникли вопросы? Мы с удовольствием ответим!","defOfflineFormText_old":"Оставьте свое сообщение в этой форме, мы получим его на e-mail и обязательно ответим!","defOfflineWidgetLabel":"Отправьте нам сообщение","defOfflineWidgetLabelMobile":"Сообщение","defOnlineWidgetLabel":"Напишите нам, мы онлайн!","defOnlineWidgetLabelMobile":"Чат","defRuleInvitationText":"Здравствуйте! Я могу вам чем-то помочь?","defRuleRetaining":"Пожалуйста, подождите. Сейчас операторы заняты, но скоро кто-нибудь освободится и ответит вам!","defRuleRetainingEmail":"Нет времени ждать ответ? Получите уведомление на почту!","downloadChatText":"Скачать историю диалога","enterEmailPlaceholder":"Введите ваш email","error_send":"Не доставлено","eula_custom_agreement":"Ставя отметку, я даю свое согласие на обработку моих персональных данных в соответствии с законом и принимаю условия","eula_custom_title":"Согласие на обработку персональных данных","eula_link":"Пользовательское соглашение","eula_phone":"Перезвонить на номер","file_upl_cancel":"Загрузка отменена","file_upl_download":"Скачать","file_upl_error":"Ошибка загрузки","file_upl_error_max_size":"Ошибка – файл должен быть не больше _FILESIZE_","file_upl_error_no_ext":"Ошибка – выберите файл с расширением","introduce_in_chat":"Представьтесь в чате","introduce_or":"или","introduce_social":"Либо войдите через","introduce_text":"Представьтесь, пожалуйста, пока операторы пишут вам ответ","invoiceEmail":"Email для отправки чека","label_fb_text":"Сообщение в Facebook","label_vk_text":"Сообщение ВКонтакте","lblCallMe":"Позвонить","lblCaptcha":"Введите код с картинки","lblCaptchaError":"Неверный код, введите еще раз","lblConnectedToAgent":"Напишите ваше сообщение","lblDeclineFile":"Отклонить","lblDefaultCobrowseComment":"Обратите внимание","lblEnterMessageHere":"Введите сообщение","lblEnterMessageOrPhoneHere":"Введите сообщение или номер телефона (перезвоним мгновенно)","lblEvaluateCancel":"Отменить","lblEvaluatePlease":"Оцените качество обслуживания","lblEvaluateThanks":"Спасибо за оценку!","lblHangUp":"Завершить соединение","lblIntroduceName":"Ваше имя","lblIntroduceRequest":"Представьтесь в чате","lblIntroduceRequestBefore":"Представьтесь и начните чат!","lblLeaveMessage":"Оставить сообщение","lblMessageHere":"Введите сообщение","lblMessagesApp":"Напишите нам в Messages App","lblNewMessage":"Новое сообщение!","lblOfflineMessageSend":"Сообщение отправлено","lblOperatorsOnline":"Операторы онлайн!","lblPencilHint":"Оператор набирает сообщение","lblPwrBy":"Чат предоставлен <a href=\"http://www.jivosite.ru/_URL_\" target=\"_blank\"><span class=\"j1\">Jivo</span><span class=\"j2\">Site</span></a>","lblReceiveFile":"Принять","lblReply":"Ответить","lblSelectDep":"Выберите отдел","lblSend":"Отправить","lblSendBefore":"Начать диалог","lblSendingFile":"_AGENT_ передает вам файл: _FILE_","lblThanks":"Спасибо!","lblThankYouMessage":"Спасибо за ваше сообщение! Мы обязательно свяжемся с вами в ближайшее время","lblTransferred":"Диалог передан оператору _AGENT_","lblView":"Посмотреть","lblYourEmail":"Ваш e-mail","lblYourMessage":"Ваше сообщение","lblYourPhone":"Ваш телефон","lnkCloseThisWindow":"Закрыть","maintenanceBlockedPlaceholder":"Отправка сообщений недоступна","maintenanceSystemText":"Внимание! Мы проводим плановые работы на серверах чтобы сделать чат лучше. В ближайшее время он начнет работу снова. Благодарим за ожидание.","messageDeleted":"Сообщение удалено","messageEdit":"отредактировано","offlineAgentConnected":"Оператор подключился к диалогу","offlineBlockedInputPlaceholder":"Пожалуйста, укажите ваши контакты","offlineForceOfflineMessage":"Похоже операторы сейчас недоступны. Пожалуйста, оставьте своё сообщение и мы свяжемся с вами","offlineIntroductionText":"Укажите ваши контакты, чтобы мы смогли ответить вам","offlineSuccessContactsSubmit":"Теперь ваши сообщения не потеряются. Ответ операторов придет в чат и по указанным контактам.","onlineChat":"Онлайн чат","paymentsInvoice":"Счет №","paymentsPay":"Заплатить","paymentsSuccess":"успешно оплачен","powerBtnMenuTitle":"Как вам удобнее с нами связаться?","prechatText":"Здравствуйте!","prechatText2":"Мне нужна помощь","prechatText3":"Вы можете мне помочь?","seo_copyrightTextNew":"Чат предоставлен {0}","service_from":"Сервис от","social_fb":"в Facebook","social_get_access":"Не хотите ждать? \nПолучите уведомление в ВКонтакте!","social_get_access_fb":"Не обязательно ждать на сайте! Мы отправим ответ в Messenger","social_im":"Напишите нам","social_online_text":"Операторы в сети и скоро ответят","social_process_in":"Продолжить диалог","social_process_in_fb":"Продолжить в","social_process_vk":"Продолжить диалог _ICON_ВКонтакте","social_success_email":"Спасибо, что оставили ваш адрес! Когда придет ответ, отправим его на _EMAIL_ и в этот чат.","social_success_fb":"Messenger подключен! 👍  Если вы уйдете с сайта, то сообщения придут в этот чат и в Messenger","social_success_vk":"Уведомления ВКонтакте включены! 👍  Если вы уйдете с сайта, то сообщения придут в этот чат и во ВКонтакте","social_text_1":"Обычно отвечаем моментально","social_text_2":"Обычно отвечаем в течение нескольких минут","social_text_3":"Обычно отвечаем в течение часа","social_text_4":"Обычно отвечаем в течение нескольких часов","social_text_5":"Обычно отвечаем в течение одного дня","social_vk":"ВКонтакте","today":"Сегодня","yesterday":"Вчера"};!function(){var t,n,a,i,o,r={66419:function(e,t,n){e.exports=n(27698)},41511:function(e,t,n){e.exports=n(83363)},54103:function(e,t,n){e.exports=n(28196)},77766:function(e,t,n){e.exports=n(8065)},20116:function(e,t,n){e.exports=n(11955)},62462:function(e,t,n){e.exports=n(96064)},94473:function(e,t,n){e.exports=n(61577)},78914:function(e,t,n){e.exports=n(46279)},78580:function(e,t,n){e.exports=n(33778)},81643:function(e,t,n){e.exports=n(19373)},69301:function(e,t,n){e.exports=n(73819)},23054:function(e,t,n){e.exports=n(11022)},2991:function(e,t,n){e.exports=n(61798)},32366:function(e,t,n){e.exports=n(52527)},3649:function(e,t,n){e.exports=n(82073)},77149:function(e,t,n){e.exports=n(45286)},47302:function(e,t,n){e.exports=n(62856)},92762:function(e,t,n){e.exports=n(2348)},25843:function(e,t,n){e.exports=n(76361)},89400:function(e,t,n){e.exports=n(62908)},59340:function(e,t,n){e.exports=n(8933)},51942:function(e,t,n){e.exports=n(63383)},54943:function(e,t,n){e.exports=n(14471)},20368:function(e,t,n){e.exports=n(57396)},63978:function(e,t,n){e.exports=n(41910)},34074:function(e,t,n){e.exports=n(79427)},39649:function(e,t,n){e.exports=n(62857)},14310:function(e,t,n){e.exports=n(9534)},86902:function(e,t,n){e.exports=n(23059)},31238:function(e,t,n){e.exports=n(66877)},94198:function(e,t,n){e.exports=n(74888)},1068:function(e,t,n){e.exports=n(61895)},31581:function(e,t,n){e.exports=n(43474)},33032:function(e,t,n){e.exports=n(27989)},36384:function(e,t,n){e.exports=n(5519)},72388:function(e,t,n){e.exports=n(21194)},65420:function(e,t,n){e.exports=n(92547)},28032:function(e,t,n){e.exports=n(35774)},53592:function(e,t,n){e.exports=n(27385)},78363:function(e,t,n){e.exports=n(81522)},19996:function(e,t,n){e.exports=n(32209)},16976:function(e,t,n){e.exports=n(1258)},95683:function(e,t,n){e.exports=n(69447)},95238:function(e,t,n){e.exports=n(81493)},58317:function(e,t,n){e.exports=n(54408)},12088:function(e,t,n){e.exports=n(60269)},189:function(e,t,n){e.exports=n(76094)},44341:function(e,t,n){e.exports=n(73685)},58377:function(e,t,n){e.exports=n(27533)},63263:function(e,t,n){e.exports=n(84710)},24889:function(e,t,n){e.exports=n(74303)},89356:function(e,t,n){e.exports=n(93799)},79542:function(e,t,n){e.exports=n(55122)},83863:function(e,t,n){e.exports=n(31524)},51446:function(e,t,n){e.exports=n(86600)},23882:function(e,t,n){e.exports=n(9759)},16944:function(e,t,n){e.exports=n(58714)},34243:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}},57726:function(e,t,n){var a=n(78363);e.exports=function(e){if(a(e))return e}},46868:function(e,t,n){var a=n(78363),i=n(34243);e.exports=function(e){if(a(e))return i(e)}},5824:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},26394:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},69198:function(e,t,n){var a=n(44341);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),a(e,i.key,i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}},87672:function(e,t,n){var a=n(44341);e.exports=function(e,t,n){return t in e?a(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},5872:function(e,t,n){var a=n(12088);function i(){return e.exports=i=a||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i.apply(this,arguments)}e.exports=i},31474:function(e,t,n){var a=n(58377),i=n(83863),o=n(16649);function r(t,n,l){return"undefined"!=typeof Reflect&&i?e.exports=r=i:e.exports=r=function(e,t,n){var i=o(e,t);if(i){var r=a(i,t);return r.get?r.get.call(n):r.value}},r(t,n,l||t)}e.exports=r},66380:function(e,t,n){var a=n(24889),i=n(79542);function o(t){return e.exports=o=i?a:function(e){return e.__proto__||a(e)},o(t)}e.exports=o},51379:function(e,t,n){var a=n(189),i=n(5613);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=a(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}},60530:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},87646:function(e,t,n){var a=n(58377),i=n(44341),o=n(23765),r=n(16944);function l(){if("function"!=typeof r)return null;var e=new r;return l=function(){return e},e}e.exports=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=i&&a;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var s=r?a(e,u):null;s&&(s.get||s.set)?i(n,u,s):n[u]=e[u]}return n.default=e,t&&t.set(e,n),n}},85400:function(e,t,n){var a=n(53592),i=n(58317),o=n(51446);e.exports=function(e){if(void 0!==o&&i(Object(e)))return a(e)}},65056:function(e,t,n){var a=n(16976),i=n(58317),o=n(51446);e.exports=function(e,t){if(void 0!==o&&i(Object(e))){var n=[],r=!0,l=!1,u=void 0;try{for(var s,c=a(e);!(r=(s=c.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){l=!0,u=e}finally{try{r||null==c.return||c.return()}finally{if(l)throw u}}return n}}},79736:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},76670:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},80122:function(e,t,n){var a=n(95683),i=n(63263),o=n(44590);e.exports=function(e,t){if(null==e)return{};var n,r,l=o(e,t);if(i){var u=i(e);for(r=0;r<u.length;r++)n=u[r],a(t).call(t,n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}},44590:function(e,t,n){var a=n(95683),i=n(89356);e.exports=function(e,t){if(null==e)return{};var n,o,r={},l=i(e);for(o=0;o<l.length;o++)n=l[o],a(t).call(t,n)>=0||(r[n]=e[n]);return r}},214:function(e,t,n){var a=n(23765),i=n(5824);e.exports=function(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?i(e):t}},5613:function(e,t,n){var a=n(79542);function i(t,n){return e.exports=i=a||function(e,t){return e.__proto__=t,e},i(t,n)}e.exports=i},18777:function(e,t,n){var a=n(57726),i=n(65056),o=n(79299),r=n(79736);e.exports=function(e,t){return a(e)||i(e,t)||o(e,t)||r()}},16649:function(e,t,n){var a=n(66380);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=a(e)););return e}},59036:function(e,t,n){var a=n(46868),i=n(85400),o=n(79299),r=n(76670);e.exports=function(e){return a(e)||i(e)||o(e)||r()}},23765:function(e,t,n){var a=n(23882),i=n(51446);function o(t){return e.exports=o="function"==typeof i&&"symbol"==typeof a?function(e){return typeof e}:function(e){return e&&"function"==typeof i&&e.constructor===i&&e!==i.prototype?"symbol":typeof e},o(t)}e.exports=o},79299:function(e,t,n){var a=n(53592),i=n(95238),o=n(34243);e.exports=function(e,t){var n;if(e){if("string"==typeof e)return o(e,t);var r=i(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?a(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}},93379:function(e){var t={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0};e.exports=function(e,n){return"number"!=typeof n||t[e]?n:n+"px"}},60021:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(23765)),r=a(n(3649)),l=a(n(26394)),u=a(n(69198)),s=a(n(51379)),c=a(n(214)),d=a(n(66380)),f=a(n(59748)),h=a(n(62107));function p(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var o=(0,d.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}var g=a(n(75043)).default.name("BaseComponent"),m=n(89766).EventEmitter,v=function(e){(0,s.default)(n,e);var t=p(n);function n(e){var a;return(0,l.default)(this,n),(a=t.call(this,e)).listeners=[],a.emitter=new m,a}return(0,u.default)(n,[{key:"subscribe",value:function(e,t){return this.emitter.addListener(e,t)}},{key:"trigger",value:function(e,t){this.emitter.emit(e,t)}},{key:"delegate",value:function(e,t){return function(n){for(var a=n.target;a!==n.currentTarget;){var i=a.getAttribute("dgName");if(i&&i===e)return n.delegateTarget=a,t(n);a=a.parentNode}}}},{key:"on",value:function(){var e,t=(0,r.default)(Array.prototype).call(arguments),n=t[0],a="JivoStore"==n.__type?t[1]:t[2],i="JivoStore"==n.__type?"update":t[1];if("object"!=(0,o.default)(i))if("function"==typeof n.on?e="on":"function"==typeof n.addListener&&(e="addListener"),e){var l=n[e](i,a);this.listeners.push({type:e,target:n,event:i,callback:a,subscription:l})}else g.error("error cant find type");else for(var u in i)"string"==typeof u&&this.on(n,u,i[u])}},{key:"off",value:function(){for(var e;e=this.listeners.shift();){var t;t="on"==e.type?"off":"removeListener",e.target[t]?e.target[t](e.event,e.callback):e.subscription&&"function"==typeof e.subscription.remove?e.subscription.remove():g.error("error cant find type")}}},{key:"getClasses",value:function(e){var t={},n=e.styles||{};return h.default.each(n,(function(n,a){t[a]={};var i="";n[1]&&(t[a].style=n[1]),h.default.each(n[0],(function(t,n){i+=t?(e.style?e.style[n]:n)+" ":""}))," "===i.charAt(i.length-1)&&(i=i.substr(0,i.length-1)),t[a].className=i})),t}},{key:"getRenderData",value:function(){}},{key:"renderData",value:function(){}},{key:"render",value:function(){var e=this.getRenderData(),t=this.getClasses(e);return this.renderData(e.data||{},t)}},{key:"componentWillUnmount",value:function(){this.off(),this.emitter.removeAllListeners()}}]),n}(f.default.Component);t.default=v},96400:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.ApiProvider=void 0;var i=a(n(77766)),o=a(n(26394)),r=a(n(69198)),l=a(n(49043)),u=a(n(62904)),s=n(56602),c=n(94515),d=new(function(){function e(){(0,o.default)(this,e)}return(0,r.default)(e,[{key:"getCustomerIoInvites",value:function(e,t){var n,a,o=c.EnvironmentManager.isDevelopment()&&u.default.mockRequests&&u.default.mockRequests.customerIO?"/configs/development/customerIO.json":this.getApiHost()+(0,i.default)(n=(0,i.default)(a="/api/".concat("1","/sites/")).call(a,u.default.site_id,"/widgets/")).call(n,u.default.widget_id,"/invitation/"),r={user_token:e};this.sendApiRequest(o,r,t)}},{key:"sendApiRequest",value:function(e,t,n){l.default.get({url:e,params:t},n)}},{key:"getApiHost",value:function(){return(0,s.getProtocol)()+"//"+u.default.api_host}}]),e}());t.ApiProvider=d},49173:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(77766)),o=a(n(26394)),r=a(n(69198)),l=a(n(49043)),u=a(n(62904)),s=a(n(36216)),c=n(56602),d=n(94515),f=function(){function e(){(0,o.default)(this,e)}return(0,r.default)(e,null,[{key:"getStatus",value:function(e){this.getChatServerData("status",{},e)}},{key:"getVisitorNumber",value:function(e){this.getChatServerData("visitor_number",{},e)}},{key:"getMessages",value:function(e,t){this.getChatServerData("messages",e,t)}},{key:"getChatServerData",value:function(e,t,n){var a,o,r,l=s.default.visitorId?"/".concat(s.default.visitorId):"",d=this.shouldMockRequest(e)?"/configs/development/".concat(e,".json"):(0,c.chatServerHost)()+(0,i.default)(a=(0,i.default)(o=(0,i.default)(r="/widget/".concat(e,"/")).call(r,u.default.site_id,"/")).call(o,u.default.widget_id)).call(a,l);this.sendChatServerRequest(d,t,n)}},{key:"getHistoryMessages",value:function(e,t,n){var a,o,r=this.shouldMockRequest("new_messages")?"/configs/development/".concat("new_messages",".json"):(0,c.chatServerHost)()+(0,i.default)(a=(0,i.default)(o="/client/".concat(u.default.site_id,"/")).call(o,u.default.widget_id,"/")).call(a,e),l={"x-jv-client-id":s.default.client_id,"x-visitor-id":s.default.visitorId};this.sendChatServerRequest(r,t,n,l)}},{key:"sendChatServerRequest",value:function(e,t,n,a,i){l.default.get({url:e,params:t,headers:a},n,i)}},{key:"shouldMockRequest",value:function(e){return d.EnvironmentManager.isDevelopment()&&u.default.mockRequests&&u.default.mockRequests[e]}}]),e}();t.default=f},49043:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(63978)),o=a(n(20368)),r=a(n(39649)),l=a(n(78914)),u=a(n(34074)),s=a(n(20116)),c=a(n(14310)),d=a(n(86902)),f=a(n(59340)),h=a(n(77766)),p=a(n(87672)),g=a(n(26394)),m=a(n(69198)),v=a(n(62107)),_=a(n(75043)),y=n(33367);function b(e,t){var n=(0,d.default)(e);if(c.default){var a=(0,c.default)(e);t&&(a=(0,s.default)(a).call(a,(function(t){return(0,u.default)(e,t).enumerable}))),n.push.apply(n,a)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)(0,l.default)(n=b(Object(a),!0)).call(n,(function(t){(0,p.default)(e,t,a[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(a));else{var s;(0,l.default)(s=b(Object(a))).call(s,(function(t){(0,i.default)(e,t,(0,u.default)(a,t))}))}}return e}var E=_.default.name("HttpProvider"),C=function(){function e(){(0,g.default)(this,e)}return(0,m.default)(e,null,[{key:"get",value:function(t,n,a){return e.sendXMLHttpRequest("GET",t,n,a)}},{key:"post",value:function(t,n,a){return e.sendXMLHttpRequest("POST",t,n,a)}},{key:"jsonp",value:function(t,n,a){return a=w(w({},a),{},{jsonp:!0}),e.sendXMLHttpRequest("GET",t,n,a)}},{key:"sendXMLHttpRequest",value:function(t,n,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=i.async,r=void 0===o||o,l=i.withCredentials,u=void 0!==l&&l,s=i.jsonp,c=void 0!==s&&s,d=i.responseType,p=void 0===d?null:d,g=i.monitoring,m=new XMLHttpRequest,_=n.headers;if(m.withCredentials=u,"GET"===t&&(n.url+="?",v.default.each(n.params,(function(e,t){n.url+=[t,encodeURIComponent(e)].join("=")+"&"})),n.url=n.url.substr(0,n.url.length-1)),m.open(t,n.url,r),p&&(m.responseType=p),e.setXhrHeaders(m,_),m.onreadystatechange=function(){if(4===m.readyState)if(200!==m.status)E.log(m),a({code:m.status,text:m.statusText,data:m.response},null);else{var e;try{e=c?m.responseText:p?m.response:JSON.parse(m.responseText)}catch(e){var t,i=new Error((0,h.default)(t="Error parsing response from ".concat(n.url,". ")).call(t,e.message));g||y.Monitoring.reportException(i)}a(null,e)}},E.log("XHR params: ",n.params),"POST"===t&&n.headers&&"application/x-www-form-urlencoded"===n.headers["Content-Type"]){var b="";v.default.each(n.params,(function(e,t){b+=[t,encodeURIComponent(e)].join("=")+"&"})),m.send(b)}else"POST"===t?m.send((0,f.default)(n.params)):m.send(n.params);return m}},{key:"setXhrHeaders",value:function(e,t){return v.default.each(t,(function(t,n){e.setRequestHeader(n,t)})),e}}]),e}();t.default=C},68326:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(33032)),o=a(n(31581)),r=a(n(54103)),l=a(n(26394)),u=a(n(69198)),s=a(n(82993)),c=a(n(4620)),d=a(n(62107)),f=a(n(56602)),h=a(n(62904)),p=n(24335),g=n(89766).EventEmitter,m=1500,v=new(function(){function e(t){var n,a=this;if((0,l.default)(this,e),this.readMessages={},this.lastBufferUpdatedTime=(new Date).getTime(),this.initBufferFn=d.default.debounce((0,r.default)(n=this.initBuffer).call(n,this),500),this.initBuffer(),this.emitter=new g,!f.default.isWixEditor()&&!p.isDesignerEditor)if(s.default.isWriteLS){var i=f.default.getPageWindow();f.default.addListener(i,"storage",(function(e){(e||i.event).key==="jv_eBuffer_"+h.default.widget_id&&a.parseNewEvents()}))}else(0,o.default)((function(){var e=c.default.get("eBufferUpdateTime");e!==a.lastBufferUpdatedTime&&(a.lastBufferUpdatedTime=e,a.parseNewEvents())}),1e3)}return(0,u.default)(e,[{key:"initBuffer",value:function(){var e=this,t=s.default.get("eBuffer")||[],n=this.filterOldEvents(t);d.default.each(n,(function(t){e.readMessages[t.id]})),t.length!==n.length&&s.default.set("eBuffer",n)}},{key:"sendEvent",value:function(e,t){var n=this,a=(new Date).getTime(),o={time:a,id:f.default.generateGUIDCount(2),name:e,data:t||{}},r=this.filterOldEvents(s.default.get("eBuffer")||[]);r.push(o),this.readMessages[o.id]=!0,s.default.set("eBuffer",r),s.default.isWriteLS||c.default.set("eBufferUpdateTime",a),(0,i.default)((function(){n.initBufferFn()}),1505)}},{key:"filterOldEvents",value:function(e){var t=this,n=[];return d.default.each(e,(function(e){(new Date).getTime()-e.time>m?delete t.readMessages[e.id]:n.push(e)})),n}},{key:"parseNewEvents",value:function(){var e=this,t=s.default.get("eBuffer");t&&d.default.each(t,(function(t){!e.readMessages[t.id]&&(new Date).getTime()-t.time<m&&e.triggerEvent(t)}))}},{key:"triggerEvent",value:function(e){this.readMessages[e.id]=!0,this.emitter.emit("tabsEvent_"+e.name,e.data)}},{key:"on",value:function(e,t){return this.emitter.addListener("tabsEvent_"+e,t)}}]),e}());t.default=v},47701:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(78914)),o=a(n(33032)),r=a(n(92762)),l=a(n(62462)),u=a(n(54103)),s=a(n(47302)),c=a(n(69301)),d=a(n(26394)),f=a(n(69198)),h=a(n(71093)),p=n(56602),g=a(n(62107)),m=a(n(82993)),v=a(n(68326)),_=n(24335),y=n(33367),b=n(94515),w=a(n(75043)).default.name("ArrayStore"),E=n(89766).EventEmitter,C=function(){function e(t){(0,d.default)(this,e),this.settings=t,this.emitter=new E,this.store=[],this.initArrayStore(),this.protectOthersTabs(),this.triggerFn=g.default.debounce(this.trigger,100)}return(0,f.default)(e,[{key:"initArrayStore",value:function(){var e=this,t=m.default.get(this.settings.name+"_items")||[];g.default.each(t,(function(t){if(m.default.get(t)){var n=new(e.settings.itemClass||h.default)({type:e.settings.type,name:t,keys:(0,c.default)(e.settings)});e.addTriggers(n),e.store.push(n),(0,s.default)(e).call(e)}}))}},{key:"addTriggers",value:function(e){var t,n=this;e.on("all",(function(){n.trigger("update",e)})),e.on("destroy",(0,u.default)(t=this.onRemoveItem).call(t,this,e))}},{key:"push",value:function(e){var t=this.createInst(e);return this.addTriggers(t),t.set(e),this.store.push(t),(0,s.default)(this).call(this),this.backup(t),this.triggerFn("create",t),t.unStorage&&t.unStorage()||v.default.sendEvent("".concat(this.settings.name,"_addArrayItem"),{name:t.getName()}),t}},{key:"createInst",value:function(e){var t=this.settings.type;(e.body&&e.body.unsave||_.isDesignerEditor)&&(t="memory");for(var n={},a=this.settings.itemClass||h.default,i=0;i<3&&!((n=new a({type:t,name:(0,p.generateGUIDCount)(2),keys:(0,c.default)(this.settings)}))instanceof a);i++)y.Monitoring.reportException(new Error("store_dublicate"));return n}},{key:"sort",value:function(){}},{key:"pushAll",value:function(e){var t=this,n=[];return g.default.each(e,(function(e){n.push(t.push(e))})),n}},{key:"getAll",value:function(){return this.store}},{key:"toJSON",value:function(){var e=[];return g.default.each(this.store,(function(t){e.push(t.toJSON())})),e}},{key:"each",value:function(e){g.default.each(this.store,(function(t){e(t.toJSON(),t)}))}},{key:"onRemoveItem",value:function(e){var t,n=(0,l.default)(g.default).call(g.default,this.store,(function(t){return t===e}));(0,r.default)(t=this.store).call(t,n,1),this.trigger("remove"),this.backup(),v.default.sendEvent("".concat(this.settings.name,"_removeArrayItem"),{name:e.getName()})}},{key:"backup",value:function(){var e=[];g.default.each(this.store,(function(t){t.unStorage&&t.unStorage()||e.push(t.getName())})),m.default.set(this.settings.name+"_items",e.length?e:[])}},{key:"protectOthersTabs",value:function(){var e=this;v.default.on("".concat(this.settings.name,"_addArrayItem"),(function(t){var n=new(e.settings.itemClass||h.default)({type:e.settings.type,name:t.name,keys:(0,c.default)(e.settings)});(0,p.isEmpty)(n)?w.warn("".concat(e.settings.name,"_addArrayItem inst is empty!"),t,n):(e.addTriggers(n),e.store.push(n),(0,s.default)(e).call(e),e.trigger("create",n,!0))})),v.default.on("".concat(this.settings.name,"_removeArrayItem"),(function(t){var n,a=(0,l.default)(g.default).call(g.default,e.store,(function(e){return e.getName()===t.name}));a>=0&&((0,r.default)(n=e.store).call(n,a,1),(0,s.default)(e).call(e),e.trigger("remove"))}))}},{key:"trigger",value:function(e,t,n){var a=this;(0,o.default)((function(){a.emitter.emit(e,t,n)}),0)}},{key:"itemTrigger",value:function(){}},{key:"on",value:function(e,t){return this.emitter.addListener(e,t)}},{key:"onItem",value:function(e){return this.emitter.addListener("".concat(this.settings.name,"_update"),cb)}},{key:"destroy",value:function(){var e=this.store;this.store=[],(0,i.default)(e).call(e,(function(e){e.destroy()})),this.backup(),this.trigger("remove")}}]),e}();t.default=C,b.EnvironmentManager.isDevelopment()&&(window.parent.ArrayStore=C)},4620:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(26394)),o=a(n(69198)),r=a(n(62904)),l=a(n(75043)).default.name("COOKIE","color: grey");function u(e){return new Date((new Date).getTime()+432e5)}var s=new(function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,[{key:"get",value:function(e){return this.cookie(e)}},{key:"set",value:function(e,t,n){return this.cookie(e,t,n)}},{key:"cookie",value:function(e,t,n){if("__utmz"!=e&&(e=["jv",e,r.default.widget_id].join("_")),arguments.length>1&&"[object Object]"!==String(t)){if(void 0===n&&(n={}),null==t?(l.log("Clearing COOKIE "+e),n.expires=-1):l.log("Set COOKIE "+e+" with value "+t),"number"==typeof n.expires){var a=n.expires,i=n.expires=new Date;i.setDate(i.getDate()+a)}else n.expires instanceof Date||(n.expires=u());return t=String(t),document.cookie=[encodeURIComponent(e),"=",encodeURIComponent(t),n.expires?"; expires="+n.expires.toUTCString():"",r.default.cookie_domain?"; domain="+r.default.cookie_domain:"","; path=/"].join("")}var o,s=(n=t||{}).raw?function(e){return e}:decodeURIComponent;o=new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie);try{o=o&&o.length?s(o[1]):null}catch(e){o=o[1]}return o}}]),e}());t.default=s},82993:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(59340)),o=a(n(77766)),r=a(n(26394)),l=a(n(69198)),u=a(n(62904)),s=a(n(4620)),c=a(n(58061)),d=(a(n(75043)).default.name("LocalStorageProvider"),new(function(){function e(){(0,r.default)(this,e);var t=window.parent||window;this.isWriteLS=c.default.supportsLocalStorage()&&!u.default.cookie_domain,this.LS=this.isWriteLS?t.localStorage:null}return(0,l.default)(e,[{key:"get",value:function(e){var t;if(this.LS){var n,a=(0,o.default)(n="jv_".concat(e,"_")).call(n,u.default.widget_id);t=JSON.parse(this.LS.getItem(a))||null}else t=JSON.parse(s.default.get(e)||null);return t}},{key:"set",value:function(e,t){if(this.LS){var n,a=(0,o.default)(n="jv_".concat(e)).call(n,"_"+u.default.widget_id);this.LS.setItem(a,(0,i.default)(t))}else s.default.set(e,(0,i.default)(t))}},{key:"removeKey",value:function(e){if(this.LS){var t,n=(0,o.default)(t="jv_".concat(e,"_")).call(t,u.default.widget_id);this.LS.removeItem(n)}else s.default.set(e,null)}}]),e}()));t.default=d},5972:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(31581)),o=a(n(81643)),r=a(n(26394)),l=a(n(69198)),u=a(n(62107)),s=a(n(93268)),c=a(n(75043)).default.name("SessionStore","color: grey"),d="sess_",f=new(function(){function e(){(0,r.default)(this,e),c.log("init session store"),this.sessionKeysList=this.initSessionKeysList(),this.startTimer()}return(0,l.default)(e,[{key:"initSessionKeysList",value:function(){return s.default.getKeysByPrefix(s.default.getPrefix()+d)}},{key:"set",value:function(e,t){var n;-1===(0,o.default)(n=this.sessionKeysList).call(n,e)&&this.sessionKeysList.push(e),s.default.set(d+e,t,43200)}},{key:"get",value:function(e){return s.default.get(d+e)}},{key:"startTimer",value:function(){var e=this;(0,i.default)((function(){c.log("startTimer",e.sessionKeysList),u.default.each(e.sessionKeysList,(function(t){var n=e.get(t);n&&(c.log("update session",t,n),e.set(t,n))}))}),6e4)}}]),e}());t.default=f},71093:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(77766)),o=a(n(23765)),r=a(n(59340)),l=a(n(69301)),u=a(n(81643)),s=a(n(26394)),c=a(n(69198)),d=a(n(4620)),f=a(n(62107)),h=n(56602),p=a(n(68326)),g=a(n(82993)),m=n(94515),v=a(n(75043)).default.name("Store"),_=n(89766).EventEmitter,y=[],b=function(){function e(t){if((0,s.default)(this,e),this.registrName(t.name))return v.warn("Dublicate name for Store keyName"),{};this.settings=t,this.store=this.getDefaultKeys(),this.emitter=new _,"session"===t.type?this.initSessionStore():"default"===t.type?this.initDefaultStore():"memory"===t.type&&this.initMemoryStore(),this.protectOthersTabs(),this.allKeysUpdateDebounce=f.default.debounce(this.allKeysUpdate,150)}return(0,c.default)(e,[{key:"registrName",value:function(e){return(0,u.default)(y).call(y,e)>-1||(y.push(e),!1)}},{key:"initDefaultStore",value:function(){var e=g.default.get(this.settings.name)||{};this.store=f.default.extend(this.store,e)}},{key:"initMemoryStore",value:function(){}},{key:"initSessionStore",value:function(){var e=g.default.get(this.settings.name)||{};if(e&&e._id!==d.default.get(this.settings.name+"sess_id")){v.log("resetSession store");var t=(0,h.generateGUIDCount)(2);d.default.set(this.settings.name+"sess_id",t),(e=this.store)._id=t,e._clearTime=(new Date).getTime()+5e3,g.default.set(this.settings.name,e),p.default.sendEvent("".concat(this.settings.name,"_resetSessionStore"))}this.store=e}},{key:"getDefaultKeys",value:function(){var e={};return f.default.each((0,l.default)(this.settings),(function(t,n){"function"==typeof t?e[n]=t():null!==t&&"{}"!==(0,r.default)(t)&&(e[n]=t)})),e}},{key:"isDeepName",value:function(e){return"string"==typeof e&&e.split(".").length>1}},{key:"getDeepName",value:function(e){var t=e.split(".");return this.isDeepName(e)?t:[e]}},{key:"set",value:function(e,t){var n=this;if("object"!==(0,o.default)(e))return this.setKey(e,t);f.default.each(e,(function(e,t){n.set(t,e)}))}},{key:"setDeepKey",value:function(e,t,n){if("string"==typeof n&&(n=n.split(".")),!(n.length>1))return null===t?delete e[n[0]]:e[n[0]]=t,t;var a=n.shift();null!=e[a]&&"object"===(0,o.default)(e[a])||(e[a]={}),this.setDeepKey(e[a],t,n)}},{key:"setKey",value:function(e,t,n){return void 0===(0,l.default)(this.settings)[this.getDeepName(e)[0]]?(v.error("Error: set not initialized key "+e),null):(this.get(e)===t||(this.isDeepName(e)?this.setDeepKey(this.store,t,e):null===t?delete this.store[e]:this.store[e]=t,this.trigger(e,t),n||this.triggerAndBackup(e)),t)}},{key:"get",value:function(e){return this.isDeepName(e)?void 0===(0,l.default)(this.settings)[this.getDeepName(e)[0]]?(v.error("Error: get not initialized key "+e),null):this.findObj(this.store,e):void 0===(0,l.default)(this.settings)[e]?(v.error("Error: get not initialized key "+e),null):this.store[e]||null}},{key:"findObj",value:function(e,t){var n,a=t.split("."),i=e;for(n=0;n<a.length;++n){if(null==i[a[n]])return null;i=i[a[n]]}return i}},{key:"destroy",value:function(){this.trigger("destroy"),g.default.removeKey(this.settings.name),this.store={},this.emitter.removeAllListeners()}},{key:"toJSON",value:function(){return this.store}},{key:"triggerAndBackup",value:function(e){"memory"!==this.settings.type&&(this.unStorage&&this.unStorage()||g.default.set(this.settings.name,this.store),p.default.sendEvent("".concat(this.settings.name,"_updateStore"),{name:this.settings.name,keyName:e,val:this.get(e)||null}))}},{key:"allKeysUpdate",value:function(){this.emitter.emit("".concat(this.settings.name,"_change_all"),this.store)}},{key:"trigger",value:function(e,t){var n;this.emitter.emit((0,i.default)(n="".concat(this.settings.name,"_change_")).call(n,e),t),this.allKeysUpdateDebounce()}},{key:"on",value:function(e,t){var n;return this.emitter.addListener((0,i.default)(n="".concat(this.settings.name,"_change_")).call(n,e),t)}},{key:"protectOthersTabs",value:function(){var e=this;p.default.on("".concat(this.settings.name,"_updateStore"),(function(t){t.name===e.settings.name&&e.setKey(t.keyName,t.val,!0)})),p.default.on("".concat(this.settings.name,"_resetSessionStore"),(function(){e.store={}}))}},{key:"getName",value:function(){return this.settings.name}}]),e}(),w=b;t.default=w,m.EnvironmentManager.isDevelopment()&&(window.parent.Store=b)},93268:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(26394)),o=a(n(69198)),r=a(n(62107)),l=a(n(62904)),u=a(n(82993)),s=a(n(75043)).default.name("TempStore","color: grey"),c="temp_",d=new(function(){function e(){(0,i.default)(this,e),this.cleanExpiredKeys()}return(0,o.default)(e,[{key:"set",value:function(e,t,n){if(s.log("set",e,t,n),!n)throw new Error("cant set in TempStore without seconds");if(null===t)return s.log("remove key on data",e),void u.default.removeKey(c+e);t={val:t,expire:(new Date).setTime((new Date).getTime()+1e3*n)},u.default.set(c+e,t)}},{key:"get",value:function(e){var t=u.default.get(c+e);return t&&t.expire?t.expire<(new Date).getTime()?null:t.val:t}},{key:"cleanExpiredKeys",value:function(){var e=this.getKeysByPrefix(c);r.default.each(e,(function(e){var t=c+e,n=u.default.get(t);n&&n.expire&&n.expire<(new Date).getTime()&&(s.log("delete key on init expire:",t),u.default.removeKey(t))}))}},{key:"getKeysByPrefix",value:function(e){var t=[],n=u.default.LS;if(n)for(var a in n)if(a&&0==a.search(new RegExp("^jv_"+e))){var i=a.replace("jv_".concat(e),"").replace("_".concat(l.default.widget_id),"");t.push(i)}return t}},{key:"getPrefix",value:function(){return c}}]),e}());t.default=d},76871:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.TestName=void 0;t.TestName={}},21224:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.Component=void 0;t.Component={ROOT_COMPONENT:"RootComponent",CALL_CONTAINER:"CallContainer",CHAT_CONTAINER:"ChatContainer",DRAG:"Drag",INTRODUCE:"Introduce",WIDGET_CONTAINER:"WidgetContainer",WIDGET_CONTAINER_COMPONENT:"WidgetContainerComponent",INPUT:"Input",AUTORESIZER:"autoResizer",CHAT_INPUT:"ChatInput",CHAT_INTRODUCE:"ChatIntroduce",SCROLL_CONTAINER:"ScrollContainer",PRECHAT:"PrechatMessage",LABEL:"Label",HEADER:"Header",MORE_BUTTON:"MoreButton",MOUSE_TRACK:"MouseTrack",CHAT_BODY:"ChatBody",SOUND_AGENT_MESSAGE:"SOUND_AGENT_MESSAGE",SOUND_NOTIFICATION:"SOUND_NOTIFICATION",SOUND_OUTGOING_MESSAGE:"SOUND_OUTGOING_MESSAGE",MESSAGES_CONTAINER:"MESSAGES_CONTAINER"}},81426:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.ChatMode=void 0;t.ChatMode={OFFLINE:"offline",ONLINE:"online"}},84640:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.Environment=void 0;t.Environment={PRODUCTION:"production",DEVELOPMENT:"development",TESTING:"testing"}},10404:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.FileUploadError=void 0;t.FileUploadError={FILE_SIZE_EXCEEDED:"FILE_SIZE_EXCEEDED",RESTRICTED_FILE_TYPE:"RESTRICTED_FILE_TYPE",NO_EXTENSION:"NO_EXTENSION"}},83093:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.Locator=void 0;t.Locator={LABEL_COPYRIGHT_POPUP:"LABEL_COPYRIGHT_POPUP",HEADER:"HEADER",HEADER_TEXT:"HEADER_TEXT",HEADER_LEAF:"HEADER_LEAF",HEADER_AGENT_NAME:"HEADER_AGENT_NAME",HEADER_AGENT_POSITION:"HEADER_AGENT_POSITION",HEADER_AGENT_AVATAR:"HEADER_AGENT_AVATAR",HEADER_CALLBACK_BUTTON:"HEADER_CALLBACK_BUTTON",CHAT_COPYRIGHT:"CHAT_COPYRIGHT",INPUT:"INPUT",INPUT_SUBMIT:"INPUT_SUBMIT",FILE_UPLOAD:"FILE_UPLOAD",CONTACTS_FORM:"CONTACTS_FORM",CONTACTS_FORM_NAME:"CONTACTS_FORM_NAME",CONTACTS_FORM_PHONE:"CONTACTS_FORM_PHONE",CONTACTS_FORM_EMAIL:"CONTACTS_FORM_EMAIL",CONTACTS_FORM_SUBMIT:"CONTACTS_FORM_SUBMIT",CONTACTS_FORM_INPUT:"CONTACTS_FORM_INPUT",CALLBACK_BUTTON:"CALLBACK_BUTTON",WA_BUTTON:"WA_BUTTON",CLOSE_BUTTON:"CLOSE_BUTTON",POWER_BUTTON:"POWER_BUTTON",MOBILE_POPUP_CLOSE_BUTTON:"MOBILE_POPUP_CLOSE_BUTTON"}},8565:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.MessageInitiator=t.MessageStatus=t.MessageType=void 0;t.MessageType={MESSAGE:"message",PROACTIVE:"proactive",MEDIA:"media",COBROWSE:"cobrowse",INVOICE:"invoice",SYSTEM:"system",PREFORM:"botsystem",FORM:"form",TEMPORARY:"temporary",SOCIAL:"social",EMAIL:"email",SEPARATOR:"separator",FOR_TEST:"fortest",PRECHAT:"prechat",BOT:"bot",INVITE:"invite",EMPTY:null,LISTPICKER:"keyboard",STICKER:"sticker"};t.MessageStatus={SENT:"sended",DELIVERED:"delivered",READ:"read",NOT_DELIVERED:"notDelivered",FAILED:"failed",DELETED:"deleted",EMPTY:null};t.MessageInitiator={AGENT:"agent",CLIENT:"client",SYSTEM:"system",FORM:"bot",BOT:"bot_agent",EMPTY:null}},85442:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.RouteList=t.RouterEvent=t.Route=void 0;var a={HIDDEN:"hidden",LABEL:"label",LABEL_INVITATION:"label/invitation",DEPARTMENTS:"departments",INTRODUCE:"introduce",MOBILE_MENU:"mobilemenu",CHAT:"chat",CHAT_MIN:"chat/min",CHAT_EULA:"chat/eula",CHAT_SOCIAL:"chat/social",CHAT_INTRODUCE:"chat/introduce",CHAT_EVAL:"chat/eval",CHAT_CALL:"chat/call",CALL:"call",CALL_EULA:"call/eula",DEBUG:"debug"};t.Route=a;t.RouterEvent={Submit:"submit",Cancel:"cancel",CloseWindow:"closeWindow",Hide:"hide",Navigate:"navigate",Error:"error",ToChat:"toChat",ToCall:"toCall",ToSocial:"toSocial",ToIntroduce:"toIntroduce",ToEval:"toEval",ToEula:"toEula",ApiOpen:"apiOpen",ToDebug:"toDebug",ToLabelInvitation:"toLabelInvitation",ToMobileMenu:"toMobileMenu"};var i=[];for(var o in a)a.hasOwnProperty(o)&&i.push(a[o]);var r=i;t.RouteList=r},20965:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.DelayedCallStatus=t.CallStatus=t.ChatState=void 0;t.ChatState={NOT_STARTED_OR_CLOSED:"NOT_STARTED_OR_CLOSED",STARTED:"STARTED",ACCEPTED:"ACCEPTED"};t.CallStatus={WAIT:"cw_wait",CONNECTING:"cw_connecting",CONNECTED:"cw_connected",ENDED:"cw_call_end",ERROR:"cw_error"};t.DelayedCallStatus={WAIT:0,SUCCESS:1,MAX_REQUESTS_LIMIT:2,NOT_WORK_TIME:3,BAD_CALLBACK_TIME:4,BLOCKED:5,BAD_DIRECTION:6}},63242:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.TelemetryName=void 0;t.TelemetryName={NEWOFFLINE_FIRST_MESSAGE:"offline_first_message",NEWOFFLINE_FORM_SUBMIT:"offline_form_submit",NEWOFFLINE_MESSAGE_AFTER_FORM:"offline_message_after_form",NEWOFFLINE_AGENT_ACCEPT:"offline_agent_accept",NEWOFFLINE_FORCE_OFFLINE:"offline_force_offline",CHAT_ACCEPTED:"chat_accepted",STARTUP_ERROR:"startup_error",CALL_END:"cw_call_end",CALL_ERROR:"cw_call_error",FORCE_OFFLINE:"force_offline",SOCIAL_HAS_INTEGRATION:"social_receive_has_integration_",CHAT_INTRODUCE_SOCIAL:"chat_introduce_social",CALL_START:"cw_start_call",API_CALL_OPEN:"cw_api_call_open",INTRODUCE:"introduce",CLIENT_RATE_FORM:"client_rate_form",EULA_SHOWN:"eula_shown",EULA_ACCEPTED:"eula_accepted",OFFLINE_SENT:"offline_sent",CLIENT_MESSAGE_SEND_ERROR:"client_message_send_error",CHAT_INTRODUCE:"chat_introduce",CHAT_INVITE:"chat_invite",COBROWSE_SUCCESS:"cobrowse_success",COBROWSE_FAILED:"cobrowse_failed",CLIENT_MESSAGE_FLUSH_BUFFER:"client_message_flush_buffer",DISCONNECTED:"Disconnected while connecting",STARTUP_TIMEOUT:"Startup Timeout",JC_RECONNECT:"JC reconnect",CDN_LOAD_TIME:"cdn_load_time",IN_IFRAME_STARTED:"in_iframe_started",API_GET_MESSAGES_REQUEST:"api_get_messages_request",API_GET_MESSAGES_ERROR:"api_get_messages_error",API_GET_MESSAGES_RECEIVED:"api_get_messages_received",FILE_UPLOAD_ERROR:"file_upload_error",FILE_UPLOAD_ERROR_NO_MIME_TYPE:"file_upload_error_no_mime_type",CW_BUTTON_CLICK:"cw_button_click",WA_BUTTON_CLICK:"wa_button_click",WIDGET_CLOSE_CLICK:"widget_close_click",SITE_CUSTOM_COPYRIGHT:"site_custom_copyright",EULA_CANCEL_BTN:"eula_cancel_btn",EULA_LINK_CLICKED:"eula_link_clicked",FILE_UPLOAD_SUCCESS:"file_upload_success",FILE_UPLOAD_CANCELED:"file_upload_canceled",MOBILE_CHAT_CLOSE:"mobile_chat_close",MOBILE_CLOSE_CALLBACK:"mobile_close_callback",EMOJI_OPEN_SMILE_LIST:"emoji_open_smile_list",EMOJI_INSERT_SMILE:"emoji_insert_smile",WIDGET_CLICK:"widget_click",LABEL_BUTTONS_SHOW:"label_buttons_show",LABEL_BUTTONS_CHAT:"label_buttons_chat",LABEL_BUTTONS_CALL:"label_buttons_call",LABEL_BUTTONS:"label_buttons_",LABEL_BUTTONS_WA:"label_buttons_wa",COBROWSE_CLICK_BUTTON:"cobrowse_click_button",EMAIL_MESSAGE_SUBMITTED:"Introduce message email submitted",POWERBUTTON_OPEN:"powerbtn_open_",POWERBUTTON_OPEN_CHAT:"powerbtn_open_chat",POWERBUTTON_OPEN_CALLBACK:"powerbtn_open_callback",POWERBUTTON_CLOSE_MENU:"powerbtn_close_menu",POWERBUTTON_OPEN_MENU:"powerbtn_open_menu",CONTINUE_IN_VK:"Continue in VK",CONTINUE_IN_FB:"Continue in FB",ZOOM_OVERLAY_SHOW:"zoom_overlay_show",ZOOM_OVERLAY_HIDE:"zoom_overlay_hide",WIDGET_STATUS:"widget_status",CW_ONLINE_HEADER_BUTTON:"cw_online_header_button",CW_OFFLINE_HEADER_BUTTON:"cw_offline_header_button",SOCIAL_SHOW_FACEBOOK:"social_show_facebook",SOCIAL_SHOW_VK:"social_show_vk",SOCIAL_CONFIGURED_NOT_LOGGED:"social_configured_not_logged",VISITORS_FAIL:"visitors_fail",VISITORS_INVITE:"visitors_invite",IMPORT_LEGACY:"import legacy",OFFLINE_INVITE:"offline_invite",BITRIX_SKIP_IFRAME:"Bitrix Skip Iframe",VISITOR_MSG_SENT:"visitor_msg_sent",API_OPEN:"api_open",API_CLOSE:"api close",API_GET_CONTACT_INFO:"api getContactInfo",API_GET_VISITOR_NUMBER:"api getVisitorNumber async",API_SET_USER_TOKEN:"api setUserToken",API_SET_CUSTOM_DATA:"api setCustomData",API_SEND_MESSAGE:"api sendMessage",API_SET_CONTACT_INFO:"api setContactInfo",API_SET_CONTACT_INFO_BAD_DATA:"api setContantactInfo bad data",API_SHOW_PROACTIVE:"api showProactiveInvitation",API_SEND_OFFLINE_MESSAGE:"api sendOfflineMessage",API_SEND_OFFLINE_MESSAGE_BAD_DATA:"api sendOfflineMessage bad data",API_SET_RULES:"api setRules",API_CHAT_MODE:"api chatMode",API_SET_WIDGET_COLOR:"api setWidgetColor",API_SEND_PAGE_TITLE:"api_sendpagetitle",API_IS_CALLBACK_ENABLED:"api isCallbackEnabled",API_GET_UTM:"api getUtm",OFFLINE_SENT_FAIL:"offline_sent_fail",DEBUG_PANEL_OPENED:"debug_panel_opened",MORE_CLICK:"more_click",DOWNLOAD_CHAT_LOG_CLICK:"download_chat_log_click",ERROR_DOWNLOADING_CHAT_LOG:"error_downloading_chat_log",WIDGET_DELETED:"widget_deleted",INVITE_CLOSE:"invite_close",PRECHAT:"prechat",RECEIVE_API_INVITATION:"receive_api_invitation",READ_API_INVITATION:"read_api_invitation",ANSWER_API_INVITATION:"answer_api_invitation",API_INVITATION_OPEN_CHAT:"api_invitation_open_chat",BOT_BUTTON_CLICK:"bot_button_click",CLIENT_MESSAGE_BOT:"client_message_bot",CONFIG_LIMIT:"config_limit",VI_STATUS_FAIL:"vi_status_fail",MARKDOWN_LINK_CLICK:"markdown_link_click",MORE_BTN_CLICK:"more_btn_click",BOT_TRANSFER_CHAT:"bot_transfer_chat",DELAYED_ERR:"delayed_query_error",RECAPTCHA_SUCCESS:"recaptcha_success",RECAPTCHA_FAILURE:"recaptcha_failure",RECAPTCHA_ERROR:"recaptcha_error",BUNDLE_LOADED:"bundle_loaded"}},42796:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.ScriptName=void 0;t.ScriptName={OPEN_WIDGET:"OPEN_WIDGET",CLOSE_WIDGET:"CLOSE_WIDGET",MINIMIZE_WIDGET:"MINIMIZE_WIDGET",MAXIMIZE_WIDGET:"MAXIMIZE_WIDGET"}},78605:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.ClientStatus=void 0;t.ClientStatus={ON_CHAT:"on_chat",INVITE_SENT:"invite_sent",ON_SITE:"on_site",PROACTIVE_SHOW:"proactive_show",ON_CALL:"on_call"}},55471:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(87672)),o=a(n(59748)),r=a(n(94184)),l=a(n(75119)),u=a(n(45697)),s=a(n(84470)),c=(a(n(75043)).default.name("AgentTyping"),function(e){var t,n=e.show,a=void 0===n?0:n,u=e.isMobile,c=(0,r.default)((t={},(0,i.default)(t,s.default.main,!0),(0,i.default)(t,s.default.__mobile,u),t));return o.default.createElement("jdiv",{className:c,style:{display:a?"block":"none"}},o.default.createElement("jdiv",{className:s.default.text},(0,l.default)("lblPencilHint")))});c.propTypes={show:u.default.number,isMobile:u.default.bool};var d=o.default.memo(c);t.default=d},16810:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(5872)),r=a(n(2991)),l=a(n(77766)),u=a(n(3649)),s=a(n(54103)),c=a(n(26394)),d=a(n(69198)),f=a(n(51379)),h=a(n(214)),p=a(n(66380)),g=a(n(59748)),m=a(n(60021)),v=a(n(69961)),_=a(n(36216)),y=a(n(62652)),b=a(n(62904)),w=a(n(75043)),E=a(n(58061)),C=n(17674),T=n(56602),k=a(n(31386)),S=n(70645);n(83093);function I(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,p.default)(e);if(t){var o=(0,p.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,h.default)(this,n)}}w.default.name("Avatar");var A=function(e){(0,f.default)(n,e);var t=I(n);function n(e){var a;return(0,c.default)(this,n),(a=t.call(this,e)).state={},a.state=a.getState(),a.state.expanded=C.Router.isMinRoute(),a.state.connected=a.props.connected,a._totalAgents=0,a}return(0,d.default)(n,[{key:"getState",value:function(){var e="cw_connected"===_.default.cw_call.status;return y.default.is_online?{avatar_url:!!v.default.agent_id&&v.default.avatar_url,connected:e,expanded:C.Router.isMinRoute()}:{avatar_url:!1,connected:e}}},{key:"processState",value:function(){var e=this.getState();e.avatar_url===this.state.avatar_url&&e.connected===this.state.connected&&e.expanded===this.state.expanded||this.setState(e)}},{key:"componentDidMount",value:function(){var e,t,n;this.on(y.default,(0,s.default)(e=this.processState).call(e,this)),this.on(_.default,(0,s.default)(t=this.processState).call(t,this)),this.on(v.default,(0,s.default)(n=this.processState).call(n,this))}},{key:"componentWillUnmount",value:function(){this.off()}},{key:"getRenderData",value:function(){var e,t,n,a=[];this.props.avatars&&(this._totalAgents=this.props.avatars.length,a=(0,u.default)(n=this.props.avatars).call(n,0,3));var i=!!this.state.avatar_url&&(0,l.default)(e=(0,l.default)(t="".concat((0,T.getProtocol)())).call(t,b.default.avatar_url,"/avatars/")).call(e,this.state.avatar_url),o=y.default.is_online&&!C.Router.isHideAvatarRoute()&&(v.default.agent_id||a.length>1),r=this.props.isLightBg,s={display:i?"block":"none"},c=b.default.power_button_color||"#44BB6E",d=E.default.mobileOrTablet()&&!b.default.power_gradient?c:b.default.widget_color,f=[{avatar:!0,_connected:"chat"!==this.props.type&&this.state.connected,_expanded:this.state.expanded,_mobile:E.default.mobile(),_tablet:E.default.tablet(),_chatStyle:!!this.props.type,__isLastMessage:this.props.isLastMessage},{display:o?"table-cell":"none"}];return this.props.type&&(f[1]={},r=!0),a.length&&(f[0]["_width"+a.length]=!0),{data:{avatarUrl:i||"",avatars:a},styles:{avatar:f,avatarColor:[{darkAvatar:r,lightAvatar:!r}],avatarList:[{avatarList:!0}],avatarListImg:[{avatarListImg:!0}],dotsItem:[{dotsItem:!0,_dark:r,_light:!r},{borderColor:d}],avatarItem:[{avatarItem:!0,darkAvatar:r,lightAvatar:!r},{backgroundColor:this.props.type?null:d,borderColor:this.props.type?null:d}],avatarImg:[{avatarImg:!0},s]},style:k.default}}},{key:"renderAvatars",value:function(e,t){var n,a=this;if(t.avatars.length)return g.default.createElement("jdiv",(0,o.default)({},e.avatarList,(0,S.withLocator)(this.props["data-qa-id"])),(0,r.default)(n=t.avatars).call(n,(function(t,n){var i,r;if(t){t.toJSON&&(t=t.toJSON());var u=!!t.avatar_url&&(0,l.default)(i=(0,l.default)(r="".concat((0,T.getProtocol)())).call(r,b.default.avatar_url,"/avatars/")).call(i,t.avatar_url);return 2==n&&a._totalAgents>3?g.default.createElement("jdiv",e.dotsItem,g.default.createElement("jdiv",e.dots,"...")):g.default.createElement("jdiv",e.avatarItem,u?g.default.createElement("jdiv",(0,o.default)({},e.avatarListImg,{style:{backgroundImage:"url(".concat(u,")")}})):"")}})));var i=t.avatarUrl?{backgroundImage:"url(".concat(t.avatarUrl,")")}:{};return g.default.createElement("jdiv",e.avatarColor,g.default.createElement("jdiv",(0,o.default)({},e.avatarImg,{style:i},(0,S.withLocator)(this.props["data-qa-id"]))))}},{key:"renderData",value:function(e,t){return g.default.createElement("jdiv",t.avatar,this.renderAvatars(t,e))}}]),n}(m.default);t.default=A},91858:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(87672)),o=a(n(59748)),r=a(n(31386)),l=a(n(94184)),u=a(n(45697)),s=function(e){var t,n=e.expanded,a=void 0!==n&&n,u=e.dark,s=void 0===u||u,c=e.inCall,d=void 0!==c&&c,f=e.inChat,h=void 0!==f&&f,p=e.isMobile,g=void 0!==p&&p,m=e.isTablet,v=void 0!==m&&m,_=e.url,y=void 0===_?null:_,b=y?{backgroundImage:"url(".concat(y,")")}:{},w=(0,l.default)((t={},(0,i.default)(t,r.default.avatar,!0),(0,i.default)(t,r.default._connected,!h&&d),(0,i.default)(t,r.default._expanded,a),(0,i.default)(t,r.default._mobile,g),(0,i.default)(t,r.default._tablet,v),(0,i.default)(t,r.default._chatStyle,h),t));return o.default.createElement("jdiv",{className:w},o.default.createElement("jdiv",{className:s?r.default.darkAvatar:r.default.lightAvatar},o.default.createElement("jdiv",{className:r.default.avatarImg,style:b})))};s.propTypes={expanded:u.default.bool,dark:u.default.bool.isRequired,inCall:u.default.bool,inChat:u.default.bool,isMobile:u.default.bool,isTablet:u.default.bool,url:u.default.string};var c=o.default.memo(s);t.default=c},80743:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(77766)),o=a(n(87672)),r=a(n(59748)),l=a(n(62904)),u=a(n(31386)),s=n(56602),c=a(n(94184)),d=a(n(45697)),f=n(58165),h=(a(n(75043)).default.name("BotIcon"),function(e){var t,n,a,d=e.isHeader,h=void 0!==d&&d,p=e.url,g=void 0===p?null:p,m=(0,c.default)((t={},(0,o.default)(t,u.default.botIcon,!0),(0,o.default)(t,u.default.__header,h),t)),v=g?(0,i.default)(n=(0,i.default)(a="".concat((0,s.getProtocol)())).call(a,l.default.avatar_url,"/avatars/")).call(n,g):(0,f.getSvgBgIcon)("iconBot"),_=g?null:{backgroundImage:"url(".concat(v,")")};return r.default.createElement("jdiv",{className:m,style:_},g?r.default.createElement("jdiv",{className:u.default.img,style:{backgroundImage:"url(".concat(v,")")}}):null)});h.propTypes={isHeader:d.default.bool,url:d.default.string};var p=r.default.memo(h);t.default=p},80740:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(2991)),o=a(n(87672)),r=a(n(59748)),l=a(n(31386)),u=a(n(94184)),s=a(n(45697)),c=function(e){var t,n=e.urls,a=e.bgColor,s=e.dark,c=void 0!==s&&s,d=e.expanded,f=void 0!==d&&d,h=e.inCall,p=void 0!==h&&h,g=e.inChat,m=void 0!==g&&g,v=e.isMobile,_=void 0!==v&&v,y=e.isTablet,b=void 0!==y&&y,w="_width".concat(n.length),E=(0,u.default)((t={},(0,o.default)(t,l.default.avatar,!0),(0,o.default)(t,l.default._connected,!m&&p),(0,o.default)(t,l.default._expanded,f),(0,o.default)(t,l.default._mobile,_),(0,o.default)(t,l.default._tablet,b),(0,o.default)(t,l.default._chatStyle,m),(0,o.default)(t,l.default[w],!0),t));return r.default.createElement("jdiv",{className:E},r.default.createElement("jdiv",{className:l.default.avatarList},(0,i.default)(n).call(n,(function(e,t){var i,s;return n.length>3&&t===n.length-1?r.default.createElement("jdiv",{className:(0,u.default)((i={},(0,o.default)(i,l.default.dotsItem,!0),(0,o.default)(i,l.default._dark,c),(0,o.default)(i,l.default._light,!c),i)),style:{borderColor:a}},r.default.createElement("jdiv",null,"...")):r.default.createElement("jdiv",{className:(0,u.default)((s={},(0,o.default)(s,l.default.avatarItem,!0),(0,o.default)(s,l.default.darkAvatar,c),(0,o.default)(s,l.default.lightAvatar,!c),s)),style:{backgroundColor:a,borderColor:a}},r.default.createElement("jdiv",{className:l.default.avatarListImg,style:{backgroundImage:e?"url(".concat(e,")"):null}}))}))))};c.propTypes={urls:s.default.arrayOf(s.default.string.isRequired).isRequired,bgColor:s.default.string.isRequired,dark:s.default.bool.isRequired,expanded:s.default.bool,inCall:s.default.bool,inChat:s.default.bool,isMobile:s.default.bool,isTablet:s.default.bool};var d=r.default.memo(c);t.default=d},34271:function(e,t,n){"use strict";var a=n(87646),i=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(87672)),r=i(n(33032)),l=i(n(31581)),u=i(n(77766)),s=i(n(81643)),c=i(n(18777)),d=a(n(59748)),f=n(26213),h=i(n(45697)),p=i(n(37480)),g=i(n(66975)),m=i(n(78670)),v=i(n(76646)),_=n(57539),y=i(n(94184)),b=i(n(54782)),w=i(n(58061)),E=n(85442),C=n(20965),T=n(56602),k=i(n(86999)),S=i(n(75119)),I=n(10872),A=i(n(45808)),x=n(21224),M=(i(n(75043)).default.name("CallContainer"),function(e){var t,n,a,i,f,h=e.callbackStatus,M=e.closeCallback,R=e.isDelayedCall,O=e.delayedCallStatus,N=e.callbackTime,D=e.callbackError,L=e.widgetFontColor,P=e.widgetColor,j=e.widgetColor2,B=e.pattern,F=e.billRu,H=e.eulaAccepted,W=e.callHeaderText,U=e.route,z=e.showBody,G=(0,d.useState)(!1),V=(0,c.default)(G,2),q=V[0],K=V[1],Y=-1!==(0,s.default)(t=[C.CallStatus.WAIT,C.CallStatus.CONNECTING,C.CallStatus.CONNECTED]).call(t,h);return w.default.mobileOrTablet()?d.default.createElement(g.default,{route:U,status:h,display:!0}):d.default.createElement("jdiv",{className:(0,y.default)((n={},(0,o.default)(n,b.default.wrap,!0),(0,o.default)(n,b.default.__minified,U===E.Route.CALL&&h===C.CallStatus.CONNECTED),n))},d.default.createElement(_.Path,{name:"CallHeader",paths:[E.Route.CALL,E.Route.CALL_EULA],fixed:!0},d.default.createElement("jdiv",{className:b.default.header},Y?null:d.default.createElement(m.default,{callStatus:h,isDelayedCall:R,textColor:(0,T.getTextColor)(L),delayedCallStatus:O,errorMessage:h===C.CallStatus.ERROR?D||(0,S.default)("cw_unableToConnect")+" "+(0,S.default)("cw_errInfoText"):null,text:W,time:N,animate:q,eulaText:U!==E.Route.CALL_EULA||H?null:R?(0,S.default)("callback_delayed_title"):(0,u.default)(i=(0,u.default)(f="".concat((0,S.default)("cw_callAfter")," ")).call(f,N," ")).call(i,(0,S.default)("cw_form_secondd")),showAd:(0,T.showAd)(),backgroundGradient:k.default.getGradientBg(P,j),pattern:B?(0,T.cdnPatternUrl)():null,leafBackgroundColor:j||P,logoLink:(0,T.trackCallLogo)(),logoTitle:F?"Jivo":"Jivochat",logo:F?"logo-jivosite":"logo-jivochat",showBody:z}))),d.default.createElement(_.Path,{paths:[E.Route.CALL,E.Route.CALL_EULA],name:"CallBody",withMountTransition:!0,transition:"Fade",shouldWait:0},d.default.createElement("jdiv",{className:(0,y.default)((a={},(0,o.default)(a,b.default.body,!0),(0,o.default)(a,b.default.__expanded,q),(0,o.default)(a,b.default.__collapsed,!q),a))},d.default.createElement(p.default,{route:U,status:h,display:!0,onAnimate:function(){var e;if(K(!0),w.default.safari()&&!w.default.mobileOrTablet()){var t=A.default.get(x.Component.WIDGET_CONTAINER);e=(0,l.default)((function(){(0,I.updateKeyframes)(t)}),50)}(0,r.default)((function(){K(!1),clearInterval(e)}),500)},name:"CallForm"}),d.default.createElement(_.Path,{paths:[E.Route.CALL_EULA],withMountTransition:!0,transition:"PopupSlideUpEULA",name:"CallEulaPopup"},d.default.createElement("jdiv",{className:b.default.popupContainer},d.default.createElement(v.default,{showCallback:function(){},hideCallback:M,callContainer:!0}))))))});M.propTypes={callbackStatus:h.default.oneOfType([h.default.string,h.default.bool]),isDelayedCall:h.default.bool,delayedCallStatus:h.default.number,callbackTime:h.default.number,callbackError:h.default.oneOfType([h.default.string,h.default.bool]),widgetFontColor:h.default.string,widgetColor:h.default.string,widgetColor2:h.default.string,pattern:h.default.any,billRu:h.default.bool,eulaAccepted:h.default.bool,callHeaderText:h.default.string,route:h.default.string,closeCallback:h.default.func,showBody:h.default.bool};var R=(0,f.connect)((function(e){return{callbackStatus:e.callback.status,isDelayedCall:e.callback.isDelayed,delayedCallStatus:e.callback.delayedStatus,callbackTime:e.settings.user.callback.time,callbackError:e.callback.error,widgetFontColor:e.settings.user.widgetFontColor,widgetColor:e.settings.user.widgetColor,widgetColor2:e.settings.user.widgetColor2,pattern:e.settings.user.pattern,billRu:e.settings.system.billRu,eulaAccepted:e.client.eulaAccepted,callHeaderText:e.settings.user.callHeaderText,route:e.app.route}}),{})(M);t.default=R},78670:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=t.componentProps=void 0;var i=a(n(87672)),o=a(n(25843)),r=a(n(59748)),l=a(n(75119)),u=a(n(58165)),s=a(n(53897)),c=a(n(19452)),d=n(20965),f=a(n(67752)),h=a(n(94184)),p=a(n(45697)),g=function(e){var t,n,a=e.callStatus,p=e.isDelayedCall,g=e.textColor,m=e.delayedCallStatus,v=e.errorMessage,_=e.text,y=e.time,b=e.animate,w=e.eulaText,E=e.showAd,C=e.backgroundGradient,T=e.pattern,k=e.leafBackgroundColor,S=e.logoLink,I=e.logoTitle,A=e.logo,x=e.showBody;return r.default.createElement("jdiv",{className:(0,h.default)((t={},(0,i.default)(t,f.default.main,!0),(0,i.default)(t,f.default.__animateToChat,b),(0,i.default)(t,f.default.__nologo,!E),(0,i.default)(t,f.default._fade,!x),t)),style:{height:b||w?"70px":"224px",background:C}},r.default.createElement("jdiv",{className:T?f.default.pattern:null,style:{backgroundImage:T||null}},r.default.createElement(s.default,{backgroundColor:k,online:!0,orientation:"bottom"}),w?r.default.createElement("jdiv",{className:f.default.eulaHeaderText,style:{color:g}},w):null,E&&r.default.createElement("jdiv",{className:f.default.logoBox},r.default.createElement("a",{href:S,target:"_blank",rel:"noopener noreferrer",title:I,className:(0,h.default)((0,i.default)({},f.default._hidden,a===d.CallStatus.CONNECTED||w))},r.default.createElement(u.default,{iconName:A,color:g,color2:"#18C139",className:f.default.logoIcon,style:{color:g}}))),r.default.createElement("jdiv",{className:(0,h.default)((n={},(0,i.default)(n,f.default.callText,!0),(0,i.default)(n,f.default._connected,w&&a===d.CallStatus.CONNECTED),(0,i.default)(n,f.default._fade,!x),n)),style:{color:g,height:E?124:224}},function(){var e;switch(a){case d.CallStatus.ERROR:return p?r.default.createElement(c.default,{color:g,statusCode:m}):v;case d.CallStatus.ENDED:return r.default.createElement("jdiv",{className:f.default.callEndBox},r.default.createElement(u.default,{iconName:"icon-callok",color:g,className:f.default.callEndIcon}),r.default.createElement("jdiv",null,(0,l.default)("cw_thxForCall")));default:return p?r.default.createElement(c.default,{color:g,statusCode:m}):_?r.default.createElement("jdiv",null,_):r.default.createElement("jdiv",null,r.default.createElement("jdiv",{className:f.default.sec},(0,o.default)(e=(0,l.default)("cw_weRecallAfter")).call(e)," ",r.default.createElement("jdiv",{className:f.default.time},y)," ",(0,l.default)("cw_form_secondd"),"!"))}}())))},m=g.propTypes={callStatus:p.default.oneOfType([p.default.string,p.default.bool]).isRequired,isDelayedCall:p.default.bool,delayedCallStatus:p.default.number,errorMessage:p.default.string,textColor:p.default.string,pattern:p.default.string,backgroundColor:p.default.string,backgroundGradient:p.default.string,showAd:p.default.bool,eulaText:p.default.string,logo:p.default.string,logoLink:p.default.string,logoTitle:p.default.string,time:p.default.number,text:p.default.string,leafBackgroundColor:p.default.string,animate:p.default.bool,showBody:p.default.bool};t.componentProps=m;var v=r.default.memo(g);t.default=v},82817:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(94473)),r=a(n(77766)),l=a(n(26394)),u=a(n(69198)),s=a(n(51379)),c=a(n(214)),d=a(n(66380)),f=a(n(60021)),h=a(n(47321)),p=a(n(62652)),g=a(n(49902)),m=a(n(62904)),v=a(n(75119)),_=a(n(58061)),y=a(n(62107)),b=n(17674),w=n(85442),E=n(51139),C=a(n(75959));function T(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var o=(0,d.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}var k=a(n(75043)).default.name("Call"),S=function(e){(0,s.default)(n,e);var t=T(n);function n(){return(0,l.default)(this,n),t.apply(this,arguments)}return(0,u.default)(n,[{key:"initTimer",value:function(e,t,n){this.callTimer=g.default,this.callTimer.timerText=e,this.callTimer.seconds=m.default.callback_settings.time,this.callTimer.on("handling",t),this.callTimer.on("tick",n)}},{key:"setTimerNull",value:function(){this.callTimer&&this.callTimer.setTimerNull()}},{key:"startTimer",value:function(){this.callTimer&&this.callTimer.handle("start_timer")}},{key:"submitPhone",value:function(e,t,n){var a=this._inputPhone;if(k.log("submitPhone",t,n,a,this._inputPhone),a&&a.isValid()){_.default.tablet()&&a&&a.base&&a.base.blur();var i,o="+"+a.getFullPhoneNumber(),l="";if(l=n?this.getMaskedPhoneByCode(o,n):(0,E.getMaskedPhone)(o),!p.default.eula_accepted&&m.default.eula)this.phone=o,C.default.showEula((0,r.default)(i="".concat((0,v.default)("eula_phone"),"<br/>")).call(i,l),null,"cb"),b.Router.next(w.RouterEvent.Submit);else this.setTimerNull(),this.startCall(o,t)}}},{key:"startCall",value:function(e,t,n){k.log("start call",e,t),h.default.startCall(e,t,n)}},{key:"getMaskedPhoneByCode",value:function(e,t){if(k.log("getMaskedPhoneByCode",e,t),!e)return e;var n=this.getPhoneNumberInfoByCode(e,t);return k.log("phoneNumberCode",n),n?"+"+t+" "+(0,E.getMaskedValue)(n.innerNumber,n.phoneFormat):null}},{key:"getPhoneNumberInfoByCode",value:function(e,t){var n=(0,o.default)(y.default).call(y.default,m.default.callback_settings.countries,{phone_code:t});return k.log("getPhoneNumberInfoByCode",n,t),n?(0,E.getPhoneInfo)(n,e):null}}]),n}(f.default);t.default=S},17678:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(81643)),r=a(n(33032)),l=a(n(51942)),u=a(n(77766)),s=a(n(54103)),c=a(n(26394)),d=a(n(69198)),f=a(n(5824)),h=a(n(51379)),p=a(n(214)),g=a(n(66380)),m=a(n(59748)),v=a(n(36216)),_=a(n(62652)),y=n(51139),b=a(n(62904)),w=a(n(75119)),E=a(n(75043)),C=a(n(82817)),T=a(n(69288)),k=a(n(71059)),S=a(n(19301)),I=a(n(58165)),A=a(n(10120)),x=n(17674),M=n(85442),R=n(75245),O=a(n(531)),N=a(n(58061)),D=n(56602),L=a(n(99249)),P=a(n(76969));function j(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,g.default)(e);if(t){var o=(0,g.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,p.default)(this,n)}}var B=E.default.name("CallChat"),F=(0,y.getTextSeconds)(b.default.callback_settings),H="chat_popup",W=function(e){(0,h.default)(n,e);var t=j(n);function n(e){var a,i;return(0,c.default)(this,n),(i=t.call(this,e)).state={mode:!1,pin:!0,close:!0,error:!1,hide:!1,is_invalid_phone:!1,submit:!1,blocked:!1},i._blockTimeout=null,i._inputPhone=null,i._timer=null,i.processState=(0,s.default)(a=i.processState).call(a,(0,f.default)(i)),i}return(0,d.default)(n,[{key:"componentDidMount",value:function(){var e=this;(0,D.isEmpty)(b.default.callback_settings)?B.log("Callwidget not configured yet."):(this.on(_.default,(function(){x.Router.getCurrentRoute()!==M.Route.LABEL&&(x.Router.getCurrentRoute()!==M.Route.CHAT_CALL||e.props.display&&!e.state.hide||!e._inputPhone||e._inputPhone.focus(),_.default.eula_accepted&&e.phone&&b.default.eula&&(e.setTimerNull(),e.setState({phone:e.phone,is_invalid_phone:0}),e.startCall(e.phone,H),e.values=!1,e.phone=!1),e.setState(e.getState()))})),this.on(v.default,(function(){e.processState()})),this.initTimer(this._timer,(function(t){B.log("timer_finished",e.state.mode,e._timer),"timer_finished"===t.inputType&&"cw_wait"===e.state.mode&&e.setState({mode:"cw_connecting"})}),(function(t){e.setState({timer:t.toFixed(1).replace(".",",")})})),this.processState(!0),this._inputPhone&&(this._inputPhone.subscribe("onEnter",(function(t,n){return e.submitPhone(t,H,n)})),this._inputPhone.subscribe("onChange",(function(){e.setState({is_invalid_phone:!e._inputPhone.isValid()})}))),x.Router.on("submit_eula_success",(function(t){B.log("submit_eula_success CallChat",t),x.Router.getCurrentRoute()===M.Route.CALL_CHAT&&e.submitPhone(event,H,e._inputPhone.getCurrentCode())})))}},{key:"processState",value:function(e){var t=this.getState(e);(0,O.default)(t,this.state)&&v.default.cw_call.status===this.state.mode||this.setState(t)}},{key:"getState",value:function(e){var t={mode:v.default.cw_call.status,error:!1,hide:!1,isDelayedCall:!!v.default.cw_call_delayed,delayedCallPeriods:v.default.cw_call_delayed_periods,delayedCallStatus:v.default.cw_call_delayed_status};switch(t.mode){case"cw_wait":var n;if(e)R.messageActions.systemCallMessage((0,u.default)(n="".concat((0,w.default)("cw_call_to")," ")).call(n,(0,y.getMaskedPhone)(v.default.client_info.phone)),"callMessageStart");(0,l.default)(t,{hide:!1,pin:!1,close:!1,submit:!1}),this.startTimer();break;case"cw_connecting":(0,l.default)(t,{pin:!1,close:!1,hide:!1,submit:!1}),this.setTimerNull();break;case"cw_connected":t.hide=!0;break;case"cw_error":(0,l.default)(t,{pin:!N.default.mobileOrTablet(),close:!0,submit:!1,error:v.default.cw_call.error});break;case"cw_call_end":this.setTimerNull(),(0,l.default)(t,{pin:!0,close:!0,submit:!1})}return t}},{key:"submitCall",value:function(e,t){var n=this;this.state.blocked||this.submitPhone(e,t),this.setState({blocked:!0}),clearTimeout(this._blockTimeout),this._blockTimeout=(0,r.default)((function(){n.setState({blocked:!1})}),3e3)}},{key:"submitFormCall",value:function(e){this.submitPhone(e,H,this._inputPhone.getCurrentCode())}},{key:"renderInputForm",value:function(e){var t,n=this,a=this.state,i=a.isDelayedCall,r=a.delayedCallStatus,l=a.delayedCallPeriods;return i?m.default.createElement(A.default,{phone:v.default.client_info.phone,statusCode:r,periods:l}):-1===(0,o.default)(t=["cw_wait","cw_connecting","cw_connected"]).call(t,this.state.mode)?m.default.createElement("jdiv",{className:"call-form call-tab"},this.state.error?m.default.createElement("jdiv",{className:e.text},this.state.error):m.default.createElement("jdiv",{className:e.text},(0,w.default)("cw_weRecallAfter")," ",b.default.callback_settings.time," ",(0,w.default)(F),"!"),m.default.createElement("jdiv",{className:e.callBox},m.default.createElement(T.default,{type:"inForm",ref:function(e){n._inputPhone=e}}),m.default.createElement(k.default,{click:function(e){return n.submitFormCall(e)},disabled:this.state.blocked||this.state.submit,type:"input-button",iconName:"icon-v-email",ref:function(e){n._submitBtn=e}}),m.default.createElement("jdiv",{id:"callme-start-call",className:this.state.blocked||this.state.is_invalid_phone||this.state.submit?"":"can-call",onPointerDown:function(e){return n.submitFormCall(e)}}))):void 0}},{key:"getRenderData",value:function(){return{styles:{main:[{main:!0},{display:"cw_connected"===this.state.mode?"none":"block"}],waitBox:[{waitBox:!0},{display:"cw_wait"===this.state.mode?"block":"none"}],timerBox:[{timerBox:!0}]},style:L.default}}},{key:"renderData",value:function(e,t){if(!(0,D.isEmpty)(b.default.callback_settings))return m.default.createElement("jdiv",t.main,this.renderInputForm(L.default),m.default.createElement("jdiv",t.waitBox,m.default.createElement("jdiv",{className:L.default.waitText}," ",(0,w.default)("cw_callAfter")),m.default.createElement("jdiv",t.timerBox,m.default.createElement("jdiv",{className:L.default.count},this.state.timer||b.default.callback_settings.time)),m.default.createElement("jdiv",{className:L.default.waitText}," ",(0,w.default)(F))),m.default.createElement("jdiv",{style:{display:"cw_connecting"===this.state.mode?"block":"none"}},m.default.createElement("jdiv",{className:L.default.waitText},(0,w.default)("cw_connecting")),m.default.createElement("jdiv",{className:L.default.connectBox},m.default.createElement(I.default,{color:"#fff",iconName:"icon-connect2",className:L.default.connectIcon}),m.default.createElement("jdiv",{className:P.default.pinBox},m.default.createElement("jdiv",{className:P.default.pin1}),m.default.createElement("jdiv",{className:P.default.pin2}),m.default.createElement("jdiv",{className:P.default.pin3})))),m.default.createElement("jdiv",{className:L.default.pin,style:{display:this.state.pin?"block":"none"}}),this.state.close&&m.default.createElement(S.default,{onClose:function(e){e.stopPropagation()}}));B.log("Callwidget not configured yet.")}}]),n}(C.default);t.default=W},66975:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(2991)),r=a(n(87672)),l=a(n(81643)),u=a(n(77766)),s=a(n(26394)),c=a(n(69198)),d=a(n(51379)),f=a(n(214)),h=a(n(66380)),p=a(n(59748)),g=a(n(36216)),m=a(n(62652)),v=a(n(62904)),_=n(56602),y=n(51139),b=a(n(75119)),w=a(n(23144)),E=a(n(82817)),C=a(n(83126)),T=a(n(12907)),k=a(n(46443)),S=a(n(58165)),I=a(n(68806)),A=a(n(62107)),x=a(n(58061)),M=a(n(97034)),R=a(n(33414)),O=a(n(76646)),N=n(17674),D=n(85442),L=n(57539);function P(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,h.default)(e);if(t){var o=(0,h.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,f.default)(this,n)}}var j=a(n(75043)).default.name("CallMobile"),B=v.default.callback_settings.time,F=A.default.range(60),H="callback_screen",W=function(e){(0,d.default)(n,e);var t=P(n);function n(e){var a;return(0,s.default)(this,n),(a=t.call(this,e)).state={mode:g.default.cw_call.status,error:!1,show:N.Router.getCurrentRoute()===D.Route.CHAT_CALL,is_invalid_phone:!1,timer:B,textSize:I.default.getTextSize(),phoneNumber:(0,y.getMaskedPhone)(g.default.client_info.phone),isDelayedCall:!!g.default.cw_call_delayed,delayedCallPeriods:g.default.cw_call_delayed_periods,delayedCallStatus:g.default.cw_call_delayed_status},a._inputPhone=null,a._timer=null,a}return(0,c.default)(n,[{key:"componentDidMount",value:function(){var e=this;j.log("mount"),this.on(m.default,(function(){if(N.Router.getCurrentRoute()!==D.Route.LABEL){var t=e.getState();m.default.eula_accepted&&e.phone&&v.default.eula&&(e.setTimerNull(),t.phone=e.phone,e.startCall(e.phone,H),e.phone=!1),e.setState(t)}})),this.on(g.default,(function(){e.setState(e.getState())})),this.initTimer(this._timer,(function(t){"timer_finished"===t.inputType&&"cw_wait"===e.state.mode&&e.setState({mode:"cw_connecting"})}),(function(t){e.setState({timer:t})})),I.default.listenChangeZoom((function(){var t=I.default.getTextSize();t!==e.state.textSize&&e.setState({textSize:t})}))}},{key:"renderTimer",value:function(e){var t;return p.default.createElement("jdiv",{className:M.default.timer},(0,u.default)(t="".concat(e.minutes,":")).call(t,e.seconds),p.default.createElement("jdiv",{className:M.default.ms},e.ms))}},{key:"getState",value:function(){var e={mode:g.default.cw_call.status,error:!1,show:N.Router.getCurrentRoute()===D.Route.CHAT_CALL,is_invalid_phone:!1,timer:this.state.timer||B,textSize:I.default.getTextSize(),phoneNumber:(0,y.getMaskedPhone)(g.default.client_info.phone),isDelayedCall:!!g.default.cw_call_delayed,delayedCallPeriods:g.default.cw_call_delayed_periods,delayedCallStatus:g.default.cw_call_delayed_status};switch(g.default.cw_call.status){case"cw_wait":this.startTimer();break;case"cw_connecting":case"cw_connected":case"cw_error":break;case"cw_call_end":this.setTimerNull()}return e}},{key:"getRenderData",value:function(){var e,t=this.state.phoneNumber;switch(this.state.mode){case"cw_wait":e=(0,b.default)("cw_call_to");break;case"cw_connecting":e=(0,b.default)("cw_weCalling");break;case"cw_connected":e=(0,b.default)("conversation_with");break;case"cw_error":e=g.default.cw_call.error,t="";break;case"cw_call_end":e=(0,b.default)("cw_thxForCall")+" "+(0,b.default)("cw_weRecallAfter")+" "+B+" "+(0,b.default)("cw_form_secondd"),t="";break;default:e=(0,b.default)("cw_callAfter")+" "+B+" "+(0,b.default)("cw_form_secondd"),t=""}var n=this.state.timer.toFixed(2).split("."),a="00",i=n[0],o=n[1];i>60&&(a=Math.floor(i/60),i%=60,a<10&&(a="0"+a)),i<10&&(i="0"+i);var u=x.default.ios()?{"-webkit-text-size-adjust":this.state.textSize||"100%",lineHeight:I.default.getLineHeight(1.5)}:{};return{data:{headerText:e,phoneNumber:t,startForm:!this.state.mode||-1!==(0,l.default)(A.default).call(A.default,["cw_error","cw_call_end"],this.state.mode),seconds:i,ms:o,minutes:a,textSize:u},styles:{wrap:[{wrap:!0,_show:this.state.show}],container:[{container:!0,_tablet:x.default.tablet(),_portrait:"landscape"!==I.default.getOrientation()}],header:[(0,r.default)({header:!0},"_"+this.state.mode,this.state.mode),u],phoneNumber:[{phoneNumber:!0},u],clock:[{clock:!0},{display:"cw_wait"===this.state.mode?"block":"none"}],connectingButton:[{connectingButton:!0},{color:"#03aa38"}]},style:M.default}}},{key:"renderData",value:function(e,t){var n=this,a=this.state,i=a.isDelayedCall,r=a.delayedCallStatus,u=a.delayedCallPeriods;return p.default.createElement("jdiv",t.wrap,p.default.createElement(C.default,{isPointer:x.default.isPointerEnabled()}),p.default.createElement("jdiv",t.container,p.default.createElement("jdiv",t.clock,this.state.timer?this.renderTimer(e):null,"cw_wait"===this.state.mode&&(0,o.default)(F).call(F,(function(e){var t="",a="transform: translate(0, 0) rotate("+6*e+"deg);";return 60/B*(B-n.state.timer)>e&&(t="background: #03aa38"),p.default.createElement("jdiv",{className:e%5==0?M.default.fives:M.default.seconds,style:a,key:e},p.default.createElement("jdiv",{className:M.default.line,style:t}))}))),-1!==(0,l.default)(A.default).call(A.default,["cw_connecting","cw_connected"],this.state.mode)&&p.default.createElement("jdiv",{className:M.default.connectingWrap},p.default.createElement("jdiv",t.connectingButton),p.default.createElement("jdiv",{className:M.default.connectingIconWrap},p.default.createElement(S.default,{iconName:"icon-tube",color:"#fff",className:M.default.connectingLogo}))),i?p.default.createElement(R.default,{phone:g.default.client_info.phone,statusCode:r,periods:u,textSize:e.textSize}):p.default.createElement("jdiv",null,p.default.createElement("jdiv",t.header,"cw_call_end"===this.state.mode&&p.default.createElement(k.default,{iconName:"icon-ok",className:M.default.iconOk}),e.headerText," ",p.default.createElement("jdiv",t.phoneNumber,e.phoneNumber)),e.startForm&&p.default.createElement("jdiv",null,p.default.createElement(w.default,{type:"single",ref:function(e){n._inputPhone=e}}),p.default.createElement("jdiv",{className:M.default.button,onClick:function(e){return n.submitPhone(e,H)}},(0,b.default)("cw_callButtonText"))))),(0,_.showAd)()?p.default.createElement("jdiv",{className:M.default.copyContainer},p.default.createElement(T.default,{type:"chat",bottom:!0})):null,v.default.eula?p.default.createElement(L.Path,{paths:[D.Route.CALL_EULA],transition:"PopupSlideUpEULA",name:"CallEulaPopup"},p.default.createElement("jdiv",{className:t.popupContainer},p.default.createElement(O.default,{showCallback:function(){},hideCallback:this.props.closeCallback,callContainer:!0}))):null)}}]),n}(E.default);t.default=W},37480:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(87672)),r=a(n(5872)),l=a(n(33032)),u=a(n(81643)),s=a(n(54103)),c=a(n(26394)),d=a(n(69198)),f=a(n(5824)),h=a(n(51379)),p=a(n(214)),g=a(n(66380)),m=a(n(59748)),v=a(n(62107)),_=a(n(75119)),y=a(n(62652)),b=a(n(36216)),w=a(n(69961)),E=n(56602),C=a(n(62904)),T=a(n(66273)),k=a(n(82817)),S=a(n(58061)),I=a(n(69288)),A=a(n(71059)),x=a(n(10803)),M=a(n(58165)),R=a(n(76235)),O=a(n(86999)),N=a(n(531)),D=a(n(75043)),L=a(n(55160)),P=a(n(76969)),j=n(17674),B=n(85442),F=n(37916),H=n(36143),W=n(81426),U=n(75245);function z(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,g.default)(e);if(t){var o=(0,g.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,p.default)(this,n)}}var G=D.default.name("Callback"),V="callback_screen",q=function(e){(0,h.default)(n,e);var t=z(n);function n(e){var a,i;return(0,c.default)(this,n),(i=t.call(this,e)).state={mode:null,percent:0,deg:0,agent:null,error:!1,hide_content:!1,hide_form:!1,circleDeg:null,timerValue:null,blocked:!1,isDelayedCall:!!b.default.cw_call_delayed,phone:!1},i._blockTimeout=null,i._timer=null,i._inputPhone=null,i.processState=(0,s.default)(a=i.processState).call(a,(0,f.default)(i)),i}return(0,d.default)(n,[{key:"getState",value:function(){var e={mode:b.default.cw_call.status,agent:w.default,message:!1,isDelayedCall:!!b.default.cw_call_delayed,delayedCallPeriods:b.default.cw_call_delayed_periods,delayedCallStatus:b.default.cw_call_delayed_status};return j.Router.getCurrentRoute()===B.Route.CALL&&(e.hide_content=!1,e.hide_form=!1),e}},{key:"processState",value:function(){var e=this.getState();(0,N.default)(e,this.state)&&b.default.cw_call.status===this.state.mode||("cw_error"===e.mode&&(e.message=b.default.cw_call.error,e.message||(e.message=(0,_.default)("cw_unableToConnect")+" "+(0,_.default)("cw_errInfoText")),this.setTimerNull()),"cw_connected"===e.mode&&this.setTimerNull(),"cw_wait"===e.mode&&this.startTimer(),this.state.timerValue||(e.timerValue=C.default.callback_settings.time),this.setState(e))}},{key:"componentDidMount",value:function(){var e,t=this;G.log("mount"),F.CallbackUtils.isCallbackEnabled()&&(this.on(b.default,(function(){t.processState()})),this.on(w.default,(function(){t.setState({agent:w.default})})),this.on(y.default,(function(){var e=t.getState();j.Router.getCurrentRoute()===B.Route.CALL&&-1!==(0,u.default)(v.default).call(v.default,["form",!1],t.state.mode)&&(0,l.default)((function(){t._inputPhone&&t._inputPhone.focus()}),300),y.default.eula_accepted&&t.phone&&C.default.eula&&(t.setTimerNull(),e.phone=t.phone,t.phone=!1,j.Router.getCurrentRoute()===B.Route.CALL_EULA&&!y.default.is_online&&t._inputPhone&&t.submitPhone(null,V,t._inputPhone.getCurrentCode())),t.setState(e)})),this.debounceTimer=v.default.throttle((function(e){t.setState({timerValue:e.toFixed(1).replace(".",",")});var n=100-1e3*e/1e3/C.default.callback_settings.time*100;n>0&&t.drawTimer(n)}),100),this.initTimer(this._timer,(function(e){G.log("timer_finished",t.state.mode,e),"timer_finished"===e.inputType&&"cw_wait"===t.state.mode&&t.showConnecting()}),(0,s.default)(e=this.debounceTimer).call(e,this)),this.processState(),this._inputPhone&&this._inputPhone.subscribe("onEnter",(function(e,n){return t.submitPhone(e,V,n)})),j.Router.on("submit_eula_success",(function(e){G.log("callback submit_eula"),e===B.Route.CALL_EULA&&t._inputPhone&&t.submitPhone(null,V,t._inputPhone.getCurrentCode())})))}},{key:"startChat",value:function(e){e.preventDefault(),this.isConnected()?j.Router.next(B.RouterEvent.ToChat):(this.setState({hide_content:!0}),this.props.onAnimate()),U.messageActions.addPrechatMessage()}},{key:"processToChat",value:function(){G.log("processToChat"),y.default.is_focused=1,y.default.show_eula=!1,j.Router.next(B.RouterEvent.ToChat)}},{key:"showConnecting",value:function(){this.setState({mode:"cw_connecting"})}},{key:"drawTimer",value:function(e){this.setState({circleDeg:3.6*e})}},{key:"renderLogo",value:function(e){return m.default.createElement("jdiv",{className:L.default.logoBox},m.default.createElement("a",{href:(0,E.trackCallLogo)(),target:"_blank",rel:"noopener",title:"Jivo"+(C.default.bill_ru?"":"chat"),className:"jivo-logo jivo-logo-dark",style:{display:"cw_connected"!==this.state.mode&&(0,E.showAd)()?"block":"none"}},this.renderLogoIcon(e)))}},{key:"renderLogoIcon",value:function(e){var t=C.default.bill_ru?"logo-jivosite":"logo-jivochat";return m.default.createElement(M.default,(0,r.default)({iconName:t,color:"#323648",color2:"#00D376"},e.logoIcon))}},{key:"submitCall",value:function(e,t){var n=this;!this.state.blocked&&this._inputPhone&&this.submitPhone(e,t,this._inputPhone.getCurrentCode()),this.setState({blocked:!0}),clearTimeout(this._blockTimeout),this._blockTimeout=(0,l.default)((function(){n.setState({blocked:!1})}),2e3)}},{key:"isConnected",value:function(){return-1!==(0,u.default)(v.default).call(v.default,["cw_connected"],this.state.mode)}},{key:"getRenderData",value:function(){var e,t,n=C.default.bubble_color||"green",a=this.isConnected(),i=(0,_.default)("cw_callButtonText");H.RouterUtils.needToShowEula()&&(i=(0,_.default)("continue")),"cw_call_end"===this.state.mode&&(i=(0,_.default)("cw_repeatCallAgain"));var r,l,u={};this.state.circleDeg&&(r="rotate("+this.state.circleDeg+"deg)",l=100*this.state.circleDeg/360,u={transform:r,OTransform:r,msTransform:r,MozTransform:r,webkitTransform:r});var s={background:O.default.getGradientBg(y.default.widget_color)},c=O.default.getRightColor(y.default.widget_color);return{styles:{main:[(e={main:!0},(0,o.default)(e,"_"+n,!1),(0,o.default)(e,"_disabled",this.props.disabled),(0,o.default)(e,"__animateToChat",this.state.hide_content),e),{display:this.props.display?"block":"none",backgroundColor:a?y.default.widget_color:"#ffffff"}],inputButton:[(t={inputButton:!0},(0,o.default)(t,"_"+n,!0),(0,o.default)(t,"_disabled",this.props.disabled),t)],timerTextTop:[{timerTextTop:!0,_ad:(0,E.showAd)()}],timerTextBottom:[{timerTextBottom:!0}],timerBox:[{timerBox:!0,_show:l>0}],logoIcon:[{logoIcon:!0},{color:(0,E.getTextColor)(y.default.widget_font_color)}],callLoader:[{callLoader:!0,_gt50:l&&l>50}],callCircle:[{callCircle:!0,_fill:l&&l>50}],callCircle2:[{callCircle:!0},u],callActionTimer:[{callActionTimer:!0}],connectBox:[{connectBox:!0,_ad:(0,E.showAd)()}],iconConnecting:[{iconConnecting:!0}],headerBox:[{headerBox:!0},s]},style:L.default,data:{isWhiteBg:a,submitText:i,color2:c}}}},{key:"renderData",value:function(e,t){var n,a,i=this;if(!(0,E.isEmpty)(C.default.callback_settings)){var o=!this.state.mode||-1!==(0,u.default)(v.default).call(v.default,["cw_error","cw_call_end"],this.state.mode);switch(this.state.mode){case"cw_wait":return m.default.createElement("jdiv",{className:L.default.waitBox},m.default.createElement(T.default,{type:"call",orientation:C.default.widget_orientation,color:"#fff",ignoreOffline:!0}),(0,E.showAd)()?this.renderLogo(t):null,m.default.createElement("jdiv",null,m.default.createElement("jdiv",t.timerTextTop,(0,_.default)("cw_callAfter")),m.default.createElement("jdiv",t.timerBox,m.default.createElement("jdiv",t.callLoader,m.default.createElement("jdiv",t.callCircle),m.default.createElement("jdiv",t.callCircle2)),m.default.createElement("jdiv",t.callActionTimer,m.default.createElement("jdiv",{className:L.default.callTime,ref:function(e){i._timer=e}},this.state.timerValue))),m.default.createElement("jdiv",{className:L.default.timerTextBottom},(0,_.default)("cw_form_secondd"))));case"cw_connecting":return m.default.createElement("jdiv",{className:L.default.waitBox},m.default.createElement(T.default,{type:"call",orientation:C.default.widget_orientation,color:"#fff",ignoreOffline:!0}),(0,E.showAd)()?this.renderLogo(t):null,m.default.createElement("jdiv",t.connectBox,m.default.createElement("jdiv",{className:L.default.iconConnectBox},m.default.createElement(M.default,{color:"#fff",iconName:"icon-connect2",className:L.default.connectIcon}),m.default.createElement("jdiv",{className:P.default.pinBoxBig},m.default.createElement("jdiv",{className:P.default.pin1}),m.default.createElement("jdiv",{className:P.default.pin2}),m.default.createElement("jdiv",{className:P.default.pin3})))),m.default.createElement("jdiv",{className:L.default.timerTextBottom},(0,_.default)("cw_connecting")));case"cw_connected":return m.default.createElement("jdiv",null,m.default.createElement("jdiv",t.headerBox,m.default.createElement(x.default,{showHeaderText:!0!==y.default.showContainer})),m.default.createElement("jdiv",{className:L.default.buttonConnected,onClick:(0,s.default)(n=this.startChat).call(n,this)},C.default.chat_mode===W.ChatMode.ONLINE?(0,_.default)("cw_typeInChat"):(0,_.default)("lblLeaveMessage"),m.default.createElement(M.default,{iconName:"icon-v",color:"#18c139",hoverColor:"#12a730",className:L.default.iconSelect})))}var l=this.state,c=l.isDelayedCall,d=l.delayedCallStatus,f=l.delayedCallPeriods;return m.default.createElement("jdiv",(0,r.default)({},t.main,{onTransitionEnd:function(){return i.processToChat()}}),m.default.createElement("jdiv",{className:L.default.formBox,style:{display:o?"block":"none"}},c?m.default.createElement(R.default,{phone:b.default.client_info.phone,statusCode:d,periods:f}):m.default.createElement("jdiv",{className:"call-content"+(this.state.hide_form,"")},m.default.createElement("jdiv",{className:L.default.inputBox},m.default.createElement(I.default,{type:"single",onEnter:function(e){return i.submitCall(e,V)},ref:function(e){i._inputPhone=e}})),m.default.createElement(A.default,{click:function(e){return i.submitCall(e,V)},disabled:this.state.blocked,text:e.submitText,medium:!0})),m.default.createElement("jdiv",{className:L.default.bottomBox},m.default.createElement("jdiv",{className:L.default.link,onPointerDown:(0,s.default)(a=this.startChat).call(a,this),onTouchStart:function(e){S.default.isPointerEnabled()||i.startChat(e)}},y.default.is_online?(0,_.default)("cw_typeInChat"):(0,_.default)("lblLeaveMessage")))))}G.log("Callwidget not configured yet.")}}]),n}(k.default);t.default=q},76235:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(26394)),r=a(n(69198)),l=a(n(51379)),u=a(n(214)),s=a(n(66380)),c=a(n(59748)),d=a(n(75119)),f=a(n(69288)),h=a(n(75900)),p=a(n(87374)),g=n(47760),m=n(93298),v=a(n(72963)),_=a(n(60410));function y(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,s.default)(e);if(t){var o=(0,s.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}var b=function(e){(0,l.default)(n,e);var t=y(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,r.default)(n,[{key:"render",value:function(){var e=this.props.statusCode,t=this.state,n=t.periods,a=t.activePeriodIndex,i=(t.phoneInvalid,t.phoneNumber,e===m.DELAYED_CALL_STATUS.wait),o=i,r=(0,m.isErrorStatusCode)(e);return e===m.DELAYED_CALL_STATUS.success?c.default.createElement(g.CallbackDelayedBodyInfo,null,(0,d.default)("callback_delayed_submit_success")):c.default.createElement("jdiv",{className:_.default.body},c.default.createElement(h.default,{disabled:i,classNameWrap:_.default.periodSelectWrap,activeOptionIndex:a,invalid:r,options:n,onChange:this.onPeriodChange}),c.default.createElement(f.default,{type:"single",fillBorderAround:!1,classNameContainer:_.default.inputPhone,onChange:this.onPhoneChange,onEnter:this.onSubmit}),c.default.createElement(p.default,{disabled:o,onClick:this.onSubmit},(0,d.default)("callback_delayed_button_submit")))}}]),n}(v.default);t.default=b},47760:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.CallbackChatDelayedBodyInfo=t.CallbackDelayedBodyInfo=void 0;var i=a(n(59748)),o=a(n(60410));t.CallbackDelayedBodyInfo=function(e){var t=e.children;return i.default.createElement("jdiv",{className:o.default.bodyInfo},i.default.createElement("jdiv",{className:o.default.bodyInfoText,dangerouslySetInnerHTML:{__html:t}}))};t.CallbackChatDelayedBodyInfo=function(e){var t=e.children;return i.default.createElement("jdiv",{className:o.default.bodyInfoChat},i.default.createElement("jdiv",{className:o.default.bodyInfoChatText,dangerouslySetInnerHTML:{__html:t}}))}},72963:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(54103)),r=a(n(77766)),l=a(n(26394)),u=a(n(69198)),s=a(n(5824)),c=a(n(51379)),d=a(n(214)),f=a(n(66380)),h=a(n(87672)),p=a(n(59748)),g=a(n(75043)),m=a(n(36216)),v=n(93298),_=a(n(47321)),y=n(17674),b=n(36143);function w(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var o=(0,f.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}g.default.name("DelayedBase");var E=function(e){(0,c.default)(n,e);var t=w(n);function n(){var e,a;(0,l.default)(this,n);for(var i=arguments.length,o=new Array(i),u=0;u<i;u++)o[u]=arguments[u];return a=t.call.apply(t,(0,r.default)(e=[this]).call(e,o)),(0,h.default)((0,s.default)(a),"state",{periods:(0,v.formatPeriodsToSelectModel)(m.default.cw_call_delayed_periods),activePeriodIndex:0,phoneInvalid:!0}),(0,h.default)((0,s.default)(a),"onSubmit",(function(){var e=a.state,t=e.activePeriodIndex,n=e.phoneNumber,i=(e.eulaAccepted,a.state.periods[t].value),o=n;a.state.phoneInvalid||_.default.submitShowEula(o)||_.default.checkConnection((function(){(0,v.requestDelayedCall)({dateTime:i,phone:o})}))})),(0,h.default)((0,s.default)(a),"onPeriodChange",(function(e){var t=e.activeOptionIndex;a.setState({activePeriodIndex:t})})),(0,h.default)((0,s.default)(a),"onPhoneChange",(function(e){var t=e.invalidPhone,n=e.value,i=e.code;a.setState({phoneInvalid:t,phoneNumber:n,phoneCode:i})})),a}return(0,u.default)(n,[{key:"componentDidMount",value:function(){var e;b.RouterUtils.needToShowEula()&&y.Router.on("submit_eula_success",(0,o.default)(e=function(){this.onSubmit()}).call(e,this))}},{key:"componentWillReceiveProps",value:function(e){var t=e.periods,n=e.phone,a={};a.periods=(0,v.formatPeriodsToSelectModel)(t),n&&n!==this.state.phone&&(a.phoneNumber=n.replace(/\+/,"")),this.setState(a)}}]),n}(p.default.Component);t.default=E},19452:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=t.CallbackDelayedHeader=void 0;var i=a(n(77149)),o=a(n(59748)),r=a(n(75119)),l=n(20965),u=a(n(58165)),s=a(n(60410));var c=function(e){var t,n,a=e.color,c=e.statusCode,d=(t=c,(0,i.default)(n=[l.DelayedCallStatus.MAX_REQUESTS_LIMIT,l.DelayedCallStatus.NOT_WORK_TIME,l.DelayedCallStatus.BAD_CALLBACK_TIME,l.DelayedCallStatus.BLOCKED,l.DelayedCallStatus.BAD_DIRECTION]).call(n,(function(e){return t===e}))),f=(0,r.default)("callback_delayed_title");return c===l.DelayedCallStatus.SUCCESS&&(f=o.default.createElement(u.default,{color:a,iconName:"icon-callok",className:s.default.successHeaderIcon})),d&&(f=(0,r.default)("callback_delayed_submit_fail")),d?o.default.createElement("jdiv",{className:s.default.header,dangerouslySetInnerHTML:{__html:f}}):o.default.createElement("jdiv",{className:s.default.header},f)};t.CallbackDelayedHeader=c;var d=c;t.default=d},10120:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(26394)),r=a(n(69198)),l=a(n(51379)),u=a(n(214)),s=a(n(66380)),c=a(n(59748)),d=a(n(75119)),f=a(n(69288)),h=a(n(75900)),p=a(n(87374)),g=a(n(72963)),m=n(47760),v=n(93298),_=a(n(78066));function y(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,s.default)(e);if(t){var o=(0,s.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}var b=function(e){(0,l.default)(n,e);var t=y(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,r.default)(n,[{key:"render",value:function(){var e=this.props.statusCode,t=this.state,n=t.periods,a=t.activePeriodIndex,i=(t.phoneInvalid,t.phoneNumber,e===v.DELAYED_CALL_STATUS.wait),o=i,r=(0,d.default)("callback_delayed_title");return(0,v.isErrorStatusCode)(e)&&(r=(0,d.default)("callback_delayed_submit_fail")),e===v.DELAYED_CALL_STATUS.success?c.default.createElement(m.CallbackChatDelayedBodyInfo,{mode:"chat"},(0,d.default)("callback_delayed_submit_success")):c.default.createElement("jdiv",{className:_.default.body},c.default.createElement("jdiv",{className:_.default.message},r),c.default.createElement(h.default,{theme:"inset",height:"sm",invalid:(0,v.isErrorStatusCode)(e),disabled:i,classNameWrap:_.default.periodSelectWrap,activeOptionIndex:a,options:n,onChange:this.onPeriodChange}),c.default.createElement(f.default,{type:"inForm",classNameContainer:_.default.classNameInputPhone,onChange:this.onPhoneChange,onEnter:this.onSubmit}),c.default.createElement(p.default,{height:"sm",widthFluid:!0,disabled:o,onClick:this.onSubmit},(0,d.default)("callback_delayed_button_submit")))}}]),n}(g.default);t.default=b},33414:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(26394)),r=a(n(69198)),l=a(n(51379)),u=a(n(214)),s=a(n(66380)),c=a(n(59748)),d=a(n(75119)),f=a(n(23144)),h=a(n(75900)),p=a(n(87374)),g=a(n(72963)),m=n(93298),v=n(80476),_=a(n(58061)),y=a(n(68806)),b=a(n(74983));function w(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,s.default)(e);if(t){var o=(0,s.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}var E=function(e){(0,l.default)(n,e);var t=w(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,r.default)(n,[{key:"render",value:function(){var e=this.props,t=e.statusCode,n=e.textSize,a=this.state,i=a.periods,o=a.activePeriodIndex,r=t===m.DELAYED_CALL_STATUS.wait,l=r,u=(0,m.isErrorStatusCode)(t),s=u?(0,d.default)("callback_delayed_submit_fail"):(0,d.default)("callback_delayed_title");return t===m.DELAYED_CALL_STATUS.success?c.default.createElement(v.StatusInfo,{isSuccess:!0,html:(0,d.default)("callback_delayed_submit_success"),textSize:n}):c.default.createElement("jdiv",null,c.default.createElement("jdiv",{className:b.default.titleMessage,dangerouslySetInnerHTML:{__html:s},style:{lineHeight:_.default.ios()?y.default.getLineHeight(4):null}}),c.default.createElement(h.default,{isNative:!0,disabled:r,activeOptionIndex:o,invalid:u,options:i,onChange:this.onPeriodChange}),c.default.createElement(f.default,{type:"single",classNameContainer:b.default.classNameInputPhone,onChange:this.onPhoneChange}),c.default.createElement(p.default,{widthFluid:!0,disabled:l,onClick:this.onSubmit},(0,d.default)("callback_delayed_button_submit")))}}]),n}(g.default);t.default=E},80476:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.StatusInfo=void 0;var i=a(n(87672)),o=a(n(59748)),r=a(n(94184)),l=a(n(74983));t.StatusInfo=function(e){var t,n=e.children,a=e.isSuccess,u=e.html,s=e.textSize,c=(0,r.default)(l.default.statusInfoIcon,(t={},(0,i.default)(t,l.default.successIcon,a),(0,i.default)(t,l.default.failIcon,!a),t));return o.default.createElement("jdiv",null,o.default.createElement("jdiv",{className:l.default.statusInfo},o.default.createElement("jdiv",{className:c}),u?o.default.createElement("jdiv",{className:l.default.text,dangerouslySetInnerHTML:{__html:u},style:s}):o.default.createElement("jdiv",null,n)))}},80150:function(e,t,n){"use strict";var a=n(87646),i=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(1068)),r=i(n(94473)),l=i(n(86902)),u=i(n(20116)),s=i(n(54103)),c=i(n(26394)),d=i(n(69198)),f=i(n(5824)),h=i(n(51379)),p=i(n(214)),g=i(n(66380)),m=(i(n(59748)),i(n(60021))),v=i(n(62107)),_=a(n(56602)),y=i(n(36216)),b=i(n(62904)),w=i(n(58061)),E=i(n(75119)),C=n(51139),T=n(94515),k=n(17674);function S(e){var t=function(){if("undefined"==typeof Reflect||!o.default)return!1;if(o.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,o.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,g.default)(e);if(t){var i=(0,g.default)(this).constructor;n=(0,o.default)(a,arguments,i)}else n=a.apply(this,arguments);return(0,p.default)(this,n)}}var I=function(e){(0,h.default)(n,e);var t=S(n);function n(e){var a,i,o;return(0,c.default)(this,n),o=t.call(this,e),(0,_.isEmpty)(b.default.callback_settings)?(console.log("Callwidget not configured yet."),(0,p.default)(o)):(o.parseCurrentPhone(),o.initState(),o.documentOnClicked=(0,s.default)(a=o.documentOnClicked).call(a,(0,f.default)(o)),o.documentOnKeyPress=(0,s.default)(i=o.documentOnKeyPress).call(i,(0,f.default)(o)),o._input=null,o.linkRefs={},o)}return(0,d.default)(n,[{key:"componentDidMount",value:function(){var e,t=this;this.on(y.default,(function(){"cw_error"!==y.default.cw_call.status||y.default.cw_call.error!==(0,E.default)("cw_call_forward")?y.default.client_info.phone!==e&&(e=y.default.client_info.phone,t.parseCurrentPhone(),t.initState()):t.setState({number:""})})),this.state.currentCountry.phone_format&&this.setNumber(),k.Router.on("route_change",(function(){y.default.client_info.phone&&!t.state.number&&t.initState()})),this.triggerOnChangeProp()}},{key:"initState",value:function(){this.state={number:this.getCurrentNumber(),showList:!1,errorPhone:!1,countries:this.getAllowCountries(),currentCountry:this.getCurrentCountry(),placeholder:this.getCurrentCountry().phone_format,color:b.default.bubble_color||"green"}}},{key:"parseCurrentPhone",value:function(){y.default.client_info.phone&&(this.clientPhoneInfo=(0,C.getPhoneNumberInfo)(y.default.client_info.phone))}},{key:"getCurrentNumber",value:function(){return this.clientPhoneInfo?this.clientPhoneInfo.innerNumber:""}},{key:"getAllowCountries",value:function(){return this.countries=this.countries||v.default.sortBy(b.default.callback_settings.countries,"name")}},{key:"getCurrentCountry",value:function(){var e;return this.clientPhoneInfo?e=this.clientPhoneInfo.countryCode:b.default.geoip&&(e=b.default.geoip.split(";")[0]),v.default.findWhere(this.getAllowCountries(),{code:e})||this.getAllowCountries()[0]}},{key:"toggleCountriesList",value:function(e){this.state.countries.length<2||(this.state.showList?this.hideCountriesList():this.showCountriesList(),e.stopPropagation())}},{key:"showCountriesList",value:function(){this.setState({showList:!0,isFocusedInput:!0}),_.default.addListener(window.parent.document,"keypress",this.documentOnKeyPress),_.default.addListener(window.parent.document,"click",this.documentOnClicked)}},{key:"hideCountriesList",value:function(){this.setState({showList:!1,isFocusedInput:!1}),_.default.removeEvent(window.parent.document,"click",this.documentOnClicked),_.default.removeEvent(window.parent.document,"keypress",this.documentOnKeyPress)}},{key:"validPhoneNumber",value:function(){if(this._input&&this.state.currentCountry.phone_format){var e=this.state.currentCountry.phone_format,t=this._input&&this._input.value.toString();return(0,C.checkPhoneLength)(t,e,this.state.currentCountry.code)}return this.getFullPhoneNumber().length>9&&this.getFullPhoneNumber().length<16}},{key:"getFullPhoneNumber",value:function(){return this.state.currentCountry.phone_code+this.state.number.replace(/\D+/g,"")}},{key:"getCurrentCode",value:function(){return this.state.currentCountry.phone_code}},{key:"isShowErrorState",value:function(){return!this.state.number||0===this.state.number.length||!this.validPhoneNumber()}},{key:"inputOnBlur",value:function(){this.setState({isFocusedInput:!1,invalidPhone:this.isShowErrorState()})}},{key:"inputOnFocus",value:function(){this.setState({isFocusedInput:!0,showList:!1})}},{key:"triggerOnChangeProp",value:function(){var e=this.props.onChange;void 0!==e&&e({value:this.getFullPhoneNumber(),invalidPhone:this.isShowErrorState(),code:this.getCurrentCode()})}},{key:"triggerOnEnterProp",value:function(){var e=this.props.onEnter;void 0!==e&&e()}},{key:"inputOnInput",value:function(){var e=this;this.setNumber((function(){e.setState({invalidPhone:e.isShowErrorState()}),e.trigger("onChange",e._input&&e._input.value.toString().replace(/\D+/g,"")),e.triggerOnChangeProp()}))}},{key:"inputPhoneKeyUp",value:function(e){var t=this;this.setNumber((function(){"keyup"!==e.type||13!==e.keyCode&&13!==e.which||(t.validPhoneNumber()?(t.trigger("onEnter",t.getFullPhoneNumber(),t.state.currentCountry),t.triggerOnEnterProp()):t.setState({invalidPhone:!0}))}))}},{key:"codeOnClick",value:function(){w.default.desktop()&&this._input&&this._input.focus()}},{key:"documentOnKeyPress",value:function(e){var t=this.getChar(e),n=(0,u.default)(v.default).call(v.default,(0,l.default)(this.linkRefs),(function(e){return"link_"===e.substr(0,5)})),a=(0,r.default)(v.default).call(v.default,n,(function(e){return e.substr(5,1).toUpperCase()===t.toUpperCase()}));a&&this.linkRefs[a].scrollIntoView(!0)}},{key:"documentOnClicked",value:function(e){e.target.closest("#countryList")||this.hideCountriesList()}},{key:"getChar",value:function(e){return null==e.which?e.keyCode<32?null:String.fromCharCode(e.keyCode):0!=e.which&&0!=e.charCode?e.which<32?null:String.fromCharCode(e.which):null}},{key:"countrySelect",value:function(e){var t=this,n=e.delegateTarget&&e.delegateTarget.getAttribute("data-code")||e.target.value;this.setNumber((function(){var e=v.default.findWhere(t.state.countries,{code:n});t.setState({currentCountry:e,showList:!1,placeholder:e.phone_format,invalidPhone:t.isShowErrorState()}),w.default.desktop()&&t._input&&t._input.focus(),t.triggerOnChangeProp()}))}},{key:"getFlagIconLink",value:function(e){var t="/images/flags/".concat(e,".png");return'url("'+(T.EnvironmentManager.isDevelopment()?"/public"+t:_.default.staticUrl(t,!0))+'")'}},{key:"setNumber",value:function(e){var t=this._input&&this._input.value.toString();this.setState({number:this.getMaskedNumber(t)},(function(){e&&e()}))}},{key:"getMaskedNumber",value:function(e){return(0,C.getMaskedValue)(e,this.state.currentCountry.phone_format)}},{key:"focus",value:function(){w.default.desktop()&&this._input&&this._input.focus()}},{key:"isValid",value:function(){var e=this.validPhoneNumber();return this.setState({invalidPhone:!e}),e}},{key:"numberMaxLength",value:function(){return this.state.currentCountry.phone_format?this.state.currentCountry.phone_format.length:15-this.state.currentCountry.phone_code.length}}]),n}(m.default);t.default=I},69288:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(5872)),r=a(n(2991)),l=a(n(54103)),u=a(n(26394)),s=a(n(69198)),c=a(n(51379)),d=a(n(214)),f=a(n(66380)),h=a(n(87672)),p=a(n(59748)),g=a(n(80150)),m=a(n(75676)),v=a(n(20748)),_=a(n(94184)),y=a(n(58165));function b(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var o=(0,f.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}var w=function(e){(0,c.default)(n,e);var t=b(n);function n(){return(0,u.default)(this,n),t.apply(this,arguments)}return(0,s.default)(n,[{key:"getRenderData",value:function(){return{styles:{container:[{container:!0,__singleMod:"single"===this.props.type,__inFormMod:"inForm"===this.props.type}],inputWrap:[(0,h.default)({inputWrap:!0,__focused:this.state.isFocusedInput,__error:!this.state.isFocusedInput&&this.state.invalidPhone,__alone:1===this.state.countries.length},"_"+this.state.color,!(!this.state.color||"green"===this.state.color))],input:[{phoneInput:!0}],countryWrap:[{countryWrap:!0,_isScroll:this.state.countries.length>4},{display:this.state.showList?"block":"none"}]},style:m.default}}},{key:"renderCountryList",value:function(e,t){var n,a,i=this;return p.default.createElement("jdiv",{className:m.default.countryList,onPointerDown:this.delegate("listItem",(0,l.default)(n=this.countrySelect).call(n,this))},(0,r.default)(a=this.state.countries).call(a,(function(e,t){return p.default.createElement("jdiv",{className:m.default.listItem,key:t,dgName:"listItem","data-code":e.code,ref:function(t){i.linkRefs["link_"+e.name]=t}},p.default.createElement("jdiv",{className:m.default.flagIcon+" "+m.default.list,style:{backgroundImage:i.getFlagIconLink(e.code)}}),p.default.createElement("jdiv",{className:m.default.countryName},e.name),p.default.createElement("jdiv",{className:m.default.countryCode},"+"+e.phone_code))})))}},{key:"renderData",value:function(e,t){var n,a,i,r,u,s,c=this,d=(0,_.default)(m.default.flagIcon,this.props.classNameIcon),f=(0,_.default)(t.container.className,this.props.classNameContainer,{});return p.default.createElement("jdiv",(0,o.default)({},t.container,{className:f}),p.default.createElement("jdiv",t.inputWrap,p.default.createElement("jdiv",{className:m.default.flagWrap,onClick:(0,l.default)(n=this.toggleCountriesList).call(n,this)},p.default.createElement("jdiv",{className:d,style:{backgroundImage:this.getFlagIconLink(this.state.currentCountry.code)}}),p.default.createElement("jdiv",{className:m.default.flagArrow,style:{display:this.state.countries.length<2?"none":null}},p.default.createElement(y.default,{iconName:"icon-v",color:"#959BA0",hoverColor:"#222D38",className:m.default.iconSelect}))),p.default.createElement("jdiv",{className:m.default.phoneCodeWrap,onClick:(0,l.default)(a=this.codeOnClick).call(a,this)},"+"+this.state.currentCountry.phone_code),p.default.createElement("input",(0,o.default)({},t.input,{onBlur:(0,l.default)(i=this.inputOnBlur).call(i,this),placeholder:this.state.placeholder,onFocus:(0,l.default)(r=this.inputOnFocus).call(r,this),type:"text",maxLength:this.numberMaxLength(),value:this.getMaskedNumber(this.state.number),onInput:(0,l.default)(u=this.inputOnInput).call(u,this),onKeyUp:(0,l.default)(s=this.inputPhoneKeyUp).call(s,this),"data-gramm":"false","data-gramm_editor":"false","data-enable-grammarly":"false",ref:function(e){c._input=e}})),p.default.createElement("jdiv",t.countryWrap,this.state.countries.length>4?p.default.createElement(v.default,{railClass:m.default.rail,position:"relative"},this.renderCountryList(e,t)):this.renderCountryList(e,t))))}}]),n}(g.default);t.default=w,(0,h.default)(w,"defaultProps",{fillBorderAround:!0})},23144:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(2991)),r=a(n(54103)),l=a(n(26394)),u=a(n(69198)),s=a(n(51379)),c=a(n(214)),d=a(n(66380)),f=a(n(59748)),h=a(n(80150)),p=a(n(58165)),g=a(n(75676)),m=a(n(58061)),v=a(n(62107));function _(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var o=(0,d.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}var y=function(e){(0,s.default)(n,e);var t=_(n);function n(){return(0,l.default)(this,n),t.apply(this,arguments)}return(0,u.default)(n,[{key:"getRenderData",value:function(){return{styles:{container:[{container:!0,__mobile:m.default.mobileOrTablet()}],inputWrap:[{inputWrap:!0,__focused:this.state.isFocusedInput,__error:!this.state.isFocusedInput&&this.state.invalidPhone}],flagWrap:[{flagWrap:!0,__mobile:m.default.mobile()},{width:"100%",position:"absolute"}],input:[{phoneInput:!0}]},style:g.default}}},{key:"countrySelect",value:function(e){var t=this,n=e.target.value;this.setNumber((function(){var e=v.default.findWhere(t.state.countries,{code:n});t.setState({currentCountry:e,showList:!1,placeholder:e.phone_format,invalidPhone:t.isShowErrorState()}),t._input&&t._input.focus(),t.triggerOnChangeProp()}))}},{key:"renderData",value:function(e,t){var n,a,i,l,u,s,c,d=this;return f.default.createElement("jdiv",t.container,f.default.createElement("jdiv",{className:g.default.countryMobileWrap},f.default.createElement("select",{onChange:(0,r.default)(n=this.countrySelect).call(n,this),className:g.default.countrySelect},(0,o.default)(a=this.state.countries).call(a,(function(e){return d.state.currentCountry.code===e.code?f.default.createElement("option",{selected:!0,value:e.code},e.name):f.default.createElement("option",{value:e.code},e.name)}))),f.default.createElement(p.default,{iconName:"icon-v",color:"#959BA0",hoverColor:"#222D38",className:g.default.iconSelect})),f.default.createElement("jdiv",t.inputWrap,f.default.createElement("jdiv",{className:g.default.phoneCodeWrap,onClick:(0,r.default)(i=this.codeOnClick).call(i,this)},"+"+this.state.currentCountry.phone_code),f.default.createElement("input",{className:g.default.phoneInput,ref:function(e){d._input=e},onBlur:(0,r.default)(l=this.inputOnBlur).call(l,this),placeholder:this.state.placeholder,onFocus:(0,r.default)(u=this.inputOnFocus).call(u,this),type:"tel",maxLength:this.numberMaxLength(),value:this.getMaskedNumber(this.state.number),onInput:(0,r.default)(s=this.inputOnInput).call(s,this),onKeyUp:(0,r.default)(c=this.inputPhoneKeyUp).call(c,this)})))}}]),n}(h.default);t.default=y},58744:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(5872)),r=a(n(54103)),l=a(n(26394)),u=a(n(69198)),s=a(n(5824)),c=a(n(51379)),d=a(n(214)),f=a(n(66380)),h=a(n(59748)),p=a(n(60021)),g=a(n(16552)),m=a(n(62652)),v=a(n(36216)),_=a(n(62904)),y=a(n(58165)),b=n(17674),w=n(37916),E=n(85442),C=n(24335),T=n(33367),k=n(63242),S=n(81189),I=n(42796),A=n(70645),x=n(83093);n(23582);function M(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var o=(0,f.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}a(n(75043)).default.name("CallbackBtn");var R=function(e){(0,c.default)(n,e);var t=M(n);function n(e){var a,i,o;return(0,l.default)(this,n),(o=t.call(this,e)).state={isShow:o.getShowState()},o.on(m.default,(0,r.default)(a=o.checkState).call(a,(0,s.default)(o))),o.on(v.default,(0,r.default)(i=o.checkState).call(i,(0,s.default)(o))),o}return(0,u.default)(n,[{key:"checkState",value:function(){var e=this.getShowState();this.state.isShow!==e&&this.setState({isShow:e})}},{key:"openCallback",value:function(){C.isDesignerEditor||(S.userDispatchers.setCallHeaderText(null),S.transitionDispatchers.startTransition(I.ScriptName.OPEN_WIDGET),b.Router.next(E.RouterEvent.ToCall),T.Monitoring.telemetry(k.TelemetryName.CW_BUTTON_CLICK))}},{key:"getShowState",value:function(){var e=b.Router.getCurrentRoute();return e===E.Route.LABEL&&e!==E.Route.HIDDEN&&w.CallbackUtils.isCallbackEnabled()&&!window.parent.jivo_cobrowse&&"col_old_page"!==window.parent.name||C.isDesignerEditor}},{key:"getRenderData",value:function(){g.default.__jivoCallbackBtn="__jivoCallbackBtn";var e={backgroundColor:_.default.callback_btn_color||"#18c139"};return{styles:{wrap:[{wrap:!0,_show:this.state.isShow,__jivoCallbackBtn:!0},e],button:[{button:!0},e],iconWrap:[{iconWrap:!0}],logoCallback:[{logoCallback:!0}]},style:g.default}}},{key:"renderData",value:function(e,t){var n;return h.default.createElement("jdiv",(0,o.default)({},t.wrap,{onClick:(0,r.default)(n=this.openCallback).call(n,this)}),h.default.createElement("jdiv",(0,o.default)({},t.button,(0,A.withLocator)(x.Locator.CALLBACK_BUTTON))),h.default.createElement("jdiv",t.iconWrap,h.default.createElement(y.default,(0,o.default)({iconName:"icon-tube",color:"#fff"},t.logoCallback))))}}]),n}(p.default);t.default=R},9650:function(e,t,n){"use strict";var a=n(87646),i=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(81643)),r=i(n(87672)),l=i(n(18777)),u=a(n(59748)),s=n(26213),c=i(n(45697)),d=i(n(94184)),f=i(n(36216)),h=i(n(62904)),p=i(n(20608)),g=i(n(76646)),m=i(n(95512)),v=i(n(75779)),_=i(n(66107)),y=i(n(75215)),b=i(n(17678)),w=i(n(12784)),E=i(n(58061)),C=n(17674),T=n(85442),k=n(57539),S=i(n(75043)),I=i(n(10803)),A=n(94515),x=i(n(9805)),M=i(n(22952)),R=n(23582),O=n(56602),N=u.default.lazy((function(){return n.e(711).then(n.t.bind(n,86588,7))})),D=S.default.name("ChatContainer"),L=[T.Route.CHAT,T.Route.CHAT_CALL,T.Route.CHAT_EULA,T.Route.CHAT_EVAL,T.Route.CHAT_INTRODUCE,T.Route.CHAT_MIN,T.Route.CHAT_SOCIAL,T.Route.DEPARTMENTS,T.Route.INTRODUCE,T.Route.DEBUG],P=[T.Route.CHAT,T.Route.CHAT_CALL,T.Route.CHAT_EVAL,T.Route.CHAT_INTRODUCE,T.Route.CHAT_SOCIAL],j=[T.Route.CHAT,T.Route.CHAT_CALL,T.Route.CHAT_EVAL,T.Route.CHAT_INTRODUCE,T.Route.CHAT_SOCIAL],B=function(e){var t,n,a,i,s,c,S,B=e.canRenderCall,F=e.showHeaderText,H=e.showBody,W=e.isOnline,U=e.widgetId,z=e.isContactFormFocused,G=e.route,V=(0,u.useErrorBoundary)((function(e){return D.warn(e)})),q=(0,l.default)(V,2),K=(q[0],q[1],(0,u.useRef)(null)),Y=(0,u.useState)({inputHeight:0}),Z=(0,l.default)(Y,2),J=Z[0],X=Z[1],$=!E.default.mobileOrTablet()&&(C.Router.getCurrentRoute()===T.Route.INTRODUCE||"cw_connected"===f.default.cw_call.status&&C.Router.getCurrentRoute()===T.Route.CALL),Q=function(){return h.default.joint&&(h.default.joint.vk||h.default.joint.fb)?u.default.createElement(k.Path,{paths:[T.Route.CHAT_SOCIAL],withMountTransition:!0,withUnmountTransition:!0,transition:"PopupSlideUpEULA",name:"ChatSocialPopup",duration:300,cheap:!0},u.default.createElement("jdiv",{className:p.default.popupFull},u.default.createElement(w.default,{mode:"vk",showCallback:function(){},hideCallback:function(){C.Router.next(T.RouterEvent.ToChat)}}))):null},ee=function(){return u.default.createElement("jdiv",{className:p.default.popup},B?u.default.createElement(k.Path,{paths:[T.Route.CHAT_CALL],withMountTransition:!0,withUnmountTransition:!0,transition:"Fade",name:"ChatBodyCallPopup",style:{top:0,position:"absolute",width:"100%"},cheap:!0},u.default.createElement(b.default,{route:"chat",status:f.default.cw_call.status,display:!0})):null,1===h.default.show_rate_form?u.default.createElement(k.Path,{paths:[T.Route.CHAT_EVAL],withMountTransition:!0,withUnmountTransition:!0,transition:"Fade",name:"ChatBodyEvalPopup",style:{top:0,position:"absolute",width:"100%"},cheap:!0},u.default.createElement(m.default,null)):null)};return u.default.createElement("jdiv",{className:(0,d.default)((t={},(0,r.default)(t,p.default.main,!E.default.mobileOrTablet()&&!(0,O.isChatPage)()),(0,r.default)(t,p.default.mobile,E.default.mobileOrTablet()||(0,O.isChatPage)()),(0,r.default)(t,p.default.__static,$),(0,r.default)(t,p.default.noShadow,!F),t)),ref:K},u.default.createElement(k.Path,{paths:L,name:"ChatHeader",className:p.default.headerBox,isStatic:$},u.default.createElement("jdiv",{className:p.default.header},u.default.createElement(I.default,{showHeaderText:H}))),u.default.createElement(k.Path,{paths:P,name:"ChatBody"},u.default.createElement("jdiv",{className:(0,d.default)((S={},(0,r.default)(S,p.default.body,!0),(0,r.default)(S,p.default.show,H),S))},u.default.createElement(M.default,{inputHeight:J.inputHeight})),ee(),Q()),function(){var e;if(-1!==(0,o.default)(j).call(j,G)){var t=!E.default.mobileOrTablet()||!z;return u.default.createElement(k.Path,{paths:j,name:"ChatInput",transition:"Fade",shouldWait:0,className:(0,d.default)((e={},(0,r.default)(e,p.default.input,!0),(0,r.default)(e,p.default.show,t),e))},u.default.createElement(v.default,{onInputChangeHeight:function(e){J.inputHeight!==e&&X({inputHeight:e})}}))}}(),(s=C.Router.needToShowIntroduceForm()&&W,c=R.FeatureManager.isEnabled(R.Feature.OLD_CAPTCHA)&&!f.default.client_id,s||c?u.default.createElement(k.Path,{paths:[T.Route.INTRODUCE],name:"Introduce",withMountTransition:!0,transition:C.Router.getPrevRoute()===T.Route.LABEL?"FadeWithDelay":"Fade",waitBeforeUnmount:100},u.default.createElement("jdiv",{className:(0,d.default)((i={},(0,r.default)(i,p.default.body,!0),(0,r.default)(i,p.default.show,H),i))},u.default.createElement(_.default,null))):null),h.default.departments?u.default.createElement(k.Path,{paths:[T.Route.DEPARTMENTS],name:"Departments",shouldWait:0,className:(0,d.default)((a={},(0,r.default)(a,p.default.body,!0),(0,r.default)(a,p.default.show,H),a))},u.default.createElement(y.default,null)):null,h.default.eula?u.default.createElement(k.Path,{paths:[T.Route.CHAT_EULA],withMountTransition:!0,withUnmountTransition:!0,transition:"PopupSlideUpEULA",name:"ChatBodyEulaPopup",fixed:!0,duration:300,cheap:!0},u.default.createElement("jdiv",{className:p.default.popupFull},u.default.createElement(g.default,{showCallback:function(){},hideCallback:function(){}}))):null,u.default.createElement(k.Path,{paths:[T.Route.DEBUG],name:"Debug",shouldWait:0,className:(0,d.default)((n={},(0,r.default)(n,p.default.body,!0),(0,r.default)(n,p.default.show,H),n))},u.default.createElement(u.default.Suspense,{fallback:u.default.createElement("jdiv",{className:p.default.loading},"Loading...")},u.default.createElement(N,{online:W,version:A.EnvironmentManager.getVersion(),branch:A.EnvironmentManager.getBranch(),widgetId:U,hasErrors:x.default.getInstance().pageHasErrors(),closeButtonClick:function(){C.Router.next(T.RouterEvent.ToChat)}}))))};B.propTypes={isOnline:c.default.bool,canRenderCall:c.default.bool.isRequired,showHeaderText:c.default.bool,showBody:c.default.bool,widgetId:c.default.string,isContactFormFocused:c.default.bool,route:c.default.string};var F=(0,s.connect)((function(e){return{isOnline:e.app.isOnline,widgetId:e.settings.system.widgetId,appStore:e.app,callback:e.callback,features:e.settings.features,social:e.social,userSettings:e.settings.user,route:e.app.route,callbackEnabled:e.callback.available,isContactFormFocused:e.app.isContactFormFocused}}),{})(B);t.default=F},99952:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(5872)),o=a(n(87672)),r=a(n(59748)),l=a(n(54291)),u=a(n(94184)),s=a(n(45697)),c=a(n(58165)),d=a(n(2336)),f=n(70645),h=n(83093),p=function(e){var t,n=e.onClick,a=e.drag,s=e.callEnabled,p=e.inCall,g=e.show,m=e.ignoreDragHeight;return r.default.createElement(r.default.Fragment,null,r.default.createElement("jdiv",{className:(0,u.default)((t={},(0,o.default)(t,l.default.wrap,!0),(0,o.default)(t,l.default.__show,g),(0,o.default)(t,l.default.__call,p),t)),dir:"ltr",id:"jivo_action"},r.default.createElement("jdiv",{className:l.default.closeButton,onClick:n,id:"jivo_close_button"},r.default.createElement(c.default,(0,i.default)({iconName:"icon-close-chat",color:"#7D8999",hoverColor:"#7D8999",className:l.default.closeIcon},(0,f.withLocator)(h.Locator.CLOSE_BUTTON))))),a?r.default.createElement(d.default,{short:s,ignoreHeight:m}):null)};p.propTypes={onClick:s.default.func.isRequired,drag:s.default.bool,callEnabled:s.default.bool,inCall:s.default.bool,show:s.default.bool,ignoreDragHeight:s.default.bool};var g=r.default.memo(p);t.default=g},71059:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(5872)),r=a(n(54103)),l=a(n(87672)),u=a(n(26394)),s=a(n(69198)),c=a(n(51379)),d=a(n(214)),f=a(n(66380)),h=a(n(59748)),p=a(n(60021)),g=a(n(58165)),m=a(n(62904)),v=a(n(58061)),_=a(n(75043)),y=n(70645),b=n(83093),w=a(n(2090));function E(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var o=(0,f.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}_.default.name("Button");var C=m.default.bubble_color||"green",T=function(e){(0,c.default)(n,e);var t=E(n);function n(e){return(0,u.default)(this,n),t.call(this,e)}return(0,s.default)(n,[{key:"getRenderData",value:function(){var e,t;return{styles:{button:[(e={button:!0},(0,l.default)(e,"_"+C,!0),(0,l.default)(e,"_disabled",this.props.disabled),(0,l.default)(e,"_medium",this.props.medium),(0,l.default)(e,"__ios",v.default.ios()),e)],inputButton:[(t={inputButton:!0},(0,l.default)(t,"_"+C,!0),(0,l.default)(t,"_disabled",this.props.disabled),(0,l.default)(t,"__mobileChat",this.props.chatMobile),t)]},style:w.default}}},{key:"renderData",value:function(e,t){var n,a,i=this;switch(this.props.type){case"input-button":return h.default.createElement("jdiv",(0,o.default)({},t.inputButton,{onClick:(0,r.default)(n=this.props.click).call(n,this)}),h.default.createElement(g.default,{color:"#fff",iconName:this.props.iconName,className:w.default.buttonIcon}));default:return h.default.createElement("jdiv",(0,o.default)({},t.button,{onPointerDown:(0,r.default)(a=this.props.click).call(a,this),onTouchStart:function(e){e.preventDefault(),v.default.isPointerEnabled()||i.props.click(e)},ref:function(e){i._submitBtn=e}},(0,y.withLocator)(b.Locator[this.props["data-qa-id"]])),h.default.createElement("jdiv",{className:w.default.text},this.props.text))}}}]),n}(p.default);t.default=T},60801:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(5872)),r=a(n(54103)),l=a(n(25843)),u=a(n(89400)),s=a(n(26394)),c=a(n(69198)),d=a(n(51379)),f=a(n(214)),h=a(n(66380)),p=a(n(59748)),g=a(n(60021)),m=a(n(75119)),v=a(n(62652)),_=a(n(62904)),y=a(n(62107)),b=a(n(71059)),w=a(n(22259)),E=n(17674),C=n(85442),T=a(n(94686)),k=n(70645),S=n(83093),I=n(56602),A=n(81189);function x(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,h.default)(e);if(t){var o=(0,h.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,f.default)(this,n)}}var M=a(n(75043)).default.name("Buttons"),R=function(e){(0,d.default)(n,e);var t=x(n);function n(e){var a;return(0,s.default)(this,n),(a=t.call(this,e)).successCallback=e.successCallback||function(){},a.errorCallback=e.errorCallback||function(){},a.focusPopupInput=e.focusPopupInput||function(){},a._submitBtn=null,a._submitBy=null,a}return(0,c.default)(n,[{key:"submitForm",value:function(e){if(e&&(e.preventDefault(),e.stopPropagation(),this._submitBy=e.view?"byClick":"byEnter"),this.props.disabled)M.log("Button is disabled.");else{var t=(0,u.default)(this.props),n={};this.values=!1,y.default.each(t,(function(e){var t;"name"==e.name&&(e.name="client_name");var a="string"==typeof e.value?(0,l.default)(t=e.value).call(t):e.value;n[e.name]=a||null}));var a=this.isValid(t);if(M.log("submitForm",t,a),a.error)e.preventDefault(),this.errorCallback(a.data),this.values=!1;else{var i={};y.default.each(a.data,(function(e){i[e.name]=e.value})),_.default.eula&&!v.default.eula_accepted&&this.countNotEmptyValues(i)?this.values=i:this.resetForm(i)}}}},{key:"componentDidMount",value:function(){var e=this;this.on(v.default,(function(){_.default.eula&&v.default.eula_accepted&&(0,u.default)(e)&&(e.resetForm((0,u.default)(e)),e.values=!1)}))}},{key:"countNotEmptyValues",value:function(e){var t=y.default.without((0,u.default)(y.default).call(y.default,e),null).length;return 1===t&&e.message?0:t}},{key:"cancel",value:function(){A.clientDispatchers.setIsIntroduced(!0),E.Router.next(C.RouterEvent.Cancel)}},{key:"isValid",value:function(e){var t=!1;for(var n in e)if(n){var a=n;"client_name"==n&&(a="name");var i=_.default.contacts_settings[a]&&_.default.contacts_settings[a].required;e[n]&&(T.default[n](e[n].value||"")||(0,I.isEmpty)(e[n].value)&&!i&&"message"!==n?e[n].error=!1:(t=!0,e[n].error=!0))}return{data:e,error:t}}},{key:"resetForm",value:function(e){_.default.eula&&!v.default.eula_accepted&&this.countNotEmptyValues(e)||this.setInfo(e)}},{key:"setInfo",value:function(e){M.log("setInput",e),this._submitBtn.disabled=!0,this.successCallback(e,this._submitBy)}},{key:"getRenderData",value:function(){var e=1===_.default.contacts_ask&&v.default.is_online&&E.Router.getCurrentRoute()===C.Route.INTRODUCE?(0,m.default)("lblSendBefore"):(0,m.default)("lblSend");return _.default.eula&&!v.default.eula_accepted&&(e=(0,m.default)("continue")),{styles:{},style:w.default,data:{text:e}}}},{key:"renderData",value:function(e,t){var n,a=this;return p.default.createElement(p.default.Fragment,null,p.default.createElement(b.default,(0,o.default)({click:(0,r.default)(n=this.submitForm).call(n,this),text:e.text,ref:function(e){a._submitBtn=e},disabled:this.props.disabled},(0,k.withLocator)(S.Locator.CONTACTS_FORM_SUBMIT))))}}]),n}(g.default);t.default=R},44068:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(5872)),r=a(n(54103)),l=a(n(87672)),u=a(n(26394)),s=a(n(69198)),c=a(n(51379)),d=a(n(214)),f=a(n(66380)),h=a(n(59748)),p=a(n(60021)),g=a(n(62904)),m=n(99112),v=a(n(36216)),_=a(n(58061)),y=n(70645),b=n(83093),w=a(n(75043)),E=a(n(22259));function C(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var o=(0,f.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}w.default.name("Input");var T=function(e){(0,c.default)(n,e);var t=C(n);function n(e){var a;(0,u.default)(this,n);var i=(a=t.call(this,e)).props.name;return"client_name"===i&&(i="name"),a.state={text:v.default.client_info[a.props.name]?v.default.client_info[a.props.name]:"",error:e.error,key:i},a.onBlur=e.onBlur||function(){},a.onFocus=function(){a.setState({error:!1}),e.onFocus&&e.onFocus()},a.handleChange=function(t,n){n.target.value!==a.props.value&&e.handleChange&&e.handleChange(t,n)},a._input=null,a}return(0,s.default)(n,[{key:"componentDidMount",value:function(){this._input&&(this._input.value=this.props.value)}},{key:"getType",value:function(e){switch(e){case"phone":return"tel";case"email":return"email";default:return"text"}}},{key:"setValue",value:function(e){this._input.value=e,this.handleChange(this.props.name,{target:{value:e,required:this.props.required}})}},{key:"needRender",value:function(){return g.default.contacts_settings&&g.default.contacts_settings[this.state.key]&&g.default.contacts_settings[this.state.key].show||this.props.show}},{key:"getRenderData",value:function(){var e;return{styles:{inputField:[(e={inputField:!0,_error:this.props.submited?this.props.error:this.props.submited},(0,l.default)(e,"_"+this.props.color,!(!this.props.color||"green"===this.props.color)),(0,l.default)(e,"__mobile",_.default.mobileOrTablet()),(0,l.default)(e,"__valid",this.props.valid),(0,l.default)(e,"__bluredEmpty",!(this._input&&this._input.value)),e)]},style:E.default,data:{placeholder:this.props.placeholder+(this.props.required||g.default.contacts_settings[this.state.key].required?"*":"")}}}},{key:"renderData",value:function(e,t){var n,a,i=this;if(this.needRender())return h.default.createElement("jdiv",{className:E.default.fieldWrap},h.default.createElement("input",(0,o.default)({},t.inputField,{type:this.getType(this.state.key),autoComplete:this.getType(this.state.key),onKeyPress:function(e){e.stopPropagation(),m.getNextSiblingNodeFocus.call(i,e)},onBlur:(0,r.default)(n=this.onBlur).call(n,this),onFocus:(0,r.default)(a=this.onFocus).call(a,this),placeholder:e.placeholder,onInput:function(e){e.stopPropagation(),i.handleChange.call(i,i.props.name,e)},onKeyUp:function(e){e.stopPropagation(),i.handleChange.call(i,i.props.name,e)},onKeyDown:function(e){e.stopPropagation()},ref:function(e){i._input=e}},(0,y.withLocator)(b.Locator["CONTACTS_FORM_".concat(this.state.key.toUpperCase())]))))}}]),n}(p.default);t.default=T},43986:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(5872)),r=a(n(54103)),l=a(n(87672)),u=a(n(26394)),s=a(n(69198)),c=a(n(51379)),d=a(n(214)),f=a(n(66380)),h=a(n(59748)),p=a(n(60021)),g=a(n(62904)),m=a(n(36216)),v=a(n(58061)),_=n(99112),y=n(70645),b=n(83093),w=a(n(75043)),E=a(n(22259));function C(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var o=(0,f.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}w.default.name("InputChat");var T=function(e){(0,c.default)(n,e);var t=C(n);function n(e){var a;(0,u.default)(this,n);var i=(a=t.call(this,e)).props.name;return"client_name"===i&&(i="name"),a.state={text:m.default.client_info[a.props.name]?m.default.client_info[a.props.name]:"",error:e.error,key:i},a.onFocus=function(t){a._focused=!0,a.setState({error:!1}),e.onFocus&&e.onFocus(t)},a.onBlur=function(t){a._focused=!1,e.onBlur&&e.onBlur(t)},a.handleChange=function(t,n){a.setState({error:!1}),e.handleChange(t,n),e.onChange(t,n)},a.onSubmit=function(){e.onSubmit&&e.onSubmit(a.state.key,e.error)},a._input=null,a._focused=null,a}return(0,s.default)(n,[{key:"componentDidMount",value:function(){this._input&&(this._input.value=this.props.value)}},{key:"componentWillReceiveProps",value:function(e){this._input&&(this._input.value=e.value)}},{key:"getType",value:function(e){switch(e){case"phone":return"tel";case"email":return"email";case"name":return"name";default:return"text"}}},{key:"needRender",value:function(){return g.default.contacts_settings&&g.default.contacts_settings[this.state.key]&&g.default.contacts_settings[this.state.key].show}},{key:"getRenderData",value:function(){var e;return{styles:{inputField:[(e={inputField:!0,_error:this.props.submited?this.props.error:this.props.submited},(0,l.default)(e,"_"+this.props.color,!(!this.props.color||"green"===this.props.color)),(0,l.default)(e,"__mobile",v.default.mobileOrTablet()),(0,l.default)(e,"__valid",this.props.valid&&""!==this._input.value),(0,l.default)(e,"__bluredEmpty",!(this._input&&this._input.value)),(0,l.default)(e,"__inputChat",!0),e)]},style:E.default,data:{placeholder:this.props.placeholder+(g.default.contacts_settings[this.state.key].required?"*":"")}}}},{key:"renderData",value:function(e,t){var n=this;if(this.needRender()){var a,i,l=this.props.hint&&this._input&&(""!==this._input.value||v.default.ie()&&this._focused);return h.default.createElement("jdiv",{className:E.default.fieldWrap},l?h.default.createElement("jdiv",{className:E.default.hint},e.placeholder):null,h.default.createElement("input",(0,o.default)({},t.inputField,{type:this.getType(this.state.key),name:this.state.key,autoComplete:this.getType(this.state.key),onKeyPress:function(e){e.stopPropagation(),e.keyCode&&13==e.keyCode&&e.currentTarget.blur(),_.getNextSiblingNodeFocus.call(n,e)},onBlur:(0,r.default)(a=this.onBlur).call(a,this),onFocus:(0,r.default)(i=this.onFocus).call(i,this),placeholder:e.placeholder,onInput:function(e){e.stopPropagation(),n.handleChange.call(n,n.props.name,e)},onKeyUp:function(e){e.stopPropagation(),n.handleChange.call(n,n.props.name,e)},onKeyDown:function(e){e.stopPropagation()},disabled:this.props.disabled,title:e.placeholder,ref:function(e){n._input=e}},(0,y.withLocator)(b.Locator["CONTACTS_FORM_".concat(this.state.key.toUpperCase())]))),this.props.valid&&""!==this._input.value?h.default.createElement("jdiv",{className:E.default.iconValid}):null)}}}]),n}(p.default);t.default=T},98077:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(5872)),r=a(n(54103)),l=a(n(26394)),u=a(n(69198)),s=a(n(51379)),c=a(n(214)),d=a(n(66380)),f=a(n(59748)),h=a(n(60021)),p=a(n(75043)),g=a(n(75119)),m=n(56602),v=a(n(77244)),_=a(n(58061)),y=a(n(31636));function b(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var o=(0,d.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}p.default.name("IntroduceButton");var w=function(e){(0,s.default)(n,e);var t=b(n);function n(e){var a;return(0,l.default)(this,n),(a=t.call(this,e)).state={},a.scrollToForm=e.scrollToForm||function(){},a}return(0,u.default)(n,[{key:"getRenderData",value:function(){return{styles:{scrollForm:[{scrollForm:!0,__hide:this.props.hide,__ad:(0,m.showAd)(),__mobile:_.default.mobileOrTablet()}]},style:y.default}}},{key:"renderData",value:function(e,t){var n,a=this;return f.default.createElement("jdiv",(0,o.default)({},t.scrollForm,{onPointerDown:(0,r.default)(n=this.scrollToForm).call(n,this),onTouchStart:function(e){e.preventDefault(),_.default.isPointerEnabled()||a.scrollToForm(e)}}),f.default.createElement("jdiv",{className:y.default.textToForm},f.default.createElement(v.default,{icon:"1f44b-1f3fb",alone:!1,className:"emojiMessages",style:!0})," ",(0,g.default)("lblIntroduceRequest")))}}]),n}(h.default);t.default=w},19301:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(54103)),r=a(n(26394)),l=a(n(69198)),u=a(n(51379)),s=a(n(214)),c=a(n(66380)),d=a(n(59748)),f=a(n(60021)),h=a(n(75043)),p=a(n(58165)),g=a(n(97865)),m=n(17674),v=n(85442);function _(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var o=(0,c.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}h.default.name("CloseButton");var y=function(e){(0,u.default)(n,e);var t=_(n);function n(e){return(0,r.default)(this,n),t.call(this,e)}return(0,l.default)(n,[{key:"componentDidMount",value:function(){}},{key:"getRenderData",value:function(){return{styles:{},style:g.default,data:{}}}},{key:"handleClick",value:function(e){e.stopPropagation(),m.Router.next(v.RouterEvent.Cancel),this.props.onClose(e)}},{key:"renderData",value:function(e,t){var n;return d.default.createElement("jdiv",{className:g.default.popupClose,onClick:(0,o.default)(n=this.handleClick).call(n,this)},d.default.createElement(p.default,{className:g.default.closeIcon,iconName:"icon-popup-close",color:"#959BA0",hoverColor:"#222D38"}))}}]),n}(f.default);t.default=y},96884:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(5872)),r=a(n(54103)),l=a(n(87672)),u=a(n(26394)),s=a(n(69198)),c=a(n(51379)),d=a(n(214)),f=a(n(66380)),h=a(n(59748)),p=a(n(60021)),g=(a(n(47321)),a(n(75119))),m=a(n(58061)),v=n(17674),_=n(70645),y=n(83093),b=a(n(75043)),w=a(n(22259));function E(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var o=(0,f.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}var C=b.default.name("TextArea"),T=(0,g.default)("lblYourMessage")+"*",k=!1,S=function(e){(0,c.default)(n,e);var t=E(n);function n(e){var a;return(0,u.default)(this,n),(a=t.call(this,e))._textarea=null,a.handleChange=e.handleChange||function(){},a}return(0,s.default)(n,[{key:"componentDidMount",value:function(){m.default.ie()&&v.Router.on("route_change",(function(){k=!1}))}},{key:"fixIe",value:function(e){!m.default.ie()||m.default.mobileOrTablet()||!v.Router.isFormRoute()||!e||e.textContent||this.props.value||k||(C.log("fixIe"),e.textContent=T,k=!0)}},{key:"onInput",value:function(e){e.stopPropagation(),e.target.value!==this.props.value&&this.handleChange.call(this,"message",e)}},{key:"getRenderData",value:function(){var e;return{styles:{fieldWrap:[{fieldWrap:!0}],inputField:[(e={inputField:!0},(0,l.default)(e,"_"+this.props.color,!(!this.props.color||"green"===this.props.color)),(0,l.default)(e,"__textarea",!0),(0,l.default)(e,"_error",this.props.error),(0,l.default)(e,"__mobile",m.default.mobileOrTablet()),(0,l.default)(e,"__bluredEmpty",!this.props.value),e)]},style:w.default}}},{key:"renderData",value:function(e,t){var n,a=this;return h.default.createElement("jdiv",t.fieldWrap,h.default.createElement("textarea",(0,o.default)({},t.inputField,{value:this.props.value||void 0,maxLength:"1000",onInput:(0,r.default)(n=this.onInput).call(n,this),onKeyUp:function(e){e.stopPropagation()},onKeyDown:function(e){e.stopPropagation()},placeholder:T,"data-gramm":"false","data-gramm_editor":"false","data-enable-grammarly":"false",ref:function(e){a._textarea=e,a.fixIe(e)}},(0,_.withLocator)(y.Locator.CONTACTS_FORM_INPUT))))}}]),n}(p.default);t.default=S},12907:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(54103)),r=a(n(5872)),l=a(n(77766)),u=a(n(87672)),s=a(n(51942)),c=a(n(26394)),d=a(n(69198)),f=a(n(51379)),h=a(n(214)),p=a(n(66380)),g=a(n(59748)),m=a(n(59748)),v=a(n(60021)),_=a(n(62652)),y=a(n(69961)),b=a(n(62904)),w=a(n(62107)),E=a(n(75119)),C=n(56602),T=n(99112),k=a(n(58061)),S=a(n(94184)),I=a(n(71155)),A=a(n(58165)),x=a(n(75043)),M=n(33367),R=n(63242),O=n(70645),N=n(83093);function D(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,p.default)(e);if(t){var o=(0,p.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,h.default)(this,n)}}var L=x.default.name("Copyright"),P=(0,C.getUtmLink)("label_tooltip"),j=(0,E.default)("businessCopyright").split("{0}"),B=j[0],F=j[1],H=function(e){(0,f.default)(n,e);var t=D(n);function n(e){var a;if((0,c.default)(this,n),(a=t.call(this,e)).state={enabled:!0,show:!1,hidden:!1},a.custom_copyright=window.parent.document.getElementById("jivo_copyright"),a.custom_copyright&&a.props.refWrap){var i=window.parent.document.createElement("div");i.id="jivo_copyright_corner",a.custom_copyright_corner=i,a.custom_copyright_corner.className="jivo-"+b.default.widget_orientation,a.custom_copyright.appendChild(a.custom_copyright_corner),M.Monitoring.telemetry(R.TelemetryName.SITE_CUSTOM_COPYRIGHT)}return a}return(0,d.default)(n,[{key:"componentDidMount",value:function(){var e=this;if(L.log("mounted"),this.on(_.default,(function(){"label"==_.default.route!==e.state.enabled&&e.setState({enabled:"label"==_.default.route})})),k.default.mobileOrTablet()&&this.isChat()&&!this.props.bottom){var t=0;this.on(y.default,(function(){e.state.typing!==t&&e.setState({hidden:y.default.typing}),t=y.default.typing}))}if(this.custom_copyright){var n;if(w.default.each(this.custom_copyright.childNodes,(function(e){"A"===e.tagName&&(n=e)})),n){var a=document.createElement("jdiv");a.className=I.default.customWrap,this.custom_copyright.replaceChild(a,n),m.default.render(this.renderLogo(!0),a)}(0,C.addListener)(this.custom_copyright,"mouseover",(function(){return e.mouseOver()})),(0,C.addListener)(this.custom_copyright,"mouseout",(function(){return e.mouseOut()}))}}},{key:"getTooltipPosition",value:function(){var e,t,n={top:0,left:0};switch(null!==this.custom_copyright&&this.props.refWrap&&this.props.refWrap()&&(t=(0,T.getElementPosition)(this.props.refWrap())),b.default.widget_orientation){case"left":e=10,n={top:20+(t?t.top:0)+"px",left:40+e+"px"};break;case"right":e="en"===b.default.iconLocale?80:60,n={top:20+(t?t.top:0)+"px",right:"50px"};break;case"bottom":n={bottom:"48px",right:(t?t.windowWidth-t.width-t.left+30:42)+"px"}}return n}},{key:"getCopyStyles",value:function(){var e=this.getTooltipPosition(),t={color:(0,C.getTextColor)(),display:this.state.show?"block":"none",background:(0,C.getGradientBg)(this.props.color,this.props.color2).background};return(0,s.default)(t,e)}},{key:"showCustom",value:function(e){this.custom_copyright&&this.setState({show:e})}},{key:"mouseOver",value:function(){this.showCustom(!0)}},{key:"mouseOut",value:function(){this.showCustom(!1)}},{key:"isChat",value:function(){return"chat"===this.props.type}},{key:"renderLogo",value:function(e){var t,n=b.default.bill_ru?"logo-jivosite":"logo-jivochat",a=_.default.is_online?"#18C139":"#62666c",i=(0,C.getTextColor)(_.default.widget_font_color);this.isChat()&&(i="#323648",a="#18C139");var o=(0,S.default)((t={},(0,u.default)(t,I.default.link,!0),(0,u.default)(t,I.default.__ru,!!b.default.bill_ru),t));return g.default.createElement("a",{href:P,rel:"nofollow noopener",target:"_blank",className:o},e?null:B,g.default.createElement(A.default,{iconName:n,color:i,color2:a,className:I.default.logoIcon}))}},{key:"getRenderData",value:function(){var e,t=[(e={copyright:!0},(0,u.default)(e,"_"+this.props.orientation,!0),(0,u.default)(e,"_light",!1),(0,u.default)(e,"__ru",!!b.default.bill_ru),e),this.props.bg],n={},a={},i=this.props.color2||this.props.color;switch(this.props.orientation){case"right":n={borderLeftColor:i};break;case"left":var o;if(n={borderRightColor:this.props.color},this.props.color2)a.backgroundImage=(0,l.default)(o="linear-gradient(95deg, ".concat(this.props.color2," 20%, ")).call(o,this.props.color," 80%)"),t[1]=a;break;case"bottom":n={borderTopColor:i}}return{styles:{copyright:t,hide:[{hide:!0}],logoIcon:[{logoIcon:!0}],link:[{link:!0,__ru:!!b.default.bill_ru}],text:[{text:!0},{color:this.isChat()?null:(0,C.getTextColor)(_.default.widget_font_color)}],corner:[{corner:!0},n],chatCopyright:[{chatCopyright:!0,__mobile:k.default.mobileOrTablet()||(0,C.isChatPage)(),__tablet:k.default.tablet()||k.default.desktop()&&(0,C.isChatPage)(),__hidden:this.state.hidden,__call:this.props.bottom,__chat:this.isChat(),__top:this.props.top}]},style:I.default}}},{key:"renderData",value:function(e,t){if(this.isChat())return g.default.createElement("jdiv",(0,r.default)({},t.chatCopyright,(0,O.withLocator)(N.Locator.CHAT_COPYRIGHT)),g.default.createElement("jdiv",t.text,this.renderLogo(),F));if(this.custom_copyright){var n=this.getCopyStyles();return this.custom_copyright.className=t.copyright.className,(0,s.default)(this.custom_copyright.style,n),(0,s.default)(this.custom_copyright_corner.style,t.corner.style),g.default.createElement("jdiv",t.hide)}var a,i;return g.default.createElement("jdiv",(0,r.default)({},t.copyright,{onMouseOver:(0,o.default)(a=this.mouseOver).call(a,this),onMouseOut:(0,o.default)(i=this.mouseOut).call(i,this)},(0,O.withLocator)(N.Locator.LABEL_COPYRIGHT_POPUP)),g.default.createElement("jdiv",t.text,this.renderLogo(),F),g.default.createElement("jdiv",t.corner))}}]),n}(v.default);t.default=H},75215:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(5872)),r=a(n(2991)),l=a(n(87672)),u=a(n(94198)),s=a(n(26394)),c=a(n(69198)),d=a(n(51379)),f=a(n(214)),h=a(n(66380)),p=a(n(59748)),g=a(n(60021)),m=a(n(62904)),v=a(n(62107)),_=n(56602),y=a(n(58061)),b=a(n(69961)),w=a(n(47321)),E=a(n(68806)),C=a(n(12907)),T=a(n(75043)),k=a(n(11897)),S=n(17674),I=n(85442);function A(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,h.default)(e);if(t){var o=(0,h.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,f.default)(this,n)}}var x=T.default.name("Departments"),M=m.default.departments,R=function(e){(0,d.default)(n,e);var t=A(n);function n(e){var a;return(0,s.default)(this,n),(a=t.call(this,e)).state={textSize:y.default.ios()?E.default.getTextSize():null},a.on(b.default,(function(){b.default.agent_id||w.default.setDepartmentId(null),S.Router.getCurrentRoute()===I.Route.DEPARTMENTS&&S.Router.next(I.RouterEvent.Navigate)})),a}return(0,c.default)(n,[{key:"componentDidMount",value:function(){var e=this;x.log("mounted"),y.default.ios()&&E.default.listenChangeZoom((function(){e.setState({textSize:E.default.getTextSize()})}))}},{key:"onDepartmentSelect",value:function(e){(e=(0,u.default)(e))&&(w.default.setDepartmentId(e),S.Router.next(I.RouterEvent.Navigate),x.log("set department id",e))}},{key:"getRenderData",value:function(){var e=y.default.ios()?{"-webkit-text-size-adjust":this.state.textSize}:null;return{styles:{main:[(0,l.default)({main:!0,__logo:(0,_.showAd)(),__mobile:y.default.mobileOrTablet()},"_"+(m.default.bubble_color||"green"),!0)],department:[{department:!0},e]},style:k.default}}},{key:"renderData",value:function(e,t){var n=this;if(!M)return null;var a=(0,r.default)(v.default).call(v.default,M,(function(e){return p.default.createElement("jdiv",(0,o.default)({},t.department,{onClick:function(){n.onDepartmentSelect(e.id)}}),e.name,p.default.createElement("jdiv",{className:k.default.circle}))}));return p.default.createElement(p.default.Fragment,null,(0,_.showAd)()&&p.default.createElement(C.default,{type:"chat",bottom:!0}),p.default.createElement("jdiv",t.main,a))}}]),n}(g.default);t.default=R},2336:function(e,t,n){"use strict";var a=n(87646),i=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(87672)),r=i(n(18777)),l=a(n(59748)),u=i(n(50712)),s=i(n(94184)),c=i(n(45697)),d=n(14549),f=function(e){var t,n=e.short,a=e.ignoreHeight,i=(0,l.useRef)(null),c=(0,l.useState)({dragStarted:!1}),f=(0,r.default)(c,2),h=f[0],p=f[1];return l.default.createElement("jdiv",{className:(0,s.default)((t={},(0,o.default)(t,u.default.wrap,!0),(0,o.default)(t,u.default.__short,n),(0,o.default)(t,u.default.__active,h.dragStarted),t)),ref:i,onMouseDown:function(e){h.dragStarted||(p({dragStarted:!0}),(0,d.startDrag)(e))},onMouseMove:function(e){h.dragStarted&&(0,d.drag)(e,a)},onMouseUp:function(){h.dragStarted&&((0,d.stopDrag)(),p({dragStarted:!1}))},onMouseOut:function(){h.dragStarted&&(p({dragStarted:!1}),(0,d.stopDrag)())}})};f.propTypes={short:c.default.bool,ignoreHeight:c.default.bool};var h=l.default.memo(f);t.default=h},14549:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.drag=t.stopDrag=t.startDrag=void 0;var i,o,r,l,u,s=a(n(94198)),c=n(56602),d=n(99112),f=a(n(45808)),h=n(21224),p=a(n(62904)),g=n(81189),m=n(17674),v=a(n(58061)),_=n(10872),y=n(57018),b=n(5505),w=a(n(75043)).default.name("DragHelper"),E=null,C=function(){return"0"==p.default.widget_padding&&"bottom"===p.default.widget_orientation||"left"===p.default.widget_orientation?"left":"right"},T=function(e){(E=f.default.get(h.Component.SCROLL_CONTAINER))&&E.style&&(E.style.display=e?"block":"none")};t.startDrag=function(e){g.appDispatchers.setIsInDrag(!0),l=e.screenX,u=e.screenY,T(!1);var t,n=f.default.get(h.Component.WIDGET_CONTAINER),a=C();if("right"===a&&null===(0,_.getProperty)("right",n)&&((0,_.setProperty)("right",(t=n,(0,c.getPageWindow)().document.body.clientWidth-(t.offsetLeft||40)-t.offsetWidth+"px"),n),(0,_.setProperty)("left",null,n)),"left"===a&&null!==(0,_.getProperty)("right",n)){var p=n.offsetLeft+"px";(0,_.setProperty)("left",p,n),(0,_.setProperty)("right",null,n)}if("left"===a&&""===(0,_.getProperty)("left",n)){var m=n.offsetLeft||"40px";(0,_.setProperty)("left",m,n),(0,_.setProperty)("right",null,n)}var v=(0,d.getElementPosition)(n),b=n.offsetHeight;i=(0,s.default)((0,_.getProperty)(a,n)),o=(0,s.default)(b),v.minLeft="left"===a?40:30,v.maxLeft=v.windowWidth-v.width-v.minLeft,v.maxLeft-=30,v.minHeight=y.MINIMAL_WIDGET_HEIGHT,v.height=b<v.minHeight?v.minHeight:b,v.maxHeight=(0,c.getPageWindow)().innerHeight-30,r=v};t.stopDrag=function(){w.log("stopDrag"),T(!0);var e=function(){var e=f.default.get(h.Component.WIDGET_CONTAINER),t=(0,s.default)((0,_.getProperty)("height",e));t&&t<y.MINIMAL_WIDGET_HEIGHT&&(t=y.MINIMAL_WIDGET_HEIGHT),t||(t=y.DEFAULT_WIDGET_HEIGHT);var n=(0,_.getProperty)("left",e),a=(0,_.getProperty)("right",e);return g.positionDispatchers.initializePositionStore({height:t+"px",left:n,right:a}),{width:y.CHAT_WIDTH+"px",height:t+"px"}}();g.appDispatchers.setIsInDrag(!1),(0,b._callUserFunction)("onResizeCallback",e)};t.drag=function(e,t){var n=l-e.screenX,a=u-e.screenY,s=C();"left"==s&&(n=-n);var c=r,d=i?i+n:c.minLeft+n,p=f.default.get(h.Component.WIDGET_CONTAINER);d<c.minLeft?(0,_.setProperty)(s,c.minLeft+"px",p):d>c.maxLeft?(0,_.setProperty)(s,c.maxLeft+"px",p):(0,_.setProperty)(s,d+"px",p);var g=o+a;if(g!==c.height&&(g>c.minHeight||g>c.height)&&(m.Router.isIgnoreDragHeightRoute()&&(g=c.height),g>r.maxHeight&&(g=r.maxHeight),r.height=g,t||(0,_.setProperty)("height",g+"px",p)),v.default.safari()&&!v.default.mobileOrTablet()){(0,_.updateKeyframes)(p);var y=(0,_.getSavedLabelPosition)();y&&((0,_.setProperty)("labelright",y.right,p),(0,_.setProperty)("labelleft",y.left,p),(0,_.setProperty)("labelwidth",y.offsetWidth+"px",p))}}},77244:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(81643)),r=a(n(5872)),l=a(n(87672)),u=a(n(26394)),s=a(n(69198)),c=a(n(51379)),d=a(n(214)),f=a(n(66380)),h=a(n(94198)),p=a(n(59748)),g=a(n(60021)),m=a(n(62107)),v=a(n(16083)),_=n(56602),y=a(n(78557));function b(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var o=(0,f.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}var w={angel:"1f607",unicorn_face:"1f984",confused:"1f615",rage:"1f621",imp:"1f608",disappointed:"1f61e",kissing_heart:"1f618",yum:"1f60b",disappointed_relieved:"1f625",weary:"1f629",grin:"1f601",laughing:"1f606",wink:"1f609",sunglasses:"1f60e",neutral_face:"1f610",winking_eye:"1f61c",hushed:"1f62e",thumbsup:"1f44d",thumbsdown:"1f44e",smile:"1f603"},E=/(?:\ud83d[\udc68\udc69])(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddb0-\uddb3])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f)|[\u0023\u002a\u0030-\u0039]\ufe0f?\u20e3|(?:[\u00a9\u00ae\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddb5\uddb6\uddb8\uddb9\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a-\udc6d\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\udeeb\udeec\udef4-\udef9]|\ud83e[\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd40-\udd45\udd47-\udd70\udd73-\udd76\udd7a\udd7c-\udda2\uddb4\uddb7\uddc0-\uddc2\uddd0\uddde-\uddff]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,C=String.fromCharCode,T=/\uFE0F/g,k=String.fromCharCode(8205);function S(e,t){return String(e).replace(E,t)}function I(e){var t="string"==typeof e?(0,h.default)(e,16):e;return t<65536?C(t):C(55296+((t-=65536)>>10),56320+(1023&t))}var A=function(e){(0,c.default)(n,e);var t=b(n);function n(e){var a;return(0,u.default)(this,n),(a=t.call(this,e)).icon=e.icon,a.customStyle=e.style||{},a.className=e.className||"",a.type=a.getTypeIcon(e.icon),a}return(0,s.default)(n,[{key:"getTypeIcon",value:function(e){var t=this,n="img";return m.default.each(w,(function(a,i){e!==a&&e!==i||(n="div",e===a&&(t.icon=i))})),n}},{key:"getRenderData",value:function(){var e;return{data:{},styles:{emojiIcon:[(e={emojiIcon:!0},(0,l.default)(e,this.className,this.className),(0,l.default)(e,"__alone",this.props.alone),e)]},style:v.default}}},{key:"renderData",value:function(e,t){var n=encodeURIComponent((0,y.default)(this.icon)),a='url("data:image/svg+xml,'.concat(n,'")'),i=I(w[this.icon]),o=p.default.createElement("jdiv",(0,r.default)({},t.emojiIcon,{draggable:!1,alt:I(this.icon),style:{backgroundImage:"url('".concat((0,_.cdnLinkToEmoji)(this.icon),"')")}}),_.isTextEmojiDisabled?null:I(this.icon)),l=p.default.createElement("jdiv",(0,r.default)({},t.emojiIcon,{style:this.customStyle,"jv-emoji":this.icon}),p.default.createElement("jdiv",{className:v.default.icon,style:{backgroundImage:a},alt:i},_.isTextEmojiDisabled?null:i));return"img"===this.type?o:l}}],[{key:"cdnLinkToEmoji",value:function(e){return(0,_.cdnLinkToEmoji)(e)}},{key:"fromCodePoint",value:function(e){return I(e)}},{key:"toCodePoint",value:function(e,t){return function(e,t){for(var n=[],a=0,i=0,o=0;o<e.length;)a=e.charCodeAt(o++),i?(n.push((65536+(i-55296<<10)+(a-56320)).toString(16)),i=0):55296<=a&&a<=56319?i=a:n.push(a.toString(16));return n.join(t||"-")}((0,o.default)(e).call(e,k)<0?e.replace(T,""):e,t)}},{key:"parse",value:function(e,t){return function(e,t){return S(e,t)}(e,t)}},{key:"replace",value:function(e,t){return S(e,t)}},{key:"getEmojiList",value:function(){return w}},{key:"getRegExp",value:function(){return E}}]),n}(g.default);t.default=A},78557:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(69861)),o=a(n(22783)),r=a(n(69860)),l=a(n(44544)),u=a(n(12239)),s=a(n(70881)),c=a(n(92380)),d=a(n(74373)),f=a(n(67567)),h=a(n(57737)),p=a(n(14534)),g=a(n(78393)),m=a(n(79378)),v=a(n(5541)),_=a(n(87966)),y=a(n(94475)),b=a(n(45152)),w=a(n(63365)),E=a(n(22426)),C=a(n(56482)),T=a(n(23791));var k=function(e){return{angel:i.default,unicorn_face:o.default,confused:r.default,rage:l.default,imp:u.default,disappointed:s.default,kissing_heart:c.default,yum:d.default,disappointed_relieved:f.default,weary:h.default,grin:p.default,laughing:g.default,wink:m.default,sunglasses:v.default,neutral_face:_.default,winking_eye:y.default,hushed:b.default,thumbsup:C.default,thumbsdown:w.default,smile:E.default,tada:T.default}[e]};t.default=k},40731:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(2991)),o=a(n(59748)),r=a(n(77244)),l=a(n(62107)),u=function(){return o.default.createElement("jdiv",null,(0,i.default)(l.default).call(l.default,r.default.getEmojiList(),(function(e,t){return o.default.createElement(r.default,{icon:t})})))};t.default=u},76646:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(5872)),r=a(n(51942)),l=a(n(87672)),u=a(n(54103)),s=a(n(33032)),c=a(n(26394)),d=a(n(69198)),f=a(n(51379)),h=a(n(214)),p=a(n(66380)),g=a(n(59748)),m=a(n(60021)),v=a(n(75043)),_=a(n(62652)),y=a(n(47321)),b=a(n(75119)),w=a(n(58061)),E=a(n(68806)),C=a(n(62904)),T=a(n(20748)),k=a(n(43013)),S=n(17674),I=n(85442),A=n(33367),x=n(63242),M=a(n(45808)),R=n(10872),O=n(21224),N=a(n(75959));function D(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,p.default)(e);if(t){var o=(0,p.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,h.default)(this,n)}}v.default.name("EulaPopup");var L=window.parent.location.protocol+C.default.base_url+"/script/eula/"+C.default.widget_id,P=function(e){(0,f.default)(n,e);var t=D(n);function n(e){var a;(0,c.default)(this,n),a=t.call(this,e);var i=C.default.eula;return a.state={show:!0,checked:!1,text:!1,url:i&&i.external_link?i.external_link:L,agreementBasis:i&&i.custom_agreement?i.custom_agreement:"законом №152-ФЗ «О персональных данных» от 27.07.2006",textSize:null,customTitle:"Согласен на обработку персональных данных",customLink:"Пользовательского&nbsp;соглашения"},i&&i.use_gdpr&&(a.state.customTitle=i.custom_title||(0,b.default)("eula_custom_title"),a.state.customLink=i.title_external_link||!1,a.state.agreementBasis=i.custom_agreement||(0,b.default)("eula_custom_agreement")),a._titleRef=null,a._callRef=null,a}return(0,d.default)(n,[{key:"componentDidUpdate",value:function(){var e=this.getTopOffset();this._textRef&&this._textRef.style&&e&&(this._textRef.style.top=e+"px")}},{key:"componentDidMount",value:function(){var e=this,t=_.default.route;this.on(_.default,(function(){_.default.show_eula&&!_.default.eula_accepted?(e.setState({show:!0,text:_.default.show_eula}),w.default.mobileOrTablet()&&y.default.blurActiveElement()):!_.default.show_eula&&e.state.show&&e.setState({show:!1,text:_.default.show_eula}),t!==_.default.route&&e.setState({show:!1,text:_.default.show_eula})})),E.default.listenChangeZoom((function(){var t=E.default.getTextSize();e.state.textSize!==t&&e.setState({textSize:t})}))}},{key:"submitCheckbox",value:function(){var e=this;this.setState({checked:!this.state.checked}),this.state.checked&&N.default.eulaLink&&(window.open(N.default.eulaLink),N.default.eulaLink=null),(0,s.default)((function(){e.state.checked&&(N.default.acceptEula(),S.Router.next(I.RouterEvent.Submit))}),500)}},{key:"cancel",value:function(e){var t=this;S.Router.next(I.RouterEvent.Cancel),w.default.safari()&&!w.default.mobileOrTablet()&&(0,s.default)((function(){var e=M.default.get(O.Component.WIDGET_CONTAINER);(0,R.updateKeyframes)(e)}),0),(0,s.default)((function(){t.setState({show:!1}),N.default.showEula(!1),e&&A.Monitoring.telemetry(x.TelemetryName.EULA_CANCEL_BTN,{param1:N.default.context})}),200)}},{key:"trackClick",value:function(){A.Monitoring.telemetry(x.TelemetryName.EULA_LINK_CLICKED,{param1:N.default.context})}},{key:"renderAgreement",value:function(){return C.default.eula&&!C.default.eula.use_gdpr?"Ставя отметку, я даю свое согласие на обработку моих персональных данных в соответствии с\n                ".concat(this.state.agreementBasis," и принимаю условия "):"".concat(this.state.agreementBasis," ")}},{key:"renderLink",value:function(){var e;if(!C.default.eula.use_gdpr||C.default.eula.use_gdpr&&C.default.eula.external_link&&this.state.customLink)return g.default.createElement("a",{href:this.state.url,onClick:(0,u.default)(e=this.trackClick).call(e,this),target:"_blank",rel:"noopener",dangerouslySetInnerHTML:{__html:this.state.customLink}})}},{key:"renderCancel",value:function(){var e,t=this;return g.default.createElement("jdiv",{className:k.default.cancel,onPointerDown:(0,u.default)(e=this.cancel).call(e,this),onTouchStart:function(e){e.preventDefault(),w.default.isPointerEnabled()||t.cancel(e)}},(0,b.default)("cancel"))}},{key:"getTopOffset",value:function(){return(this.state.text&&this._callRef&&this._callRef.offsetHeight)+(this._titleRef&&this._titleRef.offsetHeight)}},{key:"getRenderData",value:function(){var e,t=w.default.ios()?{"-webkit-text-size-adjust":this.state.textSize}:{},n="string"==typeof this.state.text;return{styles:{wrap:[(e={eulaPopup:!0,_mobile:w.default.mobile(),_tablet:w.default.tablet()},(0,l.default)(e,"_"+C.default.bubble_color,!(!C.default.bubble_color||"green"===C.default.bubble_color)),(0,l.default)(e,"__call",this.props.callContainer),(0,l.default)(e,"__offlineForm",w.default.mobile()&&this.props.offlineForm),e)],popupContent:[{popupContent:!0},t],textBlock:[{textBlock:!0,__call:n}],text:[{text:!0},(0,r.default)(t,w.default.ios()?{lineHeight:E.default.getLineHeight(1.5)}:{})],title:[{title:!0,__hidden:!n},(0,r.default)(t,w.default.ios()?{lineHeight:E.default.getLineHeight(1.4)}:{})],formText:[{formText:!0},(0,r.default)(t,w.default.ios()?{lineHeight:E.default.getLineHeight(1.375)}:{})],checkbox:[{checkbox:!0,_checked:this.state.checked}],error:[{error:!0},{display:this.state.error?"block":"none"}]},style:k.default,data:{isCallText:n}}}},{key:"renderText",value:function(){return g.default.createElement("jdiv",{className:k.default.scrollText},this.renderAgreement(),this.renderLink())}},{key:"renderData",value:function(e,t){var n,a=this;return C.default.eula?g.default.createElement("jdiv",t.wrap,g.default.createElement("jdiv",t.popupContent,g.default.createElement("jdiv",t.text,g.default.createElement("jdiv",(0,o.default)({},t.title,{dangerouslySetInnerHTML:{__html:this.state.text},ref:function(e){a._callRef=e}})),g.default.createElement("jdiv",(0,o.default)({},t.formText,{ref:function(e){a._titleRef=e}}),g.default.createElement("jdiv",{className:k.default.popupCheckbox},g.default.createElement("jdiv",(0,o.default)({},t.checkbox,{onClick:(0,u.default)(n=this.submitCheckbox).call(n,this)}))),this.state.customTitle),g.default.createElement("jdiv",(0,o.default)({},t.textBlock,{ref:function(e){a._textRef=e}}),w.default.mobileOrTablet()?this.renderText():g.default.createElement(T.default,{position:"relative",railClass:k.default.rail},this.renderText())))),this.renderCancel()):null}}]),n}(m.default);t.default=P},95512:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(54103)),r=a(n(87672)),l=a(n(81643)),u=a(n(33032)),s=a(n(26394)),c=a(n(69198)),d=a(n(51379)),f=a(n(214)),h=a(n(66380)),p=a(n(59748)),g=a(n(60021)),m=a(n(62107)),v=a(n(62904)),_=a(n(47321)),y=a(n(62652)),b=a(n(36216)),w=a(n(99357)),E=a(n(18228)),C=n(17674),T=n(85442),k=a(n(40387)),S=a(n(64063)),I=a(n(75043)),A=a(n(27816));function x(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,h.default)(e);if(t){var o=(0,h.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,f.default)(this,n)}}var M=I.default.name("EvaluationPopup"),R=function(e){(0,d.default)(n,e);var t=x(n);function n(e){var a;return(0,s.default)(this,n),(a=t.call(this,e)).state={step:"rate",fadeIn:!1},a.hideDelay=null,a}return(0,c.default)(n,[{key:"shouldComponentUpdate",value:function(e,t){return!(0,S.default)(e,this.props)||!(0,S.default)(t,this.state)}},{key:"componentDidMount",value:function(){var e=this;this.checkEvaulation();var t=b.default.evaluate;this.on(b.default,(function(){t!==b.default.evaluate&&e.checkEvaulation(),t=b.default.evaluate})),C.Router.on("route_change",(function(t){t==T.Route.CHAT_EVAL&&e.checkEvaulation()})),w.default.on("update",m.default.debounce((function(){e.checkEvaulation()}),300)),E.default.on("socket_message",(function(t){"resume_ok"===t.name&&e.checkEvaulation()}))}},{key:"cancel",value:function(){this.hideDelay&&clearTimeout(this.hideDelay)}},{key:"cancelRate",value:function(e){M.log("cancelRate"),this.hide(e),this.hideDelay=(0,u.default)((function(){C.Router.next(T.RouterEvent.Cancel)}),300)}},{key:"hide",value:function(e,t,n){var a=this;M.log("hide",t,n),e instanceof Event&&(e.preventDefault(),t=1),_.default.markEvaluated(),n&&(this.hideDelay=(0,u.default)((function(){M.log("HIDE CALLBACK",a.hideDelay),a.setState({fadeIn:!1},(function(){C.Router.next(T.RouterEvent.Submit,{from:T.Route.CHAT_EVAL})}))}),t))}},{key:"checkMessageCount",value:function(){var e=w.default.getChatId(),t=w.default.getCurrentClientMessages(),n=!!t.length&&t[t.length-1],a=w.default.getChatMessages(e).length>=5&&w.default.getAgentChatMessages(e).length>0;return y.default.chat_started&&e&&a&&n&&n.get("chat_id")}},{key:"checkEvaulation",value:function(){var e=this.checkMessageCount(),t={};e||(this.hideDelay=null),v.default.show_rate_form&&e&&!b.default.evaluate&&y.default.chat_started?(M.log("Show evaluation dialog."),t.fadeIn=!0):this.hideDelay||(t.fadeIn=!1),b.default.evaluate||-1===(0,l.default)(m.default).call(m.default,["positive","negative"],this.state.step)||(t.step=""),this.setState(t)}},{key:"rate",value:function(e,t,n,a){e.preventDefault(),"cancel"==t&&(t="rate",this.cancel()),this.setState({step:t}),a&&this.hide(null,a,!0),_.default.sendEvaluation(n)}},{key:"getRenderData",value:function(){var e,t=v.default.bubble_color||"green";return{styles:{main:[(e={main:!0},(0,r.default)(e,"_"+t,!1),(0,r.default)(e,"__fadeIn",this.state.fadeIn),e)]},style:A.default}}},{key:"renderData",value:function(e,t){var n,a;return p.default.createElement("jdiv",t.main,p.default.createElement(k.default,{step:this.state.step,onRate:(0,o.default)(n=this.rate).call(n,this),onCancel:(0,o.default)(a=this.cancelRate).call(a,this)}))}}]),n}(g.default);t.default=R},40387:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=t.Rate=void 0;var i=a(n(59748)),o=a(n(45697)),r=a(n(75119)),l=a(n(77244)),u=a(n(58165)),s=a(n(75043)),c=a(n(27816)),d=(s.default.name("Rate"),function(e){var t=e.step,n=e.onRate,a=e.onCancel,o=function(e,t,a,i){n(e,t,a,i)};return i.default.createElement(i.default.Fragment,null,function(e){switch(e){case"negative":return i.default.createElement("jdiv",{className:c.default.cancelBox},i.default.createElement("jdiv",{className:c.default.cancel,onClick:function(e){o(e,"cancel",0,null)}},(0,r.default)("lblEvaluateCancel")));case"positive":return i.default.createElement("jdiv",{className:c.default.positiveBox},(0,r.default)("lblEvaluateThanks"),i.default.createElement(l.default,{type:"img",icon:"1f389",className:"iconSuccess"}));case"rate":default:return i.default.createElement(i.default.Fragment,null,i.default.createElement("jdiv",{className:c.default.text},(0,r.default)("lblEvaluatePlease")),i.default.createElement("jdiv",{className:c.default.buttonsBox},i.default.createElement("jdiv",{className:c.default.button,onClick:function(e){o(e,"positive",1,5e3)}},i.default.createElement(u.default,{iconName:"rating-positive",color:"#afa9a9",hoverColor:"#12a730",className:c.default.iconUp})),i.default.createElement("jdiv",{className:c.default.button,onClick:function(e){o(e,"negative",-1,15e3)}},i.default.createElement(u.default,{iconName:"rating-negative",color:"#afa9a9",hoverColor:"#ff4642",className:c.default.iconDown}))),i.default.createElement("jdiv",{className:c.default.close,onClick:function(e){e.stopPropagation(),a(e)}},i.default.createElement(u.default,{className:c.default.closeIcon,iconName:"icon-popup-close",color:"#959BA0",hoverColor:"#222D38"})))}}(t))});t.Rate=d,d.propTypes={step:o.default.string.isRequired,onRate:o.default.func,onCancel:o.default.func};var f=i.default.memo(d);t.default=f},32832:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(5872)),r=a(n(54103)),l=a(n(26394)),u=a(n(69198)),s=a(n(51379)),c=a(n(214)),d=a(n(66380)),f=a(n(2991)),h=a(n(59748)),p=a(n(60021)),g=a(n(34777)),m=a(n(75119)),v=n(56602),_=a(n(99357)),y=a(n(62652)),b=n(17674),w=n(85442),E=a(n(44992)),C=n(75245),T=a(n(75043)),k=a(n(70692)),S=n(33367),I=n(63242),A=a(n(58165)),x=n(81189),M=a(n(34935));function R(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var o=(0,d.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}var O=T.default.name("FileUpload"),N=(0,f.default)(M.default).call(M.default,(function(e){return"."+e.extension})).join(","),D=function(e){(0,s.default)(n,e);var t=R(n);function n(e){var a;return(0,l.default)(this,n),(a=t.call(this,e)).state={uploading:!1},a._privateId=null,a}return(0,u.default)(n,[{key:"componentDidMount",value:function(){var e,t=this;O.log("did mount"),this.on(g.default,{uploading:function(e){if(!t._privateId||!t.state.uploading){var n=(0,v.generateGUID)();x.messagesDispatchers.addMessage({type:"media",from:"client",body:{icon_type:(0,v.detectType)(e.type),name:e.name,size:e.size,type:e.type},private_id:n}),y.default.is_online||y.default.chat_started||(y.default.chat_started=!0),t._privateId=n,t.setState({uploading:!0})}},error:function(e,n,a){O.log("error",e,n);var i=t.getUploadMessage(t._privateId);i&&(O.log("currentMsg",i),i.set("body",{error:e,name:n.name,type:n.type,size:n.size}),t._privateId=null,t.setState({uploading:!1}),t.restoreInput())},complete:function(e,n){O.log("complete",e,n);var a={file:n,file_name:e.name,file_size:e.size,type:(0,v.detectType)(e.type),mime_type:e.type,thumb:e.imagePreview};"photo"===a.type&&(a.width=e.width,a.height=e.height),C.messageActions.storeMediaFile(a,t._privateId);var i=(0,v.getUrlEmoji)(e.type,n);C.messageActions.sendClientMessage(i),t.setState({uploading:!1}),t._privateId=null,E.default.play("outgoing_message"),S.Monitoring.telemetry(I.TelemetryName.FILE_UPLOAD_SUCCESS,{param1:e.type})},abort:function(){var e=t.getUploadMessage(t._privateId);e&&e.set("body.error",(0,m.default)("file_upl_cancel")),t.setState({uploading:!1}),t._privateId=null,t.restoreInput(),S.Monitoring.telemetry(I.TelemetryName.FILE_UPLOAD_CANCELED)}}),this._fileInput.onchange=(0,r.default)(e=this.handleChangeFile).call(e,this)}},{key:"restoreInput",value:function(){y.default.is_online||C.messageActions.setInputDisabled(!1)}},{key:"getUploadMessage",value:function(e){return _.default.getMessageByPrivateId(e)}},{key:"handleChangeFile",value:function(e){if(e.target.files){var t=e.target.files[0];O.log("fileinfo:",t),t&&(t&&t.name&&g.default.getFileInfo(e.target.files[0]),e.target.value="")}}},{key:"handleClick",value:function(e){!y.default.is_online&&this.props.disabled||b.Router.needToShowIntroduceForm()&&y.default.is_online&&(e.preventDefault(),e.stopPropagation(),b.Router.next(w.RouterEvent.ToIntroduce))}},{key:"getRenderData",value:function(){return{styles:{wrap:[{wrap:!0,__disabled:this.props.disabled}],uploadButton:[{uploadButton:!0,__uploading:this.state.uploading}],iconFile:[{iconFile:!0}]},style:k.default}}},{key:"renderData",value:function(e,t){var n,a=this;return h.default.createElement("jdiv",t.wrap,h.default.createElement(A.default,{iconName:"icon-attach",color:this.props.disabled?"#c9cdd3":"#a3aab5",className:k.default.iconAttach2}),h.default.createElement("jdiv",{className:k.default.uploadFwrap},h.default.createElement("input",(0,o.default)({type:"file",ref:function(e){a._fileInput=e},onClick:(0,r.default)(n=this.handleClick).call(n,this),disabled:this.props.disabled},t.uploadButton,{accept:N}))))}}]),n}(p.default);t.default=D},47396:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(63978)),o=a(n(20368)),r=a(n(39649)),l=a(n(78914)),u=a(n(34074)),s=a(n(14310)),c=a(n(86902)),d=a(n(1068)),f=a(n(5872)),h=a(n(2991)),p=a(n(23765)),g=a(n(81643)),m=a(n(20116)),v=a(n(77766)),_=a(n(25843)),y=a(n(33032)),b=a(n(87672)),w=a(n(54103)),E=a(n(26394)),C=a(n(69198)),T=a(n(5824)),k=a(n(51379)),S=a(n(214)),I=a(n(66380)),A=a(n(59748)),x=a(n(60021)),M=a(n(62904)),R=a(n(62652)),O=a(n(36216)),N=n(56602),D=n(17674),L=a(n(58061)),P=a(n(531)),j=a(n(62107)),B=a(n(10505)),F=a(n(94686)),H=a(n(75043)),W=a(n(22755)),U=n(33367),z=n(63242),G=n(70645),V=n(83093),q=n(23582),K=n(81189);function Y(e,t){var n=(0,c.default)(e);if(s.default){var a=(0,s.default)(e);t&&(a=(0,m.default)(a).call(a,(function(t){return(0,u.default)(e,t).enumerable}))),n.push.apply(n,a)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)(0,l.default)(n=Y(Object(a),!0)).call(n,(function(t){(0,b.default)(e,t,a[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(a));else{var s;(0,l.default)(s=Y(Object(a))).call(s,(function(t){(0,i.default)(e,t,(0,u.default)(a,t))}))}}return e}function J(e){var t=function(){if("undefined"==typeof Reflect||!d.default)return!1;if(d.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,d.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,I.default)(e);if(t){var i=(0,I.default)(this).constructor;n=(0,d.default)(a,arguments,i)}else n=a.apply(this,arguments);return(0,S.default)(this,n)}}var X=H.default.name("FormContainer"),$=function(e){(0,k.default)(n,e);var t=J(n);function n(e){var a,i;return(0,E.default)(this,n),(i=t.call(this,e)).successCallback=(0,w.default)(a=i.successCallback).call(a,(0,T.default)(i)),i._form=i.getInitForm(),X.log("init config",i._form),i._submited=!1,i}return(0,C.default)(n,[{key:"componentDidMount",value:function(){var e=this,t=O.default.last_message,n=Z({},O.default.client_info);this.on(O.default,(function(){e._form.message.show&&t!==O.default.last_message&&(e._form.message.value=O.default.last_message?O.default.last_message:"",e.setState({form:e._form}),t=e._form.message.value),(0,P.default)(n,Z({},O.default.client_info))||(e._form=e.getInitForm(),e.setState({form:e._form})),n=Z({},O.default.client_info)})),L.default.mobileOrTablet()||L.default.ie()||D.Router.on("route_change",(function(){(0,y.default)((function(){if(R.default.is_focused&&D.Router.isFormRoute()&&e.base&&e.base.querySelector){var t=e.base.querySelector("input, textarea");t&&t.focus&&t.focus()}}),500)}))}},{key:"getInitForm",value:function(){var e=O.default.client_info||{},t=q.FeatureManager.isEnabled(q.Feature.OLD_CAPTCHA)&&!O.default.client_id;return{message:{name:"message",value:O.default.last_message?O.default.last_message:"",error:!1,required:"chat"!=this.props.type,show:"chat"!=this.props.type},client_name:{name:"client_name",value:e.client_name?e.client_name:"",error:!1,required:M.default.contacts_settings.name&&M.default.contacts_settings.name.required,show:M.default.contacts_settings.name&&M.default.contacts_settings.name.show},email:{name:"email",value:e.email?e.email:"",error:!1,required:M.default.contacts_settings.email&&M.default.contacts_settings.email.required,show:M.default.contacts_settings.email&&M.default.contacts_settings.email.show},phone:{name:"phone",value:e.phone?e.phone:"",error:!1,required:M.default.contacts_settings.phone&&M.default.contacts_settings.phone.required,show:M.default.contacts_settings.phone&&M.default.contacts_settings.phone.show},captcha:{name:"captcha",value:"",error:!1,required:t,show:t}}}},{key:"successCallback",value:function(e,t){var n=this.getData();X.log("SUBMIT CALLBACK",n),j.default.each(this.getData(),(function(e){var t,a="string"==typeof e.value?(0,_.default)(t=e.value).call(t):e.value;n[e.name].value=a||null}));var a=this.isValid(n);if(this._submited=!0,this._form=a.data,a.error){if(X.log("FORM NOT VALID"),this.props.errorCallback(a.data),this.setState({form:a.data}),this.isIntroduceForm()||!R.default.is_online){X.log("checkData",a);var i=[],o={name:0,phone:1,email:2};R.default.is_online||(o.message=3),j.default.each(a.data,(function(e){if(e.error){var t,n,a=e.required?"*":"",r="client_name"==e.name?"name":e.name;i[o[r]]=(0,v.default)(t=(0,v.default)(n="".concat(r)).call(n,a,":")).call(t,e.value)}}));var r=R.default.is_online?z.TelemetryName.CHAT_INTRODUCE:z.TelemetryName.OFFLINE_SENT_FAIL;U.Monitoring.telemetry(r,{param1:"formSubmitFail",param2:(0,N.getContactSettingsInfo)(),param3:(0,m.default)(i).call(i,(function(e){return e})).join(";")})}}else X.log("FORM VALID"),this.isIntroduceForm()&&U.Monitoring.telemetry(z.TelemetryName.CHAT_INTRODUCE,{param1:"formSubmit",param2:(0,N.getContactSettingsInfo)(),param3:t}),K.clientDispatchers.setLastMessage(a.data.message.value||null),this.props.successCallback(a.data)}},{key:"isIntroduceForm",value:function(){var e;return!O.default.is_introduced&&-1!==(0,g.default)(e=[0,-1]).call(e,M.default.contacts_ask)&&R.default.is_online}},{key:"isAnyNotEmpty",value:function(e){var t=this,n=!1;return j.default.each(e,(function(e){!("chat"==t.props.type&&"message"==e.name)&&e.value&&(n=!0)})),n}},{key:"isValid",value:function(){var e=this,t=!1,n=this.getData();return 1===M.default.contacts_ask||this.isAnyNotEmpty(n)||(0,N.isAnyRequired)()?(j.default.each(n,(function(e){e.show&&e.required&&!e.value&&(n[e.name].error=!0),e.required||e.value||(n[e.name].error=!1),e.show&&n[e.name].error&&(t=!0),X.log("item validation:",e)})),{data:n,error:t}):(j.default.each(n,(function(t){"chat"==e.props.type&&"message"==t.name||(n[t.name].error=!0)})),{data:n,error:!0})}},{key:"errorCallback",value:function(){X.log("ERROR CALLBACK")}},{key:"resetForm",value:function(){}},{key:"getData",value:function(){return this._form}},{key:"setError",value:function(e,t){if(e)return this._form[e].error=t}},{key:"getError",value:function(e){if(e)return this._form[e].error}},{key:"getValue",value:function(e){if(e)return this._form[e].value}},{key:"handleData",value:function(e,t){var n=t.target;if(X.log("handleData",e,n.value,(0,p.default)(n.value)),n){var a=n.value;if("email"==e)try{a=B.default.toUnicode(a)}catch(e){}var i=!F.default[e](a)||!a;n.required||n.value||(i=!1),this._form[e]=j.default.extend(this._form[e],{value:a,error:i})}}},{key:"checkValue",value:function(e){var t=this.getValue(e);return!(!t||!F.default[e](t))}},{key:"getRenderData",value:function(){return{styles:{main:[{main:!0}]},style:W.default}}},{key:"renderData",value:function(e,t){var n,a=this,i=(0,h.default)(n=A.default.Children).call(n,this.props.children,(function(e){var t,n,i={};if(!e)return null;if(e.props&&e.props.name){var o,r=e.props.name;i={handleChange:(0,w.default)(o=a.handleData).call(o,a),error:a.getError(r),value:a.getValue(r),color:M.default.bubble_color||"green",submited:a._submited}}e.props&&e.props.type&&(i={successCallback:(0,w.default)(t=a.successCallback).call(t,a),errorCallback:(0,w.default)(n=a.errorCallback).call(n,a)});return A.default.cloneElement(e,i)})),o=D.Router.isFormRoute()?"form":"jdiv";return A.default.createElement("jdiv",t.main,A.default.createElement(o,(0,f.default)({ref:function(e){a._formRef=e},autocomplete:"on",onSubmit:function(e){e.preventDefault()}},(0,G.withLocator)(V.Locator.CONTACTS_FORM)),i))}}]),n}(x.default);t.default=$},10803:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(59748)),o=n(26213),r=a(n(45697)),l=a(n(28593)),u=n(53406),s=n(47804),c=a(n(58061)),d=n(56602),f=a(n(1330)),h=function(e){var t=e.isOnline,n=e.pattern,a=e.color,o=e.color2,r=e.powerGradient,h=e.powerButtonColor,p=e.powerButtonPhone,g=e.avatarUrl,m=e.widgetFontColor,v=e.wixAgentDisplayName,_=e.wixAgentTitle,y=e.offlineWidgetLabel,b=e.offlineFormTitle,w=e.route,E=e.joinedAgents,C=e.joinedBots,T=e.agents,k=e.bots,S=e.showHeaderText,I=e.joint,A=e.callbackAvailable,x=(0,u.getTexts)(t,v,_,y,b,E,T,C,k),M=x.mainText,R=x.subText;return i.default.createElement(l.default,{avatars:(0,u.getAvatars)(g,E,T,C,k),backButton:!c.default.desktop()&&!(0,d.isChatPage)(),background:(0,u.getBackground)(a,o,r,h,c.default.mobileOrTablet()),callButton:(0,u.getCallButton)(p),clickable:(0,u.getClickable)(w),darkText:(0,u.getDarkText)(m),inCall:(0,u.getInCall)(),isIos:c.default.ios(),isTablet:c.default.tablet()||c.default.desktop()&&(0,d.isChatPage)(),isPointer:c.default.isPointerEnabled(),leaf:c.default.desktop()&&!(0,d.isChatPage)(),leafBackground:o||a,mainText:M,online:t,pattern:(0,u.getPatternUrl)(n),subText:R,onCallClick:s.onCallClick,onCloseClick:s.onCloseClick,onHeaderClick:s.onHeaderClick,onLeafClick:s.onLeafClick,showHeaderText:S,showMenu:(0,u.getShowMenu)(w,I,A,p),menuComponent:i.default.createElement(f.default,{overlay:(0,u.getShowMenuOverlay)(),hideTitle:(0,u.getHideMenuTitle)()}),menuCorner:(0,u.getShowMenuCorner)(),onMenuChatButtonClick:s.onMenuChatButtonClick,onMenuCallButtonClick:s.onMenuCallButtonClick,onMenuButtonClick:s.onMenuButtonClick})};h.propTypes={isOnline:r.default.bool,pattern:r.default.number,color:r.default.string,color2:r.default.string,powerButtonColor:r.default.string,powerGradient:r.default.bool,powerButtonPhone:r.default.string,avatarUrl:r.default.string,widgetFontColor:r.default.string,wixAgentDisplayName:r.default.string,wixAgentTitle:r.default.string,offlineWidgetLabel:r.default.string,offlineFormTitle:r.default.string,route:r.default.string,joinedAgents:r.default.arrayOf(r.default.number),joinedBots:r.default.arrayOf(r.default.number),agents:r.default.any,bots:r.default.any,showHeaderText:r.default.bool,joint:r.default.any,callbackAvailable:r.default.bool};var p=(0,o.connect)((function(e){var t=e.chats[e.chats.length?e.chats.length-1:0],n=t&&t.joinedAgents?t.joinedAgents:[],a=t&&t.joinedBots?t.joinedBots:[];return{isOnline:e.app.isOnline,pattern:e.settings.user.pattern,color:e.settings.user.widgetColor,color2:e.settings.user.widgetColor2,powerButtonColor:e.settings.user.powerButtonColor,powerGradient:e.settings.user.powerGradient,powerButtonPhone:e.settings.user.powerButtonPhone,avatarUrl:e.settings.system.avatarUrl,widgetFontColor:e.settings.user.widgetFontColor,wixAgentDisplayName:e.settings.user.wixAgentDisplayName,wixAgentTitle:e.settings.user.wixAgentTitle,offlineWidgetLabel:e.settings.user.offlineWidgetLabel,offlineFormTitle:e.settings.user.offlineFormTitle,route:e.app.route,joinedAgents:n,joinedBots:a,agents:e.agents,bots:e.bots,joint:e.settings.features.joint,callbackAvailable:e.callback.available}}),{})(h);t.default=p},28593:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(87672)),o=a(n(2991)),r=a(n(5872)),l=a(n(18777)),u=a(n(59748)),s=a(n(8126)),c=a(n(94184)),d=a(n(45697)),f=a(n(53897)),h=a(n(91858)),p=a(n(80740)),g=a(n(58165)),m=n(70645),v=n(83093),_=function(e){var t,n,a,d,_=e.avatars,y=void 0===_?[]:_,b=e.backButton,w=void 0!==b&&b,E=e.background,C=void 0===E?"#44BB6E":E,T=e.callButton,k=void 0!==T&&T,S=e.clickable,I=void 0!==S&&S,A=e.darkText,x=void 0===A||A,M=e.inCall,R=void 0!==M&&M,O=e.isIos,N=void 0!==O&&O,D=e.isTablet,L=void 0!==D&&D,P=e.isPointer,j=void 0===P||P,B=e.leaf,F=void 0===B||B,H=e.leafBackground,W=void 0===H?"#44BB6E":H,U=e.mainText,z=void 0===U?"":U,G=e.onCallClick,V=e.onCloseClick,q=e.onHeaderClick,K=e.onLeafClick,Y=e.online,Z=void 0===Y||Y,J=e.pattern,X=void 0!==J&&J,$=e.subText,Q=void 0===$?"":$,ee=e.showHeaderText,te=e.showMenu,ne=e.menuComponent,ae=e.menuCorner,ie=e.onMenuChatButtonClick,oe=e.onMenuCallButtonClick,re=e.onMenuButtonClick,le=u.default.useState(!1),ue=(0,l.default)(le,2),se=ue[0],ce=ue[1],de=function(){return se?u.default.createElement("jdiv",{className:s.default.menuWrap},ae?u.default.createElement("jdiv",{className:s.default.corner}):null,u.default.cloneElement(ne,{onCancelClick:fe,onOverlayClick:fe,onMenuChatButtonClick:function(){ie&&ie(),fe()},onMenuCallButtonClick:function(){oe&&oe(),fe()}})):null},fe=function(){ce(!1)},he=(0,c.default)((t={},(0,i.default)(t,s.default.headerBox,!0),(0,i.default)(t,s.default.hideCorners,!1),(0,i.default)(t,s.default.__mobile,!F),t)),pe=(0,c.default)((n={},(0,i.default)(n,s.default.header,!0),(0,i.default)(n,s.default._expanded,I),(0,i.default)(n,s.default._light,!x),(0,i.default)(n,s.default._dark,x),(0,i.default)(n,s.default._mobile,!F),(0,i.default)(n,s.default.__ios,N),(0,i.default)(n,s.default._tablet,L),(0,i.default)(n,s.default._offline,!Z),(0,i.default)(n,s.default._callEnabled,k),(0,i.default)(n,s.default.showContent,ee),n));return u.default.createElement("jdiv",(0,r.default)({className:he,style:{background:C}},(0,m.withLocator)(v.Locator.HEADER)),u.default.createElement("jdiv",{className:(0,c.default)((0,i.default)({},s.default.pattern,X)),style:{backgroundImage:X||null}},F?u.default.createElement(f.default,(0,r.default)({onClick:K,orientation:"bottom",backgroundColor:W,online:Z},(0,m.withLocator)(v.Locator.HEADER_LEAF))):null,u.default.createElement("jdiv",{className:pe,onPointerDown:q,onTouchStart:function(e){e.preventDefault(),j||q(e)}},u.default.createElement("jdiv",{className:s.default.headerContainer},function(){if(!Z||0===y.length||y.length>3)return null;if(1===y.length){var e=y[0].url||null;return u.default.createElement(h.default,(0,r.default)({dark:x,expanded:I,isMobile:!F,inCall:R,url:e},(0,m.withLocator)(v.Locator.HEADER_AGENT_AVATAR)))}var t=(0,o.default)(y).call(y,(function(e){return e.url}));return u.default.createElement(p.default,(0,r.default)({bgColor:C,urls:t,dark:x,expanded:I,inCall:R,isMobile:!F,isTablet:L},(0,m.withLocator)(v.Locator.HEADER_AGENT_AVATAR)))}(),u.default.createElement("jdiv",(0,r.default)({className:s.default.info},(0,m.withLocator)(v.Locator.HEADER_TEXT)),(d=(0,c.default)((a={},(0,i.default)(a,s.default.agentName,!0),(0,i.default)(a,s.default.__agents,!Q),(0,i.default)(a,s.default.__call,k),a)),u.default.createElement("jdiv",(0,r.default)({className:d},(0,m.withLocator)(v.Locator.HEADER_AGENT_NAME)),z)),Q?u.default.createElement("jdiv",(0,r.default)({className:s.default.title},(0,m.withLocator)(v.Locator.HEADER_AGENT_POSITION)),Q):null)),!k||te?null:u.default.createElement("jdiv",(0,r.default)({className:s.default.callMe,onPointerDown:G,onTouchStart:function(e){j||G(e)}},(0,m.withLocator)(v.Locator.HEADER_CALLBACK_BUTTON)),F?u.default.createElement("jdiv",{className:s.default.callIcon}):u.default.createElement(g.default,{color:x?"#272433":"#fff",iconName:"icon-tube",className:s.default.callIcon})),F||!w?null:u.default.createElement("jdiv",{className:s.default.closeBox,onPointerDown:V,onTouchStart:function(e){e.preventDefault(),j||V(e)}},u.default.createElement(g.default,{color:x?"#272433":"#fff",iconName:"icon-close",className:s.default.mobileBack})),te?u.default.createElement("jdiv",(0,r.default)({className:s.default.menuButtonWrap,onPointerDown:function(){ce(!se),re&&re()},onTouchStart:function(e){e.preventDefault(),j||(ce(!se),re&&re())}},(0,m.withLocator)(v.Locator.HEADER_CALLBACK_BUTTON)),F?u.default.createElement("jdiv",{className:s.default.menuIcon}):u.default.createElement(g.default,{color:x?"#272433":"#fff",iconName:"iconHamburger",className:s.default.menuIcon}),de()):null)))};_.propTypes={avatars:d.default.arrayOf(d.default.any),backButton:d.default.bool,background:d.default.string,callButton:d.default.bool,clickable:d.default.bool,darkText:d.default.bool,inCall:d.default.bool,isIos:d.default.bool,isTablet:d.default.bool,isPointer:d.default.bool,leaf:d.default.bool,leafBackground:d.default.string,mainText:d.default.string,onCallClick:d.default.func,onCloseClick:d.default.func,onHeaderClick:d.default.func,onLeafClick:d.default.func,online:d.default.bool,pattern:d.default.string,subText:d.default.string,showHeaderText:d.default.bool,showMenu:d.default.bool,menuComponent:d.default.oneOfType([d.default.arrayOf(d.default.node),d.default.node,d.default.func]),menuCorner:d.default.bool,onMenuChatButtonClick:d.default.func,onMenuCallButtonClick:d.default.func,onMenuButtonClick:d.default.func};var y=u.default.memo(_);t.default=y},47804:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.onMenuButtonClick=t.onMenuCallButtonClick=t.onMenuChatButtonClick=t.onLeafClick=t.onHeaderClick=t.onCloseClick=t.onCallClick=void 0;var i=n(17674),o=n(85442),r=n(81189),l=n(53172),u=n(33367),s=n(63242),c=n(56602),d=a(n(47321)),f=a(n(58061)),h=a(n(75043)),p=n(42796),g=n(75245),m=a(n(40695)),v=h.default.name("HeaderContainer");t.onCallClick=function(e){e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault();var t=i.Router.getCurrentRoute();!(0,l.getCallback)().available&&(0,l.getUserSettings)().powerButtonPhone&&f.default.mobileOrTablet()?(0,c.getPageWindow)().document.location.href="tel:"+(0,l.getUserSettings)().powerButtonPhone:i.Router.next(o.RouterEvent.ToCall),t===o.Route.CHAT_MIN&&r.transitionDispatchers.startTransition(p.ScriptName.MAXIMIZE_WIDGET)};t.onCloseClick=function(e){e.preventDefault(),e.stopPropagation(),d.default.closeWidget(),i.Router.next(o.RouterEvent.CloseWindow),u.Monitoring.telemetry(s.TelemetryName.MOBILE_CHAT_CLOSE)};t.onHeaderClick=function(e){e&&e.preventDefault();var t=i.Router.getCurrentRoute();if(!(0,l.getApp)().isOnline&&t===o.Route.CHAT_CALL||!i.Router.isMinRoute()||t===o.Route.CHAT)return v.log("Ignore header click"),void i.Router.next(o.RouterEvent.ToDebug);r.appDispatchers.setAppIsFocused(1),i.Router.next(o.RouterEvent.Navigate),t===o.Route.CHAT_MIN&&r.transitionDispatchers.startTransition(p.ScriptName.MAXIMIZE_WIDGET)};t.onLeafClick=function(){i.Router.next(o.RouterEvent.ToDebug)};t.onMenuChatButtonClick=function(){r.appDispatchers.setAppIsFocused(1),i.Router.next(o.RouterEvent.ToChat),u.Monitoring.telemetry(s.TelemetryName.POWERBUTTON_OPEN_CHAT)};t.onMenuCallButtonClick=function(){r.appDispatchers.setAppIsFocused(1),i.Router.next(o.RouterEvent.ToCall),g.messageActions.deleteUnansweredOfflineSystemInvite(),g.messageActions.offlineSystemInvite(),d.default.openChatCallbacks(),m.default.trackMobileCallClick(),u.Monitoring.telemetry(s.TelemetryName.POWERBUTTON_OPEN_CALLBACK)};t.onMenuButtonClick=function(){i.Router.getCurrentRoute()===o.Route.CHAT_EVAL&&i.Router.next(o.RouterEvent.ToChat)}},53406:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.getHideMenuTitle=t.getShowMenuOverlay=t.getShowMenuCorner=t.getShowMenu=t.getClickable=t.getTexts=t.getInCall=t.getDarkText=t.getCallButton=t.getAvatars=t.getPatternUrl=t.getBackground=void 0;var i=a(n(81643)),o=a(n(77766)),r=(a(n(94473)),a(n(78580))),l=a(n(78914)),u=a(n(2991)),s=n(56602),c=a(n(86999)),d=n(37916),f=a(n(58061)),h=n(17674),p=n(85442),g=a(n(75119)),m=a(n(10505)),v=n(94515),_=n(58165);a(n(75043)).default.name("HeaderHelpers");t.getBackground=function(e,t,n,a,i){var o=c.default.getGradientBg(e,t);return i&&(o=y(n,a,o)),o};var y=function(e,t,n){return e?n:t||"#44BB6E"};t.getPatternUrl=function(e){return e?"url(".concat((0,s.staticUrl)((v.EnvironmentManager.isDevelopment()?"/public":"")+"/images/pattern/"+e+".svg",!0),")"):null};t.getAvatars=function(e,t,n,a,i){var o=b(t,n),r=b(a,i,!0);return o.length||r.length?o.length?(0,u.default)(o).call(o,(function(t){return{url:t.avatarUrl?w(e,t.avatarUrl):null}})):(0,u.default)(r).call(r,(function(t){return{url:t.avatarUrl?w(e,t.avatarUrl):(0,_.getSvgBgIcon)("iconBot")}})):[]};var b=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e.length>t.length)return[];var a=[];return(0,l.default)(t).call(t,(function(t){(0,r.default)(e).call(e,t.id)&&t.isBot===n&&a.push(t)})),a},w=function(e,t){var n,a;return(0,o.default)(n=(0,o.default)(a="".concat((0,s.getProtocol)())).call(a,e,"/avatars/")).call(n,t)};t.getCallButton=function(e){var t,n=-1!==(0,i.default)(t=[p.Route.DEPARTMENTS,p.Route.CHAT_EULA,p.Route.INTRODUCE]).call(t,h.Router.getCurrentRoute()),a=f.default.mobileOrTablet()&&e;return(d.CallbackUtils.isCallbackEnabled()||a)&&!d.CallbackUtils.isCallActive()&&!n};t.getDarkText=function(e){return"dark"===e};t.getInCall=function(){return d.CallbackUtils.isCallActive()};t.getTexts=function(e,t,n,a,i,o,r,u,c){if(!e)return{mainText:i||a,subText:""};var f=h.Router.getCurrentRoute();if(f===p.Route.DEPARTMENTS)return{mainText:(0,g.default)("lblSelectDep"),subText:""};if(f===p.Route.INTRODUCE&&!d.CallbackUtils.isCallActive()||f===p.Route.CHAT_EULA&&h.Router.getPrevRoute()===p.Route.INTRODUCE)return{mainText:(0,g.default)("lblIntroduceRequestBefore"),subText:""};if((0,s.isWixEditor)()&&(t||n))return{mainText:t||(0,g.default)("lblConnectedToAgent"),subText:n||(0,g.default)("lblOperatorsOnline")};var m=b(o,r,!1),v=b(u,c,!0);if(1===m.length)return{mainText:m[0].name,subText:m[0].title};if(m.length>3)return{mainText:E(),subText:""};if(m.length>1){var _=[];return(0,l.default)(m).call(m,(function(e){_.push(e.name.replace(/ /g," "))})),{mainText:_.join(", "),subText:""}}return v.length?{mainText:v[0].name,subText:v[0].title}:{mainText:(0,g.default)("lblConnectedToAgent"),subText:(0,g.default)("lblOperatorsOnline")}};var E=function(){var e=(0,s.getPageWindow)().location.hostname.replace("www.","");if(""===e)return(0,g.default)("lblOperatorsOnline");try{return m.default.toUnicode(e)}catch(t){return e}};t.getClickable=function(e){return e===p.Route.CHAT_MIN};t.getShowMenu=function(e,t,n,a){var i=t||n||a;return!(!(0,s.isChatPage)()||e===p.Route.CHAT_CALL||!i)};t.getShowMenuCorner=function(){return(0,s.isChatPage)()&&(f.default.tablet()||f.default.desktop())};t.getShowMenuOverlay=function(){return(0,s.isChatPage)()&&f.default.mobile()};t.getHideMenuTitle=function(){return(0,s.isChatPage)()&&(f.default.tablet()||f.default.desktop())}},83126:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(81643)),r=a(n(5872)),l=a(n(26394)),u=a(n(69198)),s=a(n(51379)),c=a(n(214)),d=a(n(66380)),f=a(n(59748)),h=a(n(60021)),p=a(n(75119)),g=a(n(58165)),m=n(56602),v=a(n(62904)),_=a(n(86999)),y=a(n(62652)),b=n(17674),w=n(85442),E=a(n(6991)),C=a(n(90179)),T=n(33367),k=n(63242);function S(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var o=(0,d.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}var I=function(e){(0,s.default)(n,e);var t=S(n);function n(){return(0,l.default)(this,n),t.call(this)}return(0,u.default)(n,[{key:"renderIcon",value:function(e,t){return f.default.createElement(g.default,(0,r.default)({},t.iconStartChat,{color:e.isLightColor?"#fff":"#272433",iconName:"start-chat"}))}},{key:"renderStartChat",value:function(e,t){var n=this;if(E.default.ifIMessageEnabled()){var a=E.default.getJoints();return f.default.createElement("a",{href:a.links.imUrl,target:"_blank",rel:"nofollow noopener noreferrer"},this.renderIcon(e,t))}return f.default.createElement("jdiv",{onPointerDown:function(e){e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault(),b.Router.next(w.RouterEvent.ToChat)},onTouchStart:function(e){e.preventDefault(),n.props.isPointer||b.Router.next(w.RouterEvent.ToChat)}},this.renderIcon(e,t))}},{key:"closeWindow",value:function(){b.Router.next(w.RouterEvent.CloseWindow),T.Monitoring.telemetry(k.TelemetryName.MOBILE_CLOSE_CALLBACK)}},{key:"renderBackButton",value:function(e,t){var n=this;return(0,m.isChatPage)()?null:f.default.createElement("jdiv",{onPointerDown:function(e){e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault(),n.closeWindow()},onTouchStart:function(e){e.preventDefault(),n.props.isPointer||n.closeWindow()}},f.default.createElement(g.default,(0,r.default)({iconName:"icon-back",color:e.isLightColor?"#fff":"#272433"},t.backButton)))}},{key:"getRenderData",value:function(){var e=(0,p.default)("service_from");if(-1!==(0,o.default)(e).call(e,"_ICON_")){var t=e.split("_ICON_");e=t[0],t[1]}var n=_.default.getGradientBg(y.default.widget_color,y.default.widget_color2),a=v.default.power_button_color||"#44BB6E",i=a;v.default.power_gradient&&(a=y.default.widget_color,i=n);var r=_.default.isLightColor(i);return{styles:{header:[{header:!0,__dark:r},{background:i}],backButton:[{backButton:!0}],title:[{title:!0}],logo:[{logo:!0}],iconStartChat:[{iconStartChat:!0}],pattern:[{pattern:!0},{backgroundImage:v.default.pattern?(0,m.cdnPatternUrl)():null}]},style:C.default,data:{isLightColor:!r}}}},{key:"renderData",value:function(e,t){return f.default.createElement("jdiv",(0,r.default)({},t.header,{onPointerDown:function(){b.Router.next(w.RouterEvent.ToDebug)}}),f.default.createElement("jdiv",t.pattern,this.renderBackButton(e,t),this.renderStartChat(e,t),f.default.createElement("jdiv",t.title,(0,p.default)("cw_callHeader"))))}}]),n}(h.default);t.default=I},46223:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(5872)),o=a(n(59748)),r=a(n(45697)),l=a(n(58165)),u=n(70645),s=n(83093),c=(a(n(75043)).default.name("SendIcon"),function(e){var t=e.isMobile,n=e.disabled,a=e.onClick,r=e.hasError,c=e.theme,d=e.styles;e.isPointer;return t&&(c.color=r?"#f1f0f0":c.color),o.default.createElement("jdiv",{onPointerDown:n?null:a,onTouchStart:function(e){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),n||a(e)}},o.default.createElement(l.default,(0,i.default)({iconName:t?"mobile-send-button":"send-button",color:c.color,color2:t&&r?"#dedede":"#ffffff",hoverColor:c.hoverColor,className:d.sendButton},(0,u.withLocator)(s.Locator.INPUT_SUBMIT))))});c.propTypes={isMobile:r.default.bool,disabled:r.default.bool,onClick:r.default.func,hasError:r.default.bool,theme:r.default.shape({color:r.default.string,hoverColor:r.default.string}),styles:r.default.shape({sendButton:r.default.string}),isPointer:r.default.bool};var d=o.default.memo(c);t.default=d},78534:function(e,t,n){"use strict";var a=n(87646),i=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(63978)),r=i(n(20368)),l=i(n(39649)),u=i(n(78914)),s=i(n(34074)),c=i(n(20116)),d=i(n(14310)),f=i(n(86902)),h=i(n(81643)),p=i(n(33032)),g=i(n(25843)),m=i(n(87672)),v=i(n(18777)),_=a(n(59748)),y=i(n(62107)),b=n(26213),w=i(n(45697)),E=n(17674),C=n(85442),T=i(n(12907)),k=i(n(55471)),S=i(n(75591)),I=i(n(58061)),A=i(n(45808)),x=n(21224),M=i(n(94184)),R=i(n(53401)),O=n(43472),N=n(56602),D=n(99112),L=n(24335),P=i(n(73113)),j=i(n(11234)),B=i(n(22905)),F=i(n(46223)),H=n(81189),W=i(n(47321)),U=n(33367),z=n(63242),G=n(70669);function V(e,t){var n=(0,f.default)(e);if(d.default){var a=(0,d.default)(e);t&&(a=(0,c.default)(a).call(a,(function(t){return(0,s.default)(e,t).enumerable}))),n.push.apply(n,a)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)(0,u.default)(n=V(Object(a),!0)).call(n,(function(t){(0,m.default)(e,t,a[t])}));else if(l.default)(0,r.default)(e,(0,l.default)(a));else{var i;(0,u.default)(i=V(Object(a))).call(i,(function(t){(0,o.default)(e,t,(0,s.default)(a,t))}))}}return e}var K=i(n(75043)).default.name("InputContainer"),Y=function(e){var t,n=e.isContactFormFocused,a=e.appStore,i=e.contactsAsk,o=e.disableEmoji,r=e.onInputChangeHeight,l=e.isInputDisabled,u=e.isIntroduced,s=e.disableFiletransfer,c=e.inputText,d=e.agentTyping,f=(0,_.useRef)(null),b=(0,_.useState)({hasError:!1,text:(0,G.getDisabledText)()?"":c||(0,G.getDisabledText)(),disabled:!(!(0,G.getDisabled)()&&!l)}),w=(0,v.default)(b,2),V=w[0],Y=w[1],Z=(0,_.useState)((0,G.getColorTheme)(V.disabled)),J=(0,v.default)(Z,2),X=(J[0],J[1]),$=(0,_.useState)(0),Q=(0,v.default)($,2),ee=Q[0],te=Q[1],ne=(0,_.useState)(0),ae=(0,v.default)(ne,2),ie=ae[0],oe=ae[1],re=(0,_.useState)(0),le=(0,v.default)(re,2),ue=le[0],se=le[1],ce=A.default.get(x.Component.AUTORESIZER),de=(0,G.getIsMobile)();ie||oe({run:y.default.throttle((function(e){(0,G.startTyping)(e)}),1e3)}),(0,_.useEffect)((function(){(0,G.checkOfflineForm)(u,a.isOnline),X((0,G.getColorTheme)(V.disabled)),(0,L.designerBind)("setBubbleColor",(function(){X((0,G.getColorTheme)(V.disabled))}));var e=A.default.get(x.Component.INPUT);K.log("init",e),A.default.set(x.Component.AUTORESIZER,new P.default(e,{maxSize:90,minSize:de?16:60,onResize:function(){!function(){var e=f.current.base;if(e){var t=e.parentNode.offsetHeight;ue!==t&&(r&&r(t),se(t))}}()}})),ge(V.disabled),!de&&E.Router.isChatInputRoute(a.route)&&e&&e.focus()}),[]);var fe=!0;de&&(fe=!n);var he=function(e,t){e&&(e.preventDefault(),e.stopPropagation());var n=t||V.text;K.log("inputSendMessage",n);var o=!!n&&(0,G.replaceEmojiValue)((0,G.getText)(n));if(o){if(H.clientDispatchers.setLastMessage(o),Y((function(e){return q(q({},e),{},{text:""})})),1===i&&!u&&O.reduxStore.getState().messages.length&&a.isOnline)return H.appDispatchers.setAppIsFocused(1),void E.Router.next(C.RouterEvent.ToIntroduce);if(!(0,g.default)(o).call(o))return Y((function(e){return q(q({},e),{},{hasError:!0})})),!1;Y((function(e){return q(q({},e),{},{text:""})})),H.clientDispatchers.setInputText(""),(0,G.onInputSubmit)(o),(0,p.default)((function(){ce&&ce.check();var e=A.default.get(x.Component.INPUT);e&&e.focus()}),50),de&&document.activeElement===f&&e&&e.preventDefault()}},pe=function(e){V.disabled!==e&&(Y((function(t){return q(q({},t),{},{text:"",disabled:!!e})})),X((0,G.getColorTheme)(!!e)),ge(e))},ge=function(e){(0,G.setPlaceholder)((0,G.getPlaceholder)(e))},me=function(e){return e.replace(/[\u202E]/gi,"")},ve=O.reduxStore.getState().settings.features,_e=(0,M.default)((t={},(0,m.default)(t,R.default.input,!0),(0,m.default)(t,R.default.__mobile,de),(0,m.default)(t,R.default.inputPhone,I.default.windowsPhone()),t)),ye=function(){return(0,G.getDisabled)()||l?(pe(!0),!0):(pe(!1),!1)},be=s||(0,G.isFileUploadDisabled)();return _.default.createElement(_.default.Fragment,null,_.default.createElement("jdiv",{className:_e,style:{display:fe?"block":"none"},ref:function(e){e&&A.default.set(x.Component.CHAT_INPUT,e)}},_.default.createElement(S.default,{text:V.text,disabled:ye(),onInput:function(e){e.stopPropagation();var t=me(e.target.value);if(""===t)return e.target.value="",""!==V.text&&Y((function(e){return q(q({},e),{},{text:"",hasError:!0})})),H.clientDispatchers.setInputText(t),void W.default.typingInsight("");Y((function(e){return q(q({},e),{},{text:t,hasError:!1})})),X((0,G.getColorTheme)(!!V.disabled)),H.clientDispatchers.setInputText(t),(0,p.default)((function(){ce&&ce.check()}),150),ie.run(t),clearTimeout(ee),te((0,p.default)(G.stopTyping,5e3))},onKeyPress:function(e){!function(e,t){var n,a=me(e.target.value);K.log("onKeyPress",a,t),e.stopPropagation(),V.text&&(a=V.text);var i=e.keyCode;if(!de&&""!==a&&(e.ctrlKey||e.metaKey||e.shiftKey)&&-1!==(0,h.default)(n=[10,13]).call(n,i)){if(!e.shiftKey&&!I.default.edge()){var o=(0,D.addNewLine)(e.target,a);o&&(Y((function(e){return q(q({},e),{},{text:o})})),H.clientDispatchers.setInputText(o))}return!1}13===i?(e.preventDefault(),he(e,a)):8===i&&""===a&&(Y((function(e){return q(q({},e),{},{text:""})})),H.clientDispatchers.setInputText(""))}(e,V.text)},onFocus:G.onFocus,onPaste:function(e){de&&Y((function(e){return q(q({},e),{},{hasError:!1})})),(0,G.onPaste)(e)},disableFileUpload:be,ref:f}),de&&(0,N.showAd)()?_.default.createElement(T.default,{type:"chat"}):null,de&&1==ve.typingInsight?_.default.createElement(k.default,{show:d,isMobile:de}):null,_.default.createElement(F.default,{isMobile:de,disabled:ye(),onClick:he,hasError:V.hasError,theme:(0,G.getColorTheme)(V.disabled),styles:R.default,isPointer:I.default.isPointerEnabled()})),_.default.createElement(j.default,{disabled:ye(),disableFileUpload:be,insertEmoji:function(e){if(a.isOnline||!V.disabled){var t=e.target.getAttribute("jv-emoji");if(null!==t){var n=":"+t+":";if(0===V.text.length)he(null,n),ie.run(n);else{var i=V.text+n;Y((function(e){return q(q({},e),{},{text:i})})),ie.run(i),H.clientDispatchers.setInputText(i)}U.Monitoring.telemetry(z.TelemetryName.EMOJI_INSERT_SMILE),(0,p.default)((function(){(0,G.afterEmojiInserted)(ce),H.appDispatchers.setAppIsFocused(1)}),150)}}},isPopupMenuVisible:!(!I.default.desktop()||(0,N.isChatPage)()||!O.reduxStore.getState().messages.length),isOnline:a.isOnline,disableEmoji:de||o}),(0,G.isSocialButtonEnabled)()?_.default.createElement(B.default,null):null)};Y.propTypes={appStore:w.default.shape({isOnline:w.default.bool.isRequired,route:w.default.string.isRequired,isFocused:w.default.number.isRequired}).isRequired,contactsAsk:w.default.number,isContactFormFocused:w.default.bool,onInputChangeHeight:w.default.func,isInputDisabled:w.default.bool,disableEmoji:w.default.bool,isIntroduced:w.default.bool,disableFiletransfer:w.default.bool,inputText:w.default.string,agentTyping:w.default.number};var Z=(0,b.connect)((function(e){var t=e.chats[e.chats.length?e.chats.length-1:0];return{appStore:e.app,contactsAsk:e.settings.user.contactsAsk,disableEmoji:e.settings.features.disableEmoji,isContactFormFocused:e.app.isContactFormFocused,isInputDisabled:e.app.isInputDisabled,isIntroduced:e.client.isIntroduced,disableFiletransfer:!!e.settings.features.disableFiletransfer,inputText:e.client.inputText,agentTyping:t?t.agentTyping:0}}),{})(Y);t.default=Z},75591:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(5872)),o=a(n(87672)),r=a(n(59748)),l=a(n(53401)),u=a(n(94184)),s=a(n(45697)),c=n(70645),d=n(83093),f=a(n(45808)),h=n(21224),p=function(e){var t,n=e.text,a=e.disabled,s=e.onInput,p=e.onFocus,g=e.onPaste,m=e.onKeyPress,v=e.disableFileUpload,_=(0,u.default)((t={},(0,o.default)(t,l.default.tdTextarea,!0),(0,o.default)(t,l.default.__filedisabled,v),t));return r.default.createElement("jdiv",{className:_},r.default.createElement("textarea",(0,i.default)({maxLength:"1000",className:(0,u.default)((0,o.default)({},l.default.inputField,!0)),key:"inputField",onInput:s,onKeyPress:m,onKeyUp:function(e){e.stopPropagation()},onKeyDown:function(e){e.stopPropagation()},onFocus:p,onPaste:g,value:a?"":n,disabled:a,autoComplete:"false","data-gramm":"false","data-gramm_editor":"false","data-enable-grammarly":"false",ref:function(e){e&&f.default.set(h.Component.INPUT,e)}},(0,c.withLocator)(d.Locator.INPUT))))};p.propTypes={text:s.default.string,disabled:s.default.bool,onInput:s.default.func.isRequired,onFocus:s.default.func.isRequired,onPaste:s.default.func.isRequired,onKeyPress:s.default.func.isRequired,disableFileUpload:s.default.bool};var g=r.default.memo(p);t.default=g},75779:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(59748)),o=n(26213),r=a(n(45697)),l=a(n(78534)),u=(a(n(75043)).default.name("InputWrap"),function(e){var t=e.onInputChangeHeight;return i.default.createElement(l.default,{onInputChangeHeight:t})});u.propTypes={onInputChangeHeight:r.default.func};var s=(0,o.connect)((function(e){return{}}),{})(u);t.default=s},70669:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.getColorTheme=function(e){var t=r.default.bubble_color||"green";e&&(t="disabled");switch(t){case"disabled":return{color:"#c9cdd3",hoverColor:"#c9cdd3"};case"blue":return{color:"#0b82f7",hoverColor:"#086bcd"};case"grey":return{color:"#445669",hoverColor:"#303f4e"};case"green":default:return{color:"#18c139",hoverColor:"#12a730"}}},t.getPlaceholder=function(e){var t;if(e){if(t=(0,l.default)("offlineBlockedInputPlaceholder"),r.default.maintenance&&(t=(0,l.default)("maintenanceBlockedPlaceholder")),E.FeatureManager.isEnabled(E.Feature.RECAPTCHA)){var n=C.default.getInstance();n&&n.isBlocked()&&(t=(0,l.default)("maintenanceBlockedPlaceholder"))}}else t=u.default.mobileOrTablet()?(0,l.default)("lblMessageHere"):(0,l.default)("lblEnterMessageHere");return t},t.getDisabled=S,t.getDisabledText=function(){var e=S()?(0,l.default)("offlineBlockedInputPlaceholder"):"";r.default.maintenance&&(e=(0,l.default)("maintenanceBlockedPlaceholder"));return e},t.getText=I,t.replaceEmoji=A,t.startTyping=function(e){if(e){var t=I(e);k.log("startTyping",t),d.default.clientTyping(t),d.default.typingInsight(t)}},t.stopTyping=function(){k.log("stopTyping"),d.default.clientTyping(!1)},t.setCursorEnd=x,t.replaceEmojiValue=function(e){return e.replace(c.default.getRegExp()," $& ")},t.isFileUploadDisabled=function(){return!((!r.default.bots||f.default.agent_id)&&g.default.isFileUploadEnabled())},t.onInputSubmit=function(e){h.messageActions.sendClientMessage(e),d.default.typingInsight(""),d.default.clientTyping(!1),p.default.play("outgoing_message")},t.setPlaceholder=function(e){if(e=e.replace(/&quot;/g,'"').replace(/&#039;/g,"'"),m.Router.getCurrentRoute()!==v.Route.LABEL){var t=_.default.get(y.Component.INPUT);t&&t.setAttribute("placeholder",e);var n=_.default.get(y.Component.AUTORESIZER);n&&n.check()}},t.onFocus=function(){k.log("onFocus");var e=_.default.getComponent(y.Component.SCROLL_CONTAINER);e&&e.setIgnore(!1);u.default.ipad()&&u.default.osVersion()&&11.2==u.default.osVersion()&&!u.default.chromeIOS()&&"portrait"===b.default.getOrientation()&&!b.default.isSiteOptimizedForMobile&&(0,o.default)((function(){var e,t=(0,w.getPageWindow)(),n=t.document,a=n.scrollingElement.scrollTop,o=n.getElementById("jivo-iframe-container");a>0&&(n.scrollingElement.scrollTop=a,o.setAttribute("style",(0,i.default)(e="".concat(o.style.cssText," top: ")).call(e,-1*a,"px !important")));(0,w.removeEvent)(t.document,"visibilitychange",M),(0,w.addListener)(t.document,"visibilitychange",M)}),500)},t.onPaste=function(e){if(g.default.isFileUploadEnabled()&&!m.Router.needToShowIntroduceForm()){var t=e.clipboardData;t&&t.files&&t.files.length&&(e.preventDefault(),g.default.getFileInfo(t.files[0]))}},t.ipadVisibilityChange=M,t.afterEmojiInserted=function(e){e&&e.check();var t=_.default.get(y.Component.INPUT);t&&(t.focus(),x(t,t.value))},t.isSocialButtonEnabled=function(){return r.default.joint&&!u.default.mobileOrTablet()&&!d.default.isChatContactForm()&&!(0,w.isChatPage)()},t.checkOfflineForm=function(e,t){e||t||!T.default.getClientMessages().length||h.messageActions.handleContactsForm()},t.getIsMobile=void 0;var i=a(n(77766)),o=a(n(33032)),r=a(n(62904)),l=a(n(75119)),u=a(n(58061)),s=n(63465),c=a(n(77244)),d=a(n(47321)),f=a(n(69961)),h=n(75245),p=a(n(44992)),g=a(n(34777)),m=n(17674),v=n(85442),_=a(n(45808)),y=n(21224),b=a(n(68806)),w=n(56602),E=n(23582),C=a(n(13106)),T=a(n(99357)),k=a(n(75043)).default.name("InputHelpers");function S(){return!!r.default.maintenance||(0,s.isOfflineCanSend)()}function I(e){return r.default.disable_emoji?e:A(e)}function A(e){return e.replace(/:\w+:/g,(function(e){var t=e.replace(/:/g,"");return c.default.getEmojiList()[t]?c.default.fromCodePoint(c.default.getEmojiList()[t]):e}))}function x(e,t){e.setSelectionRange&&e.setSelectionRange(t.length+2,t.length+2)}function M(){"visible"===document.visibilityState&&(0,w.hasClass)((0,w.getPageWindow)().document.documentElement,"jivo-mobile-overlay")&&((0,o.default)((function(){var e=_.default.get(y.Component.INPUT);e&&e.blur()}),500),(0,w.removeEvent)((0,w.getPageWindow)().document,"visibilitychange",M))}t.getIsMobile=function(){return u.default.mobileOrTablet()||(0,w.isChatPage)()}},75020:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(87672)),o=a(n(59748)),r=a(n(58165)),l=a(n(78162)),u=a(n(45697)),s=a(n(40731)),c=a(n(7636)),d=a(n(94184)),f=function(e){var t,n=e.opened,a=void 0!==n&&n,u=e.disabled,f=void 0!==u&&u,h=e.width,p=void 0===h?227:h,g=e.height,m=void 0===g?182:g,v=e.offsetRight,_=void 0===v?15:v,y=e.onClick,b=e.onItemClick;return o.default.createElement("jdiv",{className:l.default.emojiWrap,onClick:f?null:y},o.default.createElement(r.default,{iconName:"icon-emoji",color:f?"#c9cdd3":"#a3aab5",className:(0,d.default)((t={},(0,i.default)(t,l.default.iconEmoji,!0),(0,i.default)(t,l.default.__disabled,f),t))}),o.default.createElement(c.default,{show:a,onClick:b,width:p,height:m,offsetRight:_},o.default.createElement(s.default,null)))};f.propTypes={opened:u.default.bool.isRequired,onClick:u.default.func.isRequired,onItemClick:u.default.func.isRequired,width:u.default.number,height:u.default.number,offsetRight:u.default.number,disabled:u.default.bool};var h=o.default.memo(f);t.default=h},11234:function(e,t,n){"use strict";var a=n(87646),i=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=t.componentProps=void 0;var o=i(n(63978)),r=i(n(20368)),l=i(n(39649)),u=i(n(78914)),s=i(n(34074)),c=i(n(20116)),d=i(n(14310)),f=i(n(86902)),h=i(n(87672)),p=i(n(18777)),g=a(n(59748)),m=i(n(45697)),v=i(n(94184)),_=i(n(58061)),y=n(56602),b=i(n(32832)),w=n(33367),E=n(63242),C=i(n(75020)),T=i(n(44345)),k=i(n(9805)),S=i(n(76645));function I(e,t){var n=(0,f.default)(e);if(d.default){var a=(0,d.default)(e);t&&(a=(0,c.default)(a).call(a,(function(t){return(0,s.default)(e,t).enumerable}))),n.push.apply(n,a)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)(0,u.default)(n=I(Object(a),!0)).call(n,(function(t){(0,h.default)(e,t,a[t])}));else if(l.default)(0,r.default)(e,(0,l.default)(a));else{var i;(0,u.default)(i=I(Object(a))).call(i,(function(t){(0,o.default)(e,t,(0,s.default)(a,t))}))}}return e}var x=i(n(75043)).default.name("InputIconsPure"),M=function(e){var t,n=e.disabled,a=void 0!==n&&n,i=e.disableFileUpload,o=void 0!==i&&i,r=e.insertEmoji,l=e.isPopupMenuVisible,u=e.isOnline,s=e.disableEmoji,c=(0,g.useState)({emojiListOpened:!1,menuOpened:!1,link:{fileName:"",url:""}}),d=(0,p.default)(c,2),f=d[0],m=d[1];x.log(f);var I=function e(){x.log("closeMenu"),(0,y.removeEvent)((0,y.getPageWindow)(),"click",e),m((function(e){return A(A({},e),{},{menuOpened:!1})}))},M=function(e){x.log("menuClick"),e.stopPropagation(),a||(f.menuOpened||(0,y.addListener)((0,y.getPageWindow)(),"click",I),m((function(e){return A(A({},e),{},{menuOpened:!e.menuOpened,emojiListOpened:!1,link:k.default.getInstance().getMessagesAsHTML()})})),w.Monitoring.telemetryOnce(E.TelemetryName.MORE_CLICK))},R=function e(){x.log("closeEmojiList"),(0,y.removeEvent)((0,y.getPageWindow)(),"click",e),m((function(e){return A(A({},e),{},{emojiListOpened:!1})}))},O=function(e){x.log("toggleEmojiList"),e.stopPropagation(),!u&&a||(f.emojiListOpened||(0,y.addListener)((0,y.getPageWindow)(),"click",R),m((function(e){return A(A({},e),{},{emojiListOpened:!e.emojiListOpened,menuOpened:!1})})),f.emojiListOpened&&w.Monitoring.telemetryOnce(E.TelemetryName.EMOJI_OPEN_SMILE_LIST))},N=(0,v.default)((t={},(0,h.default)(t,S.default.iconPanel,!0),(0,h.default)(t,S.default.__mobile,_.default.mobileOrTablet()||(0,y.isChatPage)()),t));return g.default.createElement("jdiv",{className:N},function(){if(l)return g.default.createElement(T.default,{show:f.menuOpened,disabled:a,link:f.link,onClick:M,onItemClick:function(){w.Monitoring.telemetryOnce(E.TelemetryName.DOWNLOAD_CHAT_LOG_CLICK)}})}(),function(){if(!o)return g.default.createElement(b.default,{disabled:a})}(),function(){if(!s)return g.default.createElement(C.default,{disabled:a,opened:f.emojiListOpened,onClick:O,onItemClick:r,offsetRight:(e=!o,l&&!e?15:l&&e?45:l||e?15:0)});var e}())},R=M.propTypes={disabled:m.default.bool.isRequired,disableFileUpload:m.default.bool.isRequired,insertEmoji:m.default.func.isRequired,isOnline:m.default.bool,isPopupMenuVisible:m.default.bool,disableEmoji:m.default.bool};t.componentProps=R;var O=g.default.memo(M);t.default=O},7636:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(87672)),o=a(n(59748)),r=a(n(53597)),l=a(n(94184)),u=a(n(45697)),s=function(e){var t,n=e.show,a=void 0===n||n,u=e.width,s=void 0===u?100:u,c=e.height,d=void 0===c?100:c,f=e.offsetRight,h=void 0===f?0:f,p=e.children,g=e.onClick;return o.default.createElement("jdiv",{className:(0,l.default)((t={},(0,i.default)(t,r.default.popup,!0),(0,i.default)(t,r.default.show,!!a),t)),style:{width:"".concat(s,"px"),height:"".concat(d,"px"),right:"".concat(h,"px"),top:"-".concat(38+d,"px")},onClick:g},o.default.createElement("jdiv",{className:r.default.childrenWrap},p),o.default.createElement("jdiv",{className:r.default.pip,style:{left:"".concat(2+h,"px")}}))};s.propTypes={show:u.default.bool.isRequired,width:u.default.number.isRequired,onClick:u.default.func.isRequired,children:u.default.oneOfType([u.default.arrayOf(u.default.node),u.default.node]).isRequired,height:u.default.number,offsetRight:u.default.number};var c=o.default.memo(s);t.default=c},44345:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(87672)),o=a(n(59748)),r=a(n(48305)),l=a(n(58165)),u=a(n(45697)),s=a(n(94184)),c=a(n(75119)),d=function(e){var t,n,a=e.disabled,u=e.onClick,d=e.onItemClick,f=e.link,h=e.show;return o.default.createElement("jdiv",{className:r.default.menuWrap},o.default.createElement("jdiv",{onClick:u},o.default.createElement(l.default,{iconName:"icon-more",color:a?"#c9cdd3":"#a3aab5",hoverColor:a?null:"#a3aab5",disabled:a,className:(0,s.default)((t={},(0,i.default)(t,r.default.iconMenu,!0),(0,i.default)(t,r.default.__disabled,a),t))})),o.default.createElement("jdiv",{className:(0,s.default)((n={},(0,i.default)(n,r.default.menu,!0),(0,i.default)(n,r.default.show,!!h),n))},o.default.createElement("jdiv",{className:r.default.menuItem,onClick:d},o.default.createElement("a",{download:f.fileName,href:f.url,target:"_blank",rel:"nofollow noopener noreferrer"},(0,c.default)("downloadChatText"))),o.default.createElement("jdiv",{className:r.default.pip})))};d.propTypes={show:u.default.bool.isRequired,onClick:u.default.func.isRequired,onItemClick:u.default.func.isRequired,link:u.default.shape({fileName:u.default.string.isRequired,url:u.default.string.isRequired}).isRequired,disabled:u.default.bool};var f=o.default.memo(d);t.default=f},97280:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(5872)),r=a(n(54103)),l=a(n(87672)),u=a(n(2991)),s=a(n(33032)),c=a(n(26394)),d=a(n(69198)),f=a(n(51379)),h=a(n(214)),p=a(n(66380)),g=a(n(59748)),m=a(n(60021)),v=a(n(62107)),_=a(n(47321)),y=a(n(62904)),b=a(n(36216)),w=a(n(58061)),E=a(n(58165)),C=a(n(20748)),T=a(n(75043)),k=a(n(22259));function S(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,p.default)(e);if(t){var o=(0,p.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,h.default)(this,n)}}var I=y.default.departments,A=T.default.name("DepartmensSelect"),x=function(e){(0,f.default)(n,e);var t=S(n);function n(e){var a;if((0,c.default)(this,n),(a=t.call(this,e)).state={showList:!1,department_name:I&&I.length?I[0].name:""},b.default.department_id){var i=a.findDepartmentById(b.default.department_id);i&&(a.state.department_name=i.name)}return a._focused=!1,a}return(0,d.default)(n,[{key:"componentDidMount",value:function(){A.log("mounted")}},{key:"toggleDepartments",value:function(e){e.preventDefault(),this.setState({showList:!this.state.showList})}},{key:"findDepartmentById",value:function(e){return v.default.findWhere(I,{id:e})}},{key:"onDepartmentSelect",value:function(e,t){this.setState({showList:!1,department_name:t}),_.default.setDepartmentId(e)}},{key:"onBlurPopup",value:function(){var e=this;(0,s.default)((function(){e._focused||e.setState({showList:!1})}),1300),this._focused=!1}},{key:"onEnterPopup",value:function(){A.log("onEnterPopup"),this._focused=!0}},{key:"getItems",value:function(){var e=this;return(0,u.default)(v.default).call(v.default,I,(function(t){var n=t.id===b.default.department_id?k.default.itemSelected:k.default.item;return g.default.createElement("jdiv",{className:n,onClick:function(){return e.onDepartmentSelect(t.id,t.name)}},t.name)}))}},{key:"renderList",value:function(){return I.length>3?g.default.createElement(C.default,{railClass:k.default.rail,hideTracksWhenNotNeeded:!1},this.getItems()):this.getItems()}},{key:"getRenderData",value:function(){var e;return{styles:{currentItem:[(e={currentItem:!0,_open:this.state.showList},(0,l.default)(e,"_"+y.default.bubble_color||0,!0),(0,l.default)(e,"__mobile",w.default.mobileOrTablet()),e)],selectPopup:[{selectPopup:!0,__ios:w.default.ios(),__scroll:I.length>3},{display:this.state.showList?"block":"none"}]},style:k.default}}},{key:"renderData",value:function(e,t){var n,a,i;return g.default.createElement("jdiv",{className:k.default.fieldWrap},g.default.createElement("jdiv",{className:k.default.select,onMouseLeave:(0,r.default)(n=this.onBlurPopup).call(n,this),onMouseEnter:(0,r.default)(a=this.onEnterPopup).call(a,this)},g.default.createElement("jdiv",(0,o.default)({},t.currentItem,{onClick:(0,r.default)(i=this.toggleDepartments).call(i,this)}),this.state.department_name,g.default.createElement(E.default,{iconName:"icon-v",color:"#8B9096",hoverColor:"#222D38",className:k.default.iconSelect})),g.default.createElement("jdiv",t.selectPopup,this.renderList())))}}]),n}(m.default);t.default=x},66107:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(5872)),r=a(n(33032)),l=a(n(54103)),u=a(n(26394)),s=a(n(69198)),c=a(n(51379)),d=a(n(214)),f=a(n(66380)),h=a(n(59748)),p=a(n(60021)),g=a(n(62107)),m=a(n(75119)),v=a(n(62904)),_=n(56602),y=a(n(62652)),b=a(n(36216)),w=a(n(58061)),E=a(n(47396)),C=a(n(44068)),T=a(n(96884)),k=a(n(60801)),S=a(n(97280)),I=a(n(58165)),A=a(n(58165)),x=a(n(12907)),M=a(n(18228)),R=a(n(47321)),O=a(n(75043)),N=a(n(30890)),D=n(17674),L=n(85442),P=n(21224),j=a(n(45808)),B=n(75245),F=n(10872),H=n(23582);function W(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var o=(0,f.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}var U=O.default.name("Introduce"),z=v.default.departments,G=z&&z.length>0,V=function(e){(0,c.default)(n,e);var t=W(n);function n(e){var a;(0,u.default)(this,n),(a=t.call(this,e)).state={show:!0,anon:!0,captchaPlaceholder:(0,m.default)("captchaPlaceholder"),captchaImgSrc:null,captchaLoadErr:!1},a.captchaPassed=null,a.enableCaptcha=H.FeatureManager.isEnabled(H.Feature.OLD_CAPTCHA)&&!b.default.client_id;var i=0;return v.default.contacts_settings&&g.default.each(v.default.contacts_settings,(function(e){e.show&&i++})),i>=2&&(a.state.anon=!1),a}return(0,s.default)(n,[{key:"componentDidMount",value:function(){var e;(U.log("mounted"),v.default.eula&&!y.default.eula_accepted)&&D.Router.on("submit_eula_success",(0,l.default)(e=this.processEula).call(e,this));this.enableCaptcha&&this.loadCaptcha()}},{key:"loadCaptcha",value:function(){var e=this;this.captchaPassed=null,R.default.getCaptcha((function(t){e.setState({captchaImgSrc:t,captchaLoadErr:null})}),(function(){e.setState({captchaLoadErr:!0,captchaImgSrc:null})}))}},{key:"captchaReload",value:function(){this.setState({captchaPlaceholder:(0,m.default)("captchaPlaceholder")}),this.loadCaptcha()}},{key:"captchaCheckSuccess",value:function(e){U.log("captchaCheckSuccess"),M.default.setCaptchaToken(e),this.captchaPassed=!0,this.successCallback(this.formData)}},{key:"captchaCheckError",value:function(){U.log("captchaCheckError"),this.captchaInput.setValue(""),this.fc.successCallback(),this.setState({captchaPlaceholder:(0,m.default)("captchaPlaceholderAgain")}),this.loadCaptcha()}},{key:"componentDidUnmount",value:function(){U.log("unmount",this.formData)}},{key:"processEula",value:function(e){if(U.log("Introduce submit_eula_success",e),D.Router.off("submit_eula_success"),e===L.Route.INTRODUCE){var t=this.formData||!!this.fc&&this.fc._form;this.sendFormData(t)}}},{key:"sendFormData",value:function(e){if(!e)return U.log("Not found formData");1===v.default.contacts_ask&&(y.default.is_online?B.messageActions.sendClientMessage(e.message.value):B.messageActions.sendOfflineMessage(e.message.value),R.default.setClientContactInfo(this.getIntroduceData(e)))}},{key:"getIntroduceData",value:function(e){var t={};return g.default.each(e,(function(e){t[e.name]=e.value})),t}},{key:"successCallback",value:function(e){var t,n;U.log("successCallbackIntroduce",e),G&&!b.default.department_id&&R.default.setDepartmentId(v.default.departments[0].id),this.formData=e,!this.enableCaptcha||this.captchaPassed?(v.default.eula&&!y.default.eula_accepted||this.sendFormData(this.formData),D.Router.next(L.RouterEvent.Submit),w.default.safari()&&!w.default.mobileOrTablet()&&(0,r.default)((function(){var e=j.default.get(P.Component.WIDGET_CONTAINER);(0,F.updateKeyframes)(e)}),0)):R.default.checkCaptcha(e.captcha.value,(0,l.default)(t=this.captchaCheckSuccess).call(t,this),(0,l.default)(n=this.captchaCheckError).call(n,this))}},{key:"errorCallback",value:function(e){U.log("errorCallbackintroduce",e)}},{key:"renderAnon",value:function(){if(this.state.anon&&!w.default.mobileOrTablet())return h.default.createElement("jdiv",{className:N.default.avatarBox},h.default.createElement(I.default,{iconName:"icon-anonymous",className:N.default.iconAnonymous}))}},{key:"getRenderData",value:function(){return{styles:{main:[{main:!0,__mobile:w.default.mobileOrTablet()||(0,_.isChatPage)()},{display:this.state.show?"block":"none"}],captchaWrap:[{captchaWrap:!0},{display:this.enableCaptcha?"block":"none"}],captcha:[{captchaImg:!0},{"background-image":this.state.captchaImgSrc?"url(".concat(this.state.captchaImgSrc,")"):null}]},style:N.default}}},{key:"renderData",value:function(e,t){var n,a,i,r=this;return h.default.createElement("jdiv",(0,o.default)({},t.main,{ref:function(e){j.default.set(P.Component.INTRODUCE,e)}}),(0,_.showAd)()&&h.default.createElement(x.default,{type:"chat",bottom:!0}),h.default.createElement(E.default,{successCallback:(0,l.default)(n=this.successCallback).call(n,this),errorCallback:(0,l.default)(a=this.errorCallback).call(a,this),ref:function(e){r.fc=e}},this.renderAnon(t),h.default.createElement(C.default,{name:"client_name",placeholder:(0,m.default)("lblIntroduceName")}),h.default.createElement(C.default,{name:"phone",placeholder:(0,m.default)("lblYourPhone")}),h.default.createElement(C.default,{name:"email",placeholder:(0,m.default)("lblYourEmail")}),G?h.default.createElement(S.default,null):"",h.default.createElement(T.default,{name:"message"}),h.default.createElement("jdiv",t.captchaWrap,h.default.createElement("jdiv",t.captcha,this.state.captchaLoadErr&&"Ошибка загрузки"),h.default.createElement("jdiv",{className:N.default.reloadCaptcha,onClick:(0,l.default)(i=this.captchaReload).call(i,this)},h.default.createElement(A.default,{className:N.default.refreshIcon,iconName:"refresh"}))),h.default.createElement(C.default,{name:"captcha",placeholder:this.state.captchaPlaceholder,required:!0,ref:function(e){r.captchaInput=e},show:this.enableCaptcha}),h.default.createElement(k.default,{type:"submit",disabled:this.state.captchaLoadErr})))}}]),n}(p.default);t.default=V},46707:function(e,t,n){"use strict";var a=n(87646),i=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(87672)),r=i(n(18777)),l=a(n(59748)),u=n(26213),s=i(n(45697)),c=i(n(29816)),d=i(n(32822)),f=i(n(31722)),h=n(42796),p=n(85442),g=n(21224),m=i(n(45808)),v=n(24335),_=n(56602),y=n(95561),b=n(44835),w=(i(n(75043)).default.name("LabelContainer"),function(e){var t,n=e.userSettings,a=e.features,i=e.appStore,u=e.callback,s=e.social,w=e.billRu,E=(0,b.getLabelButtons)(n,a,i,u,s),C=(0,l.useState)(!0),T=(0,r.default)(C,2),k=T[0],S=T[1];return i.route===p.Route.HIDDEN||(0,_.isChatPage)()?null:l.default.createElement(l.default.Fragment,null,a.apiInvitation?l.default.createElement(d.default,{onClose:function(){S(!0)},onShow:function(){S(!1)}}):null,(0,_.isCustomLabel)()?null:l.default.createElement(f.default,{name:g.Component.LABEL,startCallbacks:(t={},(0,o.default)(t,h.ScriptName.CLOSE_WIDGET,(function(){S(!0)})),(0,o.default)(t,h.ScriptName.OPEN_WIDGET,(function(){S(!0)})),t),endCallbacks:(0,o.default)({},h.ScriptName.OPEN_WIDGET,(function(){S(!1)})),style:{display:"block",zIndex:2147483646,position:"fixed"},duration:"left"===n.widgetOrientation?"600ms":"300ms",animationPostfix:n.widgetOrientation},l.default.createElement(c.default,{ad:(0,b.getAdProp)(),background:(0,b.getBackgroundProp)(n),buttons:E,designer:v.isDesignerEditor,onButtonsClick:function(){(0,y.showChat)(i.isOnline,p.RouterEvent.Navigate)},online:i.isOnline,onLogoClick:function(){(0,y.showChat)(i.isOnline,p.RouterEvent.Navigate)},orientation:n.widgetOrientation,padding:n.widgetPadding,textStyle:(0,b.getTextStyle)(n),color:n.widgetColor,color2:n.widgetColor2,ref:function(e){e&&m.default.set(g.Component.LABEL,e)},showText:!0,text:(0,b.getTextProp)(i,n),billRu:w,show:k,onLabelHover:y.initSocial})))});w.propTypes={appStore:s.default.shape({isOnline:s.default.bool.isRequired,route:s.default.string.isRequired}).isRequired,callback:s.default.any.isRequired,features:s.default.shape({apiInvitation:s.default.bool}).isRequired,social:s.default.any.isRequired,userSettings:s.default.shape({widgetOrientation:s.default.string.isRequired,widgetColor:s.default.string.isRequired,widgetColor2:s.default.string,widgetPadding:s.default.string.isRequired}).isRequired,billRu:s.default.bool.isRequired};var E=(0,u.connect)((function(e){return{appStore:e.app,callback:e.callback,features:e.settings.features,social:e.social,userSettings:e.settings.user,billRu:e.settings.system.billRu}}),{})(w);t.default=E},29816:function(e,t,n){"use strict";var a=n(87646),i=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(63978)),r=i(n(20368)),l=i(n(39649)),u=i(n(78914)),s=i(n(34074)),c=i(n(20116)),d=i(n(14310)),f=i(n(86902)),h=i(n(51942)),p=i(n(87672)),g=a(n(59748)),m=i(n(71731)),v=i(n(45697)),_=i(n(94184)),y=i(n(53897)),b=i(n(12907)),w=i(n(59821)),E=i(n(58165)),C=i(n(12844)),T=n(10872);function k(e,t){var n=(0,f.default)(e);if(d.default){var a=(0,d.default)(e);t&&(a=(0,c.default)(a).call(a,(function(t){return(0,s.default)(e,t).enumerable}))),n.push.apply(n,a)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)(0,u.default)(n=k(Object(a),!0)).call(n,(function(t){(0,p.default)(e,t,a[t])}));else if(l.default)(0,r.default)(e,(0,l.default)(a));else{var i;(0,u.default)(i=k(Object(a))).call(i,(function(t){(0,o.default)(e,t,(0,s.default)(a,t))}))}}return e}var I=i(n(75043)).default.name("LabelPure"),A=function(e){var t,n=e.ad,a=e.background,i=e.buttons,o=e.designer,r=e.onButtonsClick,l=e.online,u=e.onLogoClick,s=e.orientation,c=e.padding,d=e.textStyle,f=e.color,v=e.color2,k=e.text,A=e.billRu,x=e.show,M=e.onLabelHover,R=(0,g.useRef)(null),O=(0,g.useRef)(null);(0,g.useLayoutEffect)((function(){if(R.current){var e=S({},L());(0,h.default)(R.current.style,e),(0,T.saveLabelPosition)(S(S({},e),{},{offsetWidth:R.current.offsetWidth}))}}));var N,D=function(){var e=R.current&&R.current.offsetWidth,t=R.current&&R.current.offsetHeight,n="rotate(-90deg) translate(20px, 0)",a=Math.round(e/2-t/2);if(!e||!t)return{};if("bottom"===s){if("0"===c)return{left:"40px",bottom:"0px"};if("50"===c)return{right:"calc(50% - ".concat(a,"px)"),bottom:"0px"};if("100"===c)return{right:"30px",bottom:"0px"}}if("left"===s){if("50"===c)return{left:"-".concat(a,"px"),top:"50%",transform:n};if("100"===c)return{left:"-".concat(a,"px"),bottom:"".concat(a,"px"),transform:n}}if("right"===s){if("50"===c)return{right:"-".concat(a,"px"),top:"50%",transform:n};if("100"===c)return{right:"-".concat(a,"px"),bottom:"".concat(a,"px"),transform:n}}},L=function(){return I.log("getWrapStyle",D()),S({background:a},D())};return x?g.default.createElement("jdiv",{ref:R,className:(0,_.default)((t={},(0,p.default)(t,m.default.label,!0),(0,p.default)(t,m.default["_"+s],!0),(0,p.default)(t,m.default._designer,o||!1),(0,p.default)(t,"notranslate",!0),t)),style:L(),id:"jvlabelWrap"},!l&&g.default.createElement(E.default,{iconName:"envelope-offline",color:d.color,className:m.default.labelStatus}),i&&g.default.createElement("jdiv",{className:m.default.hoverl,onClick:r,onMouseOver:M},g.default.createElement("jdiv",{className:m.default.lbContainer},g.default.createElement(C.default,i))),g.default.createElement("jdiv",{className:(0,_.default)((N={},(0,p.default)(N,m.default.text,!0),(0,p.default)(N,m.default._offline,!l),(0,p.default)(N,m.default._noAd,!n),(0,p.default)(N,m.default.contentTransitionWrap,!0),N)),style:d},k),n&&g.default.createElement("jdiv",{className:m.default.copy,onMouseOver:function(){O.current&&O.current.mouseOver()},onMouseOut:function(){O.current&&O.current.mouseOut()}},g.default.createElement(w.default,{leafColor:l?"#18C139":"#62666c",onClick:u,orientation:s,ru:A,textColor:d.color})),g.default.createElement("jdiv",{className:m.default.leafCont},g.default.createElement(y.default,{backgroundColor:v||f,online:l,orientation:s})),g.default.createElement("jdiv",{className:m.default.copyContainer},g.default.createElement(b.default,{ref:O,bg:{background:a},color:f,color2:v,orientation:s,refWrap:function(){return R.current}}))):null};A.propTypes={ad:v.default.bool.isRequired,background:v.default.string.isRequired,buttons:v.default.shape({buttons:v.default.arrayOf(v.default.shape({icon:v.default.string,info:v.default.string,social:v.default.shape({href:v.default.string.isRequired,type:v.default.string.isRequired}),onClick:v.default.func,show:v.default.bool.isRequired,title:v.default.string}).isRequired),orientation:v.default.string}),designer:v.default.bool.isRequired,onButtonsClick:v.default.func,online:v.default.bool.isRequired,onLogoClick:v.default.func,orientation:v.default.string.isRequired,padding:v.default.string.isRequired,textStyle:v.default.any,color:v.default.string,color2:v.default.string,text:v.default.string,billRu:v.default.bool,show:v.default.bool,onLabelHover:v.default.func};var x=A;t.default=x},66273:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(5872)),r=a(n(87672)),l=a(n(26394)),u=a(n(69198)),s=a(n(51379)),c=a(n(214)),d=a(n(66380)),f=a(n(59748)),h=a(n(60021)),p=a(n(62652)),g=a(n(48882)),m=a(n(58165)),v=a(n(58061)),_=n(17674),y=n(85442);function b(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var o=(0,d.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}a(n(75043)).default.name("Leaf");var w=function(e){(0,s.default)(n,e);var t=b(n);function n(e){return(0,l.default)(this,n),t.call(this,e)}return(0,u.default)(n,[{key:"isOnline",value:function(){return p.default.is_online||this.props.ignoreOffline}},{key:"getRenderData",value:function(){var e=this.isOnline()?"#18C139":"#5e5f61",t="call"===this.props.type?"_bottom":"_"+this.props.orientation;return{styles:{leaf:[(0,r.default)({leaf:!0},t,!0)],cssLeaf:[{cssLeaf:!0}]},style:g.default,data:{color:e}}}},{key:"renderData",value:function(e,t){return v.default.mobileOrTablet()?null:f.default.createElement("jdiv",(0,o.default)({},t.leaf,{onClick:function(){_.Router.next(y.RouterEvent.ToDebug)}}),f.default.createElement(m.default,(0,o.default)({color:this.props.color,color2:e.color,iconName:this.isOnline()?"leafBottom":"leafBottomOffline"},t.cssLeaf)))}}]),n}(h.default);t.default=w},95561:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.initSocial=t.hideInvitation=t.showChat=void 0;var i=n(81189),o=a(n(47321)),r=a(n(40695)),l=n(75245),u=n(33367),s=n(63242),c=n(17674),d=n(85442),f=n(42796);t.showChat=function(e,t){i.appDispatchers.setAppIsFocused(1),o.default.chatOpenByClient=!0,c.Router.next(t),i.transitionDispatchers.startTransition(f.ScriptName.OPEN_WIDGET),e?r.default.trackChatOpenedByClick():r.default.trackOfflineFormOpenedByClick(),l.messageActions.addMessagesOnOpen(e),u.Monitoring.telemetry(s.TelemetryName.WIDGET_CLICK)};t.hideInvitation=function(){c.Router.next(d.RouterEvent.CloseWindow),u.Monitoring.telemetry(s.TelemetryName.INVITE_CLOSE)};t.initSocial=function(){o.default.initSocial()}},44835:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.getLabelButtons=t.getTextStyle=t.getTextProp=t.getBackgroundProp=t.getAdProp=t.getAnimationPostfix=void 0;var i=a(n(77766)),o=n(56602),r=a(n(62652)),l=(n(17674),n(36143)),u=n(85442),s=n(75245),c=n(33367),d=n(63242),f=n(51139),h=a(n(75119)),p=a(n(86999)),g=a(n(40695)),m=n(81189),v=n(95561);t.getAnimationPostfix=function(e){!l.RouterUtils.isChatMinAvailable()&&e.widgetOrientation};t.getAdProp=function(){return(0,o.showAd)()};t.getBackgroundProp=function(e){return p.default.getGradientBg(e.widgetColor,e.widgetColor2)};t.getTextProp=function(e,t){return e.isOnline?t.onlineWidgetLabel:t.offlineWidgetLabel};t.getTextStyle=function(e){var t=e.fontType.split(" "),n=(0,o.getTextColor)(e.widgetFontColor);return{fontSize:e.fontSize+"px",fontFamily:e.fontFamily+", Arial",fontWeight:"bold"===t[0]?"bold":null,fontStyle:"bold"!==t[0]?t[0]:t[1]||null,color:n}};t.getLabelButtons=function(e,t,n,a,i){var o=[];i.vk&&o.push(y(n,t,i,e)),i.fb&&o.push(b(n,t,i,e));var r=!(!t.joint||!t.joint.wa)&&t.joint.wa;return a.available&&o.push(w(n,a,e)),r&&o.push(E(r)),(i.vk||i.fb||a.available||r)&&o.push(C(n,a,i,r)),{buttons:o,orientation:e.widgetOrientation}};var _=function(e){var t=e.target.getAttribute("jv-social-type");g.default.trackSocial(t),c.Monitoring.telemetry(d.TelemetryName.LABEL_BUTTONS+t)},y=function(e,t,n,a){return{show:n.vk,social:{type:"vk",href:k(t)},title:(0,h.default)("label_vk_text"),info:I(e,a),onClick:function(e){e.stopPropagation(),_(e)}}},b=function(e,t,n,a){return{show:n.fb,social:{type:"fb",href:S(t)},title:(0,h.default)("label_fb_text"),info:I(e,a),onClick:function(e){e.stopPropagation(),_(e)}}},w=function(e,t,n){return{icon:"callback",onClick:function(t){t.stopPropagation(),m.userDispatchers.setCallHeaderText(null),(0,v.showChat)(e.isOnline,u.RouterEvent.ToCall),c.Monitoring.telemetry(d.TelemetryName.LABEL_BUTTONS_CALL)},show:t.available,title:T(n,t)}},E=function(e){return{icon:"wa",onClick:function(t){t.stopPropagation(),window.open("https://wa.me/"+e),c.Monitoring.telemetry(d.TelemetryName.LABEL_BUTTONS_WA)},show:!0,title:"WhatsApp"}},C=function(e,t,n,a){return{icon:"chat",onClick:function(t){t.stopPropagation(),r.default.is_focused=1,s.messageActions.addPrechatMessage(),(0,v.showChat)(e.isOnline,u.RouterEvent.Navigate),c.Monitoring.telemetry(d.TelemetryName.LABEL_BUTTONS_CHAT)},show:!!(n.vk||n.fb||t.available||a),title:e.isOnline?(0,h.default)("cw_typeInChat"):(0,h.default)("lblLeaveMessage")}},T=function(e,t){return t.isDelayed?(0,h.default)("callback_delayed_button_submit"):(0,i.default)(n=(0,i.default)(a="".concat((0,h.default)("cw_callAfter"),"\n")).call(a,e.callback.time," ")).call(n,(0,f.getTextSeconds)(e.callback.time),"!");var n,a},k=function(e){return e.joint&&e.joint.vk&&e.joint.vk.joint_id?"https://vk.com/im?sel=-"+e.joint.vk.joint_id:null},S=function(e){return e.joint&&e.joint.fb&&e.joint.fb.joint_id?"https://www.facebook.com/messages/t/"+e.joint.fb.joint_id:null},I=function(e,t){return e.isOnline?(0,h.default)("social_text_"+(t.socialResponse||1)):null}},2183:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(59748)),o=a(n(73525)),r=a(n(45697)),l=a(n(94184)),u=function(e){var t=e.icon,n=e.info,a=e.social,r=e.onClick,u=e.show,s=e.title;return!u||!a&&!t||a&&t?null:i.default.createElement("jdiv",{className:o.default.labelButton,onClick:r},a&&i.default.createElement("a",{className:(0,l.default)([o.default.text,o.default[a.type]]),onClick:r,target:"_blank",rel:"noopener noreferrer nofollow","jv-social-type":a.type,href:a.href},s&&i.default.createElement("jdiv",{className:o.default.title},s),n&&i.default.createElement("jdiv",{className:o.default.info},n)),t&&i.default.createElement("jdiv",{className:(0,l.default)([o.default.text,o.default[t]])},s&&i.default.createElement("jdiv",{className:o.default.title},s)))};u.propTypes={icon:r.default.string,info:r.default.string,social:r.default.shape({href:r.default.string.isRequired,type:r.default.string.isRequired}),onClick:r.default.func,show:r.default.bool.isRequired,title:r.default.string};var s=i.default.memo(u);t.default=s},12844:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(5872)),o=a(n(2991)),r=a(n(87672)),l=a(n(59748)),u=a(n(52156)),s=a(n(2183)),c=a(n(94184)),d=a(n(45697)),f=function(e){var t,n,a=e.buttons,d=e.orientation;return a.length>0?l.default.createElement("jdiv",{className:(0,c.default)((t={},(0,r.default)(t,u.default.labelButtons,!0),(0,r.default)(t,u.default["_"+d],!0),t))},(0,o.default)(a).call(a,(function(e,t){return l.default.createElement(s.default,(0,i.default)({key:t},e))})),l.default.createElement("jdiv",{className:(0,c.default)((n={},(0,r.default)(n,u.default.buttonsCorner,!0),(0,r.default)(n,u.default[d+"Corner"],!0),n))})):null};f.propTypes={buttons:d.default.arrayOf(d.default.shape({icon:d.default.string,info:d.default.string,social:d.default.shape({href:d.default.string.isRequired,type:d.default.string.isRequired}),onClick:d.default.func,show:d.default.bool.isRequired,title:d.default.string}).isRequired),orientation:d.default.string.isRequired};var h=l.default.memo(f);t.default=h},76775:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(5872)),r=a(n(54103)),l=a(n(33032)),u=a(n(26394)),s=a(n(69198)),c=a(n(51379)),d=a(n(214)),f=a(n(66380)),h=a(n(59748)),p=a(n(60021)),g=a(n(34197)),m=n(57018),v=a(n(58165));function _(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var o=(0,f.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}var y=function(e){(0,c.default)(n,e);var t=_(n);function n(e){var a;return(0,u.default)(this,n),(a=t.call(this,e)).state={agent:a.props.agent,text:a.props.text,fade:!1,textHeight:0},a}return(0,s.default)(n,[{key:"componentDidUpdate",value:function(){if(this._popupText){var e=this._popupText.offsetHeight;this.state.textHeight!==e&&this.setState({textHeight:e})}}},{key:"closePopup",value:function(e){var t=this;e.preventDefault(),e.stopPropagation(),this.setState({fade:!0}),(0,l.default)((function(){t.props.onClose&&t.props.onClose(e)}),300)}},{key:"renderAvatar",value:function(e){if(!this.props.popup)return null;var t=this.props.popup.agent,n=t.avatar_url?{backgroundImage:"url(".concat(t.avatar_url,")")}:{};return h.default.createElement("jdiv",e.avatar,h.default.createElement("jdiv",{className:g.default.avatarImg,style:n}),h.default.createElement("jdiv",e.agentName,t.display_name))}},{key:"getRenderData",value:function(){var e=this.props.popup&&this.props.popup.text.length<m.PROACTIVE_TEXT_LIMIT;return{styles:{popupWrap:[{popupWrap:!0,__show:this.props.show}],avatar:[{avatar:!0}],popupBlock:[{popupBlock:!0,__show:!this.state.fade&&this.props.show,__short:e,__longText:this.state.textHeight>m.PROACTIVE_MAX_HEIGHT}],text:[{text:!0}],textBox:[{textBox:!0}],agentName:[{agentName:!0}]},style:g.default,data:{text:this.props.popup?this.props.popup.text:null}}}},{key:"renderData",value:function(e,t){var n,a=this;return h.default.createElement("jdiv",t.popupWrap,h.default.createElement("jdiv",(0,o.default)({},t.popupBlock,{onClick:function(e){a.props.onOpen(e,"popup")}}),this.renderAvatar(t),h.default.createElement("jdiv",{className:g.default.closeBlock,onClick:(0,r.default)(n=this.closePopup).call(n,this)},h.default.createElement(v.default,{iconName:"icon-popup-close",color:"#959BA0",hoverColor:"#7D8999",className:g.default.closePopupIcon})),h.default.createElement("jdiv",t.text,h.default.createElement("jdiv",(0,o.default)({},t.textBox,{dangerouslySetInnerHTML:{__html:e.text},ref:function(e){a._popupText=e}})))))}}]),n}(p.default);t.default=y},32822:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(59748)),o=n(26213),r=a(n(45697)),l=a(n(76775)),u=n(57539),s=n(85442),c=n(8479),d=n(66481),f=function(e){var t=e.appStore,n=e.systemSettings,a=e.onShow,o=e.onClose,r={text:(0,c.getLabelInvitationText)(),agent:(0,c.getLabelInvitationAgent)(n)};return t.route===s.Route.LABEL_INVITATION&&a(),i.default.createElement(u.Path,{paths:[s.Route.LABEL_INVITATION],name:"LabelInvitation",transition:"Fade",duration:300,withMountTransition:!0,withUnmountTransition:!0,cheap:!0},i.default.createElement(l.default,{show:!0,popup:r,onOpen:function(){(0,d.openInvitation)(t.isOnline)},onClose:function(){(0,d.closeInvitation)(),o()}}))};f.propTypes={appStore:r.default.shape({isOnline:r.default.bool.isRequired}).isRequired,systemSettings:r.default.any.isRequired,onClose:r.default.func,onShow:r.default.func};var h=(0,o.connect)((function(e){return{appStore:e.app,callback:e.callback,features:e.settings.features,social:e.social,systemSettings:e.settings.system,userSettings:e.settings.user}}),{})(f);t.default=h},66481:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.closeInvitation=t.openInvitation=void 0;var a=n(95561),i=n(60906),o=n(17674),r=n(85442),l=n(33367),u=n(63242);t.openInvitation=function(e){(0,a.showChat)(e,r.RouterEvent.Navigate),i.ApiInvitationsManager.markInvitationsRead()};t.closeInvitation=function(){o.Router.next(r.RouterEvent.CloseWindow),l.Monitoring.telemetry(u.TelemetryName.INVITE_CLOSE)}},8479:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.getLabelInvitationAgent=t.getLabelInvitationText=void 0;var i=a(n(77766)),o=n(56602),r=a(n(99357));t.getLabelInvitationText=function(){var e=r.default.getLastUnreadApiInvitation();return e&&e.get("text")||""};t.getLabelInvitationAgent=function(e){var t=r.default.getLastUnreadApiInvitation(),n=t&&t.get("body")||{};if(n.avatar_url){var a,l,u=(0,i.default)(a=(0,i.default)(l="".concat((0,o.getProtocol)())).call(l,e.avatarUrl,"/avatars/")).call(a,n.avatar_url);n.avatar_url=u}return n}},52673:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(87672)),o=a(n(59748)),r=a(n(5711)),l=a(n(68806)),u=a(n(94184)),s=a(n(45697)),c=function(e){var t,n=e.onPointerDown,a=e.landscape,s=e.isPointer,c=function(e){n&&n(e)};return o.default.createElement("jdiv",{className:(0,u.default)((t={},(0,i.default)(t,r.default.wrap,!0),(0,i.default)(t,r.default._extraPadding,l.default.getUserZoom()>1),(0,i.default)(t,r.default._aboveAll,a),t)),onPointerDown:function(e){return c(e)},onTouchStart:function(e){e.preventDefault(),s||c(e)}},a?o.default.createElement("jdiv",{className:r.default.image}):null)};c.propTypes={onPointerDown:s.default.func.isRequired,landscape:s.default.bool.isRequired,isPointer:s.default.bool.isRequired};var d=o.default.memo(c);t.default=d},53897:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(5872)),o=a(n(87672)),r=a(n(59748)),l=a(n(68691)),u=a(n(58165)),s=a(n(58061)),c=a(n(45697)),d=a(n(94184)),f=n(70645),h=function(e){var t,n=e.backgroundColor,a=e.onClick,c=e.online,h=e.orientation,p=e["data-qa-id"];return s.default.mobileOrTablet()?null:r.default.createElement("jdiv",(0,i.default)({className:(0,d.default)((t={},(0,o.default)(t,l.default.leaf,!0),(0,o.default)(t,l.default["_"+h],!0),t)),onClick:a||null},(0,f.withLocator)(p)),r.default.createElement(u.default,{color:n,color2:c?"#18C139":"#5e5f61",iconName:c?"leafBottom":"leafBottomOffline",className:l.default.cssLeaf}))};h.propTypes={backgroundColor:c.default.string.isRequired,onClick:c.default.func,online:c.default.bool.isRequired,orientation:c.default.string.isRequired,"data-qa-id":c.default.string};var p=r.default.memo(h);t.default=p},59821:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(87672)),o=a(n(59748)),r=a(n(58165)),l=a(n(60284)),u=a(n(45697)),s=a(n(94184)),c=function(e){var t,n,a=e.ru,u=e.leafColor,c=e.onClick,d=e.orientation,f=e.textColor;return o.default.createElement("jdiv",{className:(0,s.default)((t={},(0,i.default)(t,l.default.logo,!0),(0,i.default)(t,l.default["_"+d],!0),t))},o.default.createElement("jdiv",{className:l.default.hoverBox,onClick:function(e){c(e,!0)}}),o.default.createElement(r.default,{iconName:a?"logo-jivosite":"logo-jivochat",color:f,color2:u,className:(0,s.default)((n={},(0,i.default)(n,l.default.logoIcon,!0),(0,i.default)(n,l.default.__ru,a),n))}),o.default.createElement("jdiv",{className:l.default.fallback}))};c.propTypes={ru:u.default.bool.isRequired,leafColor:u.default.string.isRequired,onClick:u.default.func.isRequired,orientation:u.default.string.isRequired,textColor:u.default.string.isRequired};var d=o.default.memo(c);t.default=d},96747:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(2991)),o=a(n(78580)),r=a(n(59748)),l=a(n(45697)),u=a(n(7886)),s=a(n(13245)),c=n(33367),d=n(63242),f=a(n(71168)),h=function e(t){var n=t.text,a=t.nodes,l=n?(0,u.default)(n):a||[],h=function(e){return r.default.createElement(s.default,{text:e})},p=function(t){return 1===t.block.length&&"image"===t.block[0].type?(t.block[0].linkUrl=t.url,_(t.block[0])):r.default.createElement("a",{target:"_blank",onClick:function(){c.Monitoring.telemetry(d.TelemetryName.MARKDOWN_LINK_CLICK,{param1:t.url})},rel:"nofollow noopener noreferrer",href:t.url},r.default.createElement(e,{nodes:t.block}))},g=function(t){return r.default.createElement("strong",null,r.default.createElement(e,{nodes:t.block}))},m=function(t){return r.default.createElement("em",null,r.default.createElement(e,{nodes:t.block}))},v=function(t){return r.default.createElement("s",null,r.default.createElement(e,{nodes:t.block}))},_=function(e){var t,n,a,i=e.linkUrl&&((0,o.default)(t=e.linkUrl).call(t,"youtube")||(0,o.default)(n=e.linkUrl).call(n,"youtu.be")),l=!i&&(0,o.default)(a=e.url).call(a,".gif");return r.default.createElement("a",{href:e.linkUrl||e.url,title:e.alt,target:"_blank",rel:"nofollow noopener noreferrer",className:f.default.imageLink},r.default.createElement("img",{src:e.url,title:e.alt,alt:e.alt,loading:"lazy",className:f.default.image}),l?r.default.createElement("jdiv",{className:f.default.mediaType},"GIF"):null,i?r.default.createElement("jdiv",{className:f.default.mediaType},"Youtube"):null)};return r.default.createElement(r.default.Fragment,null,(0,i.default)(l).call(l,(function(e){return function(e){switch(e.type){case"text":return h(e.text);case"bold":return g(e);case"italic":return m(e);case"strike":return v(e);case"link":return p(e);case"image":return _(e);default:return null}}(e)})))};h.propTypes={text:l.default.string.isRequired,nodes:l.default.any};var p=h;t.default=p},13245:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(2991)),o=a(n(81643)),r=a(n(3649)),l=a(n(59036)),u=a(n(78914)),s=a(n(59748)),c=a(n(45697)),d=a(n(77244)),f=function(e){var t=e.text,n=function e(t){var n=[],a=t.match(/\r|\n/);if(a){var i=(0,r.default)(t).call(t,0,a.index),o=(0,r.default)(t).call(t,a.index+1);n.push({text:i,type:"text"}),n.push({type:"br"}),n.push.apply(n,(0,l.default)(e(o)))}else n.push({text:t,type:"text"});return n},a=function(e){if("br"===e.type)return[e];var t=[],n=[];if(d.default.parse(e.text,(function(e){var t=d.default.toCodePoint(e);n.push({icon:e,code:t})})),n.length>0){var a=e.text;(0,u.default)(n).call(n,(function(e){var n=(0,o.default)(a).call(a,e.icon);t.push({text:(0,r.default)(a).call(a,0,n),type:"text"}),t.push({type:"emoji",icon:e.icon,code:e.code}),a=a.replace(e.icon,""),a=(0,r.default)(a).call(a,n)})),t.push({text:a,type:"text"})}else t.push(e);return t},c=function(e){return s.default.createElement(s.default.Fragment,null,e)},f=function(){return s.default.createElement(s.default.Fragment,null,s.default.createElement("br",null))},h=function(e){var t=e.code;return s.default.createElement(s.default.Fragment,null,s.default.createElement(d.default,{icon:t,className:"emojiMessages"}))},p=function(e){var t=[],i=n(e,t);return(0,u.default)(i).call(i,(function(e){t.push.apply(t,(0,l.default)(a(e)))})),t}(t);return s.default.createElement(s.default.Fragment,null,(0,i.default)(p).call(p,(function(e){return function(e){switch(e.type){case"text":return c(e.text);case"br":return f();case"emoji":return h(e);default:return c(e.text)}}(e)})))};f.propTypes={text:c.default.string,children:c.default.oneOfType([c.default.arrayOf(c.default.node),c.default.node]).isRequired};var h=f;t.default=h},90140:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(87672)),r=a(n(5872)),l=a(n(26394)),u=a(n(69198)),s=a(n(51379)),c=a(n(214)),d=a(n(66380)),f=a(n(59748)),h=a(n(60021)),p=a(n(8717)),g=a(n(68806)),m=a(n(99357)),v=a(n(8282)),_=a(n(69961)),y=a(n(58061)),b=a(n(62904)),w=a(n(16810)),E=a(n(45808)),C=n(21224),T=a(n(80743)),k=n(8565);function S(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var o=(0,d.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}var I=function(e){(0,s.default)(n,e);var t=S(n);function n(e){var a;return(0,l.default)(this,n),(a=t.call(this,e)).state={textSize:g.default.getTextSize(),transparent:e.isPreview},a}return(0,u.default)(n,[{key:"componentDidMount",value:function(){var e=this;g.default.listenChangeZoom((function(){var t=g.default.getTextSize();t!==e.state.textSize&&e.setState({textSize:t})}))}},{key:"isLastMessage",value:function(){var e=m.default.getLastMessage(),t=E.default.getComponent(C.Component.SCROLL_CONTAINER);return!(!this.base||!t)&&(!this.base.nextSibling&&e.get("type")===k.MessageType.MESSAGE&&(e.get("from")===k.MessageInitiator.AGENT||"bot"===e.get("from"))&&t.animated)}},{key:"renderAvatar",value:function(e,t){if(t.msgAgent)return t.isBot?f.default.createElement("jdiv",(0,r.default)({},e.avatarBox,{title:t.agentName}),f.default.createElement(T.default,{url:t.msgAgent.avatar_url?t.msgAgent.avatar_url:null})):f.default.createElement("jdiv",(0,r.default)({},e.avatarBox,{title:t.agentName}),f.default.createElement(w.default,{avatars:[t.msgAgent],connected:!1,type:"chat"}))}},{key:"getRenderData",value:function(){var e,t,n=this.props.messages[0];t=this.props.messages&&"invoice"===n.get("type")?"while":b.default.bubble_color||"green";var a=null,i=n.get("from_id"),r=v.default.getAgentById(i),l="bot"===n.get("from");if(n.get("type")===k.MessageType.PROACTIVE?a=(r=n.get("body")&&n.get("body").agent_id?n.get("body"):_.default).display_name:r&&!l&&(a=r.get("display_name")),l){var u=v.default.getBotById(i);u&&(a=(r=u.toJSON()).display_name)}var s=y.default.ios()?{"-webkit-text-size-adjust":this.state.textSize}:null;return{styles:{main:[(e={main:!0,_mobile:y.default.mobileOrTablet()},(0,o.default)(e,"__"+t,!1),(0,o.default)(e,"_transparent",this.state.transparent),(0,o.default)(e,"_noagent",!n.get("from_id")&&!l),e),s],agentName:[{agentName:!0}],avatarBox:[{avatarBox:!0,__isAnimated:this.isLastMessage()}]},style:p.default,data:{msgAgent:r,agentName:a,isBot:l}}}},{key:"renderData",value:function(e,t){return f.default.createElement("jdiv",t.main,e.isBot||e.agentName?f.default.createElement("jdiv",t.agentName,e.isBot?f.default.createElement(f.default.Fragment,null,e.agentName||"Bot",f.default.createElement("jdiv",{className:p.default.botBadge},"bot")):e.agentName):"",this.renderAvatar(t,e),f.default.createElement("jdiv",{className:p.default.content},this.props.children))}}]),n}(h.default);t.default=I},68205:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(87672)),r=a(n(26394)),l=a(n(69198)),u=a(n(51379)),s=a(n(214)),c=a(n(66380)),d=a(n(59748)),f=a(n(58061)),h=a(n(62904)),p=a(n(90140)),g=a(n(8717));function m(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var o=(0,c.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var v=function(e){(0,u.default)(n,e);var t=m(n);function n(){return(0,r.default)(this,n),t.apply(this,arguments)}return(0,l.default)(n,[{key:"getRenderData",value:function(){var e,t,n=this.props.messages[0];t=this.props.messages&&"invoice"===n.get("type")?"while":h.default.bubble_color||"green";var a=f.default.ios()?{"-webkit-text-size-adjust":this.state.textSize}:null;return{styles:{main:[(e={main:!0,_mobile:f.default.mobileOrTablet()},(0,o.default)(e,"__"+t,!1),(0,o.default)(e,"_transparent",this.state.transparent),(0,o.default)(e,"_noagent",!0),e),a],agentName:[{agentName:!0}],avatarBox:[{avatarBox:!0,__isAnimated:this.isLastMessage()}]},style:g.default,data:{msgAgent:null,agentName:null}}}},{key:"renderData",value:function(e,t){return d.default.createElement("jdiv",t.main,e.agentName?d.default.createElement("jdiv",t.agentName,e.agentName):"",d.default.createElement("jdiv",{className:g.default.content},this.props.children))}}]),n}(p.default);t.default=v},43738:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(87672)),r=a(n(26394)),l=a(n(69198)),u=a(n(51379)),s=a(n(214)),c=a(n(66380)),d=a(n(59748)),f=a(n(60021)),h=a(n(62904)),p=a(n(58061)),g=a(n(68806)),m=a(n(74336));function v(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var o=(0,c.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var _=function(e){(0,u.default)(n,e);var t=v(n);function n(e){var a;return(0,r.default)(this,n),(a=t.call(this,e)).state={textSize:g.default.getTextSize()},a}return(0,l.default)(n,[{key:"componentDidMount",value:function(){var e=this;g.default.listenChangeZoom((function(){var t=g.default.getTextSize();t!==e.state.textSize&&e.setState({textSize:t})}))}},{key:"getRenderData",value:function(){var e,t=p.default.ios()?{"-webkit-text-size-adjust":this.state.textSize}:null,n=this.props.messages[0];return e=this.props.messages&&"invoice"===n.get("type")?"while":h.default.bubble_color||"green",{styles:{main:[(0,o.default)({main:!0,_mobile:p.default.mobileOrTablet()},"__"+e,!0),t],time:[{time:!0,_mobile:p.default.mobileOrTablet()},t]},style:m.default}}},{key:"renderData",value:function(e,t){return d.default.createElement("jdiv",t.main,d.default.createElement("jdiv",{className:m.default.content},this.props.children))}}]),n}(f.default);t.default=_},33104:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(63978)),o=a(n(20368)),r=a(n(39649)),l=a(n(34074)),u=a(n(20116)),s=a(n(14310)),c=a(n(86902)),d=a(n(1068)),f=a(n(5872)),h=a(n(87672)),p=a(n(78914)),g=a(n(33032)),m=a(n(54103)),v=a(n(59340)),_=a(n(26394)),y=a(n(69198)),b=a(n(51379)),w=a(n(214)),E=a(n(66380)),C=a(n(59748)),T=a(n(60021)),k=a(n(58061)),S=a(n(62107)),I=a(n(62904)),A=n(56602),x=a(n(47321)),M=a(n(18228)),R=a(n(62652)),O=a(n(36216)),N=a(n(36421)),D=a(n(55471)),L=a(n(99357)),P=a(n(69961)),j=a(n(67966)),B=a(n(8282)),F=a(n(531)),H=a(n(16810)),W=a(n(12907)),U=n(17674),z=n(85442),G=a(n(45808)),V=a(n(98077)),q=n(21224),K=a(n(96153)),Y=a(n(75043)),Z=n(75245),J=a(n(75119)),X=n(8565),$=n(24335),Q=n(33367),ee=n(63242),te=n(63465),ne=n(99112),ae=n(77347),ie=a(n(80743)),oe=a(n(57371)),re=a(n(58234));function le(e,t){var n=(0,c.default)(e);if(s.default){var a=(0,s.default)(e);t&&(a=(0,u.default)(a).call(a,(function(t){return(0,l.default)(e,t).enumerable}))),n.push.apply(n,a)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)(0,p.default)(n=le(Object(a),!0)).call(n,(function(t){(0,h.default)(e,t,a[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(a));else{var u;(0,p.default)(u=le(Object(a))).call(u,(function(t){(0,i.default)(e,t,(0,l.default)(a,t))}))}}return e}function se(e){var t=function(){if("undefined"==typeof Reflect||!d.default)return!1;if(d.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,d.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,E.default)(e);if(t){var i=(0,E.default)(this).constructor;n=(0,d.default)(a,arguments,i)}else n=a.apply(this,arguments);return(0,w.default)(this,n)}}var ce=Y.default.name("MessagesMain"),de=k.default.mobileOrTablet()||(0,A.isChatPage)(),fe=q.Component.CHAT_INPUT,he=function(e){(0,b.default)(n,e);var t=se(n);function n(e){var a;return(0,_.default)(this,n),(a=t.call(this,e)).state={messagesGroups:(0,ae.getMessagesGroup)(),lastEdit:null,hideScrollButton:!0,bottom:de?50:106,diff:0,lastAgent:null,show:!1,showMore:!1,forceUpdate:!1},a._container=null,a._scroll=null,a._lastHeight=0,a}return(0,y.default)(n,[{key:"updateMessages",value:function(e,t){var n=this;ce.log("updateMessages",e,t),t&&(0,ae.cleanTempProactive)(),this.setState({messagesGroups:(0,ae.getMessagesGroup)(),lastEdit:e?(0,v.default)(e.toJSON()):null,lastAgent:(0,te.getLastAgent)()},(function(){if(n.state.show){var t=e&&e.toJSON();if((0,te.setLastAgentScroll)(n._scroll))return n.checkShowBadge(),void ce.log("ignore anims and scroll to bottom");if(t&&t.type===X.MessageType.PROACTIVE||n._scroll&&n._scroll.getIgnore())ce.log("Ignore scroll for proactive update.");else if((0,te.isProactivePrechat)())ce.log("Need ignore for prechat and big proactives");else if($.isDesignerEditor)n.scrollToBottom();else if(n._scroll&&n._scroll.view&&!n._scroll.hasScroll()&&t&&t.from==X.MessageInitiator.FORM&&t.body&&t.body.inited)ce.log("No scroll, animate form");else{var a=n._scroll&&n._scroll.view&&n._scroll.getScrollDiff();0===a&&n._container&&(a=n._container.clientHeight-n._lastHeight),n._lastHeight=n._container.clientHeight,ce.log("diff",a,n._lastHeight),a&&a<600&&a!==n._lastHeight?(a<0&&(a=0),n.setState({diff:a>>0})):(ce.log("scroll bottom on update message"),n.scrollToBottom())}}})),this.readMessages()}},{key:"shouldComponentUpdate",value:function(e,t){return!(0,F.default)(e,this.props)||!(0,F.default)(t,this.state)}},{key:"componentDidMount",value:function(){var e,t,n=this;ce.log("mount"),this.showMessages(),j.default.on("all",(function(){n.setState({messagesGroups:(0,ae.getMessagesGroup)(),lastAgent:(0,te.getLastAgent)()}),n.readMessages()}));var a=(0,m.default)(e=this.updateMessages).call(e,this);L.default.on("create",(function(e,t){a&&a.call(n,e,t),n.getBottom(n.props.inputHeight);var i=e&&e.toJSON();i&&i.from===X.MessageInitiator.CLIENT&&(n._scroll&&n._scroll.setIgnore(!1),n.setState({showMore:!1,showBadge:!1})),i&&i.from===X.MessageInitiator.AGENT&&n.state.showMore&&n.needShowMore()&&(0,te.setLastAgentScroll)(n._scroll)&&n.checkShowBadge()}));var i=S.default.debounce((0,m.default)(t=this.updateMessages).call(t,this),200);L.default.on("update",(0,m.default)(i).call(i,this)),B.default.on("update",(function(){n.setState({messagesGroups:(0,ae.getMessagesGroup)(),lastAgent:(0,te.getLastAgent)(),forceUpdate:!n.state.forceUpdate})})),U.Router.on("route_change",(function(e){U.Router.isChatInputRoute(U.Router.getPrevRoute())||(n.showMessages(),n.readMessages(),de&&e===z.Route.LABEL&&n._scroll&&n._scroll.setIgnore(!1))})),this.on(N.default,{update:function(){n.readMessages()}}),M.default.on("socket_message",(function(e){e&&"resume_ok"===e.name&&n.readMessages()})),de||this.readMessages(),this._container=G.default.get(q.Component.MESSAGES_CONTAINER),this._scroll=G.default.getComponent(q.Component.SCROLL_CONTAINER),ce.log("initScroll:",this._scroll),!I.default.maintenance&&(0,te.isOfflineCanSend)()&&0===L.default.getFormMessage().length&&Z.messageActions.startFormSequence((0,J.default)("offlineIntroductionText")),I.default.maintenance&&Z.messageActions.addMaintenanceMessage(),(0,$.designerBind)("setBubbleColor",(function(){n.forceUpdate()}))}},{key:"showMessages",value:function(){var e=this,t=G.default.getComponent(q.Component.SCROLL_CONTAINER);t&&this.base&&(0,g.default)((function(){e.setState({show:!0}),t&&t.setIgnore(!1),k.default.mobileOrTablet()?!(0,te.setLastAgentScroll)(e._scroll)&&e.scrollToBottom():e.scrollToBottom()}),50)}},{key:"checkShowBadge",value:function(){ce.log("checkShowBadge"),this._scroll&&this.needShowMore()&&this._scroll.getIgnore()&&this.setState({showMore:!0,showBadge:L.default.getAgentMessages().length>1||L.default.getMessagesByType(X.MessageType.PRECHAT).length>0})}},{key:"getBottom",value:function(e){var t=this,n=de?56:106,a=e||n;a<n&&(a=n),de&&(0,A.showAd)()&&(a+=20);var i=!(!de||!this._scroll);return i&&this.props.isContactFormFocused&&(a=0),ce.log("getBottom",e,a),this.state.bottom!==a&&this.setState({bottom:a},(function(){i&&!t.props.isContactFormFocused&&t._scroll.scrollToBottom()})),a}},{key:"isInputVisible",value:function(e){if(e)return"none"!==e.style.display}},{key:"scrollToBottom",value:function(){this._scroll&&this._scroll.view&&(ce.log("scrollToBottom"),this._scroll.getIgnore()?ce.log("Ignore scroll to bottom, input focused."):this._scroll.scrollToBottom())}},{key:"readMessages",value:function(){if(N.default.isActive){var e=[],t=L.default.getUnreadMessage();(0,p.default)(t).call(t,(function(t){t.set("status",X.MessageStatus.READ);var n=t.get("msg_id");null!==n&&e.push(n)})),e.length&&this.isChatInput()&&x.default.agentMessageRead(e)}}},{key:"isChatInput",value:function(){return U.Router.isChatInputRoute(U.Router.getCurrentRoute())}},{key:"scrollToForm",value:function(){var e=(0,ae.getScrollToFormState)(R.default.is_online);e&&(this.scrollToBottom(),this.setState(ue(ue({},e),{},{lastAgent:(0,te.getLastAgent)()})))}},{key:"renderScrollToForm",value:function(){var e,t=L.default.getFormMessage();if(!O.default.is_introduced&&t.length)return C.default.createElement(V.default,{hide:this.state.hideScrollButton,scrollToForm:(0,m.default)(e=this.scrollToForm).call(e,this),scrollContainer:this._scroll})}},{key:"needShowMore",value:function(){return!!this._scroll&&this._scroll.getScrollDiff()>=40}},{key:"onScrollEnd",value:function(){ce.log("onScrollEnd");var e={};this.needShowMore()?e.showMore=!0:(e.showMore=!1,e.showBadge=!1);var t=L.default.getFormMessage();if(!O.default.is_introduced&&t.length){var n=G.default.get(q.Component.CHAT_INTRODUCE);if(n){var a=(0,ne.isScrolledIntoView)(n,this._scroll);a!==this.state.hideScrollButton&&(e.hideScrollButton=a)}this.setState(e)}else this.setState(e)}},{key:"onWrapTouch",value:function(e){if(k.default.mobileOrTablet()&&U.Router.getCurrentRoute()!==z.RouteList.LABEL){var t=(0,A.getPageWindow)().document.activeElement,n=G.default.get(fe);(0,ne.isInput)(t)&&this.isInputVisible(n)&&!(0,ne.isParentA)(e)&&(ce.log("onWrapTouch",t),t.blur())}}},{key:"onMoreClick",value:function(){this._scroll&&(this._scroll.setIgnore(!1),this.scrollToBottom()),Q.Monitoring.telemetry(ee.TelemetryName.MORE_BTN_CLICK,{param1:j.default.get("text")?1:0})}},{key:"isShowAvatar",value:function(){return!!(this._scroll&&this._scroll.animated>0&&(0,te.getLastAgent)())}},{key:"onTransitionEnd",value:function(e,t){var n=this;"transform"===e.propertyName&&0!==t&&(ce.log("Container animation end:",t),this.setState({diff:0},(function(){n.scrollToBottom()})),this._scroll.animated=!1)}},{key:"getOffset",value:function(){var e=null;return this._scroll&&(e=(0,ne.isNoScroll)(this._scroll,this._container)?"".concat(-1*this.state.diff||0,"px"):null),e}},{key:"getRenderData",value:function(){var e=this.getOffset();return this._scroll&&(this._scroll.animated=this.state.diff),{styles:{main:[{main:!0,__mobile:de,__ad:(0,A.showAd)()},{bottom:"".concat(this.getBottom(this.props.inputHeight),"px"),opacity:1}],wrap:[{wrap:!0}],container:[{container:!0,__tablet:k.default.tablet()||k.default.desktop()&&(0,A.isChatPage)()},{transform:this.state.diff?"translateY(".concat(-1*this.state.diff,"px)"):"translateY(0)",bottom:e||0,transition:0===this.state.diff?"none":"transform 0.2s cubic-bezier(0, 0.76, 0.28, 1)"}],avatarShadow:[{avatarShadow:!0,__mobile:de,__show:this.isShowAvatar()},{marginBottom:this.getBottom(this.props.inputHeight)}]},style:K.default}}},{key:"renderData",value:function(e,t){var n,a,i,o=this,r=P.default.bot_id>0;return C.default.createElement("jdiv",t.main,this.renderScrollToForm(t),C.default.createElement("jdiv",(0,f.default)({},t.wrap,{onPointerDown:(0,m.default)(n=this.onWrapTouch).call(n,this),onTouchStart:function(e){k.default.isPointerEnabled()||o.onWrapTouch(e)},ref:function(e){o._main=e}}),C.default.createElement(re.default,{messagesGroups:this.state.messagesGroups,onMessagesAnimationEnd:function(e,t){o.onTransitionEnd(e,t)},onScrollEnd:S.default.debounce((0,m.default)(a=this.onScrollEnd).call(a,this),200),diff:this.state.diff,bottomOffset:this.getOffset()}),1!=I.default.typing_insight||de?null:C.default.createElement(D.default,{show:this.props.agentTyping,isMobile:de}),(0,A.showAd)()&&!de?C.default.createElement(W.default,{type:"chat"}):null,C.default.createElement("jdiv",t.avatarShadow,r?C.default.createElement(ie.default,{url:P.default.avatar_url?P.default.avatar_url:null}):C.default.createElement(H.default,{avatars:[this.state.lastAgent],connected:!1,type:"chat"})),C.default.createElement(oe.default,{color:I.default.bubble_color,show:this.state.showMore&&!this.props.isInDrag,showBadge:this.state.showBadge,onClick:(0,m.default)(i=this.onMoreClick).call(i,this)})))}}]),n}(T.default);t.default=he},58234:function(e,t,n){"use strict";var a=n(87646),i=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(2991)),r=i(n(87672)),l=i(n(18777)),u=a(n(59748)),s=i(n(62107)),c=n(26213),d=i(n(45697)),f=i(n(94184)),h=n(21224),p=i(n(20748)),g=i(n(71093)),m=i(n(58061)),v=i(n(45808)),_=n(56602),y=(n(99112),n(8565)),b=i(n(76644)),w=i(n(72961)),E=i(n(39401)),C=i(n(63686)),T=i(n(54280)),k=i(n(22620)),S=i(n(38061)),I=i(n(12090)),A=i(n(37117)),x=i(n(28412)),M=i(n(45423)),R=i(n(17031)),O=i(n(74819)),N=i(n(96153)),D=i(n(75043)).default.name("MessagesPure"),L=function(e){var t,n,a=e.messagesGroups,i=e.onMessagesAnimationEnd,c=e.onScrollEnd,d=e.diff,L=e.bottomOffset,P=(0,u.useState)({messagesCount:a.length}),j=(0,l.default)(P,2),B=(j[0],j[1],t={},(0,r.default)(t,y.MessageType.MESSAGE,w.default),(0,r.default)(t,y.MessageType.PROACTIVE,w.default),(0,r.default)(t,y.MessageType.SEPARATOR,b.default),(0,r.default)(t,y.MessageType.INVOICE,E.default),(0,r.default)(t,y.MessageType.COBROWSE,C.default),(0,r.default)(t,y.MessageType.SYSTEM,T.default),(0,r.default)(t,y.MessageType.INVITE,T.default),(0,r.default)(t,y.MessageType.PREFORM,T.default),(0,r.default)(t,y.MessageType.SOCIAL,k.default),(0,r.default)(t,y.MessageType.MEDIA,I.default),(0,r.default)(t,y.MessageType.EMAIL,S.default),(0,r.default)(t,y.MessageType.FORM,A.default),(0,r.default)(t,y.MessageType.TEMPORARY,x.default),(0,r.default)(t,y.MessageType.FOR_TEST,R.default),(0,r.default)(t,y.MessageType.PRECHAT,M.default),(0,r.default)(t,y.MessageType.BOT,w.default),(0,r.default)(t,y.MessageType.LISTPICKER,O.default),t);(0,u.useEffect)((function(){D.log("init")}),[]);var F=m.default.mobileOrTablet()?40:30,H=(0,f.default)((n={},(0,r.default)(n,N.default.container,!0),(0,r.default)(n,N.default.__tablet,m.default.tablet()),n));return u.default.createElement(p.default,{onScrollStop:s.default.debounce(c,200),className:N.default.scroll,autoHide:!0,id:"scrollbar-container",scrollMarginTop:(0,_.showAd)()?F:0,railClass:N.default.rail,ref:function(e){D.log("scroll el",e),e&&v.default.set(h.Component.SCROLL_CONTAINER,e)}},u.default.createElement("jdiv",{className:H,onTransitionEnd:function(e){i(e,d)},ref:function(e){D.log("container el",e),e&&v.default.set(h.Component.MESSAGES_CONTAINER,e)},style:{transform:d?"translateY(".concat(-1*d,"px)"):"translateY(0)",bottom:L||0,transition:0===d?"none":"transform 0.2s cubic-bezier(0, 0.76, 0.28, 1)"}},(0,o.default)(a).call(a,(function(e,t){var n=e[0]instanceof g.default?e[0].toJSON():e[0];if(n.type==y.MessageType.MEDIA&&n.body&&n.body.type==y.MessageType.STICKER&&(n.type=y.MessageType.MESSAGE),n.type==y.MessageType.MEDIA&&n.body&&n.from_id&&n.body.type==y.MessageType.COBROWSE&&(n.type=y.MessageType.COBROWSE),n.type){var a=B[n.type];return u.default.createElement(a,{messages:e,key:t})}}))))};L.propTypes={messagesGroups:d.default.array.isRequired,onMessagesAnimationEnd:d.default.func.isRequired,onScrollEnd:d.default.func.isRequired,diff:d.default.number,bottomOffset:d.default.string};var P=(0,c.connect)((function(e){return{messages:e.messages}}),{})(L);t.default=P},22952:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(59748)),o=n(26213),r=a(n(45697)),l=a(n(33104)),u=(a(n(75043)).default.name("MessagesWrap"),function(e){var t=e.route,n=e.isInDrag,a=e.isContactFormFocused,o=e.inputHeight,r=e.agentTyping;return i.default.createElement(l.default,{route:t,isInDrag:n,isContactFormFocused:a,inputHeight:o,agentTyping:r})});u.propTypes={route:r.default.string,isContactFormFocused:r.default.bool,isInDrag:r.default.bool,inputHeight:r.default.number};var s=(0,o.connect)((function(e){var t=e.chats[e.chats.length?e.chats.length-1:0];return{route:e.app.route,isInDrag:e.app.isInDrag,isContactFormFocused:e.app.isContactFormFocused,agentTyping:t?t.agentTyping:0}}),{})(u);t.default=s},63686:function(e,t,n){"use strict";var a=n(87646),i=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(87672)),r=i(n(33032)),l=i(n(18777)),u=a(n(59748)),s=i(n(45026)),c=i(n(94184)),d=i(n(45697)),f=i(n(45127)),h=i(n(27968)),p=i(n(75119)),g=i(n(62904)),m=i(n(58061)),v=i(n(90140)),_=n(33367),y=n(63242),b=n(17674),w=n(85442),E=i(n(8282)),C=(i(n(75043)).default.name("CobrowseMessage"),function(e){var t,n,a=e.messages,i=a[0].toJSON();if(!i.from_id&&"highlight"!==i.body.type)return null;var d=(0,u.useState)(i.body.error),C=(0,l.default)(d,2),T=C[0],k=C[1],S=a[0].toJSON(),I=(0,f.default)(S.created_ts,"dd.mm.yy H:MM:ss"),A=S.body.hash,x=S.body.page_url,M=null;S.from_id&&(M=S.from_id,S.text=S.body.text,A=S.body.address,x=S.body.url);var R=function(e){e||(a[0]&&a[0].set("body.error",!0),k(!0))},O=function(e){T||(e.preventDefault(),function(){var e;if(M){var t=E.default.getAgentById(M);t&&(e=t.toJSON())}var n=function(){h.default.getCobrowseData(A,x,S.text,e,R)};m.default.mobileOrTablet()?(b.Router.next(w.RouterEvent.CloseWindow),(0,r.default)((function(){n()}),1e3)):n()}(),_.Monitoring.telemetry(y.TelemetryName.COBROWSE_CLICK_BUTTON))};return u.default.createElement(v.default,{messages:a},u.default.createElement("jdiv",{className:(0,c.default)((t={},(0,o.default)(t,s.default.main,!0),(0,o.default)(t,s.default["__"+g.default.bubble_color||0],!0),(0,o.default)(t,s.default.__mobile,m.default.mobileOrTablet()),t)),title:I},u.default.createElement("jdiv",{className:s.default.text},S.text?S.text:(0,p.default)("lblDefaultCobrowseComment")),u.default.createElement("jdiv",{className:(0,c.default)((n={},(0,o.default)(n,s.default.showBtn,!0),(0,o.default)(n,s.default.__disabled,T),n)),onPointerDown:O,onTouchStart:function(e){e.preventDefault(),m.default.isPointerEnabled()||O(e)},title:(0,p.default)("lblDefaultCobrowseComment")},(0,p.default)("lblView")),T?u.default.createElement("jdiv",{className:s.default.error},(0,p.default)("cobrowseError")):null))});C.propTypes={messages:d.default.any};var T=u.default.memo(C);t.default=T},38061:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(5872)),r=a(n(54103)),l=a(n(87672)),u=a(n(81643)),s=a(n(26394)),c=a(n(69198)),d=a(n(51379)),f=a(n(214)),h=a(n(66380)),p=a(n(59748)),g=a(n(60021)),m=a(n(75119)),v=a(n(40695)),_=(a(n(47321)),a(n(18228))),y=a(n(62652)),b=a(n(36216)),w=a(n(62904)),E=a(n(58061)),C=a(n(99357)),T=a(n(68806)),k=a(n(71059)),S=a(n(94184)),I=a(n(42085)),A=a(n(22259)),x=n(17674),M=n(85442),R=a(n(94686)),O=n(33367),N=n(63242);function D(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,h.default)(e);if(t){var o=(0,h.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,f.default)(this,n)}}var L=a(n(75043)).default.name("MessageEmail"),P=function(e){(0,d.default)(n,e);var t=D(n);function n(e){var a;return(0,s.default)(this,n),(a=t.call(this,e)).state={submit:!1,email:!1,emailForm:!0,emailError:!0,submittedOnce:!1,hideForm:!0},a._input=null,a}return(0,c.default)(n,[{key:"componentDidMount",value:function(){var e=this;L.log("mounted"),w.default.eula&&!y.default.eula_accepted&&x.Router.on("submit_eula_success",(function(){L.log("email eula_submit_success",e.email,x.Router.getCurrentRoute()),(e._input&&e._input.value||e.email)&&e.saveChatEmail()})),x.Router.on("route_change",(function(){var t;-1!==(0,u.default)(t=[M.Route.LABEL,M.Route.CHAT_MIN]).call(t,x.Router.getCurrentRoute())?e.setState({hideForm:!0}):e.setState({hideForm:!1})})),this.on(b.default,(function(){!e.state.submit&&b.default.is_introduced&&b.default.client_info.email&&e.setState({submit:!0,email:b.default.client_info.email})}))}},{key:"saveChatEmail",value:function(e){e&&e.preventDefault();var t=this._input&&this._input.value||this.email;L.log("saveChatEmail",t),t&&R.default.email(t)?!y.default.eula_accepted&&w.default.eula?(this.email=t,this.setState({email:t}),x.Router.next(M.RouterEvent.Submit,{context:"messageEmail"})):(this.setState({submit:!0,email:t}),b.default.client_info.email=t,_.default.sendIfConnected({name:"introduction",client_name:b.default.client_info.client_name,phone:b.default.client_info.phone,email:t,description:b.default.client_info.description,accept_eula:w.default.eula&&y.default.eula_accepted||null}),this.email=!1,C.default.trigger("update"),v.default.trackSystemMessageEmailSubmitted(),O.Monitoring.telemetry(N.TelemetryName.EMAIL_MESSAGE_SUBMITTED)):this.setState({emailError:!0,submittedOnce:!0})}},{key:"typeEmail",value:function(e){if(e.keyCode&&13==e.keyCode)this.saveChatEmail();else{var t=this._input?this._input.value:e.target.value;R.default.email(t)?this.setState({emailError:!1}):this.state.submittedOnce&&this.setState({emailError:!0,submittedOnce:!1})}}},{key:"getInputClass",value:function(){var e;return(0,S.default)((e={},(0,l.default)(e,A.default.inputField,!0),(0,l.default)(e,A.default["_"+w.default.bubble_color],!0),(0,l.default)(e,A.default.__emailChat,!0),(0,l.default)(e,A.default._error,this.state.emailError&&this.state.submittedOnce),e))}},{key:"getRenderData",value:function(){return{styles:{box:[{box:!0,__finished:this.state.submit,__mobile:E.default.mobileOrTablet(),__ios:E.default.ios()||E.default.safari()},{display:this.state.emailForm?"block":"none"}],emailBlock:[{emailBlock:!0,_error:this.state.emailError&&this.state.submittedOnce}],emailText:[{emailText:!0},E.default.ios()?{lineHeight:T.default.getLineHeight(1.5)}:null],fieldWrap:[{fieldWrap:!0}],emailFinished:[{emailFinished:!0},{display:this.state.submit?"block":"none"}]},style:I.default}}},{key:"renderData",value:function(e,t){var n,a,i=this,l=this.state.hideForm?"jdiv":"form";return p.default.createElement("jdiv",{className:I.default.wrap},p.default.createElement("jdiv",t.box,this.state.submit?p.default.createElement("jdiv",t.emailFinished,p.default.createElement("jdiv",(0,o.default)({},t.emailText,{dangerouslySetInnerHTML:{__html:(0,m.default)("social_success_email").replace("_EMAIL_",this.state.email)}}))):p.default.createElement("jdiv",{className:I.default.form},p.default.createElement("jdiv",t.emailText,this.props.messages[0].get("text")),p.default.createElement(l,(0,o.default)({},t.emailBlock,{autocomplete:"on",onSubmit:function(e){e.preventDefault()}}),p.default.createElement("jdiv",{className:I.default.fieldWrap},p.default.createElement("input",{type:"email",autoComplete:"email",onKeyUp:(0,r.default)(n=this.typeEmail).call(n,this),placeholder:(0,m.default)("lblYourEmail"),className:this.getInputClass(),ref:function(e){i._input=e,i._input&&""===i._input.value&&i.email&&(i._input.value=i.email)}}),p.default.createElement(k.default,{disabled:this.state.disabled,click:(0,r.default)(a=this.saveChatEmail).call(a,this),type:"input-button",iconName:"icon-ok-white"}))))))}}]),n}(g.default);t.default=P},37117:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(63978)),o=a(n(20368)),r=a(n(39649)),l=a(n(78914)),u=a(n(34074)),s=a(n(14310)),c=a(n(86902)),d=a(n(1068)),f=a(n(2991)),h=a(n(89400)),p=a(n(5872)),g=a(n(54103)),m=a(n(33032)),v=a(n(51942)),_=a(n(20116)),y=a(n(47302)),b=a(n(87672)),w=a(n(26394)),E=a(n(69198)),C=a(n(51379)),T=a(n(214)),k=a(n(66380)),S=a(n(59748)),I=a(n(60021)),A=a(n(75119)),x=a(n(62904)),M=a(n(47321)),R=a(n(58061)),O=a(n(62107)),N=a(n(62652)),D=a(n(36216)),L=a(n(6991)),P=a(n(68806)),j=a(n(99357)),B=n(56602),F=a(n(45808)),H=n(21224),W=a(n(47396)),U=a(n(43986)),z=a(n(77244)),G=a(n(60801)),V=a(n(531)),q=n(8565),K=n(17674),Y=n(85442),Z=a(n(75043)),J=a(n(68853)),X=n(75245),$=n(36143),Q=n(33367),ee=n(63242),te=n(5505),ne=n(81189);function ae(e,t){var n=(0,c.default)(e);if(s.default){var a=(0,s.default)(e);t&&(a=(0,_.default)(a).call(a,(function(t){return(0,u.default)(e,t).enumerable}))),n.push.apply(n,a)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)(0,l.default)(n=ae(Object(a),!0)).call(n,(function(t){(0,b.default)(e,t,a[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(a));else{var s;(0,l.default)(s=ae(Object(a))).call(s,(function(t){(0,i.default)(e,t,(0,u.default)(a,t))}))}}return e}function oe(e){var t=function(){if("undefined"==typeof Reflect||!d.default)return!1;if(d.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,d.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,k.default)(e);if(t){var i=(0,k.default)(this).constructor;n=(0,d.default)(a,arguments,i)}else n=a.apply(this,arguments);return(0,T.default)(this,n)}}var re=Z.default.name("ContactForm"),le=L.default.getJoints(),ue=function(e){(0,C.default)(n,e);var t=oe(n);function n(e){var a;(0,w.default)(this,n),(a=t.call(this,e))._steps={},2===x.default.contacts_ask&&N.default.is_online&&!(0,B.isEmailOrPhoneRequired)()&&(x.default.contacts_settings.email={show:!0,required:!0}),N.default.is_online||(0,B.isEmailOrPhoneRequired)()||(!x.default.contacts_settings.email.show&&x.default.contacts_settings.phone.show?x.default.contacts_settings.phone={show:!0,required:!0}:x.default.contacts_settings.email={show:!0,required:!0}),a._totalSteps=a.getSteps();var i=a.props.messages[0],o=i.get("body")&&i.get("body").inited,r=D.default.is_introduced;return a.state={submited:r,step:3,steps:a._steps,social:a.canRenderSocial(),showForm:r||o,showMessage:r||o,focused:r||o,lastValue:null},a._formData=null,a._formContainer=null,a._introduceText=null,a}return(0,E.default)(n,[{key:"shouldComponentUpdate",value:function(e,t){return!(0,V.default)(this.state,t)||!(0,V.default)(this.props,e)}},{key:"componentDidMount",value:function(){var e=this;re.log("mount",this.props),$.RouterUtils.needToShowEula()&&K.Router.on("submit_eula_success",(function(){e.successCallback(e._formData)})),this.on(D.default,(function(){var t={};e.canRenderSocial()||(t.social=!1),D.default.is_introduced&&!e.state.submited&&(t=ie(ie({},t),{},{submited:!0,showForm:!0,focused:!0}),e.checkAllStepsValid()),e.setState(t)}));var t=this.props.messages[0],n=t.get("body")&&t.get("body").inited;D.default.is_introduced&&!n||(this.setState({showForm:!0}),t&&!n&&t.set("body",{inited:!0})),D.default.is_introduced&&this.checkAllStepsValid(),K.Router.on("route_change",(function(){e.ignoreScroll(!1)}));var a=j.default.getFormMessage();a.length&&a[0].on("created_ts",(function(){(0,y.default)(j.default).call(j.default),j.default.trigger("update")}))}},{key:"getSteps",value:function(){var e=this,t=1;return(0,_.default)(O.default).call(O.default,x.default.contacts_settings,(function(n,a){if(n.show){var i=t++;e._steps[a]={keyName:a,e:n,step:i}}return!0===n.show})).length}},{key:"checkAllStepsValid",value:function(){var e=this;O.default.each(this._steps,(function(t){var n=e._formContainer.checkValue(e.getStepName(t.keyName));e._steps[t.keyName].valid=n})),this.setState({step:this._totalSteps,steps:this._steps})}},{key:"getStepName",value:function(e){return"name"===e?"client_name":e}},{key:"getClientInfo",value:function(e){return{client_name:e.client_name.value,phone:e.phone.value,email:e.email.value}}},{key:"successCallback",value:function(e){var t=this;if(re.log("successChatIntroduce",e),this._formData=e,e&&!e.error){if($.RouterUtils.needToShowEula())return void K.Router.next(Y.RouterEvent.ToEula,{context:"chatIntroduce"});var n=(0,B.getPageWindow)().document.activeElement;R.default.mobile()&&n&&"function"==typeof n.blur&&n.blur();var a=F.default.refs.ScrollContainer;this.setState({submited:!0},(function(){if(!N.default.is_online){a&&a.setIgnore(!1),X.messageActions.setInputDisabled(!1);var n=t.getClientInfo(e);if(D.default.is_introduced)M.default.setClientContactInfo(n,!1,!0);else D.default.client_info=(0,v.default)(D.default.client_info,{client_name:n.name||n.client_name||null,phone:n.phone||null,email:n.email||null,description:n.description||null}),X.messageActions.sendTemporaryMessages()||M.default.setClientContactInfo(n,!1,!0),ne.clientDispatchers.setIsIntroduced(!0);var i=X.messageActions.getOfflineSuccessText();return X.messageActions.systemMessageOnce(i),(0,te._callUserFunction)("onOfflineFormSubmit"),void Q.Monitoring.telemetryOnce(ee.TelemetryName.NEWOFFLINE_FORM_SUBMIT)}a&&a.setIgnore(!1);var o=t.getClientInfo(e);D.default.is_introduced?M.default.setIntroduce(o):M.default.setClientContactInfo(o,!1,!0)}))}}},{key:"errorCallback",value:function(e){re.log("errorCallbackintroduce",e),this._formData=e,this.setState({submited:!1,steps:this._steps})}},{key:"blurPopupInput",value:function(e){re.log("blurPopupInput",this.state.submited),this.ignoreScroll(!1);var t=this._formContainer.checkValue(this.getStepName(e));this._steps[e].valid=t,this.setState({steps:this._steps}),R.default.desktop()&&(0,B.isChatPage)()||ne.appDispatchers.setIsContactFormFocused(!1)}},{key:"focusPopupInput",value:function(e){re.log("focusPopupInput",this.state.submited),this.ignoreScroll(!0),R.default.desktop()&&(0,B.isChatPage)()||ne.appDispatchers.setIsContactFormFocused(!0),this.state.focused||(this.setState({focused:!0}),Q.Monitoring.telemetryOnce(ee.TelemetryName.CHAT_INTRODUCE,{param1:"formFocused"}))}},{key:"ignoreScroll",value:function(e){var t=F.default.getComponent(H.Component.SCROLL_CONTAINER);t&&t.setIgnore(e)}},{key:"focusFirstInput",value:function(){this._formContainer&&this._formContainer.base&&(this._formContainer.base.querySelector("input").focus(),(0,m.default)((function(){var e=j.default.getLastMessage(),t=F.default.getComponent(H.Component.SCROLL_CONTAINER);t&&e&&e.get("type")===q.MessageType.FORM&&t.scrollToBottom()}),50))}},{key:"processSocial",value:function(e){if(R.default.mobileOrTablet()){var t=le.links,n=t.fbUrl,a=t.vkUrl;window.open("fb"===e?n:a)}else L.default.setPopupMode(e),K.Router.next(Y.RouterEvent.ToSocial),Q.Monitoring.telemetry(ee.TelemetryName.CHAT_INTRODUCE_SOCIAL,{param1:"click_"+e})}},{key:"canRenderSocial",value:function(){return N.default.chat_started&&!R.default.mobileOrTablet()&&!(0,B.hasIntegration)(D.default.has_integration)&&(le.links.fbUrl||le.links.vkUrl)}},{key:"renderSocial",value:function(e){var t,n,a=this,i=le.links,o=i.fbUrl,r=i.vkUrl;if(this.canRenderSocial())return S.default.createElement("jdiv",(0,p.default)({},e.socialText,{ref:function(e){a._social=e}}),(0,A.default)("introduce_social")+" ",r?S.default.createElement("jdiv",{className:J.default.link,onClick:(0,g.default)(t=this.processSocial).call(t,this,"vk")},(0,A.default)("social_vk")):null,r&&o?" "+(0,A.default)("introduce_or")+" ":null,o?S.default.createElement("jdiv",{className:J.default.link,onClick:(0,g.default)(n=this.processSocial).call(n,this,"fb")},"Facebook"):null)}},{key:"getPlaceholder",value:function(e){switch(e){case"name":return(0,A.default)("lblIntroduceName");case"email":return(0,A.default)("lblYourEmail");case"phone":return(0,A.default)("lblYourPhone")}}},{key:"onChange",value:function(e,t){var n=this;if(t&&t.key)switch(t.key){case"Meta":case"Shift":case"Control":case"Alt":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":return}this.setState({submited:!1,lastValue:t.target.value},(function(){n.checkAllStepsValid()}))}},{key:"getFormHeight",value:function(){if(this._mainContainer&&this._formContainer){var e=this._formContainer.base.clientHeight||null;return this.state.focused?e:null}return null}},{key:"getIntroduceHeight",value:function(){return this._introduceText?this.state.showMessage?this._introduceText.clientHeight:null:void 0}},{key:"renderFormInputs",value:function(){var e=this,t=(0,h.default)(O.default).call(O.default,this._steps),n=O.default.sortBy(t,(function(e){return e.step}));return(0,f.default)(n).call(n,(function(t,n){var a,i,o;return S.default.createElement(U.default,{name:e.getStepName(t.keyName),placeholder:e.getPlaceholder(t.keyName),onBlur:(0,g.default)(a=e.blurPopupInput).call(a,e,t.keyName),onFocus:(0,g.default)(i=e.focusPopupInput).call(i,e),onChange:(0,g.default)(o=e.onChange).call(o,e),valid:e.state.steps[t.keyName].valid,hint:e.state.focused,key:n})}))}},{key:"getRenderData",value:function(){var e={lineHeight:R.default.ios()?P.default.getLineHeight(1.5):null};return{styles:{box:[{box:!0,__noanim:D.default.is_introduced,__tablet:R.default.tablet()||R.default.desktop()&&(0,B.isChatPage)()}],mainWrap:[{mainWrap:!0,__submited:this.state.submited,__show:this.state.showForm,__focus:this.state.focused}],main:[(0,b.default)({main:!0,__submited:this.state.submited,__show:!0,__focus:this.state.focused},"__"+x.default.bubble_color||0,!0),{height:this.state.focused&&!this.state.submited?this.getFormHeight():null}],successMessage:[{successMessage:!0,__submited:D.default.is_introduced||this.state.submited}],introduceText:[{introduceText:!0,__show:!0,__submited:!0}],content:[{content:!0},e],socialText:[{socialText:!0,__show:!0},e],buttonWrapper:[{buttonWrapper:!0,__show:this.state.submited,__fadeOut:!this.state.submited}],submitSuccess:[{submitSuccess:!0,__show:this.state.submited}]},style:J.default}}},{key:"renderData",value:function(e,t){var n,a,i,o,r,l,u=this;return S.default.createElement("jdiv",t.box,S.default.createElement("jdiv",(0,p.default)({},t.mainWrap,{ref:function(e){u._introduceMain=e}}),S.default.createElement("jdiv",(0,p.default)({},t.main,{title:"",ref:function(e){u._mainContainer=e}}),!this.state.focused&&S.default.createElement("jdiv",{className:J.default.overlay,onPointerDown:(0,g.default)(n=this.focusFirstInput).call(n,this),onTouchStart:function(e){e.preventDefault(),R.default.isPointerEnabled()||u.focusFirstInput()}}),S.default.createElement(W.default,{successCallback:(0,g.default)(a=this.successCallback).call(a,this),errorCallback:(0,g.default)(i=this.errorCallback).call(i,this),route:this.props.route,type:"chat",submited:this.state.submited,ref:function(e){u._formContainer=e,e&&F.default.set(H.Component.CHAT_INTRODUCE,e)}},this.renderFormInputs(),S.default.createElement(G.default,{type:"submit",focusPopupInput:(0,g.default)(o=this.focusPopupInput).call(o,this),onBlur:(0,g.default)(r=this.blurPopupInput).call(r,this),onFocus:(0,g.default)(l=this.focusPopupInput).call(l,this),disabled:this.state.submited}),this.state.focused&&S.default.createElement("jdiv",t.buttonWrapper,S.default.createElement("jdiv",t.submitSuccess,S.default.createElement(z.default,{icon:"1f389",alone:!1,className:"emojiMessages",style:!0})," ",(0,A.default)("lblThanks"))))),this.renderSocial(t)))}}]),n}(I.default);t.default=ue},39401:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(26394)),r=a(n(69198)),l=a(n(51379)),u=a(n(214)),s=a(n(66380)),c=a(n(59748)),d=a(n(60021)),f=a(n(9950)),h=a(n(68494));function p(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,s.default)(e);if(t){var o=(0,s.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}var g=function(e){(0,l.default)(n,e);var t=p(n);function n(e){var a;return(0,o.default)(this,n),(a=t.call(this,e)).state={},a}return(0,r.default)(n,[{key:"render",value:function(e,t){var n=this.props.messages[0].toJSON().body;return"yandex"===n.type?c.default.createElement(f.default,{messages:this.props.messages}):"tinkoffInvoice"===n.type?c.default.createElement(h.default,{messages:this.props.messages}):void 0}}]),n}(d.default);t.default=g},68494:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(5872)),r=a(n(26394)),l=a(n(69198)),u=a(n(51379)),s=a(n(214)),c=a(n(66380)),d=a(n(59748)),f=a(n(60021)),h=a(n(75119)),p=a(n(90140)),g=a(n(58165)),m=a(n(45127)),v=a(n(58061)),_=a(n(71297));function y(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var o=(0,c.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var b=function(e){(0,u.default)(n,e);var t=y(n);function n(e){return(0,r.default)(this,n),t.call(this,e)}return(0,l.default)(n,[{key:"getRenderData",value:function(){return{styles:{main:[{main:!0,_tinkoff:!0}],invoice:[{message:!0,__success:"SUCCESS"===this.props.messages[0].get("body").status}]},style:_.default}}},{key:"renderData",value:function(e,t){var n=this.props.messages[0].toJSON(),a=n.body,i=(0,m.default)(n.created_ts,"dd.mm.yy H:MM:ss");return d.default.createElement(p.default,{messages:this.props.messages},d.default.createElement("jdiv",(0,o.default)({},t.main,{title:i}),d.default.createElement("jdiv",t.invoice,d.default.createElement("jdiv",{className:_.default.successIcon}),d.default.createElement("jdiv",{className:_.default.info},d.default.createElement("jdiv",{className:_.default.text},(0,h.default)("paymentsInvoice"),a.invoice_id,":"),d.default.createElement("jdiv",{className:_.default.productName},a.comment,","," "),d.default.createElement("jdiv",{className:_.default.amountWrap},d.default.createElement("jdiv",{className:_.default.amount}," "+a.amount),d.default.createElement(g.default,{color:"#222d38",iconName:"icon-ruble",className:_.default.rubleIcon})),d.default.createElement("jdiv",{className:_.default.successText},(0,h.default)("paymentsSuccess"))),d.default.createElement("a",{href:a.payment_url,onPointerDown:function(e){e.preventDefault(),window.open(a.payment_url)},onTouchStart:function(e){e.preventDefault(),v.default.isPointerEnabled()||window.open(a.payment_url)},className:_.default.actionBtn,"data-css":"notreset",rel:"nofollow noopener noreferrer",target:"_blank",title:(0,h.default)("paymentsPay")},d.default.createElement("jdiv",{className:_.default.actionText},(0,h.default)("paymentsPay"))))))}}]),n}(f.default);t.default=b},9950:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(63978)),o=a(n(20368)),r=a(n(39649)),l=a(n(78914)),u=a(n(34074)),s=a(n(20116)),c=a(n(14310)),d=a(n(86902)),f=a(n(1068)),h=a(n(54103)),p=a(n(87672)),g=a(n(26394)),m=a(n(69198)),v=a(n(51379)),_=a(n(214)),y=a(n(66380)),b=a(n(59748)),w=a(n(60021)),E=a(n(56602)),C=a(n(90140)),T=a(n(8575)),k=a(n(18228)),S=a(n(58061)),I=a(n(75119)),A=a(n(62652)),x=a(n(36216)),M=a(n(62904)),R=a(n(58165)),O=a(n(45127)),N=a(n(71297)),D=a(n(22259)),L=n(17674),P=n(85442),j=a(n(94686)),B=a(n(94184));function F(e,t){var n=(0,d.default)(e);if(c.default){var a=(0,c.default)(e);t&&(a=(0,s.default)(a).call(a,(function(t){return(0,u.default)(e,t).enumerable}))),n.push.apply(n,a)}return n}function H(e){var t=function(){if("undefined"==typeof Reflect||!f.default)return!1;if(f.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,f.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,y.default)(e);if(t){var i=(0,y.default)(this).constructor;n=(0,f.default)(a,arguments,i)}else n=a.apply(this,arguments);return(0,_.default)(this,n)}}var W=function(e){(0,v.default)(n,e);var t=H(n);function n(e){var a;return(0,g.default)(this,n),(a=t.call(this,e)).state={isValidEmail:!0,userEmail:a.props.messages[0].get("body").userEmail||""},a._actionBtn=null,a}return(0,m.default)(n,[{key:"proceedToInvoice",value:function(e){var t=j.default.email(this.state.userEmail);if(!t)return e.preventDefault(),void this.setState({isValidEmail:!1});if(M.default.eula&&!A.default.eula_accepted?(e.preventDefault(),L.Router.next(P.RouterEvent.ToEula,{link:e.currentTarget.getAttribute("href"),context:"invoice"})):S.default.tablet()&&window.open(e.currentTarget.getAttribute("href")),t){x.default.client_info.email=this.state.userEmail;var n=function(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)(0,l.default)(n=F(Object(a),!0)).call(n,(function(t){(0,p.default)(e,t,a[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(a));else{var s;(0,l.default)(s=F(Object(a))).call(s,(function(t){(0,i.default)(e,t,(0,u.default)(a,t))}))}}return e}({name:"introduction",email:this.state.userEmail},x.default.client_info);k.default.send(n)}}},{key:"onChangeYandexEmail",value:function(e){var t=e.target.value,n=this.props.messages[0].toJSON(),a=T.default.parse(n.body.url),i=this._actionBtn;this.setState({userEmail:t}),j.default.email(t)?(this.setState({isValidEmail:!0}),n.body.userEmail=t,i.href=a.protocol+"//"+a.host+a.pathname+E.default.setGetParam("cps_email",t,a.search)):this.setState({isValidEmail:!1})}},{key:"getRenderData",value:function(){return{styles:{main:[{main:!0}],invoice:[{message:!0,__success:"confirmed"===this.props.messages[0].get("body").status,__emailError:!this.state.isValidEmail}]},style:N.default}}},{key:"renderData",value:function(e,t){var n,a,i,o=this,r=this.props.messages[0].toJSON(),l=(0,O.default)(r.created_ts,"dd.mm.yy H:MM:ss"),u=r.body,s="confirmed"===u.status;return b.default.createElement(C.default,{messages:this.props.messages},b.default.createElement("jdiv",{className:N.default.main,title:l},b.default.createElement("jdiv",t.invoice,b.default.createElement("jdiv",{className:N.default.successIcon}),b.default.createElement("jdiv",{className:N.default.info},b.default.createElement("jdiv",{className:N.default.text},(0,I.default)("paymentsInvoice"),u.invoiceId,":"),b.default.createElement("jdiv",{className:N.default.productName},u.comment,",",b.default.createElement("jdiv",{className:N.default.amountWrap},b.default.createElement("jdiv",{className:N.default.amount}," "+u.amount),b.default.createElement(R.default,{color:"#222d38",iconName:"icon-ruble",className:N.default.rubleIcon}))),b.default.createElement("jdiv",{className:N.default.successText},(0,I.default)("paymentsSuccess"))),b.default.createElement("a",{onPointerDown:function(e){o.proceedToInvoice(e)},onClick:function(e){o.state.isValidEmail||e.preventDefault()},onTouchStart:function(e){S.default.isPointerEnabled()||o.proceedToInvoice(e)},ref:function(e){o._actionBtn=e},href:u.url,className:(0,B.default)((n={},(0,p.default)(n,N.default.actionBtn,!0),(0,p.default)(n,N.default.__error,!this.state.isValidEmail),n)),"data-css":"notreset",rel:"nofollow noopener noreferrer",target:"_blank",title:(0,I.default)("paymentsPay")},b.default.createElement("jdiv",{className:N.default.actionText},(0,I.default)("paymentsPay")),b.default.createElement("jdiv",{className:N.default.byYandex},(0,I.default)("byYandex"))),!s&&b.default.createElement("jdiv",{className:N.default.emailLabel},(0,I.default)("invoiceEmail")),!s&&b.default.createElement("input",{onInput:(0,h.default)(a=this.onChangeYandexEmail).call(a,this),className:(0,B.default)((i={},(0,p.default)(i,D.default.inputField,!0),(0,p.default)(i,D.default.__ios,S.default.ios()),i)),value:this.state.userEmail,type:"email",placeholder:(0,I.default)("enterEmailPlaceholder")}))))}}]),n}(w.default);t.default=W},38684:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(2991)),o=a(n(87672)),r=a(n(59748)),l=a(n(94184)),u=a(n(45697)),s=a(n(96116)),c=a(n(70602)),d=a(n(75043)),f=n(33367),h=n(63242),p=d.default.name("Listpicker"),g=function(e){var t,n,a=e.data,u=void 0===a?{}:a,d=e.onClick;p.log("Listpicker",u);var g=(0,l.default)((t={},(0,o.default)(t,c.default.main,!0),(0,o.default)(t,s.default.__mobile,!1),t));return u.answer_id?null:(u.answer_id=null,r.default.createElement("jdiv",{className:g},r.default.createElement("jdiv",{className:s.default.buttonsWrap},(0,i.default)(n=u.keyboard).call(n,(function(e,t){var n,a=(0,l.default)((n={},(0,o.default)(n,c.default.button,!0),(0,o.default)(n,c.default.__bot,!0),(0,o.default)(n,s.default._disabled,null!==u.answer_id),n));return r.default.createElement("jdiv",{className:a,title:e.title,onClick:function(n){u.answer_id||(p.log("text",e),d&&d(n,t,e.text),f.Monitoring.telemetry(h.TelemetryName.BOT_BUTTON_CLICK))},key:t},e.text)})))))};g.propTypes={data:u.default.object,onClick:u.default.func};var m=g;t.default=m},74819:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(26394)),r=a(n(69198)),l=a(n(51379)),u=a(n(214)),s=a(n(66380)),c=a(n(59748)),d=a(n(60021)),f=a(n(96116)),h=a(n(38684)),p=n(75245),g=n(70669),m=a(n(58061));function v(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,s.default)(e);if(t){var o=(0,s.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}var _=function(e){(0,l.default)(n,e);var t=v(n);function n(e){var a;return(0,o.default)(this,n),(a=t.call(this,e)).state={},a}return(0,r.default)(n,[{key:"getRenderData",value:function(){return{styles:{},style:f.default,data:{}}}},{key:"renderData",value:function(e,t){var n=this.props.messages[0],a=n.get("body"),i=n.get("msg_id");return c.default.createElement(h.default,{data:a,onClick:function(e,t,n){e.preventDefault(),p.messageActions.setListpickerAnswer(i,t),p.messageActions.sendClientMessage(n),m.default.mobileOrTablet()||(0,g.afterEmojiInserted)()}})}}]),n}(d.default);t.default=_},12090:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(5872)),r=a(n(87672)),l=a(n(54103)),u=a(n(59340)),s=a(n(94473)),c=a(n(26394)),d=a(n(69198)),f=a(n(51379)),h=a(n(214)),p=a(n(66380)),g=a(n(59748)),m=a(n(60021)),v=a(n(75119)),_=a(n(90140)),y=a(n(43738)),b=a(n(448)),w=a(n(62904)),E=n(56602),C=a(n(45127)),T=a(n(34777)),k=a(n(58165)),S=a(n(58061)),I=a(n(99357)),A=n(33367),x=n(49485),M=n(8565);function R(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,p.default)(e);if(t){var o=(0,p.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,h.default)(this,n)}}var O=a(n(75043)).default.name("MediaMessage"),N=function(e){(0,f.default)(n,e);var t=R(n);function n(e){var a;return(0,c.default)(this,n),(a=t.call(this,e)).state=a.getState(e),a.disableClick=!1,e.messages[0].on("body.file_url",(function(){a.setState(a.getState(a.props))})),a._circle=null,a}return(0,d.default)(n,[{key:"getState",value:function(e){var t=e.messages[0].toJSON().body,n=!1;return(t.sign||t.error)&&(n=!1),(t.file_url||t.file)&&(n=!0),{percentComplete:0,uploading:!n,complete:n,url:!!n&&(t.file_url||t.file),type:!!n&&(t.icon_type||t.type||(0,E.detectType)(t.mime_type)),error:!1,loaded:0,total:n?(t.size||t.file_size)>>0:0,file:!1,imagePreview:t.thumb?t.thumb:null}}},{key:"componentDidMount",value:function(){var e=this;if(!this.state.complete){var t=this.props.messages[0].toJSON().body;!t.name||t.error?this.setState({complete:!1,uploading:!1,error:t.error,file:t}):this.on(T.default,{uploading:function(t){O.log("uploading",t),e.state.complete||e.setState({uploading:!0,percentComplete:0,loaded:0,total:t.size})},error:function(t,n,a){O.log("ERROR:",t),!a&&e.state.complete||e.setState({complete:!1,uploading:!1,error:t,file:n}),e.offListeners()},complete:function(t,n){if(O.log("complete",t,n),!e.state.complete){e.setState({uploading:!1,complete:!0,url:n,type:t.icon_type,error:!1,total:t.size,imagePreview:t.imagePreview?t.imagePreview:null});var a=e.props.messages[0].toJSON().private_id,i=(0,s.default)(I.default).call(I.default,(function(e){return e.get("private_id")===a}));i.set("body.file_url",n),i.set("body.thumb",t.imagePreview?t.imagePreview:n),t.width&&(i.set("body.width",t.width),i.set("body.height",t.height))}e.offListeners()},progress:function(t,n){O.log("progress",t,n);var a=(t/n*100).toFixed(0),i=a,o=e._circle;if(isNaN(i))i=100;else if(o){var r=o.getAttribute("r"),l=(100-i)/100*(Math.PI*(2*r));o.style.strokeDashoffset=l}e.state.complete||e.setState({complete:!1,uploading:!0,error:!1,percentComplete:a,loaded:t,total:n})}})}}},{key:"handleAbort",value:function(){this.state.uploading&&(T.default.abort(),this.setState({error:(0,v.default)("file_upl_cancel"),complete:!1,uploading:!1,file:{}}),this.offListeners())}},{key:"offListeners",value:function(){this.off(T.default,"error"),this.off(T.default,"progress"),this.off(T.default,"complete"),this.off(T.default,"uploading")}},{key:"reportName",value:function(){var e=this.props.messages[0].toJSON();A.Monitoring.telemetryOnce("media_data_name",{param1:(0,u.default)(e||null)})}},{key:"checkPreview",value:function(e){return e?this.state.complete&&T.default.isPreviewImage(e):(this.reportName(),!1)}},{key:"isGif",value:function(e){if(!e)return this.reportName(),!1;var t=e.toLowerCase();return/\.(gif)$/i.test(t)}},{key:"getUrl",value:function(e){return S.default.mobileOrTablet()&&S.default.chromeIOS()?e.replace(/^https?\:\/\//i,"googlechrome://"):e}},{key:"isAgentMessage",value:function(){var e=this.props.messages[0].toJSON();return e.from===M.MessageInitiator.AGENT||e.type===M.MessageType.PROACTIVE}},{key:"onLoadPreview",value:function(){}},{key:"onClick",value:function(e){e.preventDefault(),window.open(e.currentTarget.getAttribute("href"))}},{key:"renderPreview",value:function(e){var t,n,a=this,i=this.props.messages[0].toJSON(),o=i.body,r=o.thumb||this.state.imagePreview||this.state.url||this.props.url,u=(0,x.getSize)(i),s=this.isGif(o.file_url||o.file||o.name);return g.default.createElement("jdiv",{className:this.isAgentMessage()?"":b.default.mediaWrapper},g.default.createElement("a",{className:b.default.previewLink,href:this.state.url||this.props.url,onPointerDown:(0,l.default)(t=this.onClick).call(t,this),onTouchStart:function(e){e.preventDefault(),S.default.isPointerEnabled()||a.onClick(e)},title:e,target:"_blank",rel:"nofollow noopener noreferrer"},g.default.createElement("img",{width:u.width,height:u.height,onLoad:(0,l.default)(n=a.onLoadPreview).call(n,a),src:r,title:e,className:b.default.previewMediaPhoto,loading:"lazy"}),s?g.default.createElement("jdiv",{className:b.default.overlayText},"GIF"):null))}},{key:"getRenderData",value:function(){var e=w.default.bubble_color||"green",t=this.props.messages[0].toJSON().body,n=this.state.file.file_url||t.file_url||t.file||t.name;return this.isAgentMessage()&&(e="grey"),{styles:{main:[(0,r.default)({main:!0,_mobile:S.default.mobileOrTablet(),_client:!this.isAgentMessage(),_preview:this.checkPreview(n)},"_"+e,!0)],icon:[{iconUpload:!0,iconLoading:!0}],mediaComplete:[{mediaComplete:!0,_agent:this.isAgentMessage()}],iconError:[{iconError:!0},{display:this.state.error?"block":"none"}],iconUpload:[{iconUpload:this.state.error?"none":"block"},{display:this.state.complete?"block":"none"}]},style:b.default,data:{color:e,url:n}}}},{key:"renderData",value:function(e,t){var n,a,i=this,r=this.props.messages[0].toJSON(),u=r.body,s=(0,C.default)(r.created_ts,"dd.mm.yy H:MM:ss"),c=this.state.file.file_name||u.file_name||u.name,d=this.state.uploading&&this.state.loaded>1,f=this.isAgentMessage()?_.default:y.default,h=this.checkPreview(e.url);return g.default.createElement(f,{messages:this.props.messages,isPreview:h},g.default.createElement("jdiv",(0,o.default)({},t.main,{key:this.props.key,title:s}),h?this.renderPreview(c):null,!h&&g.default.createElement("jdiv",null,g.default.createElement("jdiv",{className:b.default.mediaIcon,onClick:(0,l.default)(n=this.handleAbort).call(n,this),style:{cursor:this.state.uploading?"pointer":"default"}},g.default.createElement("jdiv",{className:b.default.loaderCont,style:{display:this.state.uploading?"block":"none"}},g.default.createElement("svg",{width:"42",height:"42",viewPort:"0 0 21 21",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},g.default.createElement("circle",{r:"18",cx:"21",cy:"21",fill:"#ffffff",strokeDasharray:"119.38",strokeDashoffset:"0"}),g.default.createElement("circle",{ref:function(e){i._circle=e},className:b.default.loaderBar,r:"18",cx:"21",cy:"21",fill:"transparent",stroke:(0,x.getCircleColor)(e.color),strokeDasharray:"119.38",strokeDashoffset:"0"})),g.default.createElement(k.default,(0,o.default)({color:(0,x.getIconColor)(e.color),iconName:"icon-cancel"},t.icon))),g.default.createElement("jdiv",null,!this.state.error&&g.default.createElement(k.default,(0,o.default)({color:(0,x.getIconColor)(e.color),iconName:"icon-".concat(this.state.type)},t.iconUpload)),!this.isAgentMessage()&&g.default.createElement(k.default,(0,o.default)({color:(0,x.getIconColor)(e.color),iconName:"icon-error"},t.iconError)))),g.default.createElement("jdiv",{className:b.default.mediaText},g.default.createElement("jdiv",{className:b.default.mediaFname,title:c},c),d&&g.default.createElement("jdiv",{className:b.default.mediaPerc},(0,E.humanFileSize)(this.state.loaded)||""," ","/"," ",(0,E.humanFileSize)(this.state.total)||""),this.state.complete&&g.default.createElement("jdiv",t.mediaComplete,(0,E.humanFileSize)(this.state.total)," ",g.default.createElement("a",{href:this.getUrl(this.state.url),onPointerDown:(0,l.default)(a=this.onClick).call(a,this),onTouchStart:function(e){e.preventDefault(),S.default.isPointerEnabled()||i.onClick(e)},target:"_blank",rel:"noopener noreferrer"},(0,v.default)("file_upl_download"))),this.state.error&&g.default.createElement("jdiv",{className:b.default.mediaComplete},this.state.error)))))}}]),n}(m.default);t.default=N},49485:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.getSize=t.getCircleColor=t.getIconColor=t.calculateAspectRatio=void 0;var a=n(57018),i=function(e,t,n,a){var i=Math.min(n/e,a/t);return{width:e*i,height:t*i}};t.calculateAspectRatio=i;t.getIconColor=function(e){switch(e){case"blue":return"#0b82f7";case"grey":return"#445669";default:return"#18c139"}};t.getCircleColor=function(e){switch(e){case"blue":return"#086bcd";case"grey":return"#303f4e";default:return"#12a730"}};t.getSize=function(e){var t={width:null,height:null};if(e.width&&e.width>a.MAX_IMAGE_WIDTH){var n=i(e.width,e.height,a.MAX_IMAGE_WIDTH,500);return t.width=n.width,t.height=n.height,t}return t.width=e.width,t.height=e.height,t}},17031:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(5872)),r=a(n(54943)),l=a(n(2991)),u=a(n(26394)),s=a(n(69198)),c=a(n(51379)),d=a(n(214)),f=a(n(66380)),h=a(n(59748)),p=a(n(68205)),g=a(n(45127)),m=a(n(95705)),v=a(n(72961)),_=n(76822);function y(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var o=(0,f.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}var b=function(e){(0,c.default)(n,e);var t=y(n);function n(){return(0,u.default)(this,n),t.apply(this,arguments)}return(0,s.default)(n,[{key:"isAgentMessage",value:function(){return!0}},{key:"renderData",value:function(e,t){var n,a=this;return h.default.createElement(p.default,{messages:this.props.messages},h.default.createElement("jdiv",t.main,(0,l.default)(n=this.props.messages).call(n,(function(e,n){var i=(0,g.default)(e.get("created_ts"),"dd.mm.yy H:MM:ss"),l=a.formatText(e.get("text")),u=(0,_.checkAlone)(e.get("text")),s=(0,r.default)(t.message);return u?s.className+=" "+m.default._alone:s=t.message,h.default.createElement("jdiv",(0,o.default)({},s,{title:i,key:n}),h.default.createElement("jdiv",(0,o.default)({},t.text,{dangerouslySetInnerHTML:{__html:l}})))}))))}}]),n}(v.default);t.default=b},28412:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(26394)),r=a(n(69198)),l=a(n(51379)),u=a(n(214)),s=a(n(66380)),c=a(n(59748)),d=(a(n(59748)),a(n(72961))),f=a(n(60021)),h=a(n(12090));function p(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,s.default)(e);if(t){var o=(0,s.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}var g=function(e){(0,l.default)(n,e);var t=p(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,r.default)(n,[{key:"render",value:function(){if(this.props.messages&&this.props.messages[0]){var e=this.props.messages[0];return e.get("body")&&e.get("body").type?c.default.createElement(h.default,this.props):c.default.createElement(d.default,this.props)}}}]),n}(f.default);t.default=g},72961:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(2991)),r=a(n(5872)),l=a(n(87672)),u=a(n(26394)),s=a(n(69198)),c=a(n(51379)),d=a(n(214)),f=a(n(66380)),h=a(n(59748)),p=a(n(60021)),g=a(n(62904)),m=a(n(90140)),v=a(n(43738)),_=a(n(68806)),y=a(n(58061)),b=a(n(45127)),w=n(76822),E=a(n(94184)),C=a(n(75119)),T=n(8565),k=a(n(95705)),S=a(n(96747));function I(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var o=(0,f.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}var A=function(e){(0,c.default)(n,e);var t=I(n);function n(e){var a;return(0,u.default)(this,n),(a=t.call(this,e)).state={lineHeight:y.default.ios()?_.default.getLineHeight():null,alone:!1},a}return(0,s.default)(n,[{key:"componentDidMount",value:function(){var e=this;_.default.listenChangeZoom((function(){e.setState({lineHeight:y.default.ios()?_.default.getLineHeight():null})}))}},{key:"getRenderData",value:function(){var e,t=g.default.bubble_color||"green";return{styles:{main:[(0,l.default)({main:!0,__mobile:y.default.mobileOrTablet()},this.isAgentMessage()?"__agent":"__client",!0)],message:[(e={message:!0},(0,l.default)(e,"_"+t,!0),(0,l.default)(e,"_alone",this.state.alone),e),{lineHeight:this.state.lineHeight}],text:[{text:!0},{lineHeight:this.state.lineHeight}],error:[{sendErrorMessage:!0}]},style:k.default,data:{color:t}}}},{key:"isAgentMessage",value:function(){var e=this.props.messages[0].toJSON();return e.from===T.MessageInitiator.AGENT||"bot"===e.from||e.type===T.MessageType.PROACTIVE}},{key:"isBotMessage",value:function(){return"bot"===this.props.messages[0].toJSON().from}},{key:"formatText",value:function(e){return(0,w.formatText)(e,this.props.messages)}},{key:"renderText",value:function(e,t,n,a){return a?this.renderMarkdown(e,t,n):h.default.createElement(h.default.Fragment,null,t?h.default.createElement("jdiv",n.text,h.default.createElement("jdiv",{className:k.default.withEditText,dangerouslySetInnerHTML:{__html:e}}),t):h.default.createElement("jdiv",(0,r.default)({},n.text,{dangerouslySetInnerHTML:{__html:e}})))}},{key:"renderMarkdown",value:function(e,t,n){return h.default.createElement("jdiv",n.text,t?h.default.createElement(h.default.Fragment,null,h.default.createElement("jdiv",{className:k.default.withEditText},h.default.createElement(S.default,{text:e})),t):h.default.createElement(S.default,{text:e}))}},{key:"renderError",value:function(e,t){if(!this.isAgentMessage()&&t)return h.default.createElement("jdiv",e.error,(0,C.default)("error_send"))}},{key:"renderData",value:function(e,t){var n,a=this,i=this.props.messages[0].isAgentMessage()?m.default:v.default;return h.default.createElement(i,{messages:this.props.messages},h.default.createElement("jdiv",t.main,(0,o.default)(n=this.props.messages).call(n,(function(n,i){var o,r=n.get("body"),u=r&&r.customerIO,s=r&&r.is_markdown,c=r&&"listpicker"==r.type,d=a.isBotMessage()&&s||u,f=d?n.get("text"):a.formatText(n.get("text"));c&&(f=r.text||r.title);var p=(0,w.checkAlone)(n.get("text")),g=n.get("from")===T.MessageInitiator.CLIENT,m=n.get("status")===T.MessageStatus.DELETED,v=n.get("status")===T.MessageStatus.NOT_DELIVERED,_=n.get("updated_ts"),y=(0,b.default)(_||n.get("created_ts"),"dd.mm.yy H:MM:ss"),S=(0,E.default)((o={},(0,l.default)(o,k.default.message,!0),(0,l.default)(o,k.default["_"+e.color],!0),(0,l.default)(o,k.default.__alone,p),(0,l.default)(o,k.default.__client,g),(0,l.default)(o,k.default.__deleted,m),o)),I=_&&!m?h.default.createElement("jdiv",{className:k.default.editedText,title:y},"(",(0,C.default)("messageEdit"),")"):null;return h.default.createElement(h.default.Fragment,{key:i},h.default.createElement("jdiv",{className:S,title:y,key:i},m?h.default.createElement("jdiv",t.text,(0,C.default)("messageDeleted")):a.renderText(f,I,t,d)),a.renderError(t,v))}))))}}]),n}(p.default);t.default=A},45423:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(2991)),r=a(n(26394)),l=a(n(69198)),u=a(n(5824)),s=a(n(51379)),c=a(n(214)),d=a(n(66380)),f=a(n(59748)),h=a(n(59748)),p=a(n(60021)),g=a(n(62904)),m=a(n(75119)),v=a(n(62107)),_=a(n(77244)),y=n(75245),b=n(33367),w=n(63242),E=n(92097),C=a(n(44992)),T=a(n(40695)),k=n(17674),S=n(85442),I=a(n(45808)),A=n(21224),x=n(70669),M=a(n(58061)),R=n(81189),O=a(n(70602));function N(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var o=(0,d.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}a(n(75043)).default.name("PrechatMessage");var D=function(e){(0,s.default)(n,e);var t=N(n);function n(e){var a;return(0,r.default)(this,n),(a=t.call(this,e)).state={hide:!1,phases:a.getPhases()},a.subscribe("updatePrechatText",(function(e){a.setState({phases:a.getPhases(e)})})),I.default.set(A.Component.PRECHAT,(0,u.default)(a)),a}return(0,l.default)(n,[{key:"getPhases",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(g.default.options||g.default.enable_prechat){var t=[],n=v.default.sortBy(e||g.default.prechat,"id"),a=3;a=n.length?n.length:3;for(var i=0;i<a;i++){var o=i+1,r=0===i?"":o,l=o<=3?(0,m.default)("prechatText".concat(r)):null;n&&n[i]&&n[i].text&&(l=n[i].text),l&&t.push({id:o,text:l})}return t}}},{key:"sendPhrase",value:function(e,t,n){e.preventDefault(),(0,E.prechatSetUsed)(!0),k.Router.needToShowIntroduceForm()?(R.clientDispatchers.setLastMessage(t),k.Router.next(S.RouterEvent.ToIntroduce)):(y.messageActions.sendClientMessage(t),C.default.play("outgoing_message"),M.default.mobileOrTablet()||(0,x.afterEmojiInserted)()),this.setState({hide:!0}),b.Monitoring.telemetryOnce(w.TelemetryName.PRECHAT,{param1:n,param2:g.default.locale}),T.default.trackPrechatClick(n)}},{key:"replaceEmoji",value:function(e){return _.default.replace(e,(function(e){var t=_.default.toCodePoint(e),n=document.createElement("jdiv");return h.default.render(f.default.createElement(_.default,{icon:t,alone:!1,className:"emojiMessages"}),n),n.childNodes[0].outerHTML}))}},{key:"formatText",value:function(e){return e=v.default.escape(e),e=this.replaceEmoji(e),g.default.disable_emoji||this.replaceEmoji(e),e}},{key:"getRenderData",value:function(){return{styles:{main:[{main:!0,__hide:this.state.hide}]},style:O.default}}},{key:"renderData",value:function(e,t){var n,a=this;return f.default.createElement("jdiv",t.main,(0,o.default)(n=this.state.phases).call(n,(function(e,t){return f.default.createElement("jdiv",{className:O.default.button,onClick:function(n){return a.sendPhrase(n,e.text,t+1)},dangerouslySetInnerHTML:{__html:a.formatText(e.text)},key:t})})))}}]),n}(p.default);t.default=D},76644:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(26394)),r=a(n(69198)),l=a(n(51379)),u=a(n(214)),s=a(n(66380)),c=a(n(59748)),d=a(n(60021)),f=a(n(96586)),h=a(n(45127)),p=a(n(75119));function g(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,s.default)(e);if(t){var o=(0,s.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}var m=function(e){(0,l.default)(n,e);var t=g(n);function n(e){var a;return(0,o.default)(this,n),(a=t.call(this,e)).state={},a}return(0,r.default)(n,[{key:"render",value:function(e,t){var n,a=this.props.messages[0].time,i=new Date(a),o=new Date;return n=i.getFullYear()===o.getFullYear()&&i.getMonth()===o.getMonth()?i.getDate()===o.getDate()?(0,p.default)("today"):i.getDate()===o.getDate()-1?(0,p.default)("yesterday"):(0,h.default)(a,"dd.mm.yyyy"):(0,h.default)(a,"dd.mm.yyyy"),c.default.createElement("jdiv",{className:f.default.main},n)}}]),n}(d.default);t.default=m},22620:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(26394)),r=a(n(69198)),l=a(n(51379)),u=a(n(214)),s=a(n(66380)),c=a(n(59748)),d=a(n(62904)),f=a(n(75043)),h=a(n(58061)),p=a(n(6991)),g=a(n(73796));function m(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,s.default)(e);if(t){var o=(0,s.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}f.default.name("SocialMessage");var v=function(e){(0,l.default)(n,e);var t=m(n);function n(e){var a;(0,o.default)(this,n),a=t.call(this,e);var i=p.default.getSocial();return p.default.isLoginned()&&(a.state={vk:i.vk,fb:i.fb,mode:i.mode}),a}return(0,r.default)(n,[{key:"componentWillMount",value:function(){d.default.joint&&!h.default.mobileOrTablet()||3!=d.default.contacts_ask||this.setState({mode:"email"})}},{key:"render",value:function(){if(this.props.messages&&this.state.mode)return c.default.createElement(g.default,{mode:this.state,classes:this.props.classes})}}]),n}(c.default.Component);t.default=v},32180:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(5872)),r=a(n(77766)),l=a(n(26394)),u=a(n(69198)),s=a(n(51379)),c=a(n(214)),d=a(n(66380)),f=a(n(59748)),h=a(n(72961)),p=a(n(75119)),g=n(56602),m=a(n(62904)),v=a(n(58061)),_=a(n(68806)),y=a(n(8282)),b=a(n(61604));function w(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var o=(0,d.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}var E=function(e){(0,s.default)(n,e);var t=w(n);function n(e){var a;return(0,l.default)(this,n),(a=t.call(this,e)).message=e.messages[0].toJSON(),a.state={agentInfo:a.getAgentInfo()},a}return(0,u.default)(n,[{key:"getAgentInfo",value:function(){return y.default.getAgentById(this.message.body.from_id)}},{key:"componentDidMount",value:function(){var e=this;y.default.on("update",(function(){e.setState({agentInfo:e.getAgentInfo()})}))}},{key:"getRenderData",value:function(){var e=this.state.agentInfo,t=(0,p.default)("chat_agent_"+this.message.body.action).replace("_AGENT_",e.get("display_name"));return{styles:{main:[{main:!0,_mobile:v.default.mobile()}],text:[{text:!0},{"-webkit-text-size-adjust":v.default.ios()?_.default.getTextSize():null}],avatar:[{avatar:!0}],img:[{img:!0}]},style:b.default,data:{text:t}}}},{key:"renderAvatar",value:function(e){var t,n,a=this.state.agentInfo.get("avatar_url"),i=!!a&&(0,r.default)(t=(0,r.default)(n="".concat((0,g.getProtocol)())).call(n,m.default.avatar_url,"/avatars/")).call(t,a);return i?f.default.createElement("jdiv",(0,o.default)({},e.img,{style:{backgroundImage:"url(".concat(i,")")}})):""}},{key:"renderData",value:function(e,t){return f.default.createElement("jdiv",t.main,"join"===this.message.body.action?f.default.createElement("jdiv",t.avatar,this.renderAvatar(t)):"",f.default.createElement("jdiv",(0,o.default)({},t.text,{dangerouslySetInnerHTML:{__html:this.formatText(e.text)}})))}}]),n}(h.default);t.default=E},62143:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(87672)),r=a(n(26394)),l=a(n(69198)),u=a(n(51379)),s=a(n(214)),c=a(n(66380)),d=a(n(59748)),f=a(n(60021)),h=a(n(68930)),p=a(n(58061)),g=a(n(58165)),m=a(n(68806));function v(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var o=(0,c.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var _=function(e){(0,u.default)(n,e);var t=v(n);function n(e){var a;return(0,r.default)(this,n),(a=t.call(this,e)).state={textSize:m.default.getTextSize()},a}return(0,l.default)(n,[{key:"getRenderData",value:function(){var e=this.props.messages[0].toJSON(),t=p.default.ios()?{"-webkit-text-size-adjust":this.state.textSize}:{};return{data:{icon:e.body.name+"Icon"},styles:{main:[(0,o.default)({main:!0,__mobile:p.default.mobileOrTablet()},"__"+e.body.name,!0)],text:[{text:!0,__mobile:p.default.mobileOrTablet()},t]},style:h.default}}},{key:"renderData",value:function(e,t){var n=this.props.messages[0].get("text");return d.default.createElement("jdiv",t.main,d.default.createElement("jdiv",t.text,d.default.createElement(g.default,{iconName:e.icon,className:h.default.callIcon}),n.replace("<br>"," ")))}}]),n}(f.default);t.default=_},54280:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(26394)),r=a(n(69198)),l=a(n(51379)),u=a(n(214)),s=a(n(66380)),c=a(n(59748)),d=a(n(60021)),f=a(n(62143)),h=a(n(33701)),p=a(n(32180));function g(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,s.default)(e);if(t){var o=(0,s.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}var m=function(e){(0,l.default)(n,e);var t=g(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,r.default)(n,[{key:"render",value:function(){var e,t=this.props.messages[0].get("body");return e=t&&"call"===t.type?f.default:t&&"chat"===t.type?p.default:h.default,c.default.createElement(e,{messages:this.props.messages})}}]),n}(d.default);t.default=m},33701:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(5872)),r=a(n(26394)),l=a(n(69198)),u=a(n(51379)),s=a(n(214)),c=a(n(66380)),d=a(n(59748)),f=a(n(72961)),h=a(n(51407)),p=a(n(58061)),g=a(n(68806)),m=a(n(45127)),v=n(8565),_=n(56602);function y(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var o=(0,c.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var b=function(e){(0,u.default)(n,e);var t=y(n);function n(){return(0,r.default)(this,n),t.apply(this,arguments)}return(0,l.default)(n,[{key:"getRenderData",value:function(){var e=this.props.messages[0].toJSON(),t={main:!0,__mobile:p.default.mobileOrTablet()||(0,_.isChatPage)()};e.body&&e.body.type&&"text"!==e.body.type&&(t["__"+e.body.type]=!0);var n=e.type===v.MessageType.PREFORM;return{styles:{main:[t],text:[{text:!0,__bot:n},{"-webkit-text-size-adjust":p.default.ios()?g.default.getTextSize():"none",lineHeight:p.default.ios()?g.default.getLineHeight():null}]},style:h.default,data:{isBot:n,message:e}}}},{key:"renderData",value:function(e,t){var n=(0,m.default)(e.message.created_ts,"dd.mm.yy H:MM:ss");return d.default.createElement("jdiv",(0,o.default)({},t.main,{title:n}),d.default.createElement("jdiv",(0,o.default)({},t.text,{dangerouslySetInnerHTML:{__html:this.formatText(this.props.messages[0].get("text"))}})))}}]),n}(f.default);t.default=b},50380:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(63978)),o=a(n(20368)),r=a(n(39649)),l=a(n(78914)),u=a(n(34074)),s=a(n(20116)),c=a(n(14310)),d=a(n(86902)),f=a(n(1068)),h=a(n(87672)),p=a(n(26394)),g=a(n(69198)),m=a(n(51379)),v=a(n(214)),_=a(n(66380)),y=a(n(59748)),b=n(26213),w=a(n(45697)),E=a(n(48938)),C=a(n(58061)),T=a(n(68806)),k=a(n(90362)),S=a(n(91505)),I=a(n(52673)),A=a(n(44992)),x=a(n(1330)),M=a(n(5777)),R=n(17674),O=n(85442),N=n(56602),D=n(33149),L=a(n(94184)),P=n(20965),j=n(37916),B=a(n(47321));function F(e,t){var n=(0,d.default)(e);if(c.default){var a=(0,c.default)(e);t&&(a=(0,s.default)(a).call(a,(function(t){return(0,u.default)(e,t).enumerable}))),n.push.apply(n,a)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)(0,l.default)(n=F(Object(a),!0)).call(n,(function(t){(0,h.default)(e,t,a[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(a));else{var s;(0,l.default)(s=F(Object(a))).call(s,(function(t){(0,i.default)(e,t,(0,u.default)(a,t))}))}}return e}function W(e){var t=function(){if("undefined"==typeof Reflect||!f.default)return!1;if(f.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,f.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,_.default)(e);if(t){var i=(0,_.default)(this).constructor;n=(0,f.default)(a,arguments,i)}else n=a.apply(this,arguments);return(0,v.default)(this,n)}}var U=a(n(75043)).default.name("MobileContainer"),z=function(e){(0,m.default)(n,e);var t=W(n);function n(e){var a;return(0,p.default)(this,n),(a=t.call(this,e)).showState=!1,a.state=H({},(0,D.getCoordinates)()),a._zoomOverlay=null,a}return(0,g.default)(n,[{key:"componentDidMount",value:function(){var e=this;U.log("mount"),A.default.initSoundPlayer();var t=function(){e.setState(H({},(0,D.getCoordinates)()))};(0,N.addListener)((0,N.getPageWindow)(),"resize",t),T.default.listenChangeZoom(t)}},{key:"componentDidUpdate",value:function(){this.props.route===O.Route.LABEL||C.default.tablet()&&this.props.route===O.Route.MOBILE_MENU||this.props.route===O.Route.HIDDEN?T.default.unblockSite():T.default.blockSite()}},{key:"renderMenuContainer",value:function(){return C.default.tablet()?null:y.default.createElement(M.default,{allowedRoutes:[O.Route.MOBILE_MENU],currentRoute:this.props.route,name:"OmniMenuContainer"},y.default.createElement(x.default,{overlay:!0,onCancelClick:function(e){R.Router.next(O.RouterEvent.CloseWindow)}}))}},{key:"renderLandscapeOverlay",value:function(){return(0,D.shouldRenderLandscapeOverlay)(this.props.route,this.state.landscapeMode)?y.default.createElement(I.default,{onPointerDown:function(){R.Router.next(O.RouterEvent.CloseWindow)},landscape:!0,isPointer:C.default.isPointerEnabled()}):null}},{key:"renderZoomOverlay",value:function(){return(0,D.shouldRenderZoomOverlay)(this.props.route)?y.default.createElement(S.default,null):null}},{key:"renderWidgetContainer",value:function(){var e,t=this,n=j.CallbackUtils.isCallbackEnabled();return y.default.createElement(M.default,{allowedRoutes:(0,D.getAllowedRoutes)(),currentRoute:this.props.route,name:"MobileWidgetContent"},y.default.createElement("jdiv",{className:(0,L.default)((e={},(0,h.default)(e,E.default.mobileContainer,!0),(0,h.default)(e,E.default.__tablet,C.default.tablet()||C.default.desktop()&&(0,N.isChatPage)()),e)),style:{zoom:(0,N.isChatPage)()?null:(0,D.getZoom)(this.props.zoom),zIndex:2147483647,"-webkit-text-size-adjust":C.default.ios()?T.default.getTextSize():null}},y.default.createElement(k.default,{needRenderCloseBtn:!1,needRenderCallContainer:n,needRenderDrag:!1,showCloseButton:!0,showHeaderText:!0,showBody:!0,callbackEnabled:this.props.callbackEnabled,route:this.props.route,onCloseButtonClick:function(){B.default.closeWidget(),t.props.callbackStatus===P.CallStatus.CONNECTED&&R.Router.next(O.RouterEvent.CloseWindow)}})))}},{key:"render",value:function(){return y.default.createElement(y.default.Fragment,null,this.renderWidgetContainer(),this.renderLandscapeOverlay(),this.renderZoomOverlay(),this.renderMenuContainer())}}]),n}(y.default.PureComponent);z.propTypes={chat:w.default.bool,tabletMenu:w.default.bool,callbackEnabled:w.default.bool,route:w.default.string,position:w.default.any,padding:w.default.string,callbackStatus:w.default.oneOfType([w.default.string,w.default.bool]),mobileOrientation:w.default.string,zoom:w.default.number};var G=(0,b.connect)((function(e){return{padding:e.settings.user.widgetPadding,mobileOrientation:e.settings.user.widgetMobileOrientation,route:e.app.route,callbackEnabled:e.callback.available,position:e.position,callbackStatus:e.callback.status,zoom:e.zoom.app}}),{})(z);t.default=G},33149:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.getAllowedRoutes=t.shouldRenderLandscapeOverlay=t.shouldRenderZoomOverlay=t.getZoom=t.getCoordinates=void 0;var i=a(n(81643)),o=a(n(68806)),r=n(56602),l=a(n(58061)),u=n(85442);t.getCoordinates=function(){return{landscapeMode:"landscape"===o.default.getOrientation()}};t.getZoom=function(e){return(0,r.isWixContext)()?1:e};t.shouldRenderZoomOverlay=function(e){return!(0,r.isWixContext)()&&e!==u.Route.HIDDEN};t.shouldRenderLandscapeOverlay=function(e,t){var n,a=-1!==(0,i.default)(n=[u.Route.HIDDEN,u.Route.LABEL]).call(n,e);return!(l.default.tablet()||!t||a)};t.getAllowedRoutes=function(){return[u.Route.CHAT,u.Route.CHAT_CALL,u.Route.CHAT_EULA,u.Route.CHAT_EVAL,u.Route.CHAT_INTRODUCE,u.Route.CHAT_SOCIAL,u.Route.CHAT_MIN,u.Route.DEPARTMENTS,u.Route.INTRODUCE,u.Route.CALL,u.Route.CALL_EULA,u.Route.DEPARTMENTS,u.Route.INTRODUCE,u.Route.DEBUG]}},6746:function(e,t,n){"use strict";var a=n(87646),i=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(1068)),r=i(n(5872)),l=i(n(54103)),u=i(n(77766)),s=i(n(33032)),c=i(n(26394)),d=i(n(69198)),f=i(n(51379)),h=i(n(214)),p=i(n(66380)),g=i(n(59748)),m=i(n(60021)),v=i(n(62904)),_=i(n(68927)),y=n(56602),b=i(n(6991)),w=n(33367),E=n(63242),C=n(57018),T=a(n(58165)),k=n(70645),S=n(83093),I=i(n(58061));function A(e){var t=function(){if("undefined"==typeof Reflect||!o.default)return!1;if(o.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,o.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,p.default)(e);if(t){var i=(0,p.default)(this).constructor;n=(0,o.default)(a,arguments,i)}else n=a.apply(this,arguments);return(0,h.default)(this,n)}}i(n(75043)).default.name("MobilePopup");var x=function(e){(0,f.default)(n,e);var t=A(n);function n(e){var a;return(0,c.default)(this,n),(a=t.call(this,e)).state={agent:a.props.agent,text:a.props.text,fade:!1,textHeight:0,imUrl:!1},a._move=!1,a}return(0,d.default)(n,[{key:"componentDidMount",value:function(){if(b.default.ifIMessageEnabled()){var e=b.default.getJoints();this.setState({imUrl:e.links.imUrl})}this.updateIcon()}},{key:"updateIcon",value:function(){if(this._popupText){var e=this._popupText.offsetHeight;this.state.textHeight!==e&&this.setState({textHeight:e})}}},{key:"closePopup",value:function(e){var t=this;e.preventDefault(),e.stopPropagation(),this.setState({fade:!0},(function(){(0,s.default)((function(){t.props.onClose&&t.props.onClose(e)}),300)}))}},{key:"renderAvatar",value:function(e){var t,n;if(!this.props.popup)return null;var a=this.props.popup.agent,i=a.avatar_url,o=!!a.bot_id&&(0,T.getSvgBgIcon)("iconBot"),r=i?(0,u.default)(t=(0,u.default)(n="".concat((0,y.getProtocol)())).call(n,v.default.avatar_url,"/avatars/")).call(t,i):o,l=r?{backgroundImage:"url(".concat(r,")")}:{};return g.default.createElement("jdiv",e.avatar,g.default.createElement("jdiv",{className:_.default.avatarImg,style:l}),g.default.createElement("jdiv",e.agentName,a.display_name))}},{key:"openImessage",value:function(e){var t=this;(0,s.default)((function(){t.setState({fade:!0}),t.props.onClose&&t.props.onClose(e)}),300),w.Monitoring.telemetry(E.TelemetryName.POWERBUTTON_OPEN+"im")}},{key:"renderImOverlay",value:function(){var e=this;if(this.state.imUrl)return g.default.createElement("a",{className:_.default.imOverlay,href:this.state.imUrl,target:"_blank",rel:"nofollow noopener noreferrer",onPointerDown:function(t){e.openImessage(t)},onTouchStart:function(t){I.default.isPointerEnabled()||e.openImessage(t)}})}},{key:"getRenderData",value:function(){var e=this.props.popup&&this.props.popup.text.length<C.PROACTIVE_TEXT_LIMIT,t="left"===v.default.widget_mobile_orientation;return{styles:{popup:[{popup:!0,__show:this.props.show,__left:t}],avatar:[{avatar:!0}],popupBlock:[{popupBlock:!0,__show:!this.state.fade&&this.props.show,__short:e,__longText:this.state.textHeight>C.PROACTIVE_MAX_HEIGHT,__left:t}],text:[{text:!0}],textBox:[{textBox:!0}],agentName:[{agentName:!0}]},style:_.default,data:{text:this.props.popup?this.props.popup.text:null}}}},{key:"renderData",value:function(e,t){var n,a=this;return g.default.createElement("jdiv",t.popup,g.default.createElement("jdiv",(0,r.default)({},t.popupBlock,{onPointerDown:function(e){a.state.imUrl||(e.stopPropagation(),a.props.onOpen(e,"popup"))},onTouchStart:function(e){a.state.imUrl||I.default.isPointerEnabled()||(e.preventDefault(),a.props.onOpen(e,"popup"))}}),this.renderImOverlay(),this.renderAvatar(t),g.default.createElement("jdiv",(0,r.default)({className:_.default.closeBlock,onPointerDown:(0,l.default)(n=this.closePopup).call(n,this),onTouchStart:function(e){I.default.isPointerEnabled()||a.closePopup(e)}},(0,k.withLocator)(S.Locator.MOBILE_POPUP_CLOSE_BUTTON)),g.default.createElement(T.default,{iconName:"icon-popup-close",color:"#959BA0",hoverColor:"#7D8999",className:_.default.closePopupIcon})),g.default.createElement("jdiv",t.text,g.default.createElement("jdiv",(0,r.default)({},t.textBox,{dangerouslySetInnerHTML:{__html:e.text},ref:function(e){a._popupText=e}}))),this.state.textHeight>C.PROACTIVE_MAX_HEIGHT?g.default.createElement("jdiv",{className:_.default.moreIcon,style:{backgroundImage:"url(".concat((0,T.getSvgBgIcon)("icon-more","#a3aab5"),")")}}):null))}}]),n}(m.default);t.default=x},57371:function(e,t,n){"use strict";var a=n(87646),i=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=t.MoreButton=void 0;var o=i(n(87672)),r=a(n(59748)),l=i(n(45697)),u=i(n(94184)),s=n(63465),c=i(n(58061)),d=i(n(58165)),f=i(n(45808)),h=n(21224),p=i(n(75043)),g=i(n(98513)),m=(p.default.name("MoreButton"),function(e){var t,n,a=e.show,i=e.showBadge,l=void 0!==i&&i,p=e.color,m=e.onClick,v=(0,r.useRef)(null);(0,r.useLayoutEffect)((function(){v.current&&f.default.set(h.Component.MORE_BUTTON,v.current)}));var _=(0,u.default)((t={},(0,o.default)(t,g.default.moreBox,!0),(0,o.default)(t,g.default.__mobile,c.default.mobileOrTablet()),(0,o.default)(t,g.default.__show,a),t)),y=(0,u.default)((n={},(0,o.default)(n,g.default.__show,l),(0,o.default)(n,g.default.moreBadge,!0),n));return r.default.createElement("jdiv",{className:_,onClick:m,ref:v},r.default.createElement(d.default,{iconName:"icon-v",color:"#cccccc",color2:"#0b82f7",hoverColor:(0,s.getThemeColor)(p),className:g.default.moreBtn}),r.default.createElement("jdiv",{className:y}))});t.MoreButton=m,m.propTypes={show:l.default.bool.isRequired,showBadge:l.default.bool,color:l.default.string,onClick:l.default.func};var v=m;t.default=v},73395:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=t.componentProps=void 0;var i=a(n(5872)),o=a(n(2991)),r=a(n(59748)),l=a(n(29947)),u=a(n(94184)),s=a(n(45697)),c=a(n(52673)),d=a(n(12958)),f=a(n(49800)),h=a(n(67345)),p=function(e){var t=e.buttons,n=e.isLandscape,a=e.overlay,s=e.onOverlayClick,p=e.title,g=e.onCancelClick,m=e.cancelButton,v=e.copyright,_=e.copyrightLink,y=e.copyrightIcon,b=e.device,w=e.isPointer,E=e.zoom,C=e.textZoom;return 0===t.length?null:r.default.createElement("jdiv",{className:(0,u.default)(l.default.wrap,l.default[b]),style:{zoom:E,"-webkit-text-size-adjust":C}},!a||n?null:r.default.createElement(c.default,{onPointerDown:s,landscape:n,isPointer:w}),r.default.createElement("jdiv",{className:l.default.menuWrap},v?r.default.createElement(h.default,{url:_,icon:y}):null,r.default.createElement("jdiv",{className:l.default.menu},p?r.default.createElement("jdiv",{className:l.default.menuTitle},p):null,(0,o.default)(t).call(t,(function(e,t){return r.default.createElement(d.default,(0,i.default)({},e,{key:t,isPointer:w}))}))),m?r.default.createElement(f.default,{onClick:g,device:b,isPointer:w}):null))},g=p.propTypes={buttons:s.default.arrayOf(s.default.any),copyright:s.default.bool,copyrightLink:s.default.string,copyrightIcon:s.default.string,isLandscape:s.default.bool,onOverlayClick:s.default.func,cancelButtonText:s.default.string,cancelButton:s.default.bool,device:s.default.string,isPointer:s.default.bool,onCancelClick:s.default.func,overlay:s.default.bool,zoom:s.default.number,textZoom:s.default.string};t.componentProps=g;var m=r.default.memo(p);t.default=m},12958:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=t.componentProps=void 0;var i=a(n(87672)),o=a(n(59748)),r=a(n(42173)),l=a(n(45697)),u=a(n(58165)),s=a(n(94184)),c=function(e){var t=e.url,n=e.onClick,a=e.trackId,l=e.iconName,c=e.title,d=e.titleColor,f=e.iconColor,h=e.device,p=e.forceIcon,g=e.isPointer,m=function(e){var a;return o.default.createElement("jdiv",{className:(0,s.default)(r.default.wrap,r.default[h]),onPointerDown:function(a){t||(a.stopPropagation(),a.stopImmediatePropagation(),a.preventDefault()),n&&n(a,e)},onTouchStart:function(a){t||(a.stopPropagation(),a.stopImmediatePropagation(),a.preventDefault()),g||n&&n(a,e)}},o.default.createElement(u.default,{iconName:l,className:(0,s.default)((a={},(0,i.default)(a,r.default.icon,!0),(0,i.default)(a,r.default.forceIcon,p),a)),color:f}),o.default.createElement("jdiv",{className:r.default.title,style:d?{color:d}:null},c))};return t?o.default.createElement("a",{href:t,target:"_blank",rel:"nofollow noopener noreferrer",className:r.default.link},m(a)):m()},d=c.propTypes={url:l.default.string,onClick:l.default.func,trackId:l.default.string,iconName:l.default.string,iconColor:l.default.string,title:l.default.string,titleColor:l.default.string,forceIcon:l.default.bool,isPointer:l.default.bool};t.componentProps=d;var f=o.default.memo(c);t.default=f},49800:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=t.componentProps=void 0;var i=a(n(59748)),o=a(n(57415)),r=a(n(45697)),l=a(n(75119)),u=a(n(94184)),s=function(e){var t=e.onClick,n=e.device,a=e.isPointer;if("tablet"===n)return null;var r="android"===n;return i.default.createElement("jdiv",{className:(0,u.default)(o.default.wrap,o.default[n]),onPointerDown:function(e){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),t(e)},onTouchStart:function(e){e.preventDefault(),a||t(e)}},r?i.default.createElement("jdiv",{className:o.default.icon},"<"):null,i.default.createElement("jdiv",{className:o.default.text},(0,l.default)("cancel")))},c=s.propTypes={onClick:r.default.func,device:r.default.string};t.componentProps=c;var d=i.default.memo(s);t.default=d},1330:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(59748)),o=n(26213),r=a(n(75119)),l=a(n(73395)),u=n(41199),s=a(n(45697)),c=n(17674),d=n(85442),f=function(e){var t=e.callbackAvailable,n=e.isDelayedCallback,a=e.callTime,o=e.joint,s=e.geoIp,f=e.isOnline,h=e.overlay,p=e.hideTitle,g=e.onCancelClick,m=e.powerButtonPhone,v=e.appZoom,_=e.onOverlayClick,y=e.onMenuButtonClick,b=e.onMenuChatButtonClick,w=e.onMenuCallButtonClick,E=e.route,C=(0,u.getDevice)(),T="tablet"!==C,k=(0,u.getCopyrightProps)();return i.default.createElement(l.default,{buttons:(0,u.getButtons)(m,t,n,a,o,s,f,y||u.onMenuItemClick,b||u.onChatClick,w||u.onCallClick,E),isLandscape:(0,u.getIsLandscape)(),overlay:h,onOverlayClick:function(e){_?_(e):c.Router.next(d.RouterEvent.CloseWindow)},title:!p&&(0,r.default)("powerBtnMenuTitle"),cancelButton:T,onCancelClick:g,copyright:k.show,copyrightLink:k.link,copyrightIcon:k.icon,device:C,isPointer:(0,u.getPointer)(),textZoom:(0,u.getTextSize)(),zoom:(0,u.getZoom)(v)})};f.propTypes={isOnline:s.default.bool,callbackAvailable:s.default.bool,isDelayedCallback:s.default.bool,callTime:s.default.number,joint:s.default.any,geoIp:s.default.string,overlay:s.default.bool,hideTitle:s.default.bool,onCancelClick:s.default.func,powerButtonPhone:s.default.string,appZoom:s.default.number,onOverlayClick:s.default.func,onMenuButtonClick:s.default.func,onMenuChatButtonClick:s.default.func,onMenuCallButtonClick:s.default.func,route:s.default.string};var h=(0,o.connect)((function(e,t){return{isOnline:e.app.isOnline,callbackAvailable:e.callback.available,isDelayedCallback:e.callback.isDelayed,callTime:e.settings.user.callback.time,joint:e.settings.features.joint,geoIp:e.settings.system.geoIp,powerButtonPhone:e.settings.user.powerButtonPhone,appZoom:e.zoom.app,route:e.app.route,overlay:t.overlay,hideTitle:t.hideTitle,onCancelClick:t.onCancelClick,onOverlayClick:t.onOverlayClick,onMenuButtonClick:t.onMenuButtonClick,onMenuChatButtonClick:t.onMenuChatButtonClick,onMenuCallButtonClick:t.onMenuCallButtonClick}}),{})(f);t.default=h},41199:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.getZoom=t.getTextSize=t.onCallClick=t.onMenuItemClick=t.onChatClick=t.getIsLandscape=t.getCallText=t.getPointer=t.getDevice=t.getCopyrightProps=t.getButtons=void 0;var i=a(n(77766)),o=n(56602),r=a(n(75119)),l=a(n(58061)),u=n(51139),s=a(n(68806)),c=n(75245),d=n(17674),f=n(85442),h=n(81189),p=a(n(47321)),g=n(33367),m=n(63242),v=a(n(40695));t.getButtons=function(e,t,n,a,u,s,c,d,h,p,g){var m=b(),v=[];if(u&&(u.vk&&u.vk.joint_id&&v.push({url:"https://vk.me/club"+u.vk.joint_id,onClick:d,trackId:"vk",iconName:"vk",title:(0,r.default)("social_vk"),device:m}),u.fb&&u.fb.joint_id&&v.push({url:"https://m.me/"+u.fb.joint_id,onClick:d,trackId:"fb",iconName:"fb",title:"Facebook Messenger",device:m}),u.wa&&v.push({url:"https://wa.me/"+u.wa,onClick:d,trackId:"wa",iconName:"wa",title:"WhatsApp",device:m}),u.tg&&u.tg.botname&&v.push({url:y(s)+u.tg.botname,onClick:d,trackId:"tg",iconName:"telegram",iconColor:"#39afe2",title:"Telegram",device:m}),u.vb&&u.vb.botname&&v.push({url:"viber://pa?chatURI="+u.vb.botname,onClick:d,trackId:"vb",iconName:"viber",title:"Viber",device:m}),l.default.supportsIMessage()&&u.im&&u.im.joint_id&&v.push({url:"sms://open?service=iMessage&recipient=urn:biz:".concat(u.im.joint_id,"&biz-intent-id=click_in_jivo"),onClick:d,trackId:"im",iconName:"icon-im",iconColor:"#ff0000",title:(0,r.default)("lblMessagesApp"),device:m})),t)v.push({onClick:p,iconName:_(m),iconColor:"#0076ff",title:w(n,a),device:m,forceIcon:!0});else if(e){var E;v.push({url:"tel:".concat(e),onClick:d,iconName:_(m),iconColor:"#0076ff",trackId:"Mobile_call",title:(0,i.default)(E="".concat((0,r.default)("lblCallMe")," ")).call(E,e),device:m,forceIcon:!0})}return!((0,o.isChatPage)()&&g===f.Route.CHAT)&&v.push({onClick:h,iconName:"tablet"===m?"labelChat":"message-text",iconColor:"#05b24b",title:c?(0,r.default)("onlineChat"):(0,r.default)("lblLeaveMessage"),titleColor:"red",device:m}),v};var _=function(e){switch(e){case"ios":return"phone";case"android":return"phone-outgoing";case"tablet":return"callback-btn"}},y=function(e){var t="https://telegram.me/";e&&("RU"==e.split(";")[0]&&(t="tg://resolve/?domain="));return t};t.getCopyrightProps=function(e){return{show:!("tablet"===b()||!(0,o.showAd)()),link:(0,o.getUtmLink)("mobile_menu"),icon:e?"logo-jivosite-white":"logo-jivochat-white"}};var b=function(){return l.default.tablet()||l.default.desktop()&&(0,o.isChatPage)()?"tablet":l.default.ios()?"ios":"android"};t.getDevice=b;t.getPointer=function(){return l.default.isPointerEnabled()};var w=function(e,t){return e?(0,r.default)("callback_delayed_button_submit"):(0,i.default)(n=(0,i.default)(a="".concat((0,r.default)("cw_callAfter")," ")).call(a,t," ")).call(n,(0,u.getTextSeconds)(t),"!");var n,a};t.getCallText=w;t.getIsLandscape=function(){return"landscape"===s.default.getOrientation()};t.onChatClick=function(e){h.appDispatchers.setAppIsFocused(1),p.default.chatOpenByClient=!0,d.Router.next(f.RouterEvent.ToChat),c.messageActions.deleteUnansweredOfflineSystemInvite(),c.messageActions.addPrechatMessage(),c.messageActions.offlineSystemInvite(),p.default.openChatCallbacks(),g.Monitoring.telemetry(m.TelemetryName.POWERBUTTON_OPEN_CHAT)};t.onMenuItemClick=function(e,t){e.stopPropagation(),v.default.trackMobileSocial(t),g.Monitoring.telemetry(m.TelemetryName.POWERBUTTON_OPEN+t)};t.onCallClick=function(e){h.appDispatchers.setAppIsFocused(1),d.Router.next(f.RouterEvent.ToCall),c.messageActions.deleteUnansweredOfflineSystemInvite(),c.messageActions.offlineSystemInvite(),p.default.openChatCallbacks(),v.default.trackMobileCallClick(),g.Monitoring.telemetry(m.TelemetryName.POWERBUTTON_OPEN_CALLBACK)};t.getTextSize=function(){return s.default.getTextSize()};t.getZoom=function(e){return l.default.desktop()&&(0,o.isChatPage)()?null:e}},67345:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=t.componentProps=void 0;var i=a(n(87672)),o=a(n(59748)),r=a(n(26778)),l=a(n(45697)),u=a(n(75119)),s=a(n(58165)),c=a(n(94184)),d=function(e){var t,n=e.url,a=e.icon,l=(0,c.default)((t={},(0,i.default)(t,r.default.logoIcon,!0),(0,i.default)(t,r.default.__ru,"logo-jivosite-white"===a),t));return o.default.createElement("jdiv",{className:r.default.wrap},o.default.createElement("jdiv",{className:r.default.copyright},o.default.createElement("a",{href:n,target:"_blank",rel:"nofollow noopener"},o.default.createElement("jdiv",null,(0,u.default)("service_from")),o.default.createElement(s.default,{iconName:a,color:"#f00",className:l}))))},f=d.propTypes={url:l.default.string,icon:l.default.string};t.componentProps=f;var h=o.default.memo(d);t.default=h},5777:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(78580)),o=a(n(59748)),r=a(n(45697)),l=function(e){var t=e.children,n=e.allowedRoutes,a=e.currentRoute;return(0,i.default)(n).call(n,a)?o.default.createElement(o.default.Fragment,null,t):null};l.propTypes={children:r.default.oneOfType([r.default.arrayOf(r.default.node),r.default.node,r.default.func]).isRequired,allowedRoutes:r.default.arrayOf(r.default.string).isRequired,currentRoute:r.default.string.isRequired};var u=o.default.memo(l);t.default=u},81790:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=t.componentProps=void 0;var i=a(n(5872)),o=a(n(77766)),r=a(n(87672)),l=a(n(59748)),u=a(n(42607)),s=a(n(45697)),c=a(n(58165)),d=a(n(1330)),f=a(n(6746)),h=a(n(40917)),p=a(n(94184)),g=n(70645),m=n(83093),v=a(n(58061)),_=n(85442),y=a(n(5777)),b=n(99014),w=(a(n(75043)).default.name("PowerButton"),function(e){var t,n,a,s=e.isCallEnabled,w=e.showLogo,E=e.top,C=e.left,T=e.unReadMessages,k=e.popup,S=e.iconColor,I=e.widgetMobileOrientation,A=e.powerButtonColor,x=e.zoom,M=e.linkOverlay,R=e.onOverlayClick,O=e.isOnline,N=e.route,D=e.onClick,L=e.onPopupClick,P=e.onClosePopupClick,j=e.hidden,B=x.user>1.1,F=(t={},(0,r.default)(t,u.default.wrap,!0),(0,r.default)(t,u.default._orientationRight,"right"===I),(0,r.default)(t,u.default._orientationLeft,"left"===I),(0,r.default)(t,u.default._hidden,j),(0,r.default)(t,"__jivoMobileButton",!B),t),H={};B?H.transform=(0,o.default)(n=(0,o.default)(a="translate(".concat(C,"px,")).call(a,E,"px) scale(")).call(n,x.app,")"):1!==x.app&&(H.zoom=x.app);return l.default.createElement("jdiv",(0,i.default)({className:(0,p.default)(F),style:H},(0,g.withLocator)(m.Locator.POWER_BUTTON)),k?l.default.createElement(f.default,{show:!0,popup:k,onOpen:L,onClose:P}):null,M?l.default.createElement("a",{className:u.default.overlay,href:M,target:v.default.chromeIOS()?"_self":"_blank",rel:"nofollow noopener noreferrer",onPointerDown:R}):null,l.default.createElement("jdiv",{className:(0,p.default)((0,r.default)({},u.default.button,!0)),style:{background:A},onPointerDown:D,onTouchStart:function(e){v.default.isPointerEnabled()?e.preventDefault():(D(e),(0,b.reportOpenTelemetry)("from_touch"))}},l.default.createElement(y.default,{allowedRoutes:[_.Route.MOBILE_MENU],currentRoute:N,name:"OmniMenu"},l.default.createElement("jdiv",{className:u.default.menuWrap},l.default.createElement(d.default,{overlay:!v.default.tablet(),hideTitle:!0}),l.default.createElement("jdiv",{className:u.default.buttonsCorner}))),T?l.default.createElement("jdiv",{className:u.default.messagesLabel},l.default.createElement("jdiv",{className:u.default.badge},T)):null,l.default.createElement(y.default,{allowedRoutes:[_.Route.LABEL],currentRoute:N,name:"Icons"},l.default.createElement(h.default,{showLogo:w,isCallEnabled:s,iconColor:S,isOnline:O})),l.default.createElement(y.default,{allowedRoutes:[_.Route.MOBILE_MENU],currentRoute:N,name:"CloseIcon"},l.default.createElement("jdiv",{className:u.default.closeIconWrap},l.default.createElement(c.default,{iconName:"icon-close",color:S,className:u.default.closeIcon})))))}),E=w.propTypes={isCallEnabled:s.default.bool,showLogo:s.default.bool,top:s.default.number,left:s.default.number,unReadMessages:s.default.number,popup:s.default.any,iconColor:s.default.string,widgetMobileOrientation:s.default.string,powerButtonColor:s.default.string,zoom:s.default.any,linkOverlay:s.default.any,onOverlayClick:s.default.func,isOnline:s.default.bool,route:s.default.string,onClick:s.default.func,onPopupClick:s.default.func,onClosePopupClick:s.default.func,hidden:s.default.bool};t.componentProps=E;var C=l.default.memo(w);t.default=C},93031:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(63978)),o=a(n(20368)),r=a(n(39649)),l=a(n(78914)),u=a(n(34074)),s=a(n(20116)),c=a(n(14310)),d=a(n(86902)),f=a(n(1068)),h=a(n(54103)),p=a(n(33032)),g=a(n(87672)),m=a(n(26394)),v=a(n(69198)),_=a(n(51379)),y=a(n(214)),b=a(n(66380)),w=a(n(59748)),E=n(56602),C=a(n(62107)),T=a(n(58061)),k=n(85442),S=n(26213),I=a(n(45697)),A=a(n(81790)),x=a(n(5777)),M=n(99014),R=a(n(46418)),O=a(n(67966));function N(e,t){var n=(0,d.default)(e);if(c.default){var a=(0,c.default)(e);t&&(a=(0,s.default)(a).call(a,(function(t){return(0,u.default)(e,t).enumerable}))),n.push.apply(n,a)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)(0,l.default)(n=N(Object(a),!0)).call(n,(function(t){(0,g.default)(e,t,a[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(a));else{var s;(0,l.default)(s=N(Object(a))).call(s,(function(t){(0,i.default)(e,t,(0,u.default)(a,t))}))}}return e}function L(e){var t=function(){if("undefined"==typeof Reflect||!f.default)return!1;if(f.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,f.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,b.default)(e);if(t){var i=(0,b.default)(this).constructor;n=(0,f.default)(a,arguments,i)}else n=a.apply(this,arguments);return(0,y.default)(this,n)}}a(n(75043)).default.name("PowerButtonContainer");var P=function(e){(0,_.default)(n,e);var t=L(n);function n(e){var a;return(0,m.default)(this,n),(a=t.call(this,e)).state=D(D({hidden:!1},(0,M.getPosition)(e.zoom.user)),{},{proactive:null}),a.interval=null,a}return(0,v.default)(n,[{key:"onViewportChanged",value:function(){var e=this;clearTimeout(this.interval);var t=this.props.zoom.user;this.setState(D({hidden:t>=1.1},(0,M.getPosition)(t,this.props.widgetMobileOrientation))),this.interval=(0,p.default)((function(){e.setState({hidden:!1})}),200)}},{key:"componentDidMount",value:function(){var e,t=this,n=C.default.throttle((0,h.default)(e=this.onViewportChanged).call(e,this),200),a=(0,E.getPageWindow)();(0,E.addListener)(a,"scroll",n,!0),(0,E.addListener)(a,"resize",n,!0),a.visualViewport&&a.visualViewport.addEventListener&&!T.default.ios()&&((0,E.addListener)(a.visualViewport,"scroll",n,!0),(0,E.addListener)(a.visualViewport,"resize",n,!0));var i=new R.default;(0,E.addListener)(a,"popstate",(function(e){i.checkPopState(e,t.props.route)})),this.setState(D({hidden:!1},(0,M.getPosition)(this.props.zoom.user))),O.default.on("all",(function(){var e=O.default.toJSON();t.setState({proactive:e})})),O.default.on("destroy",(function(){t.setState({proactive:null})}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.powerButtonColor,a=t.powerGradient,i=t.color,o=t.color2,r=t.isOnline,l=t.widgetMobileOrientation,u=t.route,s=t.callHeaderText,c=t.zoom,d=t.mobileProactive,f=t.iMessageSettings,h=t.messages,p=this.state,g=p.left,m=p.top,v=p.hidden,_=T.default.tablet()?[k.Route.LABEL,k.Route.MOBILE_MENU]:[k.Route.LABEL];return u===k.Route.HIDDEN||c.user>2||(0,E.isCustomLabel)()||(0,E.isChatPage)()?null:w.default.createElement(x.default,{allowedRoutes:_,currentRoute:this.props.route,name:"PowerButton"},w.default.createElement(A.default,{hidden:v,isCallEnabled:(0,M.getIsCallEnabled)(),showMenu:!1,showLogo:(0,E.showAd)(),top:m,left:g,unReadMessages:(0,M.getUnreadMessages)(h),popup:(0,M.getPopup)(d,this.state.proactive),iconColor:(0,M.getIconColor)(n,a,i),widgetMobileOrientation:l,powerButtonColor:(0,M.getPowerButtonColor)(n,a,i,o),zoom:c,isOnline:r,route:u,onClick:function(e){(0,M.openMenuClick)(e,u,s)},linkOverlay:(0,M.getOverlay)(f),onOverlayClick:M.onOverlayClick,onPopupClick:function(e){(0,M.openMenuClick)(e,u,s,!0)},onClosePopupClick:function(){(0,M.onClosePopupClick)(),e.setState({proactive:null})}}))}}]),n}(w.default.PureComponent);P.propTypes={powerButtonColor:I.default.string,color:I.default.string,color2:I.default.string,powerGradient:I.default.bool,widgetMobileOrientation:I.default.string,route:I.default.string,callHeaderText:I.default.string,messages:I.default.arrayOf(I.default.any),isOnline:I.default.bool,zoom:I.default.any,proactive:I.default.any,mobileProactive:I.default.bool,iMessageSettings:I.default.any};var j=(0,S.connect)((function(e){return{powerButtonColor:e.settings.user.powerButtonColor,color:e.settings.user.widgetColor,color2:e.settings.user.widgetColor2,powerGradient:e.settings.user.powerGradient,widgetMobileOrientation:e.settings.user.widgetMobileOrientation,route:e.app.route,callHeaderText:e.settings.user.callHeaderText,messages:e.messages,isOnline:e.app.isOnline,zoom:e.zoom,proactive:e.proactive,mobileProactive:e.settings.features.mobileProactive,iMessageSettings:e.settings.features.joint&&e.settings.features.joint.im||null}}),{})(P);t.default=j},99014:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.onClosePopupClick=t.getPopup=t.onOverlayClick=t.getOverlay=t.openMenuClick=t.handleUnreadClick=t.reportOpenTelemetry=t.handleOpenMenuClick=t.handleButtonClick=t.addHistory=t.getPosition=t.getUnreadMessages=t.getIsCallEnabled=t.getIconColor=t.getPowerButtonColor=void 0;var i=a(n(78914)),o=a(n(86999)),r=n(37916),l=n(56602),u=n(75245),s=a(n(68806)),c=a(n(58061)),d=n(17674),f=n(85442),h=n(81189),p=a(n(47321)),g=n(33367),m=n(63242),v=a(n(6991)),_=a(n(46418)),y=a(n(67966)),b=a(n(5972)),w=n(37607),E=n(8565);a(n(75043)).default.name("PowerBtnHelpers");t.getPowerButtonColor=function(e,t,n,a){return t?o.default.getGradientBg(n,a):e};t.getIconColor=function(e,t,n){return(t?o.default.isLightColor(n):o.default.isLightColor(e))?"#3e414f":"#fff"};t.getIsCallEnabled=function(){return r.CallbackUtils.isCallbackEnabled()};var C=function(e){var t=y.default.get("text")&&"read"!==y.default.get("status");return function(e){if(!e)return 0;var t=0;return(0,i.default)(e).call(e,(function(e){e.from===E.MessageInitiator.AGENT&&e.status!==E.MessageStatus.READ&&e.status!==E.MessageStatus.DELETED&&t++})),t}(e)+(t?1:0)};t.getUnreadMessages=C;t.getPosition=function(e,t){var n=(0,l.getPageWindow)().visualViewport,a="left"===t,i=s.default.isSiteOptimizedForMobile?-15:15;if(n&&e>=1.1){var o=s.default.getPseudo(),r=o&&o.getBoundingClientRect().height||0,u=o&&o.getBoundingClientRect().width||0,c=n.width-u+n.offsetLeft,d=n.offsetLeft+i*e,f=a?d:c;return{top:n.height-r+n.offsetTop-i,left:f-i}}return{left:null,top:null}};var T=function(){if(window.history&&"function"==typeof window.history.pushState&&c.default.mobileOrTablet()){var e=_.default.getInstance();e&&e.setHistoryState()}};t.addHistory=T;var k=function(){h.appDispatchers.setAppIsFocused(1),d.Router.next(f.RouterEvent.Navigate),u.messageActions.deleteUnansweredOfflineSystemInvite(),u.messageActions.offlineSystemInvite(),u.messageActions.addPrechatMessage(),p.default.openChatCallbacks(),I("from_pwr")};t.handleButtonClick=k;var S=function(){p.default.chatOpenByClient=!1,d.Router.next(f.RouterEvent.ToMobileMenu),g.Monitoring.telemetry(m.TelemetryName.POWERBUTTON_OPEN_MENU,{param1:"menu",param2:c.default.isPointerEnabled()?1:0,param3:(0,l.getPageWindow)().navigator.userAgent})};t.handleOpenMenuClick=S;var I=function(e){var t={};e&&(t.param1=e,t.param2=c.default.isPointerEnabled()?1:0,t.param3=(0,l.getPageWindow)().navigator.userAgent),g.Monitoring.telemetry(m.TelemetryName.WIDGET_CLICK,t)};t.reportOpenTelemetry=I;var A=function(e,t){h.appDispatchers.setAppIsFocused(1),e?d.Router.next(f.RouterEvent.ToCall):d.Router.next(f.RouterEvent.ToChat),p.default.openChatCallbacks(),y.default.get("text")&&"read"!==y.default.get("status")&&y.default.set("status","read"),I(t?"from_popup":null)};t.handleUnreadClick=A;t.openMenuClick=function(e,t,n,a){e.preventDefault();var i=v.default.getJoints();t!==f.Route.MOBILE_MENU?(p.default.chatOpenByClient=!0,C()?A(n,a):i.count>0?S():k(),e.stopPropagation()):d.Router.next(f.RouterEvent.CloseWindow),T()};t.getOverlay=function(e){return!!(c.default.supportsIMessage()&&e&&e.joint_id)&&(0,w.getIMessageLink)(e.joint_id)};t.onOverlayClick=function(e){e.stopPropagation(),g.Monitoring.telemetry(m.TelemetryName.POWERBUTTON_OPEN+"im")};t.getPopup=function(e,t){return e?t&&t.text&&t.status!==E.MessageStatus.READ?{text:t.text,agent:t.body}:void 0:null};t.onClosePopupClick=function(){y.default.get("text")&&y.default.get("status")!==E.MessageStatus.READ&&y.default.set("status",E.MessageStatus.READ),b.default.set("close_time",(new Date).getTime()),g.Monitoring.telemetry(m.TelemetryName.INVITE_CLOSE)}},40917:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=t.componentProps=void 0;var i=a(n(63978)),o=a(n(20368)),r=a(n(39649)),l=a(n(78914)),u=a(n(34074)),s=a(n(20116)),c=a(n(14310)),d=a(n(86902)),f=a(n(87672)),h=a(n(59748)),p=a(n(40947)),g=a(n(45697)),m=a(n(58165)),v=a(n(94184));function _(e,t){var n=(0,d.default)(e);if(c.default){var a=(0,c.default)(e);t&&(a=(0,s.default)(a).call(a,(function(t){return(0,u.default)(e,t).enumerable}))),n.push.apply(n,a)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)(0,l.default)(n=_(Object(a),!0)).call(n,(function(t){(0,f.default)(e,t,a[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(a));else{var s;(0,l.default)(s=_(Object(a))).call(s,(function(t){(0,i.default)(e,t,(0,u.default)(a,t))}))}}return e}a(n(75043)).default.name("PowerButtonIcons");var b=function(e){var t,n=e.showLogo,a=e.isCallEnabled,i=e.iconColor,o=e.isOnline,r=(t={},(0,f.default)(t,p.default.iconWrap,!0),(0,f.default)(t,p.default._isCallEnabled,a),(0,f.default)(t,p.default._showLogo,n),t),l=function(e){var t=o?"mobile-cloud":"envelope",n=o?p.default.logoIconCloud:p.default.envelopeIcon;return h.default.createElement(m.default,{iconName:t,color:e,className:(0,v.default)(n,p.default.icons)})},u=function(){return a?h.default.createElement("jdiv",{className:(0,v.default)(y(y({},r),{},(0,f.default)({},p.default.iconWrap2,!0)))},l(i)):null};return h.default.createElement(h.default.Fragment,null,h.default.createElement(h.default.Fragment,null,h.default.createElement("jdiv",{className:(0,v.default)(y({},r))},n?h.default.createElement(m.default,{iconName:"logo-j-white",className:(0,v.default)(p.default.jivoIcon,p.default.icons),color:i}):null,a?null:l(i)),u()),a?h.default.createElement("jdiv",{className:(0,v.default)(y(y({},r),{},(0,f.default)({},p.default.iconWrap3,!0)))},h.default.createElement(m.default,{iconName:"callback-btn",color:i,className:(0,v.default)(p.default.callbackIcon,p.default.icons)})):null)},w=b.propTypes={showLogo:g.default.bool,isCallEnabled:g.default.bool,isOnline:g.default.bool,iconColor:g.default.string};t.componentProps=w;var E=h.default.memo(b);t.default=E},92945:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(26394)),r=a(n(69198)),l=a(n(51379)),u=a(n(214)),s=a(n(66380)),c=a(n(59748)),d=a(n(59592)),f=a(n(45808)),h=n(21224),p=a(n(58061)),g=a(n(62904)),m=a(n(93031)),v=a(n(58744)),_=a(n(48309)),y=n(44992),b=a(n(51017)),w=a(n(50380)),E=a(n(46707)),C=n(43472),T=n(26213),k=a(n(75043)),S=n(56602);function I(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,s.default)(e);if(t){var o=(0,s.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}k.default.name("RootComponent");var A=function(e){(0,l.default)(n,e);var t=I(n);function n(e){return(0,o.default)(this,n),t.call(this,e)}return(0,r.default)(n,[{key:"renderLabel",value:function(){return p.default.desktop()?c.default.createElement(E.default,null):null}},{key:"renderWidgetContainer",value:function(){return p.default.mobileOrTablet()||(0,S.isChatPage)()?null:c.default.createElement(b.default,{ref:function(e){e&&f.default.set(h.Component.WIDGET_CONTAINER,e)}})}},{key:"renderSoundPlayer",value:function(){return y.WebAudioDisabled?c.default.createElement(_.default,{sounds:y.Sounds}):null}},{key:"renderCallbackButton",value:function(){return g.default.callback_settings.button&&!p.default.mobileOrTablet()&&!(0,S.isChatPage)()?c.default.createElement(v.default,null):null}},{key:"renderPowerButton",value:function(){return p.default.mobileOrTablet()&&window.parent===window.top?c.default.createElement(m.default,null):null}},{key:"renderMouseTrack",value:function(){return p.default.mobileOrTablet()?null:c.default.createElement("jdiv",{className:d.default.jivoMouseTrack,ref:function(e){e&&f.default.set(h.Component.MOUSE_TRACK,e)}})}},{key:"renderMobileContainer",value:function(){return p.default.mobileOrTablet()||(0,S.isChatPage)()?c.default.createElement(w.default,null):null}},{key:"render",value:function(){return c.default.createElement(T.Provider,{store:C.reduxStore},c.default.createElement("jdiv",{className:d.default.globalClass},this.renderCallbackButton(),this.renderPowerButton(),this.renderMobileContainer(),this.renderLabel(),this.renderSoundPlayer(),this.renderWidgetContainer(),c.default.createElement("jdiv",{className:d.default.pseudoHeight}),this.renderMouseTrack()))}}]),n}(c.default.Component);t.default=A},20748:function(e,t,n){"use strict";var a=n(87646),i=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(63978)),r=i(n(20368)),l=i(n(39649)),u=i(n(78914)),s=i(n(34074)),c=i(n(20116)),d=i(n(14310)),f=i(n(86902)),h=i(n(1068)),p=i(n(31581)),g=i(n(33032)),m=i(n(81643)),v=i(n(54103)),_=i(n(77766)),y=i(n(26394)),b=i(n(69198)),w=i(n(5824)),E=i(n(51379)),C=i(n(214)),T=i(n(66380)),k=i(n(5872)),S=i(n(87672)),I=i(n(80122)),A=a(n(59748)),x=i(n(60021)),M=n(56602),R=n(99112),O=a(n(54087)),N=i(n(53879)),D=n(14186);function L(e){var t=function(){if("undefined"==typeof Reflect||!h.default)return!1;if(h.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,h.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,T.default)(e);if(t){var i=(0,T.default)(this).constructor;n=(0,h.default)(a,arguments,i)}else n=a.apply(this,arguments);return(0,C.default)(this,n)}}function P(e,t){var n=(0,f.default)(e);if(d.default){var a=(0,d.default)(e);t&&(a=(0,c.default)(a).call(a,(function(t){return(0,s.default)(e,t).enumerable}))),n.push.apply(n,a)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)(0,u.default)(n=P(Object(a),!0)).call(n,(function(t){(0,S.default)(e,t,a[t])}));else if(l.default)(0,r.default)(e,(0,l.default)(a));else{var i;(0,u.default)(i=P(Object(a))).call(i,(function(t){(0,o.default)(e,t,(0,s.default)(a,t))}))}}return e}var B,F,H=function(){return"string"==typeof maybe},W=function(){return!1};Math.easeInOutQuad=function(e,t,n,a){return(e/=a/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t};var U=function(e){(0,E.default)(n,e);var t=L(n);function n(e){var a,i,o,r,l,u,s,c,d,f,h,p,g,m,b,E,C,T,k,S,I,A,x,M,R,O,N,D,L,P,j;(0,y.default)(this,n);for(var B=arguments.length,F=new Array(B>1?B-1:0),H=1;H<B;H++)F[H-1]=arguments[H];return(j=t.call.apply(t,(0,_.default)(a=[this,e]).call(a,F))).getScrollLeft=(0,v.default)(i=j.getScrollLeft).call(i,(0,w.default)(j)),j.getScrollTop=(0,v.default)(o=j.getScrollTop).call(o,(0,w.default)(j)),j.getScrollWidth=(0,v.default)(r=j.getScrollWidth).call(r,(0,w.default)(j)),j.getScrollHeight=(0,v.default)(l=j.getScrollHeight).call(l,(0,w.default)(j)),j.getClientWidth=(0,v.default)(u=j.getClientWidth).call(u,(0,w.default)(j)),j.getClientHeight=(0,v.default)(s=j.getClientHeight).call(s,(0,w.default)(j)),j.getValues=(0,v.default)(c=j.getValues).call(c,(0,w.default)(j)),j.getThumbHorizontalWidth=(0,v.default)(d=j.getThumbHorizontalWidth).call(d,(0,w.default)(j)),j.getThumbVerticalHeight=(0,v.default)(f=j.getThumbVerticalHeight).call(f,(0,w.default)(j)),j.getScrollLeftForOffset=(0,v.default)(h=j.getScrollLeftForOffset).call(h,(0,w.default)(j)),j.getScrollTopForOffset=(0,v.default)(p=j.getScrollTopForOffset).call(p,(0,w.default)(j)),j.getScrollDiff=(0,v.default)(g=j.getScrollDiff).call(g,(0,w.default)(j)),j.scrollLeft=(0,v.default)(m=j.scrollLeft).call(m,(0,w.default)(j)),j.scrollTop=(0,v.default)(b=j.scrollTop).call(b,(0,w.default)(j)),j.scrollToLeft=(0,v.default)(E=j.scrollToLeft).call(E,(0,w.default)(j)),j.scrollToTop=(0,v.default)(C=j.scrollToTop).call(C,(0,w.default)(j)),j.scrollToRight=(0,v.default)(T=j.scrollToRight).call(T,(0,w.default)(j)),j.scrollToBottom=(0,v.default)(k=j.scrollToBottom).call(k,(0,w.default)(j)),j.handleTrackMouseEnter=(0,v.default)(S=j.handleTrackMouseEnter).call(S,(0,w.default)(j)),j.handleTrackMouseLeave=(0,v.default)(I=j.handleTrackMouseLeave).call(I,(0,w.default)(j)),j.handleHorizontalTrackMouseDown=(0,v.default)(A=j.handleHorizontalTrackMouseDown).call(A,(0,w.default)(j)),j.handleVerticalTrackMouseDown=(0,v.default)(x=j.handleVerticalTrackMouseDown).call(x,(0,w.default)(j)),j.handleHorizontalThumbMouseDown=(0,v.default)(M=j.handleHorizontalThumbMouseDown).call(M,(0,w.default)(j)),j.handleVerticalThumbMouseDown=(0,v.default)(R=j.handleVerticalThumbMouseDown).call(R,(0,w.default)(j)),j.handleWindowResize=(0,v.default)(O=j.handleWindowResize).call(O,(0,w.default)(j)),j.handleScroll=(0,v.default)(N=j.handleScroll).call(N,(0,w.default)(j)),j.handleMouseWheel=(0,v.default)(D=j.handleMouseWheel).call(D,(0,w.default)(j)),j.handleDrag=(0,v.default)(L=j.handleDrag).call(L,(0,w.default)(j)),j.handleDragEnd=(0,v.default)(P=j.handleDragEnd).call(P,(0,w.default)(j)),j.state={didMountUniversal:!1},j.ignore=!1,j.callbackCounter=0,j.view={},j}return(0,b.default)(n,[{key:"componentDidMount",value:function(){this.addListeners(),this.update(),this.componentDidMountUniversal()}},{key:"componentDidMountUniversal",value:function(){this.props.universal&&this.setState({didMountUniversal:!0})}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"componentWillUnmount",value:function(){this.removeListeners(),this.requestFrame&&(0,O.cancel)(this.requestFrame),clearTimeout(this.hideTracksTimeout),clearInterval(this.detectScrollingInterval)}},{key:"setIgnore",value:function(e){this.ignore=e}},{key:"getIgnore",value:function(){return this.ignore}},{key:"getScrollLeft",value:function(){return this.view?this.view.scrollLeft:0}},{key:"getScrollTop",value:function(){return this.view.scrollTop}},{key:"getScrollWidth",value:function(){return this.view.scrollWidth}},{key:"getScrollHeight",value:function(){return this.view.scrollHeight}},{key:"getScrollDiff",value:function(){return this.getScrollHeight()-this.getScrollTop()-this.getClientHeight()}},{key:"hasScroll",value:function(){return this.getScrollHeight()>this.getClientHeight()}},{key:"getClientWidth",value:function(){return this.view.clientWidth}},{key:"getClientHeight",value:function(){return this.view.clientHeight}},{key:"getValues",value:function(){var e=this.view,t=e.scrollLeft,n=e.scrollTop,a=e.scrollWidth,i=e.scrollHeight,o=e.clientWidth,r=e.clientHeight;return{left:t/(a-o)||0,top:n/(i-r)||0,scrollLeft:t,scrollTop:n,scrollWidth:a,scrollHeight:i,clientWidth:o,clientHeight:r}}},{key:"getThumbHorizontalWidth",value:function(){var e=this.props,t=e.thumbSize,n=e.thumbMinSize,a=this.view,i=a.scrollWidth,o=a.clientWidth,r=(0,R.getInnerWidth)(this.trackHorizontal),l=Math.ceil(o/i*r);return r===l?0:t||Math.max(l,n)}},{key:"getThumbVerticalHeight",value:function(){var e=this.props,t=e.thumbSize,n=e.thumbMinSize,a=this.view,i=a.scrollHeight,o=a.clientHeight,r=(0,R.getInnerHeight)(this.trackVertical),l=Math.ceil(o/i*r);return r===l?0:t||Math.max(l,n)}},{key:"getScrollLeftForOffset",value:function(e){var t=this.view,n=t.scrollWidth,a=t.clientWidth;return e/((0,R.getInnerWidth)(this.trackHorizontal)-this.getThumbHorizontalWidth())*(n-a)}},{key:"getScrollTopForOffset",value:function(e){var t=this.view,n=t.scrollHeight,a=t.clientHeight;return e/((0,R.getInnerHeight)(this.trackVertical)-this.getThumbVerticalHeight())*(n-a)}},{key:"scrollLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.view.scrollLeft=e}},{key:"scrollTop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.view.scrollTop=e}},{key:"scrollToLeft",value:function(){this.view.scrollLeft=0}},{key:"scrollToTop",value:function(){this.view.scrollTop=0}},{key:"scrollToRight",value:function(){this.view.scrollLeft=this.view.scrollWidth}},{key:"scrollToBottom",value:function(){if(this.hasScroll()){var e=this.getScrollHeight();this.view.scrollTop=0!==e?this.view.scrollHeight:e}}},{key:"setBottomPosition",value:function(){B=this.view.childNodes[0].clientHeight-(this.container.parentNode.clientHeight||254),this.view.style.bottom=B+"px"}},{key:"addListeners",value:function(){if("undefined"!=typeof document){var e=this.view,t=this.trackHorizontal,n=this.trackVertical,a=this.thumbHorizontal,i=this.thumbVertical,o=this.container;if((0,M.addListener)(e,"scroll",this.handleScroll,!0),(0,M.addListener)(e,"mousewheel",this.handleMouseWheel),(0,R.getScrollBarWidth)()){var r;if(t&&(t.addEventListener("mouseenter",this.handleTrackMouseEnter),t.addEventListener("mouseleave",this.handleTrackMouseLeave),t.addEventListener("mousedown",this.handleHorizontalTrackMouseDown)),o)o.addEventListener("mouseenter",(0,v.default)(r=this.handleTrackCheckHide).call(r,this));n&&(n.addEventListener("mouseenter",this.handleTrackMouseEnter),n.addEventListener("mouseleave",this.handleTrackMouseLeave),n.addEventListener("mousedown",this.handleVerticalTrackMouseDown)),a&&a.addEventListener("mousedown",this.handleHorizontalThumbMouseDown),i&&i.addEventListener("mousedown",this.handleVerticalThumbMouseDown),window.addEventListener("resize",this.handleWindowResize)}}}},{key:"removeListeners",value:function(){if("undefined"!=typeof document){var e=this.view,t=this.trackHorizontal,n=this.trackVertical,a=this.thumbHorizontal,i=this.thumbVertical;e.removeEventListener("scroll",this.handleScroll),e.removeEventListener("mousewheel",this.handleMouseWheel),(0,R.getScrollBarWidth)()&&(t&&(t.removeEventListener("mouseenter",this.handleTrackMouseEnter),t.removeEventListener("mouseleave",this.handleTrackMouseLeave),t.removeEventListener("mousedown",this.handleHorizontalTrackMouseDown)),n&&(n.removeEventListener("mouseenter",this.handleTrackMouseEnter),n.removeEventListener("mouseleave",this.handleTrackMouseLeave),n.removeEventListener("mousedown",this.handleVerticalTrackMouseDown)),a&&a.removeEventListener("mousedown",this.handleHorizontalThumbMouseDown),i&&i.removeEventListener("mousedown",this.handleVerticalThumbMouseDown),window.removeEventListener("resize",this.handleWindowResize),this.teardownDragging())}}},{key:"handleScroll",value:function(e){var t=this,n=this.props,a=n.onScroll,i=n.onScrollFrame;a&&a(e),this.update((function(e){var n=e.scrollLeft,a=e.scrollTop;t.viewScrollLeft=n,t.viewScrollTop=a,i&&i(e)})),this.detectScrolling()}},{key:"handleTouchMove",value:function(e){var t;if(-1===(0,m.default)(t=["INPUT","TEXTAREA"]).call(t,e.target.tagName)){e.stopPropagation(),e.preventDefault();var n=this.view.childNodes[0].clientHeight-this.container.parentNode.clientHeight,a=B-(e.touches[0].pageY+F);n>a&&0<a&&(B-=e.touches[0].pageY+F,this.view.style.bottom=B+"px")}}},{key:"handleTouchStart",value:function(e){var t;-1===(0,m.default)(t=["INPUT","TEXTAREA","A"]).call(t,e.target.tagName)&&(e.stopPropagation(),e.preventDefault(),F=-1*e.touches[0].pageY)}},{key:"handleMouseWheel",value:function(e){e.stopPropagation();var t=e.wheelDelta||e.originalEvent&&e.originalEvent.wheelDelta||-e.detail,n=this.view.scrollTop+this.view.clientHeight-this.view.scrollHeight>=0,a=this.view.scrollTop<=0;(t<0&&n||t>0&&a)&&e.preventDefault()}},{key:"handleScrollStart",value:function(){var e=this.props.onScrollStart;e&&e(),this.handleScrollStartAutoHide()}},{key:"handleScrollStartAutoHide",value:function(){this.props.autoHide&&this.showTracks()}},{key:"handleScrollStop",value:function(){var e=this.props.onScrollStop;e&&e(),this.handleScrollStopAutoHide()}},{key:"handleScrollStopAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"handleWindowResize",value:function(){this.update()}},{key:"handleHorizontalTrackMouseDown",value:function(e){e.preventDefault();var t=e.target,n=e.clientX,a=t.getBoundingClientRect().left,i=this.getThumbHorizontalWidth(),o=Math.abs(a-n)-i/2;this.view.scrollLeft=this.getScrollLeftForOffset(o)}},{key:"handleVerticalTrackMouseDown",value:function(e){e.preventDefault();var t=e.target,n=e.clientY,a=t.getBoundingClientRect().top,i=this.getThumbVerticalHeight(),o=Math.abs(a-n)-i/2;this.view.scrollTop=this.getScrollTopForOffset(o)}},{key:"handleHorizontalThumbMouseDown",value:function(e){e.preventDefault(),this.handleDragStart(e);var t=e.target,n=e.clientX,a=t.offsetWidth,i=t.getBoundingClientRect().left;this.prevPageX=a-(n-i)}},{key:"handleVerticalThumbMouseDown",value:function(e){e.preventDefault(),this.handleDragStart(e);var t=e.target,n=e.clientY,a=t.offsetHeight,i=t.getBoundingClientRect().top;this.prevPageY=a-(n-i)}},{key:"setupDragging",value:function(){var e=(0,M.getPageWindow)().document;(0,N.default)(e.body,D.disableSelectStyle),e.addEventListener("mousemove",this.handleDrag),e.addEventListener("mouseup",this.handleDragEnd),e.onselectstart=W}},{key:"teardownDragging",value:function(){var e=(0,M.getPageWindow)().document;(0,N.default)(e.body,D.disableSelectStyleReset),e.removeEventListener("mousemove",this.handleDrag),e.removeEventListener("mouseup",this.handleDragEnd),e.onselectstart=void 0}},{key:"handleDragStart",value:function(e){this.dragging=!0,e.stopImmediatePropagation(),this.setupDragging()}},{key:"handleDrag",value:function(e){if(this.prevPageX){var t=e.clientX,n=-this.trackHorizontal.getBoundingClientRect().left+t-(this.getThumbHorizontalWidth()-this.prevPageX);this.view.scrollLeft=this.getScrollLeftForOffset(n)}if(this.prevPageY){var a=e.clientY,i=-this.trackVertical.getBoundingClientRect().top+a-(this.getThumbVerticalHeight()-this.prevPageY);this.view.scrollTop=this.getScrollTopForOffset(i)}return!1}},{key:"handleDragEnd",value:function(){this.dragging=!1,this.prevPageX=this.prevPageY=0,this.teardownDragging(),this.handleDragEndAutoHide()}},{key:"handleDragEndAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"handleTrackCheckHide",value:function(){this.props.autoHide&&this.view&&this.trackVertical&&(this.hasScroll()?this.showTracks():(0,N.default)(this.trackVertical,{opacity:0}))}},{key:"handleTrackMouseEnter",value:function(){this.hasScroll()&&(this.trackMouseOver=!0,this.handleTrackMouseEnterAutoHide())}},{key:"handleTrackMouseEnterAutoHide",value:function(){this.props.autoHide&&this.showTracks()}},{key:"handleTrackMouseLeave",value:function(){this.dragging||(this.trackMouseOver=!1,this.handleTrackMouseLeaveAutoHide())}},{key:"handleTrackMouseLeaveAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"showTracks",value:function(){clearTimeout(this.hideTracksTimeout),this.trackHorizontal&&(0,N.default)(this.trackHorizontal,{opacity:1}),(0,N.default)(this.trackVertical,{opacity:1})}},{key:"hideTracks",value:function(){var e=this;if(!this.dragging&&!this.scrolling&&!this.trackMouseOver){var t=this.props.autoHideTimeout;clearTimeout(this.hideTracksTimeout),this.hideTracksTimeout=(0,g.default)((function(){e.trackHorizontal&&(0,N.default)(e.trackHorizontal,{opacity:0}),(0,N.default)(e.trackVertical,{opacity:0})}),t)}}},{key:"detectScrolling",value:function(){var e=this;this.scrolling||(this.scrolling=!0,this.handleScrollStart(),this.detectScrollingInterval=(0,p.default)((function(){e.lastViewScrollLeft===e.viewScrollLeft&&e.lastViewScrollTop===e.viewScrollTop&&(clearInterval(e.detectScrollingInterval),e.scrolling=!1,e.handleScrollStop()),e.lastViewScrollLeft=e.viewScrollLeft,e.lastViewScrollTop=e.viewScrollTop}),100))}},{key:"raf",value:function(e){var t=this;this.requestFrame&&(0,O.cancel)(this.requestFrame);var n=this.enableFallback?(0,M.getPageWindow)().requestAnimationFrame:O.default;this.requestFrame=n((function(){t.requestFrame=void 0,t.callbackCounter++,e()}))}},{key:"update",value:function(e){var t=this;this.raf((function(){return t._update(e)})),(0,g.default)((function(){var e=(0,M.getPageWindow)();!t.callbackCounter&&e.requestAnimationFrame&&(t.enableFallback=!0)}),1e3)}},{key:"_update",value:function(e){var t=this.props,n=t.onUpdate,a=t.hideTracksWhenNotNeeded;if(this.view){var i=this.getValues();if((0,R.getScrollBarWidth)()){if(this.trackHorizontal){var o=i.scrollLeft,r=i.clientWidth,l=i.scrollWidth,u=(0,R.getInnerWidth)(this.trackHorizontal),s=this.getThumbHorizontalWidth();"translateX(".concat(o/(l-r)*(u-s),"px)")}var c=i.scrollTop,d=i.clientHeight,f=i.scrollHeight,h=(0,R.getInnerHeight)(this.trackVertical),p=this.getThumbVerticalHeight(),g={height:p,transform:"translateY(".concat(c/(f-d)*(h-p),"px)")};if(a){if(this.trackHorizontal){var m={visibility:scrollWidth>clientWidth?"visible":"hidden"};(0,N.default)(this.trackHorizontal,m)}var v={visibility:f>d?"visible":"hidden"};(0,N.default)(this.trackVertical,v)}this.thumbHorizontal&&(0,N.default)(this.thumbHorizontal,thumbHorizontalStyle),(0,N.default)(this.thumbVertical,g)}n&&n(i),"function"==typeof e&&e(i)}}},{key:"render",value:function(){var e,t,n=this,a=(0,R.getScrollBarWidth)(),i=this.props,o=(i.onScroll,i.onScrollFrame,i.onScrollStart,i.onScrollStop,i.onUpdate,i.renderView),r=i.renderTrackHorizontal,l=i.renderTrackVertical,u=i.renderThumbHorizontal,s=i.renderThumbVertical,c=i.tagName,d=(i.hideTracksWhenNotNeeded,i.autoHide),f=(i.autoHideTimeout,i.autoHideDuration),h=(i.thumbSize,i.thumbMinSize,i.onlyY),p=i.universal,g=i.autoHeight,m=i.autoHeightMin,v=i.autoHeightMax,y=(i.scrollMarginTop,i.railClass,i.position),b=i.style,w=i.children,E=(0,I.default)(i,["onScroll","onScrollFrame","onScrollStart","onScrollStop","onUpdate","renderView","renderTrackHorizontal","renderTrackVertical","renderThumbHorizontal","renderThumbVertical","tagName","hideTracksWhenNotNeeded","autoHide","autoHideTimeout","autoHideDuration","thumbSize","thumbMinSize","onlyY","universal","autoHeight","autoHeightMin","autoHeightMax","scrollMarginTop","railClass","position","style","children"]),C=this.state.didMountUniversal,T=j(j(j({},D.containerStyleDefault),g&&j(j({},D.containerStyleAutoHeight),{},{minHeight:m,maxHeight:v})),b),k=j(j(j(j({},D.viewStyleDefault),{},{display:"block",marginRight:a?-a:0,marginBottom:!h&&a?-a:0},g&&j(j({},D.viewStyleAutoHeight),{},{minHeight:H()?(0,_.default)(e="calc(".concat(m," + ")).call(e,a,"px)"):m+a,maxHeight:H()?(0,_.default)(t="calc(".concat(v," + ")).call(t,a,"px)"):v+a})),g&&p&&!C&&{minHeight:m,maxHeight:v}),p&&!C&&D.viewStyleUniversalInitial);y&&(k.position=y),h&&(k.overflowX="hidden",k.overflowY="scroll");var S={transition:"opacity ".concat(f,"ms"),opacity:0},x=j(j(j({},D.trackHorizontalStyleDefault),d&&S),(!a||p&&!C)&&{display:"none"}),M=j(j(j({},D.trackVerticalStyleDefault),d&&S),(!a||p&&!C)&&{display:"none"}),O=[(0,A.cloneElement)(o({style:k}),{key:"view",ref:function(e){n.view=e}},w)];return h||O.push((0,A.cloneElement)(r({style:x}),{key:"trackHorizontal",ref:function(e){n.trackHorizontal=e}},(0,A.cloneElement)(u({style:D.thumbHorizontalStyleDefault}),{ref:function(e){n.thumbHorizontal=e}}))),O.push((0,A.cloneElement)(l({style:M},this.props.scrollMarginTop,this.props.railClass),{key:"trackVertical",ref:function(e){n.trackVertical=e}},(0,A.cloneElement)(s({style:D.thumbVerticalStyleDefault}),{ref:function(e){n.thumbVertical=e}}))),(0,A.createElement)(c,j(j({},E),{},{style:T,ref:function(e){n.container=e}}),O)}}]),n}(x.default);t.default=U,U.defaultProps={renderView:function(e){return A.default.createElement("jdiv",e)},renderTrackHorizontal:function(e){var t=e.style,n=(0,I.default)(e,["style"]),a=j(j({},t),{},{right:2,bottom:2,left:2,borderRadius:3});return A.default.createElement("jdiv",(0,k.default)({style:a},n))},renderTrackVertical:function(e,t,n){var a=e.style,i=(0,I.default)(e,["style"]),o=j(j({},a),{},{right:3,bottom:2,top:t||2,borderRadius:4,width:8});return A.default.createElement("jdiv",(0,k.default)({className:n,style:o},i))},renderThumbHorizontal:function(e){var t=e.style,n=(0,I.default)(e,["style"]),a=j(j({},t),{},{cursor:"pointer",borderRadius:"inherit",backgroundColor:"#d6dce4"});return A.default.createElement("jdiv",(0,k.default)({style:a},n))},renderThumbVertical:function(e){var t=e.style,n=(0,I.default)(e,["style"]),a=j(j({},t),{},{cursor:"pointer",borderRadius:"inherit",backgroundColor:"#d6d4d4"});return A.default.createElement("jdiv",(0,k.default)({style:a},n))},tagName:"jdiv",thumbMinSize:30,hideTracksWhenNotNeeded:!0,autoHide:!1,autoHideTimeout:1e3,autoHideDuration:200,autoHeight:!1,autoHeightMin:0,autoHeightMax:200,onlyY:!0,universal:!1,railClass:"null"}},14186:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.disableSelectStyleReset=t.disableSelectStyle=t.thumbVerticalStyleDefault=t.thumbHorizontalStyleDefault=t.trackVerticalStyleDefault=t.trackHorizontalStyleDefault=t.viewStyleUniversalInitial=t.viewStyleAutoHeight=t.viewStyleDefault=t.containerStyleAutoHeight=t.containerStyleDefault=void 0;t.containerStyleDefault={position:"relative",overflow:"hidden",width:"100%",height:"100%",display:"block",WebkitOverflowScrolling:"touch"};t.containerStyleAutoHeight={height:"auto"};t.viewStyleDefault={position:"absolute",maxHeight:"100%",top:"auto",left:0,right:0,bottom:0,overflow:"scroll",WebkitOverflowScrolling:"touch"};var a={position:"relative",top:void 0,left:void 0,right:void 0,bottom:void 0};t.viewStyleAutoHeight=a;t.viewStyleUniversalInitial={overflow:"hidden",marginRight:0,marginBottom:0};t.trackHorizontalStyleDefault={position:"absolute",height:0};t.trackVerticalStyleDefault={position:"absolute",width:8};t.thumbHorizontalStyleDefault={position:"relative",display:"block",height:"100%"};t.thumbVerticalStyleDefault={position:"relative",display:"block",width:"100%"};t.disableSelectStyle={userSelect:"none"};t.disableSelectStyleReset={userSelect:""}},22905:function(e,t,n){"use strict";var a=n(87646),i=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(18777)),r=a(n(59748)),l=n(26213),u=i(n(94350)),s=i(n(45697)),c=n(63237),d=n(56602),f=i(n(64499)),h=i(n(62652)),p=n(53172),g=n(8565),m=n(75245),v=i(n(75043)).default.name("SocialButtonContainer"),_=function(e){var t=e.isOnline,n=e.clientIntegration,a=e.messages,i=e.socialState,l=function(e){return!!(0,p.getMessagesByType)(e,g.MessageType.FORM).length},s=(0,r.useState)(l(a)),_=(0,o.default)(s,2),y=_[0],b=_[1];if(!y&&function(){if((0,d.hasIntegration)(n))return v.log("Already connected with vk/fb."),m.messageActions.hideEmailForm(),!1;if(l(a))return b(!0),!1;if(t&&h.default.chat_started){var e=(0,p.getClientMessages)(a);return!(!e||!e.length)}return!1}())return r.default.createElement("jdiv",{className:u.default.socialPanel},r.default.createElement(f.default,{show:!0,mode:i,processSocial:c.processSocial}))};_.propTypes={isOnline:s.default.bool,clientIntegration:s.default.oneOfType([s.default.bool,s.default.string]),messages:s.default.array,socialState:s.default.shape({vk:s.default.bool,fb:s.default.bool,mode:s.default.oneOfType([s.default.bool,s.default.string])})};var y=(0,l.connect)((function(e){return{isOnline:e.app.isOnline,clientIntegration:e.client.hasIntegration,messages:e.messages,socialState:e.social}}),{})(_);t.default=y},64499:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(59748)),o=a(n(75119)),r=a(n(45697)),l=a(n(94350)),u=a(n(58165)),s=(a(n(75043)).default.name("SocialButton"),function(e){var t=e.mode,n=e.processSocial;return i.default.createElement("jdiv",{className:l.default.wrap},t.vk?i.default.createElement("jdiv",{className:l.default.socialLink,onClick:function(e){n(e,"vk")},title:(0,o.default)("social_vk")},(0,o.default)("social_process_in")," ",i.default.createElement(u.default,{iconName:"vk",className:l.default.iconVk})," ",(0,o.default)("social_vk")):null,t.fb?i.default.createElement("jdiv",{className:l.default.socialLink,onClick:function(e){n(e,"fb")},title:(0,o.default)("social_fb")},(0,o.default)("social_process_in_fb"),"  ",i.default.createElement(u.default,{iconName:"fb",className:l.default.iconFb})," Messenger"):null)});s.propTypes={show:r.default.bool.isRequired,mode:r.default.object.isRequired,processSocial:r.default.func.isRequired};var c=i.default.memo(s);t.default=c},73796:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(87672)),r=a(n(5872)),l=a(n(54103)),u=a(n(26394)),s=a(n(69198)),c=a(n(51379)),d=a(n(214)),f=a(n(66380)),h=a(n(59748)),p=a(n(60021)),g=a(n(75043)),m=a(n(62904)),v=a(n(75119)),_=a(n(62107)),y=a(n(58061)),b=a(n(36216)),w=a(n(99357)),E=(a(n(38061)),a(n(6991))),C=n(56602),T=a(n(94350)),k=n(17674),S=n(85442);function I(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var o=(0,f.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}var A=g.default.name("SocialButtonChat"),x=function(e){(0,c.default)(n,e);var t=I(n);function n(e){var a;return(0,u.default)(this,n),(a=t.call(this,e)).state={show:!0,vk:e.mode.vk,fb:e.mode.fb,mode:e.mode.mode},a}return(0,s.default)(n,[{key:"componentDidMount",value:function(){var e;A.log("mounted"),this.on(b.default,(0,l.default)(e=this.checkIntegration).call(e,this)),(m.default.joint||3!=m.default.contacts_ask)&&(3!=m.default.contacts_ask||y.default.desktop())||this.setState({vk:!1,fb:!1,mode:"email"})}},{key:"checkIntegration",value:function(){(0,C.hasIntegration)(b.default.has_integration)&&(A.log("Already connected with vk/fb."),this.show(!1),_.default.each(w.default.getMessagesByType("email"),(function(e){A.log("remove email message (integration vk/fb)."),e&&e.destroy&&e.destroy()})),k.Router.getCurrentRoute()===S.Route.CHAT_SOCIAL&&(A.log("hide popup, navigate to chat"),k.Router.next(S.RouterEvent.ToChat)))}},{key:"show",value:function(e){A.log("show",e),this.setState({show:e})}},{key:"renderIframe",value:function(e){var t=E.default.getIframeUrl(this.state.mode),n="vk"==this.state.mode?50:74;return h.default.createElement("iframe",(0,r.default)({},e.iframe,{width:"100%",border:"0",height:n,src:t}))}},{key:"getRenderData",value:function(){return{styles:{box:[{box:!0},{display:this.state.show?"block":"none"}],iframe:[(0,o.default)({iframe:!0},"__"+this.state.mode,!0),{position:"fb"===this.state.mode?"relative":null}],infoText:[{infoText:!0}]},style:T.default}}},{key:"renderData",value:function(e,t){return h.default.createElement("jdiv",t.box,(this.state.vk||this.state.fb)&&h.default.createElement("jdiv",{className:T.default.infoText,dangerouslySetInnerHTML:{__html:"vk"==this.state.mode?(0,v.default)("social_get_access"):(0,v.default)("social_get_access_fb")}}),this.renderIframe(t))}}]),n}(p.default);t.default=x},12784:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(54103)),r=a(n(87672)),l=a(n(26394)),u=a(n(69198)),s=a(n(51379)),c=a(n(214)),d=a(n(66380)),f=a(n(59748)),h=a(n(60021)),p=a(n(62904)),g=a(n(75119)),m=a(n(6991)),v=a(n(19301)),_=a(n(75043)),y=a(n(4897));function b(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var o=(0,d.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}var w=_.default.name("SocialPopup"),E=function(e){(0,s.default)(n,e);var t=b(n);function n(e){var a;return(0,l.default)(this,n),(a=t.call(this,e)).state={mode:m.default.getSocial().mode},a}return(0,u.default)(n,[{key:"componentDidMount",value:function(){var e=this;w.log("mounted"),m.default.addListener("update",(function(){var t=m.default.getPopupMode(),n=m.default.getSocial().mode;t?e.setState({mode:t}):"email"!==n&&e.setState({mode:n})}))}},{key:"close",value:function(){w.log("close click."),m.default.setPopupMode(""),this.props.hideCallback()}},{key:"renderIframe",value:function(){if(this.state.mode&&m.default.checkSocial()){var e=m.default.getIframeUrl(this.state.mode),t="vk"==this.state.mode?52:74;return f.default.createElement("iframe",{width:"300",border:"0",height:t,src:e})}}},{key:"getRenderData",value:function(){return{data:{},styles:{wrap:[{wrap:!0}],iconHeader:[(0,r.default)({iconHeader:!0},"__"+this.state.mode,this.state.mode)]},style:y.default}}},{key:"renderData",value:function(e,t){var n,a=this;return p.default.joint?f.default.createElement("jdiv",t.wrap,f.default.createElement(v.default,{onClose:function(e){e.stopPropagation(),a.close()}}),f.default.createElement("jdiv",t.iconHeader),f.default.createElement("jdiv",{className:y.default.textBox},f.default.createElement("jdiv",{className:y.default.text,dangerouslySetInnerHTML:{__html:"vk"==this.state.mode?(0,g.default)("social_get_access"):(0,g.default)("social_get_access_fb")}}),this.renderIframe()),f.default.createElement("jdiv",{className:y.default.linkBox},f.default.createElement("jdiv",{onClick:(0,o.default)(n=this.close).call(n,this),className:y.default.link},(0,g.default)("cancel")))):f.default.createElement("jdiv",null)}}]),n}(h.default);t.default=E},63237:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.processSocial=function(e,t){s.log("processSocial"),e.preventDefault(),o.Router.next(r.RouterEvent.ToSocial);var n="vk"===t?u.TelemetryName.CONTINUE_IN_VK:u.TelemetryName.CONTINUE_IN_FB;l.Monitoring.telemetry(n),i.default.trackContinueInSocial(t)};var i=a(n(40695)),o=n(17674),r=n(85442),l=n(33367),u=n(63242),s=a(n(75043)).default.name("SocialButtonHelpers")},48309:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=t.Sound=void 0;var i=a(n(1068)),o=a(n(2991)),r=a(n(26394)),l=a(n(69198)),u=a(n(51379)),s=a(n(214)),c=a(n(66380)),d=a(n(59748)),f=n(56602),h=a(n(24794)),p=n(94515),g=a(n(45808));function m(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var o=(0,c.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}a(n(75043)).default.name("SoundPlayer");var v=function(e){var t=e.src,n=(p.EnvironmentManager.isDevelopment()?"/public":"")+"/sounds/".concat(t,"."),a=(0,f.staticUrl)(n+"mp3",!0),i=(0,f.staticUrl)(n+"ogg",!0),o=(0,f.staticUrl)(n+"wav",!0);return d.default.createElement("audio",{preload:"auto",id:"jivo-sound-".concat(t)},d.default.createElement("source",{src:a,type:"audio/mpeg"}),d.default.createElement("source",{src:i,type:"audio/ogg; codecs=vorbis"}),d.default.createElement("source",{src:o,type:"audio/wav"}))};t.Sound=v;var _=function(e){(0,u.default)(n,e);var t=m(n);function n(e){return(0,r.default)(this,n),t.call(this,e)}return(0,l.default)(n,[{key:"render",value:function(){var e;return d.default.createElement("jdiv",{id:"jivo-player",className:h.default.player},(0,o.default)(e=this.props.sounds).call(e,(function(e,t){return d.default.createElement(v,{src:e,ref:function(t){g.default.set("sound_".concat(e).toUpperCase(),t)},key:t})})))}}]),n}(d.default.PureComponent);t.default=_},46443:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.getIcons=function(){return A},t.default=void 0;var i=a(n(1068)),o=a(n(5872)),r=a(n(26394)),l=a(n(69198)),u=a(n(51379)),s=a(n(214)),c=a(n(66380)),d=a(n(59748)),f=a(n(15852)),h=a(n(88603)),p=a(n(82632)),g=a(n(69527)),m=a(n(97126)),v=a(n(27684)),_=a(n(50109)),y=a(n(29428)),b=a(n(2427)),w=a(n(36599)),E=a(n(87409)),C=a(n(92809)),T=a(n(63899)),k=a(n(86227)),S=a(n(34948));function I(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var o=(0,c.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var A={logo_jivosite:h.default,logo_jivochat:p.default,hand:g.default,arrow:m.default,arrow2:v.default,"icon-ok-white":_.default,"icon-ok":y.default,"icon-v-email":b.default,mobileBack:w.default,callMessageStartIcon:E.default,callEndIcon:C.default,labelCall:T.default,labelFb:k.default,iconClose:S.default};var x=function(e){(0,u.default)(n,e);var t=I(n);function n(e){var a;(0,r.default)(this,n),(a=t.call(this,e)).initIcons();var i=f.default[a.props.iconName+"Icon"];return a.className=a.props.className+(i?" "+i:""),a}return(0,l.default)(n,[{key:"initIcons",value:function(){this.iconsMap=A}},{key:"getIcon",value:function(){return this.iconsMap[this.props.iconName]}},{key:"render",value:function(){return d.default.createElement("jdiv",(0,o.default)({dangerouslySetInnerHTML:{__html:this.getIcon()}},this.props,{className:this.className}))}}]),n}(d.default.Component);t.default=x},58165:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.getIcons=function(){return ye},t.getSvgBgIcon=function(e,t){if(!e)return null;var n=ye[e];t&&(n=n.replace(/_COLOR1_/gi,t));return n?'"data:image/svg+xml,'.concat(encodeURIComponent(n),'"'):null},t.default=void 0;var i=a(n(63978)),o=a(n(20368)),r=a(n(39649)),l=a(n(78914)),u=a(n(34074)),s=a(n(20116)),c=a(n(14310)),d=a(n(86902)),f=a(n(87672)),h=a(n(18777)),p=a(n(59748)),g=a(n(15852)),m=a(n(45697)),v=a(n(12298)),_=a(n(38353)),y=a(n(70099)),b=a(n(28336)),w=a(n(81483)),E=a(n(28843)),C=a(n(15504)),T=a(n(22722)),k=a(n(30349)),S=a(n(93091)),I=a(n(34948)),A=a(n(74783)),x=a(n(36683)),M=a(n(64924)),R=a(n(33825)),O=a(n(75001)),N=a(n(18317)),D=a(n(22764)),L=a(n(99652)),P=a(n(34886)),j=a(n(18079)),B=a(n(85972)),F=a(n(2482)),H=a(n(54389)),W=a(n(2427)),U=a(n(87409)),z=a(n(92809)),G=a(n(99350)),V=a(n(69357)),q=a(n(43055)),K=a(n(39581)),Y=a(n(28149)),Z=a(n(54304)),J=a(n(28372)),X=a(n(31617)),$=a(n(75630)),Q=a(n(36972)),ee=a(n(12320)),te=a(n(58915)),ne=a(n(13339)),ae=a(n(39186)),ie=a(n(1900)),oe=a(n(80441)),re=a(n(88921)),le=a(n(42899)),ue=a(n(28122)),se=a(n(12103)),ce=a(n(96955)),de=a(n(62842)),fe=a(n(93759)),he=a(n(66574)),pe=a(n(68611)),ge=a(n(799));function me(e,t){var n=(0,d.default)(e);if(c.default){var a=(0,c.default)(e);t&&(a=(0,s.default)(a).call(a,(function(t){return(0,u.default)(e,t).enumerable}))),n.push.apply(n,a)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)(0,l.default)(n=me(Object(a),!0)).call(n,(function(t){(0,f.default)(e,t,a[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(a));else{var s;(0,l.default)(s=me(Object(a))).call(s,(function(t){(0,i.default)(e,t,(0,u.default)(a,t))}))}}return e}var _e={},ye={"logo-j-white":v.default,"mobile-cloud":_.default,"icon-im":y.default,envelope:b.default,"envelope-offline":w.default,"callback-btn":E.default,"icon-close":I.default,"logo-jivosite-white":C.default,"logo-jivochat-white":T.default,"logo-jivosite":k.default,"logo-jivochat":S.default,vk:A.default,fb:x.default,wa:M.default,viber:O.default,telegram:R.default,"phone-outgoing":N.default,phone:D.default,labelChat:L.default,"message-text":P.default,"send-button":j.default,"icon-emoji":B.default,"icon-attach":F.default,"icon-ok-white":H.default,"icon-v-email":W.default,callMessageStartIcon:U.default,callEndIcon:z.default,refresh:G.default,"icon-photo":V.default,"icon-video":q.default,"icon-audio":K.default,"icon-document":Y.default,"icon-error":J.default,"icon-cancel":Z.default,"icon-ruble":X.default,"icon-anonymous":$.default,"icon-v":Q.default,"rating-negative":ee.default,"rating-positive":te.default,"icon-callok":ne.default,"icon-connect":ae.default,"icon-connect2":ie.default,"icon-close-chat":oe.default,"icon-popup-close":re.default,"mobile-send-button":le.default,"icon-tube":ue.default,"start-chat":se.default,"icon-back":ce.default,leafBottom:de.default,leafBottomOffline:fe.default,"icon-more":he.default,iconBot:pe.default,iconWa:M.default,iconHamburger:ge.default};var be=function(e){var t=e.iconName,n=e.className,a=e.color,i=e.color2,o=e.hoverColor,r=e.style,l=e["data-qa-id"],u=p.default.useState(!1),s=(0,h.default)(u,2),c=s[0],d=s[1],f=g.default[t+"Icon"],m=n+(f?" "+f:""),v=function(e){o&&d(e)};return p.default.createElement("jdiv",{onMouseEnter:function(){return v(!0)},onMouseLeave:function(){return v(!1)},style:ve({backgroundImage:function(){var e=t+c?o:a;if(_e[e])return _e[e];var n=encodeURIComponent(ye[t]),r=c?o:a;a&&!c&&(n=n.replace(new RegExp("_COLOR1_","ig"),r.replace("#","%23"))),o&&c&&(n=n.replace(new RegExp("_COLOR1_","ig"),r.replace("#","%23"))),i&&(n=n.replace(new RegExp("_COLOR2_","ig"),i.replace("#","%23")));var l='url("data:image/svg+xml,'.concat(n,'")');return _e[t+a+i]=l,l}()},r),className:m,"data-qa-id":l})};be.propTypes={iconName:m.default.string.isRequired,className:m.default.string,color:m.default.string,color2:m.default.string,hoverColor:m.default.string,style:m.default.any,"data-qa-id":m.default.string};var we=p.default.memo(be);t.default=we},87374:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=t.Button=void 0;var i=a(n(5872)),o=a(n(87672)),r=a(n(80122)),l=a(n(59748)),u=a(n(94184)),s=a(n(43107)),c=a(n(62904)),d=function(e){var t,n=e.children,a=e.className,d=e.widthFluid,f=void 0!==d&&d,h=e.height,p=void 0===h?"md":h,g=e.isNative,m=void 0!==g&&g,v=e.disabled,_=void 0!==v&&v,y=e.onClick,b=(0,r.default)(e,["children","className","widthFluid","height","isNative","disabled","onClick"]),w=m?"button":"jdiv",E=_?void 0:y,C=(0,u.default)(a,(t={},(0,o.default)(t,s.default.button,!m),(0,o.default)(t,s.default.nativeButton,m),(0,o.default)(t,s.default.widthFixed,!f),(0,o.default)(t,s.default.widthFluid,f),(0,o.default)(t,s.default.heightSmall,"sm"===p),(0,o.default)(t,s.default.heightMiddle,"md"===p),(0,o.default)(t,s.default.disabled,_),(0,o.default)(t,s.default["__"+(c.default.bubble_color||"green")],!0),t));return l.default.createElement(w,(0,i.default)({},b,{onClick:E,className:C}),n)};t.Button=d;var f=d;t.default=f},75900:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(2991)),r=a(n(26394)),l=a(n(69198)),u=a(n(5824)),s=a(n(51379)),c=a(n(214)),d=a(n(66380)),f=a(n(87672)),h=a(n(59748)),p=a(n(56602)),g=a(n(94184)),m=a(n(20748)),v=a(n(58165)),_=a(n(77843)),y=a(n(62904));function b(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var o=(0,d.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}var w=function(e){(0,s.default)(n,e);var t=b(n);function n(e){var a;(0,r.default)(this,n),a=t.call(this,e),(0,f.default)((0,u.default)(a),"onDocumentClicked",(function(e){e.target.closest(".".concat(_.default.selectWrap))||a.toggleBubbleVissible()})),(0,f.default)((0,u.default)(a),"toggleBubbleVissible",(function(){var e=!a.state.isOpen;a.setState({isOpen:e},(function(){e?p.default.addListener(window.parent.document,"click",a.onDocumentClicked):p.default.removeEvent(window.parent.document,"click",a.onDocumentClicked)}))})),(0,f.default)((0,u.default)(a),"onChange",(function(e){var t=a.props.onChange;void 0!==t&&t({option:a.props.options[e],activeOptionIndex:e});a.setState({activeOptionIndex:e},a.toggleBubbleVissible)})),(0,f.default)((0,u.default)(a),"onStyledSelectChange",(function(e){var t=e.target.getAttribute("jv-sval");a.onChange(t)})),(0,f.default)((0,u.default)(a),"onNativeSelectChange",(function(e){var t=e.target.value;a.onChange(t)}));var i=e.activeOptionIndex;return a.state={activeOptionIndex:i||0,isOpen:!1},a}return(0,l.default)(n,[{key:"getOptionsTemplate",value:function(){var e=this,t=this.props,n=t.options,a=t.isNative;return(0,o.default)(n).call(n,a?function(e,t){return h.default.createElement("option",{value:t},e.label)}:function(t,n){var a=t.label,i=a.length>35?a:void 0;return h.default.createElement("jdiv",{className:_.default.item,key:n,"jv-sval":n,title:i,onClick:e.onStyledSelectChange},a)})}},{key:"render",value:function(){var e,t=this.props,n=t.disabled,a=t.classNameWrap,i=t.theme,o=t.height,r=t.isNative,l=t.options,u=t.invalid,s=this.state,c=s.activeOptionIndex,d=s.isOpen,p=l[c]&&l[c].label,b=this.getOptionsTemplate(),w=b&&b.length>3,E=(0,g.default)(a,_.default.selectWrap,(e={},(0,f.default)(e,_.default.invalid,u),(0,f.default)(e,_.default.styledSelectWrap,!r),(0,f.default)(e,_.default.nativeSelectWrap,r),(0,f.default)(e,_.default.selectIsOpen,d),(0,f.default)(e,_.default.heightSmall,"sm"===o),(0,f.default)(e,_.default.heightMiddle,"md"===o),(0,f.default)(e,_.default.themeFlat,"flat"===i),(0,f.default)(e,_.default.themeInset,"inset"===i),(0,f.default)(e,_.default.disabled,n),(0,f.default)(e,_.default.scroll,w),(0,f.default)(e,_.default["__"+y.default.bubble_color],!0),e));return h.default.createElement("jdiv",{className:E},r?h.default.createElement("jdiv",null,h.default.createElement("select",{onChange:this.onNativeSelectChange,className:_.default.nativeSelect,disabled:n},b),h.default.createElement(v.default,{iconName:"icon-v",color:"#959BA0",hoverColor:"#222D38",className:_.default.iconSelect})):h.default.createElement("jdiv",null,h.default.createElement("jdiv",{className:_.default.label,title:p&&p.length>=25?p:void 0,onClick:n?void 0:this.toggleBubbleVissible},p,h.default.createElement("jdiv",{className:_.default.labelArrow},h.default.createElement(v.default,{iconName:"icon-v",color:"#959BA0",hoverColor:"#222D38",className:_.default.iconSelect}))),h.default.createElement("jdiv",{className:_.default.items},w?h.default.createElement(m.default,{railClass:_.default.rail,position:"relative"},b):b)))}}]),n}(h.default.Component);t.default=w,(0,f.default)(w,"defaultProps",{theme:"flat",height:"md",options:[]})},31722:function(e,t,n){"use strict";var a=n(87646),i=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(63978)),r=i(n(20368)),l=i(n(39649)),u=i(n(78914)),s=i(n(34074)),c=i(n(20116)),d=i(n(14310)),f=i(n(86902)),h=i(n(87672)),p=i(n(77766)),g=a(n(59748)),m=i(n(45697)),v=n(26213),_=i(n(77146)),y=(i(n(58061)),n(10872));function b(e,t){var n=(0,f.default)(e);if(d.default){var a=(0,d.default)(e);t&&(a=(0,c.default)(a).call(a,(function(t){return(0,s.default)(e,t).enumerable}))),n.push.apply(n,a)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)(0,u.default)(n=b(Object(a),!0)).call(n,(function(t){(0,h.default)(e,t,a[t])}));else if(l.default)(0,r.default)(e,(0,l.default)(a));else{var i;(0,u.default)(i=b(Object(a))).call(i,(function(t){(0,o.default)(e,t,(0,s.default)(a,t))}))}}return e}var E=i(n(75043)).default.name("NewTransition"),C=function(e){var t,n=e.name,a=e.scriptName,i=e.children,o=e.onClick,r=e.endCallbacks,l=void 0===r?{}:r,u=e.startCallbacks,s=void 0===u?{}:u,c=e.duration,d=void 0===c?"300ms":c,f=e.timingFunction,h=void 0===f?"cubic-bezier(0.39, 0.24, 0.21, 0.99)":f,m=e.delay,v=void 0===m?"0s":m,b=e.iterationCount,C=void 0===b?1:b,T=e.direction,k=void 0===T?"normal":T,S=e.fillMode,I=void 0===S?"both":S,A=e.playState,x=void 0===A?"running":A,M=e.customVars,R=e.style,O=e.animationPostfix,N=e.id,D=(0,g.useRef)(null),L=(0,y.isFallbackNeeded)()?_.default.fallback:_.default[O],P=(0,p.default)(t="".concat(n,"_")).call(t,a);E.log("render",P,O);var j=function(e){return e&&D.current&&e.target===D.current&&e.animationName===L[P]&&a};return g.default.createElement("jdiv",{ref:D,style:w(w({},function(){var e={animationDuration:d,animationTimingFunction:h,animationDelay:v,animationIterationCount:C,animationDirection:k,animationFillMode:I,animationPlayState:x,animationName:a?L[P]:null};return function(e){if(M)for(var t in M)({}).hasOwnProperty.call(M,t)&&((0,y.isFallbackNeeded)()?e[t]=M[t]:e["--".concat(t)]=M[t])}(e),e}()),R),onAnimationEnd:function(e){j(e)&&l[a]&&l[a]()},onAnimationStart:function(e){j(e)&&s[a]&&s[a]()},onClick:o,id:N},i)};C.propTypes={scriptName:m.default.string.isRequired,children:m.default.oneOfType([m.default.arrayOf(m.default.node),m.default.node]).isRequired,name:m.default.string.isRequired,onClick:m.default.func,endCallbacks:m.default.any,startCallbacks:m.default.any,duration:m.default.string,timingFunction:m.default.string,delay:m.default.string,iterationCount:m.default.number,direction:m.default.string,fillMode:m.default.string,playState:m.default.string,customVars:m.default.any,style:m.default.any,animationPostfix:m.default.string,id:m.default.string};var T=(0,v.connect)((function(e){return{scriptName:e.transition.currentScript}}),{})(C);t.default=T},77146:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(83821)),o=a(n(71461)),r=a(n(8511)),l=a(n(60855)),u=a(n(6274)),s=a(n(92964)),c={bottom:i.default,bottom_0:o.default,left:r.default,right:l.default,custom:u.default,fallback:s.default};t.default=c},96309:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.CheapTransition=void 0;var i=a(n(63978)),o=a(n(20368)),r=a(n(39649)),l=a(n(78914)),u=a(n(34074)),s=a(n(20116)),c=a(n(14310)),d=a(n(86902)),f=a(n(1068)),h=a(n(87672)),p=a(n(23765)),g=a(n(33032)),m=a(n(54103)),v=a(n(26394)),_=a(n(69198)),y=a(n(5824)),b=a(n(51379)),w=a(n(214)),E=a(n(66380)),C=a(n(59748)),T=a(n(60021)),k=a(n(58061));function S(e,t){var n=(0,d.default)(e);if(c.default){var a=(0,c.default)(e);t&&(a=(0,s.default)(a).call(a,(function(t){return(0,u.default)(e,t).enumerable}))),n.push.apply(n,a)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)(0,l.default)(n=S(Object(a),!0)).call(n,(function(t){(0,h.default)(e,t,a[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(a));else{var s;(0,l.default)(s=S(Object(a))).call(s,(function(t){(0,i.default)(e,t,(0,u.default)(a,t))}))}}return e}function A(e){var t=function(){if("undefined"==typeof Reflect||!f.default)return!1;if(f.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,f.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,E.default)(e);if(t){var i=(0,E.default)(this).constructor;n=(0,f.default)(a,arguments,i)}else n=a.apply(this,arguments);return(0,w.default)(this,n)}}var x=a(n(75043)).default.name("CheapTransitionComponent"),M="UNMOUNTED",R="BEFORE_ENTER",O="ENTER",N="BEFORE_EXIT",D="EXIT",L=function(e){(0,b.default)(n,e);var t=A(n);function n(e){var a,i,o,r,l;return(0,v.default)(this,n),(l=t.call(this,e)).state={status:M,show:e.show},l.getStyles=(0,m.default)(a=l.getStyles).call(a,(0,y.default)(l)),l.changeStatus=(0,m.default)(i=l.changeStatus).call(i,(0,y.default)(l)),l.handleDebugProp=(0,m.default)(o=l.handleDebugProp).call(o,(0,y.default)(l)),l.getFinalStyle=(0,m.default)(r=l.getFinalStyle).call(r,(0,y.default)(l)),l}return(0,_.default)(n,[{key:"componentDidMount",value:function(){this.props.show&&this.setState({status:R,show:this.props.show})}},{key:"shouldComponentUpdate",value:function(e,t){return t.status!==M||this.state.status!==M}},{key:"changeStatus",value:function(e,t,n){var a=this;n?(0,g.default)((function(){a.state.status===e&&a.setState({status:t})}),n):this.state.status===e&&this.setState({status:t})}},{key:"componentDidUpdate",value:function(e,t){switch(this.state.status){case R:this.changeStatus(R,O);break;case N:this.changeStatus(N,D);break;case D:this.props.transition||this.changeStatus(D,M,this.props.waitBeforeUnmount)}}},{key:"onTransitionEnd",value:function(e){this.state.status===D&&e&&e.propertyName&&("PopupSlideUpEULA"===this.props.transition&&"transform"===e.propertyName&&this.changeStatus(D,M,this.props.waitBeforeUnmount),"Fade"===this.props.transition&&"opacity"===e.propertyName&&this.changeStatus(D,M,this.props.waitBeforeUnmount))}},{key:"getStyles",value:function(){var e=this.state.status,t=this.props,n=t.transitionStyles,a=t.shouldAnimate;if("object"===(0,p.default)(n.main)){switch(e){case M:break;case R:if(a.mount)return I(I({},n.main),n.enterActive);break;case O:if(a.mount)return I(I(I({},n.main),n.enterActive),n.enterDone);break;case N:if(a.unmount)return I(I({},n.mainExit),n.exitActive);break;case D:if(a.unmount)return I(I(I({},n.mainExit),n.exitActive),n.exitDone)}return null}}},{key:"getFinalStyle",value:function(){var e=this.state.status===M?"none":"block",t=!k.default.mobileOrTablet()&&!this.props.fixed,n=I(I({},this.props.style),{},t?{height:t?"100%":"",display:e}:{display:e},this.getStyles());return this.props.isStatic&&this.state.status===O&&(n=I(I({},n),{},{height:"auto"})),n}},{key:"handleDebugProp",value:function(e){this.props.debugCallback&&("function"==typeof this.props.debugCallback?this.props.debugCallback(this.props,this.state,e):x.log(this.props.name,this.state.status,e))}},{key:"render",value:function(){var e,t="function"==typeof this.props.children,n=this.getFinalStyle();return this.handleDebugProp(n),C.default.createElement("jdiv",{id:this.props.id,className:this.props.className,style:n,onTransitionEnd:(0,m.default)(e=this.onTransitionEnd).call(e,this)},t?this.props.children():this.props.children)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return!1===e.show&&!0===t.show?{status:N,show:e.show}:!0===e.show&&!1===t.show?{status:R,show:e.show}:null}}]),n}(T.default);t.CheapTransition=L},64032:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.MobileTransition=void 0;var i=a(n(63978)),o=a(n(20368)),r=a(n(39649)),l=a(n(78914)),u=a(n(34074)),s=a(n(20116)),c=a(n(14310)),d=a(n(86902)),f=a(n(1068)),h=a(n(87672)),p=a(n(54103)),g=a(n(26394)),m=a(n(69198)),v=a(n(5824)),_=a(n(51379)),y=a(n(214)),b=a(n(66380)),w=a(n(59748)),E=a(n(60021));function C(e,t){var n=(0,d.default)(e);if(c.default){var a=(0,c.default)(e);t&&(a=(0,s.default)(a).call(a,(function(t){return(0,u.default)(e,t).enumerable}))),n.push.apply(n,a)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)(0,l.default)(n=C(Object(a),!0)).call(n,(function(t){(0,h.default)(e,t,a[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(a));else{var s;(0,l.default)(s=C(Object(a))).call(s,(function(t){(0,i.default)(e,t,(0,u.default)(a,t))}))}}return e}function k(e){var t=function(){if("undefined"==typeof Reflect||!f.default)return!1;if(f.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,f.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,b.default)(e);if(t){var i=(0,b.default)(this).constructor;n=(0,f.default)(a,arguments,i)}else n=a.apply(this,arguments);return(0,y.default)(this,n)}}var S=a(n(75043)).default.name("MobileTransition"),I=function(e){(0,_.default)(n,e);var t=k(n);function n(e){var a,i;return(0,g.default)(this,n),(i=t.call(this,e)).handleDebugProp=(0,p.default)(a=i.handleDebugProp).call(a,(0,v.default)(i)),i}return(0,m.default)(n,[{key:"shouldComponentUpdate",value:function(e,t){return!(!e.show&&!this.props.show)}},{key:"handleDebugProp",value:function(e){this.props.debugCallback&&("function"==typeof this.props.debugCallback?this.props.debugCallback(this.props,this.state,e):S.log(this.props.name,e))}},{key:"render",value:function(){var e=this.props.show?"block":"none",t="function"==typeof this.props.children,n=T(T({},this.props.style),{},{display:e});return this.handleDebugProp(n),w.default.createElement("jdiv",{id:this.props.id,className:this.props.className,style:n},t?this.props.children():this.props.children)}}]),n}(E.default);t.MobileTransition=I},78837:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.Transition=void 0;var i=a(n(63978)),o=a(n(20368)),r=a(n(39649)),l=a(n(78914)),u=a(n(34074)),s=a(n(20116)),c=a(n(14310)),d=a(n(86902)),f=a(n(1068)),h=a(n(87672)),p=a(n(23765)),g=a(n(33032)),m=a(n(54103)),v=a(n(26394)),_=a(n(69198)),y=a(n(5824)),b=a(n(51379)),w=a(n(214)),E=a(n(66380)),C=a(n(59748)),T=a(n(60021)),k=a(n(58061));function S(e,t){var n=(0,d.default)(e);if(c.default){var a=(0,c.default)(e);t&&(a=(0,s.default)(a).call(a,(function(t){return(0,u.default)(e,t).enumerable}))),n.push.apply(n,a)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)(0,l.default)(n=S(Object(a),!0)).call(n,(function(t){(0,h.default)(e,t,a[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(a));else{var s;(0,l.default)(s=S(Object(a))).call(s,(function(t){(0,i.default)(e,t,(0,u.default)(a,t))}))}}return e}function A(e){var t=function(){if("undefined"==typeof Reflect||!f.default)return!1;if(f.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,f.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,E.default)(e);if(t){var i=(0,E.default)(this).constructor;n=(0,f.default)(a,arguments,i)}else n=a.apply(this,arguments);return(0,w.default)(this,n)}}var x=a(n(75043)).default.name("TransitionComponent"),M="UNMOUNTED",R="ENTER",O="ENTERING",N="ENTERED",D="EXIT",L="EXITING",P="EXITED",j=function(e){(0,b.default)(n,e);var t=A(n);function n(e){var a,i,o,r,l,u,s;return(0,v.default)(this,n),(s=t.call(this,e)).state={status:M,show:e.show},s.statusCallbacks={onEnter:!1,onEntered:!1,onExit:!1,onExited:!1},s.getStyles=(0,m.default)(a=s.getStyles).call(a,(0,y.default)(s)),s.statusCallback=(0,m.default)(i=s.statusCallback).call(i,(0,y.default)(s)),s.changeStatus=(0,m.default)(o=s.changeStatus).call(o,(0,y.default)(s)),s.handleDebugProp=(0,m.default)(r=s.handleDebugProp).call(r,(0,y.default)(s)),s.getParentState=(0,m.default)(l=s.getParentState).call(l,(0,y.default)(s)),s.getFinalStyle=(0,m.default)(u=s.getFinalStyle).call(u,(0,y.default)(s)),s}return(0,_.default)(n,[{key:"componentDidMount",value:function(){this.props.show&&this.setState({status:this.props.shouldAnimate.mount?R:N})}},{key:"shouldComponentUpdate",value:function(e,t){return t.status!==M||this.state.status!==M}},{key:"statusCallback",value:function(e){this.statusCallbacks[e]||(this.props[e]&&this.props[e](),this.statusCallbacks[e]=!0)}},{key:"changeStatus",value:function(e,t,n){var a=this;n?(0,g.default)((function(){a.state.status===e&&a.setState({status:t})}),n):this.state.status===e&&this.setState({status:t})}},{key:"componentDidUpdate",value:function(e,t){switch(this.state.status){case R:this.statusCallbacks={onEnter:!1,onEntered:!1,onExit:!1,onExited:!1},this.changeStatus(R,O);break;case O:this.statusCallback("onEnter"),this.changeStatus(O,N,this.props.duration);break;case N:this.statusCallbacks.onExit=!1,this.statusCallbacks.onExited=!1,this.statusCallback("onEntered");break;case D:this.changeStatus(D,L);break;case L:this.statusCallback("onExit"),this.changeStatus(L,P,this.props.duration);break;case P:this.statusCallbacks.onEnter=!1,this.statusCallbacks.onEntered=!1,this.changeStatus(P,M,this.props.waitBeforeUnmount),this.statusCallback("onExited")}}},{key:"getStyles",value:function(){var e=this.state.status,t=this.props,n=t.transitionStyles,a=t.shouldAnimate;if("object"===(0,p.default)(n.main)){switch(e){case M:return I({},n.main);case R:if(a.mount)return I(I({},n.main),n.enterActive);break;case O:case N:if(a.mount)return I(I(I({},n.main),n.enterActive),n.enterDone);break;case D:if(a.unmount)return I(I({},n.mainExit),n.exitActive);break;case L:case P:if(a.unmount)return I(I(I({},n.mainExit),n.exitActive),n.exitDone)}return null}}},{key:"getFinalStyle",value:function(){var e=this.state.status===M?"none":"block",t=!k.default.mobileOrTablet()&&!this.props.fixed,n=I(I({},this.props.style),{},t?{height:t?"100%":"",display:e}:{display:e},this.getStyles());return this.props.isStatic&&this.state.status===N&&(n=I(I({},n),{},{height:"auto"})),n}},{key:"getParentState",value:function(){var e={status:this.state.status,name:this.props.name,show:this.state.show};return this.props.parentState?(e.parentState=this.props.parentState,e.level=this.props.parentState.level+1):e.level=0,e}},{key:"handleDebugProp",value:function(e){this.props.debugCallback&&("function"==typeof this.props.debugCallback?this.props.debugCallback(this.props,this.state,e):x.log(this.props.name,this.state.status,e))}},{key:"render",value:function(){var e=this,t="function"==typeof this.props.children,n=this.getFinalStyle();return this.handleDebugProp(n),C.default.createElement("jdiv",{id:this.props.id,className:this.props.className,style:n,onTransitionEnd:function(t){e.props.animationEnd&&e.props.animationEnd(t)}},t?this.props.children(this.getParentState()):this.props.children)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return!1===e.show&&!0===t.show?this.handleUnmount(e,t):!0===e.show&&!1===t.show?this.handleMount(e,t):null}},{key:"handleUnmount",value:function(e,t){return e.parentState?e.parentState.status===M?{status:M,show:e.show}:!0===e.parentState.show?e.parentState.parentState&&e.parentState.parentState.status!==N?{status:t.status,show:t.show}:{status:e.shouldAnimate.unmount?D:P,show:e.show}:{status:t.status,show:t.show}:{status:e.shouldAnimate.unmount?D:P,show:e.show}}},{key:"handleMount",value:function(e,t){return e.parentState&&e.shouldWait>=0?this.findLevelStatus(e.shouldWait,e.parentState)===N?{status:e.shouldAnimate.mount?R:N,show:e.show}:{status:t.status,show:t.show}:{status:e.shouldAnimate.mount?R:N,show:e.show}}},{key:"findLevelStatus",value:function(e,t){return t.level===e?t.status:t.level>e?this.findLevelStatus(e,t.parentState):void 0}}]),n}(T.default);t.Transition=j},26936:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(63978)),o=a(n(20368)),r=a(n(39649)),l=a(n(78914)),u=a(n(34074)),s=a(n(20116)),c=a(n(14310)),d=a(n(86902)),f=a(n(87672)),h=a(n(77766)),p=a(n(62904)),g=a(n(38514)),m=n(17674),v=a(n(58061));function _(e,t){var n=(0,d.default)(e);if(c.default){var a=(0,c.default)(e);t&&(a=(0,s.default)(a).call(a,(function(t){return(0,u.default)(e,t).enumerable}))),n.push.apply(n,a)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)(0,l.default)(n=_(Object(a),!0)).call(n,(function(t){(0,f.default)(e,t,a[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(a));else{var s;(0,l.default)(s=_(Object(a))).call(s,(function(t){(0,i.default)(e,t,(0,u.default)(a,t))}))}}return e}var b="cubic-bezier(0.39, 0.24, 0.21, 0.99)",w={NoTransition:function(){return{main:{},enterActive:{},enterDone:{},mainExit:{},exitActive:{},exitDone:{}}},Container:function(e){var t,n,a,i,o,r,l,u=e.marginRight,s=e.width,c=(e.height,function(){var e=p.default.widget_padding>>0;return 0==e?"":50==e?"".concat(e,"%"):"30px"}),d=300,f=(0,h.default)(t="width ".concat(d,"ms ")).call(t,b,", ")+(0,h.default)(n="margin-right ".concat(d,"ms ")).call(n,b,", ")+(0,h.default)(a="right ".concat(d,"ms ")).call(a,b,", ")+(0,h.default)(i="transform ".concat(d,"ms ")).call(i,b,", ")+(0,h.default)(o="opacity ".concat(d,"ms ")).call(o,b,", ")+(0,h.default)(r="height ".concat(d,"ms ")).call(r,b,", ")+(0,h.default)(l="left ".concat(d,"ms ")).call(l,b),_=v.default.ieOrEdge()||v.default.safari()?"translateY(92%)":"translateY(calc(100% - 40px))",w="50"==p.default.widget_padding?-150:0;return{main:{width:"".concat(s,"px"),marginRight:u||w,right:c(),left:"0"===p.default.widget_padding?"30px":"",transition:f,willChange:"width, margin-right, right, transform, opacity, left, height",transform:_},enterActive:y({width:"".concat(s,"px"),marginRight:u,right:c(),transform:_},(v.default.ieOrEdge()||v.default.safari())&&{height:"40px"}),enterDone:y({width:"",marginRight:"",right:"",transform:"translateY(0%)"},g.default.getPositionStyle(m.Router.getCurrentRoute())),mainExit:{transition:f,willChange:"width, margin-right, right, transform, opacity, left, height"},exitActive:y({transform:"translateY(0%)"},g.default.getPositionStyle(m.Router.getCurrentRoute())),exitDone:{width:"".concat(s,"px"),marginRight:u,right:c(),left:"0"===p.default.widget_padding?"30px":"",transform:_}}},ContainerRight:function(e){var t,n,a,i,o,r,l=e.marginBottom,u=e.height,s=(e.width,300),c=(0,h.default)(t="height ".concat(s,"ms ")).call(t,b,", ")+(0,h.default)(n="margin-bottom ".concat(s,"ms ")).call(n,b,", ")+(0,h.default)(a="right ".concat(s,"ms ")).call(a,b,", ")+(0,h.default)(i="transform ".concat(s,"ms ")).call(i,b,", ")+(0,h.default)(o="opacity ".concat(s,"ms ")).call(o,b,", ")+(0,h.default)(r="bottom ".concat(s,"ms ")).call(r,b),d="translateX(100%) translateY(0)",f="100"!==p.default.widget_padding?-248:null,v="100"!==p.default.widget_padding?"".concat(p.default.widget_padding,"%"):"0px";return{main:{height:"".concat(u,"px"),marginBottom:l||f,transition:c,transform:d,bottom:v,right:"40px",willChange:"height, margin-bottom, right, transform, opacity, bottom",opacity:0},enterActive:{height:"".concat(u,"px"),marginBottom:l,bottom:v,transform:d,right:"40px",opacity:0},enterDone:y({height:"",marginBottom:"",bottom:"",transform:"translateX(0) translateY(0)",opacity:1},g.default.getPositionStyle(m.Router.getCurrentRoute())),mainExit:{transition:c,willChange:"height, margin-bottom, right, transform, opacity, bottom"},exitActive:{height:"".concat(u,"px"),marginBottom:l,bottom:v,transform:d,opacity:1},exitDone:{height:"".concat(u,"px"),marginBottom:l,bottom:v,transform:d,right:"40px",opacity:0}}},ContainerLeft:function(e){var t,n,a,i,o,r,l=e.marginBottom,u=e.height,s=(e.width,300),c=(0,h.default)(t="height ".concat(s,"ms ")).call(t,b,", ")+(0,h.default)(n="margin-bottom ".concat(s,"ms ")).call(n,b,", ")+(0,h.default)(a="left ".concat(s,"ms ")).call(a,b,", ")+(0,h.default)(i="transform ".concat(s,"ms ")).call(i,b,", ")+(0,h.default)(o="opacity ".concat(s,"ms ")).call(o,b,", ")+(0,h.default)(r="bottom ".concat(s,"ms ")).call(r,b),d=v.default.ieOrEdge()?"translateX(-100%) translateY(0)":"translateX(calc(-100% - 10px)) translateY(0)",f="100"!==p.default.widget_padding?-248:null,_="100"!==p.default.widget_padding?"".concat(p.default.widget_padding,"%"):"";return{main:{height:"".concat(u,"px"),marginBottom:l||f,transition:c,bottom:_,left:"40px",willChange:"height, margin-bottom, left, transform, opacity, bottom",transform:d,opacity:0},enterActive:{height:"".concat(u,"px"),marginBottom:l,bottom:_,transform:d,left:"40px",opacity:0},enterDone:y({height:"",marginBottom:"",bottom:"",transform:"translateX(0) translateY(0)",opacity:1},g.default.getPositionStyle(m.Router.getCurrentRoute())),mainExit:{transition:c,willChange:"height, margin-bottom, left, transform, opacity, bottom"},exitActive:{height:"".concat(u,"px"),marginBottom:l,bottom:_,transform:d,opacity:1},exitDone:{height:"".concat(u,"px"),marginBottom:l,bottom:_,transform:d,left:"40px",opacity:0}}},Fade:function(){var e,t,n;return{main:{transition:(0,h.default)(e="opacity ".concat(200,"ms ")).call(e,b),opacity:0},enterActive:{transition:(0,h.default)(t="opacity ".concat(200,"ms ")).call(t,b),opacity:0},enterDone:{opacity:1},mainExit:{transition:(0,h.default)(n="opacity ".concat(200,"ms ")).call(n,b),opacity:1},exitActive:{opacity:1},exitDone:{opacity:0}}},FadeWithDelay:function(){var e,t,n,a,i,o;return{main:{transition:(0,h.default)(e=(0,h.default)(t="opacity ".concat(200,"ms ")).call(t,b," ")).call(e,400,"ms"),opacity:0},enterActive:{transition:(0,h.default)(n=(0,h.default)(a="opacity ".concat(200,"ms ")).call(a,b," ")).call(n,400,"ms"),opacity:0},enterDone:{opacity:1},mainExit:{transition:(0,h.default)(i=(0,h.default)(o="opacity ".concat(200,"ms ")).call(o,b," ")).call(i,400,"ms"),opacity:1},exitActive:{opacity:1},exitDone:{opacity:0}}},LabelFade:function(){var e,t,n,a,i=v.default.ie()?0:250,o=v.default.ie()?1500:250,r="ease";return{main:{transition:(0,h.default)(e=(0,h.default)(t="opacity ".concat(o,"ms ")).call(t,r," ")).call(e,i,"ms"),opacity:0},enterActive:{transition:(0,h.default)(n=(0,h.default)(a="opacity ".concat(o,"ms ")).call(a,r," ")).call(n,i,"ms"),opacity:0},enterDone:{opacity:1},mainExit:{transition:"opacity ".concat(50,"ms ",r),opacity:1},exitActive:{transition:"opacity ".concat(50,"ms ",r),opacity:0},exitDone:{opacity:0}}},PopupSlideUpEULA:function(){var e,t;return{main:{width:"100%",transition:(0,h.default)(e="transform ".concat(300,"ms ")).call(e,b),opacity:1,position:"absolute",bottom:0,top:0,zIndex:25,willChange:"transform"},enterActive:{transform:"translateY(100%)"},enterDone:{transform:"translateY(0)"},mainExit:{width:"100%",transition:(0,h.default)(t="transform ".concat(300,"ms ")).call(t,b),transform:"translateY(0)",opacity:1,position:"absolute",bottom:0,top:0,zIndex:25,willChange:"transform"},exitActive:{transform:"translateY(0)"},exitDone:{transform:"translateY(100%)"}}}};t.default=w},57539:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.Path=void 0;var i=a(n(1068)),o=a(n(81643)),r=a(n(54103)),l=a(n(26394)),u=a(n(69198)),s=a(n(5824)),c=a(n(51379)),d=a(n(214)),f=a(n(66380)),h=a(n(59748)),p=a(n(60021)),g=a(n(45697)),m=a(n(58061)),v=n(17674),_=a(n(11017)),y=n(78837),b=n(96309),w=n(64032);function E(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var o=(0,f.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}var C=a(n(75043)).default.name("Path"),T=function(e){(0,c.default)(n,e);var t=E(n);function n(e){var a,i,o,u,c;return(0,l.default)(this,n),(c=t.call(this,e)).getTransitionStylesProp=(0,r.default)(a=c.getTransitionStylesProp).call(a,(0,s.default)(c)),c.getShouldAnimateProp=(0,r.default)(i=c.getShouldAnimateProp).call(i,(0,s.default)(c)),c.getTransitionComponent=(0,r.default)(o=c.getTransitionComponent).call(o,(0,s.default)(c)),c.getShow=(0,r.default)(u=c.getShow).call(u,(0,s.default)(c)),c.state={show:c.getShow(v.Router.getCurrentRoute())},c}return(0,u.default)(n,[{key:"componentDidMount",value:function(){var e=this;v.Router.on("route_change",(function(t){var n=e.getShow(t);e.state.show!==n&&e.setState({show:n})}))}},{key:"componentDidCatch",value:function(e){this.getShow(v.Router.getCurrentRoute())&&v.Router.setNext(v.Router.getPrevRoute()),C.warn(e)}},{key:"getShow",value:function(e){var t;return-1!==(0,o.default)(t=this.props.paths).call(t,e)}},{key:"getTransitionStylesProp",value:function(){return this.props.transition?_.default.getTransitionByName(this.props.transition):_.default.getEmptyTransition()}},{key:"getShouldAnimateProp",value:function(){return m.default.mobileOrTablet()?{mount:null,unmount:null}:{mount:this.props.withMountTransition,unmount:this.props.withUnmountTransition}}},{key:"getTransitionComponent",value:function(){return m.default.mobileOrTablet()?w.MobileTransition:!m.default.ieOrEdge()&&this.props.cheap?b.CheapTransition:y.Transition}},{key:"render",value:function(){var e=this.getTransitionComponent();return h.default.createElement(e,{id:this.props.id,show:this.getShow(v.Router.getCurrentRoute()),shouldAnimate:this.getShouldAnimateProp(),duration:this.props.duration||200,className:this.props.className,style:this.props.style,transitionStyles:this.getTransitionStylesProp(),transition:this.props.transition,fixed:this.props.fixed,onEnter:this.props.onEnter,onExit:this.props.onExit,onEntered:this.props.onEntered,onExited:this.props.onExited,parentState:this.props.parentState,name:this.props.name,shouldWait:this.props.shouldWait,isStatic:this.props.isStatic,waitBeforeUnmount:this.props.waitBeforeUnmount,debugCallback:this.props.debugCallback,animationEnd:this.props.animationEnd},this.props.children)}}],[{key:"getDerivedStateFromError",value:function(e){return{show:!1}}}]),n}(p.default);t.Path=T,T.propTypes={paths:g.default.arrayOf(g.default.string).isRequired,withMountTransition:g.default.bool,withUnmountTransition:g.default.bool,transition:g.default.string,fixed:g.default.bool,isStatic:g.default.bool,waitBeforeUnmount:g.default.number,name:g.default.string,duration:g.default.number,onEnter:g.default.func,onEntered:g.default.func,onExit:g.default.func,onExited:g.default.func,animationEnd:g.default.func,children:g.default.oneOfType([g.default.arrayOf(g.default.node),g.default.node,g.default.func]).isRequired,debugCallback:g.default.oneOfType([g.default.bool,g.default.func]),shouldWait:g.default.number,parentState:g.default.any,style:g.default.any}},51017:function(e,t,n){"use strict";var a=n(87646),i=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(87672)),r=i(n(81643)),l=i(n(18777)),u=a(n(59748)),s=n(26213),c=i(n(45697)),d=i(n(31722)),f=n(81189),h=n(42796),p=n(85442),g=n(21224),m=i(n(90362)),v=n(56602),_=i(n(58061)),y=n(17674),b=n(36143),w=i(n(45808)),E=n(37916),C=n(53278),T=i(n(47321)),k=n(5505),S=n(20965),I=(i(n(75043)).default.name("WidgetContainer2"),function(e){var t,n,a,i,s=e.callbackEnabled,c=e.route,I=e.position,A=e.padding,x=e.orientation,M=e.callbackStatus,R=e.isInDrag,O=(0,u.useState)(!1),N=(0,l.default)(O,2),D=N[0],L=N[1],P=(0,u.useState)(!0),j=(0,l.default)(P,2),B=j[0],F=j[1],H=(0,u.useState)(!0),W=(0,l.default)(H,2),U=W[0],z=W[1],G=w.default.get(g.Component.LABEL),V=E.CallbackUtils.isCallbackEnabled(),q=-1!==(0,r.default)(t=[p.Route.CALL,p.Route.CALL_EULA,p.Route.INTRODUCE]).call(t,c),K=c!==p.Route.CALL||-1===(0,r.default)(n=[S.CallStatus.WAIT,S.CallStatus.CONNECTING,S.CallStatus.CONNECTED]).call(n,M),Y=!_.default.mobileOrTablet()&&!(0,v.isWixIframe)()&&c!==p.Route.CHAT_MIN,Z=D&&Y;if(c===p.Route.HIDDEN)return null;var J=(0,C.getCustomVars)(x,A,I,G,q),X=function(e){(0,k._callUserFunction)("onResizeCallback",(0,C.getSize)(e,x,I.height?I.height:J.height,y.Router.getCurrentRoute()))};return u.default.createElement(d.default,{id:"jcont",name:g.Component.WIDGET_CONTAINER,startCallbacks:(a={},(0,o.default)(a,h.ScriptName.OPEN_WIDGET,(function(){R||(L(!1),F(!0),z(!1),T.default.initSocial(),T.default.addMessagesOnOpen(),(0,k._callUserFunction)("onOpen"),X(!0))})),(0,o.default)(a,h.ScriptName.CLOSE_WIDGET,(function(){L(!1),F(!1),z(!1),X(!1)})),(0,o.default)(a,h.ScriptName.MINIMIZE_WIDGET,(function(){L(!1),F(!0),z(!0),y.Router.next(p.RouterEvent.CloseWindow),X(!1)})),a),endCallbacks:(i={},(0,o.default)(i,h.ScriptName.OPEN_WIDGET,(function(){R||(L(!0),z(!0))})),(0,o.default)(i,h.ScriptName.CLOSE_WIDGET,(function(){y.Router.next(p.RouterEvent.CloseWindow)})),(0,o.default)(i,h.ScriptName.MAXIMIZE_WIDGET,(function(){R||(L(!0),F(!0),z(!0),(0,k._callUserFunction)("onOpen"),X(!0))})),i),customVars:J,style:{position:"fixed",display:"block"},animationPostfix:(0,C.getAnimationPostfix)(x,A)},u.default.createElement(m.default,{needRenderCloseBtn:K,needRenderCallContainer:V,needRenderDrag:Z,showCloseButton:D,showHeaderText:B,showBody:U,callbackEnabled:s,route:c,onCloseButtonClick:function(){T.default.closeWidget(),b.RouterUtils.isChatMinAvailable()?f.transitionDispatchers.startTransition(h.ScriptName.MINIMIZE_WIDGET):M===S.CallStatus.CONNECTED?y.Router.next(p.RouterEvent.CloseWindow):f.transitionDispatchers.startTransition(h.ScriptName.CLOSE_WIDGET)},isStatic:q}))});I.propTypes={callbackEnabled:c.default.bool,route:c.default.string,position:c.default.any,padding:c.default.string,orientation:c.default.string,callbackStatus:c.default.oneOfType([c.default.string,c.default.bool]),isInDrag:c.default.bool};var A=(0,s.connect)((function(e){return{padding:e.settings.user.widgetPadding,orientation:e.settings.user.widgetOrientation,route:e.app.route,callbackEnabled:e.callback.available,position:e.position,callbackStatus:e.callback.status,isInDrag:e.app.isInDrag}}),{})(u.default.memo(I));t.default=A},53278:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.getSize=t.getCustomVars=t.getAnimationPostfix=t.getPosition=void 0;var i=a(n(63978)),o=a(n(20368)),r=a(n(39649)),l=a(n(78914)),u=a(n(34074)),s=a(n(20116)),c=a(n(14310)),d=a(n(86902)),f=a(n(87672)),h=n(56602),p=n(24335),g=n(10872),m=n(57018),v=n(85442),_=a(n(58061));function y(e,t){var n=(0,d.default)(e);if(c.default){var a=(0,c.default)(e);t&&(a=(0,s.default)(a).call(a,(function(t){return(0,u.default)(e,t).enumerable}))),n.push.apply(n,a)}return n}var b=function(e,t,n,a,i){var o={},r=a&&a.offsetWidth,l=a&&a.offsetHeight;return"bottom"===e&&(o=w(t,r,l)),"left"===e&&(o=E(t,r,l)),"right"===e&&(o=C(t,r,l)),o=T(o,n),i&&(o.height="auto"),o.height||(o.height="496px"),o};t.getPosition=b;var w=function(e,t,n){var a={};return"100"===e&&(a.right="30px"),"50"===e&&(a.right="30px"),"0"===e&&(a.left="40px"),a},E=function(e,t,n){var a={left:"40px",bottom:t?_.default.ieOrEdge()?"32%":"calc(50% - ".concat(t/2,"px)"):"50%"};return"100"===e&&(a.bottom="20px"),a},C=function(e,t,n){var a="50"===e?"calc(50% - ".concat(t/2,"px)"):0;return{right:"39px",bottom:t?_.default.ieOrEdge()?"32%":a:"50%"}},T=function(e,t){var n=e;return t.right&&(n.right=t.right),t.height&&(n.height=t.height),t.left&&(n.left=t.left),n};t.getAnimationPostfix=function(e,t){return(0,h.isCustomLabel)()||p.isDesignerEditor?"custom":"bottom"===e&&"0"===t?"".concat(e,"_0"):e};t.getCustomVars=function(e,t,n,a,s){var c=function(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)(0,l.default)(n=y(Object(a),!0)).call(n,(function(t){(0,f.default)(e,t,a[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(a));else{var s;(0,l.default)(s=y(Object(a))).call(s,(function(t){(0,i.default)(e,t,(0,u.default)(a,t))}))}}return e}({labelwidth:a&&a.offsetWidth?"".concat(a.offsetWidth,"px"):null,labelright:a&&a.style&&a.style.right?a.style.right:null,labelleft:a&&a.style&&a.style.left?a.style.left:null},b(e,t,n,a,s));if(a&&!a.style){var d=(0,g.getSavedLabelPosition)();c.labelleft=d.left,c.labelright=d.right,c.labelwidth="".concat(d.offsetWidth,"px")}return c};t.getSize=function(e,t,n,a){if(a==v.Route.CHAT_MIN)return{width:m.CHAT_WIDTH+"px",height:m.HEADER_HEIGHT+"px"};if(a==v.Route.CALL)return{width:m.CHAT_WIDTH+"px",height:m.DEFAULT_WIDGET_HEIGHT+"px"};var i=e?m.CHAT_WIDTH+"px":(0,g.getSavedLabelPosition)().offsetWidth+"px";return"bottom"===t||e?{width:i,height:e?n:m.LABEL_HEIGHT+"px"}:{width:m.LABEL_HEIGHT+"px",height:(0,g.getSavedLabelPosition)().offsetWidth+"px"}}},90362:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(59748)),o=a(n(45697)),r=a(n(44334)),l=a(n(5777)),u=a(n(9650)),s=a(n(34271)),c=a(n(99952)),d=n(85442),f=[d.Route.CHAT,d.Route.CHAT_CALL,d.Route.CHAT_EULA,d.Route.CHAT_EVAL,d.Route.CHAT_INTRODUCE,d.Route.CHAT_SOCIAL,d.Route.CHAT_MIN,d.Route.DEPARTMENTS,d.Route.INTRODUCE,d.Route.DEBUG],h=[d.Route.CALL,d.Route.CALL_EULA],p=function(e){var t=e.needRenderCloseBtn,n=e.needRenderCallContainer,a=e.needRenderDrag,o=e.showCloseButton,p=e.showHeaderText,g=e.showBody,m=e.callbackEnabled,v=e.route,_=e.onCloseButtonClick,y=e.isStatic;return i.default.createElement(i.default.Fragment,null,t?i.default.createElement(c.default,{drag:a,callEnabled:m,inCall:v===d.Route.CALL,show:o,onClick:_,ignoreDragHeight:y}):null,i.default.createElement("jdiv",{className:r.default.contentWrapper},i.default.createElement(l.default,{allowedRoutes:f,currentRoute:v,name:"ChatContainer"},i.default.createElement(u.default,{showHeaderText:p,showBody:g,canRenderCall:n})),n?i.default.createElement(l.default,{allowedRoutes:h,currentRoute:v,name:"CallContainer"},i.default.createElement(s.default,{route:v,showBody:g})):null))};p.propTypes={needRenderCloseBtn:o.default.bool.isRequired,needRenderCallContainer:o.default.bool.isRequired,needRenderDrag:o.default.bool.isRequired,showCloseButton:o.default.bool.isRequired,showHeaderText:o.default.bool.isRequired,showBody:o.default.bool.isRequired,callbackEnabled:o.default.bool.isRequired,route:o.default.string.isRequired,onCloseButtonClick:o.default.func.isRequired,isStatic:o.default.bool};var g=i.default.memo(p);t.default=g},91505:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(5872)),r=a(n(33032)),l=a(n(77766)),u=a(n(54103)),s=a(n(26394)),c=a(n(69198)),d=a(n(51379)),f=a(n(214)),h=a(n(66380)),p=a(n(59748)),g=a(n(60021)),m=a(n(62107)),v=a(n(58061)),_=a(n(46443)),y=n(56602),b=n(99112),w=a(n(68806)),E=n(17674),C=n(85442),T=a(n(75043)),k=a(n(89953)),S=n(33367),I=n(63242);function A(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,h.default)(e);if(t){var o=(0,h.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,f.default)(this,n)}}var x=T.default.name("ZoomOverlay"),M=function(e){(0,d.default)(n,e);var t=A(n);function n(e){var a;(0,s.default)(this,n),a=t.call(this,e);var i=w.default.getAppZoom();return a.state={isShow:a.getIsShow(w.default.getUserZoom(),i),iconZoom:i,visualPos:null,view:!!window.visualViewport,showContainer:!0},a._iconWrap=null,a}return(0,c.default)(n,[{key:"isNotLabelRoute",value:function(){return E.Router.getCurrentRoute()!==C.Route.LABEL}},{key:"componentDidMount",value:function(){var e=this;w.default.listenChangeZoom((function(t){x.log("zoom changed"),e.updateZoom(t.appZoom,t.userZoom)})),E.Router.on("route_change",(function(){e.updateZoom(w.default.getAppZoom(),w.default.getUserZoom())}));var t=(0,y.getPageWindow)();if(t.visualViewport&&t.visualViewport.addEventListener){var n,a=m.default.throttle((0,u.default)(n=this.updateBox).call(n,this),150);t.visualViewport.addEventListener("scroll",a),t.visualViewport.addEventListener("resize",a)}this.updateBox()}},{key:"isVisible",value:function(){return this.state.isShow}},{key:"getIsShow",value:function(e,t){return(!v.default.ios()||!w.default.isWidgetOnWix)&&(e>1.03&&this.isNotLabelRoute())}},{key:"updateZoom",value:function(e,t){var n=this,a=this.getIsShow(t,e);v.default.safari()&&a&&w.default.bodyEl&&(w.default.bodyEl.scrollTop=0,w.default.bodyEl.scrollLeft=0),a===this.state.isShow||!this.isNotLabelRoute()||(S.Monitoring.telemetryOnce(a?I.TelemetryName.ZOOM_OVERLAY_SHOW:I.TelemetryName.ZOOM_OVERLAY_HIDE),a)?this.setState({iconZoom:e,isShow:a}):this.setState({iconZoom:e},m.default.debounce((function(){n.setState({isShow:!1})}),500))}},{key:"updateBox",value:function(){var e,t=(0,y.getPageWindow)().visualViewport;t&&this.setState({visualPos:{width:t.width,height:t.height,transform:(0,l.default)(e="translate(".concat(t.offsetLeft,"px, ")).call(e,t.offsetTop,"px)")}})}},{key:"getRenderData",value:function(){var e={zoom:this.state.iconZoom},t={};if(v.default.tablet()){var n=(0,b.getElementPosition)(this._iconWrap);n.left>0&&!v.default.ipad()&&(t.left=-(n.left-n.left*this.state.iconZoom)),n.top>0&&!v.default.ipad()&&(t.top=-(n.top-n.top*this.state.iconZoom))}return{data:{},styles:{wrap:[{wrap:!0,_tablet:v.default.tablet()},{display:this.state.isShow?null:"none"}],iconContainer:[{iconContainer:!0},{width:this.state.view?"100%":w.default.window.innerWidth,height:w.default.window.innerHeight,display:this.state.showContainer?"block":"none"}],iconWrap:[{iconWrap:!0},e],iconWrapContainer:[{iconWrapContainer:!0},t],viewWrap:[{viewWrap:!0},this.state.visualPos],box:[{box:!0},{zoom:this.state.iconZoom}],zoom:[{zoom:!0}]},style:k.default}}},{key:"hideIcons",value:function(){this.setState({showContainer:!1})}},{key:"showIcons",value:function(){var e=this;(0,r.default)((function(){e.setState({showContainer:!0})}),50)}},{key:"renderIcons",value:function(){return p.default.createElement("jdiv",null,p.default.createElement(_.default,{iconName:"hand",className:k.default.handIcon}),p.default.createElement(_.default,{iconName:"arrow",className:k.default.arrow1}),p.default.createElement(_.default,{iconName:"arrow2",className:k.default.arrow2}))}},{key:"getZoomBox",value:function(e){var t,n,a,i,r,l,s,c;return v.default.isPointerEnabled()?p.default.createElement("jdiv",(0,o.default)({},e.zoom,{onPointerDown:(0,u.default)(t=this.hideIcons).call(t,this),onPointerUp:(0,u.default)(n=this.showIcons).call(n,this),onPointerMove:(0,u.default)(a=this.hideIcons).call(a,this),onPointerCancel:(0,u.default)(i=this.showIcons).call(i,this)})):p.default.createElement("jdiv",(0,o.default)({},e.zoom,{onTouchStart:(0,u.default)(r=this.hideIcons).call(r,this),onTouchEnd:(0,u.default)(l=this.showIcons).call(l,this),onTouchCancel:(0,u.default)(s=this.showIcons).call(s,this),onTouchMove:(0,u.default)(c=this.hideIcons).call(c,this)}))}},{key:"renderData",value:function(e,t){var n=this;return p.default.createElement("jdiv",t.wrap,this.getZoomBox(t),p.default.createElement("jdiv",{className:k.default.substrate}),p.default.createElement("jdiv",t.iconContainer,!this.state.view&&p.default.createElement("jdiv",(0,o.default)({},t.iconWrap,{ref:function(e){n._iconWrap=e}}),p.default.createElement("jdiv",t.iconWrapContainer,this.renderIcons())),this.state.view&&p.default.createElement("jdiv",t.viewWrap,p.default.createElement("jdiv",t.box,this.renderIcons()))))}}]),n}(g.default);t.default=M},27371:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(77766)),o=a(n(26394)),r=a(n(69198)),l=a(n(82993)),u=n(84235),s=a(n(75043)).default.name("ABTesting"),c=new(function(){function e(){(0,o.default)(this,e),this.activeTest=null,this.storeName="abTests",this._initialize(),this._cleanUp()}return(0,r.default)(e,[{key:"testIsActive",value:function(e){return this.activeTest&&this.activeTest.name===e}},{key:"getActiveTest",value:function(){return this.activeTest?this.activeTest:null}},{key:"getGroup",value:function(e){return this.testIsActive(e)?this.activeTest.chosenGroup:null}},{key:"getNumberOfGroupsInTest",value:function(e){return this.testIsActive(e)?this.activeTest.numberOfGroups:null}},{key:"isInTestGroup",value:function(e,t){return this.getGroup(e)===t}},{key:"getActiveTestAsString",value:function(){var e;return this.activeTest?(0,i.default)(e="".concat(this.activeTest.name,",")).call(e,this.activeTest.chosenGroup):null}},{key:"getActiveTestName",value:function(){return this.activeTest?this.activeTest.name:null}},{key:"getActiveTestGroup",value:function(){return this.activeTest?this.activeTest.chosenGroup:null}},{key:"_initialize",value:function(){if(u.ACTIVE_TEST){var e=this._getSavedTestGroup(u.ACTIVE_TEST.name);this.activeTest={name:u.ACTIVE_TEST.name,numberOfGroups:u.ACTIVE_TEST.groups,chosenGroup:e||this._getRandomGroupNumber(u.ACTIVE_TEST.groups)},l.default.set(this.storeName,this.activeTest),s.log("Ab-testing is ebabled.","TestName: ".concat(this.getActiveTestName(),"."),"Group: ".concat(this.getActiveTestGroup(),"."))}}},{key:"_getRandomGroupNumber",value:function(e){return Math.floor(Math.random()*e)+1}},{key:"_getSavedTestGroup",value:function(e){var t=l.default.get(this.storeName);return t&&t.name===e?t.chosenGroup:null}},{key:"_cleanUp",value:function(){this.activeTest||l.default.removeKey(this.storeName)}}]),e}());t.default=c},3850:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.DataProvider=void 0;var i=a(n(54103)),o=a(n(26394)),r=a(n(69198)),l=n(96400),u=n(78618),s=a(n(35195)),c=n(22435),d=a(n(75043)).default.name("ApiInvitations.DataProvider"),f=function(){function e(t,n){var a;(0,o.default)(this,e),this.userToken=t,this.manager=n,this.timer=new c.Timer((0,i.default)(a=this.update).call(a,this)),this.store=new u.InvitationsStore({type:"default",name:"api_invites",itemClass:s.default,keys:{id:null,text:null,ruleName:null,read:null,isPopup:null,prechat:null}}),this.update()}return(0,r.default)(e,[{key:"update",value:function(){d.log("Update invitations"),this.getInvitationsFromApi();var e=Math.floor(120*Math.random()+90);this.timer.start(60*e*1e3)}},{key:"getInvitationsFromApi",value:function(){var e=this;d.log("Getting invitations from Api"),l.ApiProvider.getCustomerIoInvites(this.userToken,(function(t,n){!t&&n?n&&n.ok&&(e.store.save(n.invitations),d.log("Invitations are up to date"),e.manager.addInvitationsToChat()):d.error("Bad request",t&&t.code,t&&t.text)}))}},{key:"hasInvitations",value:function(){return this.store.length()||!1}},{key:"getInvitations",value:function(){return this.store.getAll()}},{key:"markInvitationsRead",value:function(){this.store.markInvitationsRead()}}]),e}();t.DataProvider=f},78618:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.InvitationsStore=void 0;var i=a(n(1068)),o=a(n(94473)),r=a(n(20116)),l=a(n(78914)),u=a(n(26394)),s=a(n(69198)),c=a(n(51379)),d=a(n(214)),f=a(n(66380)),h=a(n(47701)),p=n(33367),g=n(63242),m=a(n(36216));function v(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var o=(0,f.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}var _=a(n(75043)).default.name("ApiInvitations.InvitationsStore"),y=function(e){(0,c.default)(n,e);var t=v(n);function n(e){return(0,u.default)(this,n),t.call(this,e)}return(0,s.default)(n,[{key:"save",value:function(e){var t=this;_.log("Storing invitations",e),this.store.length?this.merge(e):(0,l.default)(e).call(e,(function(e){t.add(e)}))}},{key:"merge",value:function(e){var t=this;_.log("Merging invitations",e),this.deleteUnreads(),(0,l.default)(e).call(e,(function(e){t.findById(e.invitation_id)||t.add(e)}))}},{key:"deleteUnreads",value:function(){var e;_.log("Deleting unread invitations");var t=(0,r.default)(e=this.store).call(e,(function(e){return!e.get("read")}));(0,l.default)(t).call(t,(function(e){e.destroy()}))}},{key:"add",value:function(e){_.log("Adding invitation",e);var t=e.text,n=e.rule_name,a=e.invitation_id,i=e.is_popup,o=e.prechat;this.push({text:t,ruleName:n,id:a,read:!1,isPopup:i||null,prechat:o||null}),p.Monitoring.telemetry(g.TelemetryName.RECEIVE_API_INVITATION,{param1:n,param2:a,param3:m.default&&m.default.client_info&&m.default.client_info.email})}},{key:"findById",value:function(e){var t;return(0,o.default)(t=this.store).call(t,(function(t){return t.get("id")===e}))}},{key:"length",value:function(){return this.store.length}},{key:"markInvitationsRead",value:function(){var e,t=(0,r.default)(e=this.store).call(e,(function(e){return!e.get("read")}));(0,l.default)(t).call(t,(function(e){e.set("read",!0)}))}}]),n}(h.default);t.InvitationsStore=y},60906:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.ApiInvitationsManager=void 0;var i=a(n(63978)),o=a(n(20368)),r=a(n(39649)),l=a(n(34074)),u=a(n(20116)),s=a(n(14310)),c=a(n(86902)),d=a(n(2991)),f=a(n(51942)),h=a(n(78914)),p=a(n(87672)),g=a(n(26394)),m=a(n(69198)),v=n(3850),_=a(n(44992)),y=a(n(99357)),b=a(n(18750)),w=a(n(36216)),E=a(n(62652)),C=a(n(69961)),T=n(8565),k=n(5505),S=n(33367),I=n(63242),A=(a(n(45808)),n(21224),n(81189)),x=n(75245),M=a(n(62904)),R=n(17674),O=n(85442),N=(n(23582),n(42796));function D(e,t){var n=(0,c.default)(e);if(s.default){var a=(0,s.default)(e);t&&(a=(0,u.default)(a).call(a,(function(t){return(0,l.default)(e,t).enumerable}))),n.push.apply(n,a)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)(0,h.default)(n=D(Object(a),!0)).call(n,(function(t){(0,p.default)(e,t,a[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(a));else{var u;(0,h.default)(u=D(Object(a))).call(u,(function(t){(0,i.default)(e,t,(0,l.default)(a,t))}))}}return e}var P=a(n(75043)).default.name("ApiInvitationsManager"),j=new(function(){function e(){var t;(0,g.default)(this,e),this.userToken=null,this.initialized=!1,this.dataProvider=null,this.needToSendTelemetry=(t={},(0,p.default)(t,I.TelemetryName.ANSWER_API_INVITATION,!0),(0,p.default)(t,I.TelemetryName.READ_API_INVITATION,!0),t),this.invitationsCount=0,this.needToOpenChat=!0,this.needToShowPopup=!1,this.needToShowPrechat=!1}return(0,m.default)(e,[{key:"initialize",value:function(e){this.initialized||(this.dataProvider=new v.DataProvider(e,this),this.userToken=e,this.initialized=!0)}},{key:"isInitialized",value:function(){return this.initialized}},{key:"hasInvitations",value:function(){return this.initialized&&this.dataProvider&&this.dataProvider.hasInvitations()}},{key:"saveUnreadInvitations",value:function(){if(this.initialized){var e=y.default.getUnreadApiInvitations();(0,h.default)(e).call(e,(function(e){delete e.get("body").unsave;var t=(0,f.default)({},e.toJSON());A.messagesDispatchers.addMessage(t),e.destroy()})),this.dataProvider.markInvitationsRead()}}},{key:"markInvitationsAnswered",value:function(){this.initialized&&(this.saveUnreadInvitations(),this._sendInvitationsTelemetry(I.TelemetryName.ANSWER_API_INVITATION))}},{key:"markInvitationsRead",value:function(){this.initialized&&(this.saveUnreadInvitations(),this._sendInvitationsTelemetry(I.TelemetryName.READ_API_INVITATION))}},{key:"_sendInvitationsTelemetry",value:function(e){if(this.initialized){var t=this.getCurrentInvitations();t&&this.needToSendTelemetry[e]&&((0,h.default)(t).call(t,(function(t){S.Monitoring.telemetry(e,{param1:t.get("ruleName"),param2:t.get("id"),param3:w.default&&w.default.client_info&&w.default.client_info.email})})),this.needToSendTelemetry[e]=!1)}}},{key:"addInvitationsToChat",value:function(){var e=this;if(this.initialized){P.log("addRulesToChat",this.store);var t,n,a=this.dataProvider.getInvitations();b.default.getActiveAgent((function(i){P.log("Active agent:",i),i&&((0,f.default)(C.default,i),i.bot_id||w.default.pa_id&&w.default.pa_id===i.agent_id||(w.default.pa_id=i.agent_id),A.chatsDispatchers.setJoinedAgents([i]));var o=y.default.getUnreadApiInvitations(),r=o.length;(0,h.default)(o).call(o,(function(e){e.destroy()})),e.invitationsCount=0,(0,h.default)(a).call(a,(function(a){if(!a.get("read")&&!E.default.chat_started){var o=a.get("text");t=a.get("ruleName"),n=a.get("id");var r=i?L(L({},i),{},{customerIO:!0,unsave:!0,invitationId:a.get("id")}):{customerIO:!0,unsave:!0,invitationId:a.get("id")},l={type:T.MessageType.MESSAGE,from:T.MessageInitiator.AGENT,from_id:i&&i.agent_id,text:o,body:r};A.messagesDispatchers.addMessage(l),e.invitationsCount++,e.needToShowPopup=a.get("isPopup")||!1,e.needToShowPrechat=a.get("prechat")||!1}})),e.invitationsCount!==r&&(_.default.play("notification"),e.needToOpenChat&&e.needToShowPopup?(R.Router.next(O.RouterEvent.ToLabelInvitation),S.Monitoring.telemetry(I.TelemetryName.API_INVITATION_OPEN_CHAT,{param1:t,param2:n,param3:w.default&&w.default.client_info&&w.default.client_info.email}),e.needToOpenChat=!1):(R.Router.next(O.RouterEvent.ToChat),A.transitionDispatchers.startTransition(N.ScriptName.OPEN_WIDGET),(0,k._callUserFunction)("onMessageReceived")),e.needToShowPrechat&&e.needToShowPrechat.length&&(x.messageActions.deletePrechatMsg(),M.default.prechat=e._formatInvitationPrechats(e.needToShowPrechat),M.default.enable_prechat=1,x.messageActions.pushPrechat()))}))}}},{key:"_formatInvitationPrechats",value:function(e){return(0,d.default)(e).call(e,(function(e){return{text:e}}))}},{key:"getCurrentInvitations",value:function(){return this.initialized?this.dataProvider.getInvitations():null}}]),e}());t.ApiInvitationsManager=j},22435:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.Timer=void 0;var i=a(n(33032)),o=a(n(26394)),r=a(n(69198)),l=function(){function e(t){(0,o.default)(this,e),this.timerId=null,this.cb=t||null}return(0,r.default)(e,[{key:"setCallback",value:function(e){this.cb=e}},{key:"start",value:function(e){clearTimeout(this.timerId),this.timerId=(0,i.default)(this.cb,e)}},{key:"stop",value:function(){clearTimeout(this.timerId)}}]),e}();t.Timer=l},81574:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(33032)),o=a(n(54103)),r=a(n(26394)),l=a(n(69198)),u=a(n(59748)),s=a(n(59748)),c=a(n(92945)),d=n(56602),f=n(5505),h=a(n(62904)),p=a(n(62652)),g=n(21224),m=a(n(45808)),v=a(n(75043)),_=n(74525),y=a(n(47321)),b=a(n(43942)),w=n(93848),E=n(94990),C=a(n(14847)),T=n(94515),k=v.default.name("Jivo Widget"),S=null,I=function(){function e(){if((0,r.default)(this,e),S)return S;this.rootContainer=null,this.initialize(),this.sendInitialTelemetry(),S=this}return(0,l.default)(e,[{key:"initialize",value:function(){(0,_.initializePolyfills)(),this.initStories(),this.initClientData(),this.initManagers(),this.initIntegrations(),this.initPublicApi(),(0,_.subscribeToPageVisibilityChanges)()}},{key:"initClientData",value:function(){(0,_.generateVisitorId)(),(0,_.initializeSession)()}},{key:"initStories",value:function(){k.log("Initializing stories"),y.default.initializeReduxStores()}},{key:"initManagers",value:function(){k.log("Initializing managers"),(0,_.initializeLoaderContextManager)(),(0,_.initializeDebugDataCollector)(),(0,_.initializeMonitoring)(),(0,_.initializeWindowResizeManager)(),b.default.run(),(0,_.initializeDevTools)()}},{key:"initIntegrations",value:function(){k.log("Initializing integrations"),(0,_.initializeRecaptcha)(),(0,w.initCallTouch)(),(0,E.initVideoForce)(),(0,_.initializeCobrowse)(),(0,_.initializeAnalytics)(),y.default.requestCWAvailable()}},{key:"initPublicApi",value:function(){k.log("Initializing public api"),(0,_.exposeJivoVersion)(),(0,_.exposeApi)(),(0,C.default)()}},{key:"sendInitialTelemetry",value:function(){(0,_.sendLoadTimeTelemetry)(),(0,_.sendLoadedInIframeTelemetry)()}},{key:"start",value:function(){k.warn("start"),(0,d.isAppCobrowse)()||((0,_.resetAgents)(),this.render(),p.default.started=!0,(0,_.initializeRuleManager)(),(0,_.sendBundleLoadedTelemetry)(),(0,_.handleChatPageStart)())}},{key:"stop",value:function(){k.warn("stop"),(0,_.stop)()}},{key:"render",value:function(){var e;if(k.log("Rendering"),(0,f._callUserFunction)("onInitCallback"),T.EnvironmentManager.isDevelopment()){n(14369),n(67665);var t=n(6400),a=t.options,i=t.Fragment,r=t.Component;window.parent.__PREACT_DEVTOOLS__&&window.parent.__PREACT_DEVTOOLS__.attachPreact("10.5.5",a,{Fragment:i,PreactComponent:r})}var l=(0,d.getPageWindow)(),v=l.document.body;this.rootContainer=l.document.createElement("jdiv"),(0,d.addListener)(l,"jBeforeunload",(0,o.default)(e=this.unmount).call(e,this)),v.appendChild(this.rootContainer),!(0===p.default.is_online&&1===h.default.hide_offline&&!p.default.chat_started)&&s.default.render(u.default.createElement(c.default,{ref:function(e){m.default.set(g.Component.ROOT_COMPONENT,e)}}),this.rootContainer),(0,_.initializeSoundManager)(),(0,f._callUserFunction)("onLoadCallback")}},{key:"unmount",value:function(){var e;k.log("Unmounting");var t=(0,d.getPageWindow)(),n=t.document.body;u.default.unmountComponentAtNode(this.rootContainer),n.removeChild(this.rootContainer),(0,d.removeEvent)(t,"jBeforeunload",(0,o.default)(e=this.unmount).call(e,this)),(0,i.default)((function(){(0,f._callUserFunction)("onWidgetDestroy")}),0)}}],[{key:"getInstance",value:function(){return S}}]),e}();t.default=I},74525:function(e,t,n){"use strict";var a=n(87646),i=n(60530);n(63978)(t,"__esModule",{value:!0}),t.handleChatPageStart=t.stop=t.initializeDevTools=t.initializeSession=t.initializeCobrowse=t.initializePolyfills=t.initializeMonitoring=t.initializeWindowResizeManager=t.initializeRecaptcha=t.initializeLoaderContextManager=t.initializeAnalytics=t.initializeRuleManager=t.initializeSoundManager=t.initializeDebugDataCollector=t.sendLoadTimeTelemetry=t.sendLoadedInIframeTelemetry=t.sendBundleLoadedTelemetry=t.generateVisitorId=t.subscribeToPageVisibilityChanges=t.exposeApi=t.exposeJivoVersion=t.resetAgents=void 0;var o=i(n(94198)),r=i(n(33032)),l=n(94515),u=i(n(20097)),s=i(n(18228)),c=n(33367),d=n(63242),f=i(n(77922)),h=a(n(56602)),p=i(n(69961)),g=n(81189),m=i(n(82993)),v=i(n(18750)),_=i(n(68806)),y=i(n(51362)),b=i(n(27371)),w=n(60906),E=n(75245),C=n(75737),T=i(n(45808)),k=i(n(6991)),S=i(n(9805)),I=i(n(5972)),A=i(n(93268)),x=i(n(47321)),M=i(n(62652)),R=i(n(36216)),O=i(n(8282)),N=n(43472),D=i(n(58061)),L=i(n(40695)),P=i(n(99357)),j=i(n(35067)),B=n(17674),F=n(85442),H=n(23582),W=i(n(44992)),U=i(n(67966)),z=i(n(62904)),G=i(n(44299)),V=i(n(13106)),q=i(n(82207)),K=a(n(5505)),Y=i(n(23586)),Z=i(n(88561)),J=i(n(41829)),X=i(n(27968)),$=i(n(75043)).default.name("Jivo Widget Utils");t.resetAgents=function(){$.log("resetting agents"),M.default.chat_started||g.chatsDispatchers.setNoJoinedAgents()};t.exposeJivoVersion=function(){$.log("exposeJivoVersion"),(0,h.getPageWindow)().jivo_version=l.EnvironmentManager.getVersion()};t.exposeApi=function(){$.log("exposeApi"),(0,h.getPageWindow)().jivo_api=K.default};t.subscribeToPageVisibilityChanges=function(){$.log("subscribeToPageVisibilityChanges"),Z.default.subscribe((function(e){e&&J.default.stopBlinking(),s.default.ifNeedConnect()||(0,h.isAppCobrowse)()||(x.default.reloadStories(),x.default.initializeReduxStores())}))};t.generateVisitorId=function(){R.default.visitorId||(R.default.visitorId=(0,h.generateGUIDCount)(4),$.log("New visitor id:",R.default.visitorId)),$.log("Visitor id already exists:",R.default.visitorId)};t.sendBundleLoadedTelemetry=function(){$.log("sendBundleLoadedTelemetry"),(0,r.default)((function(){c.Monitoring.telemetryWithProbability(d.TelemetryName.BUNDLE_LOADED,{param1:l.EnvironmentManager.getVersion(),param2:u.default.getInstance().store.isNewCode?"newCode":"oldCode"},15)}),1e3)};t.sendLoadedInIframeTelemetry=function(){$.log("sendLoadedInIframeTelemetry"),window.parent.window!=window.top&&M.default.route!==F.Route.HIDDEN&&c.Monitoring.telemetryWithProbability(d.TelemetryName.IN_IFRAME_STARTED,{},10)};t.sendLoadTimeTelemetry=function(){$.log("sendLoadTimeTelemetry");var e=u.default.getInstance();if(e&&D.default.supportsLocalStorage()){var t=e.store.loadTime;t&&(c.Monitoring.telemetry(d.TelemetryName.CDN_LOAD_TIME,{param1:(0,o.default)(t)}),e.setInStore("loadTime",null))}};t.initializeDebugDataCollector=function(){$.log("initializeDebugDataCollector"),new S.default(M.default,z.default,R.default,U.default,p.default,N.reduxStore,P.default)};t.initializeSoundManager=function(){$.log("initializeSoundManager"),W.default.initSoundPlayer()};t.initializeRuleManager=function(){(0,h.isPaidCustomer)()?(G.default.init(),$.log("initializeRuleManager success")):$.log("initializeRuleManager failure")};t.initializeAnalytics=function(){(0,h.isPaidCustomer)()?($.log("initializeAnalytics success"),L.default.init()):$.log("initializeAnalytics failure")};t.initializeLoaderContextManager=function(){$.log("initializeLoaderContextManager"),new u.default(z.default.widget_id,M.default)};t.initializeRecaptcha=function(){H.FeatureManager.isEnabled(H.Feature.RECAPTCHA)&&($.log("initializeRecaptcha"),new V.default(z.default.recaptcha).addRecaptchaToPage(z.default.recaptcha))};t.initializeWindowResizeManager=function(){$.log("initializeWindowResizeManager");new q.default((function(e){(0,K._callUserFunction)("onResizeCallback",e)}))};t.initializeMonitoring=function(){$.log("initializeMonitoring"),c.Monitoring.init()};t.initializePolyfills=function(){$.log("initializePolyfills"),Y.default.init()};t.initializeCobrowse=function(){(0,h.getPageWindow)()==window.top||(0,h.isWixIframe)()||($.log("initializeCobrowse"),X.default.init());var e=(0,h.getPageWindow)().location.hash.split("jvhs_")[1];if(void 0!==e){var t=P.default.getCobrowseByHash(e),n=null,a=null;if($.log("cobrowse from init",t),t){var i=O.default.getAgentById(t.get("from_id"));i&&(n=i.toJSON()),a=t.get("body.text"),$.log("cobrowse agentData",n)}(0,r.default)((function(){X.default.getCobrowseData(e,null,a,n)}),1e3)}};t.initializeSession=function(){if($.log("initializeSession"),!I.default.get("enter_ts")){I.default.set("enter_ts",(new Date).getTime());var e=A.default.get("visits_count");A.default.set("visits_count",e?e+1:1,31556952),y.default.setUTM((0,h.getPageWindow)().location.href,(0,h.getPageWindow)().document.referrer)}R.default.jv_sess_id||j.default.push({url:(0,h.getCurrentPage)().url,title:(0,h.getCurrentPage)().title})};t.initializeDevTools=function(){$.log("initializeDevTools");var e=new f.default(m.default,I.default,A.default,x.default,s.default,R.default,p.default,O.default,M.default,N.reduxStore,P.default,U.default,_.default,h.default,y.default,j.default,k.default,B.Router,W.default,v.default,T.default,b.default,D.default,S.default.getInstance(),c.Monitoring,w.ApiInvitationsManager,L.default,E.messageActions,g.positionDispatchers,C.ConfigUtils,g.transitionDispatchers,g.callbackDispatchers,g.appDispatchers,g.clientDispatchers,g.featuresDispatchers,H.FeatureManager,l.EnvironmentManager);l.EnvironmentManager.isProduction()||l.EnvironmentManager.isPartnerApp()||e.installOnPage()};t.stop=function(){x.default.hideWidget()};t.handleChatPageStart=function(){(0,h.isChatPage)()&&x.default.addMessagesOnOpen()}},54417:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(26394)),o=a(n(69198)),r=function(){function e(t,n){(0,i.default)(this,e),this.doc=t,this.cssURL=n,this.loaded=!1,this.failed=!1,this.loadCss()}return(0,o.default)(e,[{key:"loadCss",value:function(){var e=this,t=this.doc.head||this.doc.getElementsByTagName("head")[0],n=this.doc.createElement("link");n.rel="stylesheet",n.href=this.cssURL,window.parent.jivo_cspNonce&&(n.setAttribute("nonce",window.jivo_cspNonce),delete window.parent.jivo_cspNonce),n.addEventListener("load",(function(t){e.loaded=!0,e.onLoadCallback&&e.onLoadCallback()})),n.addEventListener("error",(function(t){e.failed=!0,e.onFailedCallback&&e.onFailedCallback()})),t.appendChild(n)}},{key:"setOnLoadedCallback",value:function(e){this.loaded?e&&e():this.onLoadCallback=e}},{key:"setOnFailedCallback",value:function(e){this.failed?e&&e():this.onFailedCallback=e}},{key:"subscribe",value:function(e,t){this.setOnLoadedCallback(e),this.setOnFailedCallback(t)}}]),e}();t.default=r},51139:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.telephonyUrl=M,t.callWidgetPing=function(e,t){if((0,T.isEmpty)(m.default.callback_settings)||(0,T.isAppCobrowse)()||E.isDesignerEditor)return void x.log("callback disabled");if(m.default.botmode)return;var n=k.default.get("callback_ping_response");if(n)e(n);else{var a=t&&y.default.client_id?y.default.client_id.split(".")[0]:"0";C.default.get({url:M("/sites/"+m.default.site_id+"/widgets/"+m.default.widget_id+"/clients/"+a+"/telephony/callback")},(function(t,n){var a=n;a||(a={ok:!1});var i,o=a.work_time;o?("cw_connected"!==y.default.cw_call.status&&(0,w.onDelayedCallAvailable)(o),a.ok=!0):a.ok&&(0,w.resetDelayedCallStatus)(),i=a.ok||a.error_list&&"time_not_in_range"===a.error_list[0]?60:20,k.default.set("callback_ping_response",a,i),e(a)}))}},t.checkStartCall=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,a=y.default.client_id.split(".")[0],i={phone:e,invitation_text:t};C.default.post({url:M("/sites/"+m.default.site_id+"/widgets/"+m.default.widget_id+"/clients/"+a+"/telephony/callback"),headers:{"Content-Type":"application/x-www-form-urlencoded"},params:A({},i)},n)},t.detectPriorityCountry=R,t.getPhoneInfo=O,t.getPhoneNumberInfo=N,t.checkPhoneLength=function(e,t,n){var a,i=e.length,o=t.length;return(0,g.default)(a=["BR","BG","MX","DE","AT","KH","CH"]).call(a,n)>=0?i>=o-1&&i<=o+1:i===o},t.getMaskedValue=D,t.getMaskedPhone=function(e){if(!e)return e;var t=N(e);if(!t)return e;return"+"+t.phoneCode+" "+D(t.innerNumber,t.phoneFormat)},t.getTextSeconds=L,t.getCallText=function(e,t){var n,a;return e?(0,b.default)("callback_delayed_button_submit"):(0,f.default)(n=(0,f.default)(a="".concat((0,b.default)("cw_callAfter")," ")).call(a,t," ")).call(n,L(t),"!")};var i=a(n(63978)),o=a(n(20368)),r=a(n(39649)),l=a(n(78914)),u=a(n(34074)),s=a(n(20116)),c=a(n(14310)),d=a(n(86902)),f=a(n(77766)),h=a(n(3649)),p=a(n(87672)),g=a(n(81643)),m=a(n(62904)),v=a(n(62107)),_=a(n(18389)),y=a(n(36216)),b=a(n(75119)),w=n(93298),E=n(24335),C=a(n(49043)),T=n(56602),k=a(n(93268)),S=n(94515);function I(e,t){var n=(0,d.default)(e);if(c.default){var a=(0,c.default)(e);t&&(a=(0,s.default)(a).call(a,(function(t){return(0,u.default)(e,t).enumerable}))),n.push.apply(n,a)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)(0,l.default)(n=I(Object(a),!0)).call(n,(function(t){(0,p.default)(e,t,a[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(a));else{var s;(0,l.default)(s=I(Object(a))).call(s,(function(t){(0,i.default)(e,t,(0,u.default)(a,t))}))}}return e}var x=a(n(75043)).default.name("CallUtils","color: grey");function M(e){var t,n=(0,T.getProtocol)();return S.EnvironmentManager.isProduction()&&(n="https:"),m.default.tel_host?n+"//"+m.default.tel_host+"/api/1"+e:n+"//telephony"+m.default.base_url.substr((0,g.default)(t=m.default.base_url).call(t,"."))+"/api/1"+e}function R(e){if(x.log("detectPriorityCountry",e),!e)return null;var t={UA:{codes:["38"]},KZ:{codes:["77"]},RU:{codes:["79"]},CA:{codes:["1204","1226","1236","1249","1250","1289","1306","1343","1365","1403","1416","1418","1431","1437","1438","1450","1506","1514","1519","1548","1579","1581","1587","1600","1604","1613","1639","1647","1705","1709","1778","1780","1782","1807","1819","1825","1867","1873","1902","1905"]},DO:{codes:["1809"]},PR:{codes:["1787","1939"]}};for(var n in t)if({}.hasOwnProperty.call(t,n)){var a,i=t[n],o=e.substr(0,i.codes[0].length);if((0,g.default)(a=i.codes).call(a,o)>=0)return x.log("codeFound",n),{code:n}}return null}function O(e,t){var n="+"===t[0]?e.phone_code.length+1:e.phone_code.length,a=(0,h.default)(t).call(t,n);return{countryCode:e.code,countryName:e.name,phoneCode:e.phone_code,phoneFormat:e.phone_format,innerNumber:a,number:t}}function N(e){x.log("getPhoneNumberInfo",e);var t,n=e.replace(/\D+/g,""),a=m.default.callback_settings.countries,i="",o="";if(m.default.geoip&&(o=m.default.geoip.split(";")[0]),n.length<9||n.length>15)return null;for(var r=0;r<n.length;r++)if(!t)if(i=(0,h.default)(n).call(n,0,r+1),(t=v.default.where(a,{phone_code:i.toString()})).length>0){var l=R(n);if(l)t=v.default.where(t,{code:l.code});else{var u=v.default.where(t,{code:o});u.length&&(t=u)}}else t=null;return t||(t=v.default.findWhere(a,{code:o}))&&"RU"==o&&(13==n.length&&(n=n.replace("8","+7")),10==n.length&&(n="+7"+n)),t&&t.length?O(t=t[0],n):null}function D(e,t){return _.default.toPattern(e,t)}function L(e){return[(0,b.default)("cw_form_second"),(0,b.default)("cw_form_seconds"),(0,b.default)("cw_form_secondd")][e%100>4&&e%100<20?2:[2,0,1,1,1,2][e%10<5?e%10:5]]}},37916:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.CallbackUtils=void 0;var i=a(n(26394)),o=a(n(69198)),r=a(n(62904)),l=a(n(36216)),u=new(function(){function e(){(0,i.default)(this,e),this.callSettings=r.default.callback_settings}return(0,o.default)(e,[{key:"isCallActive",value:function(){switch(l.default.cw_call.status){case"cw_wait":case"cw_connecting":case"cw_connected":return!0;default:return!1}}},{key:"isCallbackEnabled",value:function(){return!!(l.default.cw_call_enabled&&this.callSettings.time&&this.callSettings.countries&&this.callSettings.countries.length)||this.isCallActive()}}]),e}());t.CallbackUtils=u},63465:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.isOfflineCanSend=function(){return!o.default.is_online&&u.default.getClientMessages().length&&!r.default.is_introduced},t.isValidEmail=function(){return r.default.client_info&&r.default.client_info.email&&l.default.email(r.default.client_info.email)},t.getLastMessageHeight=m,t.getThemeColor=function(e){switch(e){case"grey":return"#445669";case"blue":return"#0b82f7";default:return"#18c139"}},t.isProactivePrechat=function(){var e=u.default.getLastMessage();return s.default.get("text")&&u.default.getMessagesByType(d.MessageType.PRECHAT)&&e&&e.get("type")==d.MessageType.PRECHAT},t.isLastAgentMessage=v,t.getLastAgent=function(){var e=u.default.getLastMessage();if(!e||e.get("from")!==d.MessageInitiator.AGENT&&"bot"!==e.get("from")||e.get("type")!==d.MessageType.MESSAGE)return!1;var t=e.get("from_id"),n=h.default.getAgentById(t);return"bot"===e.get("from")&&(n=h.default.getBotById(t)),!!n&&n.toJSON()},t.setLastAgentScroll=function(e){if(!e)return!1;var t=v(),n=e.base;if(!n)return!1;var a=m(n),i=n.offsetHeight;g.log("setLastAgentScroll",t,a);var o=s.default.get("text")?1:0,r=u.default.getLastMessage();if(n&&a&&o&&r.get("type")==d.MessageType.PRECHAT)return e.scrollToTop(),!1;if(t&&a&&i&&a>i){e.setIgnore(!0);var l=f.default.mobileOrTablet()?80:50,c=e.getScrollHeight()-a-l;return o&&1==u.default.getAgentMessages().length?e.scrollToTop():e.scrollTop(c),!0}return!1};var i=a(n(81643)),o=a(n(62652)),r=a(n(36216)),l=a(n(94686)),u=a(n(99357)),s=a(n(67966)),c=n(57018),d=n(8565),f=a(n(58061)),h=a(n(8282)),p=a(n(95705)),g=a(n(75043)).default.name("ChatUtils");function m(e){if(!e)return 0;var t=e.querySelectorAll("."+p.default.text);if(t.length){var n=t[t.length-1].clientHeight;return n?n+c.HEADER_HEIGHT+10:0}return 0}function v(){var e,t=u.default.getLastMessage();return!!t&&(t.isAgentMessage()&&-1==(0,i.default)(e=[d.MessageType.FORM,d.MessageType.PREFORM]).call(e,t.get("type")))}},75737:function(e,t,n){"use strict";var a=n(87646),i=n(60530);n(63978)(t,"__esModule",{value:!0}),t.ConfigUtils=void 0;var o=i(n(77766)),r=i(n(26394)),l=i(n(69198)),u=i(n(49043)),s=a(n(62904)),c=n(56602),d=n(33367),f=n(63242),h=n(94515),p=i(n(75043)).default.name("ConfigUtils"),g=new(function(){function e(){(0,r.default)(this,e),this.loadCount=0}return(0,l.default)(e,[{key:"reloadConfig",value:function(e){var t,n,a=this;if(this.loadCount>5)return d.Monitoring.telemetryOnce(f.TelemetryName.CONFIG_LIMIT),void p.error("Reload config limit is reached!");var i=(0,o.default)(t=(0,o.default)(n="".concat((0,c.getProtocol)())).call(n,s.default.base_url,"/script/widget/config/")).call(t,s.default.widget_id);h.EnvironmentManager.isDevelopment()&&(i="/config.json"),p.log("Reloading config from",i,this.loadCount),window.parent.__jivoConfigOnLoad=function(t){!t.isDeleted&&t?((0,s.getViHost)()===t.vi_host&&(0,s.getCometHost)()===t.comet.host||(p.log("initConfig new config",t.vi_host),(0,s.initConfig)(t),e(t)),p.log("jivoConfigOnLoad from reloadConfig")):p.log("Reload on deleted config",t)},u.default.get({url:i+"?rnd="+Math.random()},(function(e,t){if(e)p.log("Load config error",e);else try{t&&(p.log("Config is loaded",t),a.loadCount++,window.parent.__jivoConfigOnLoad(t))}catch(e){p.log("Config parse error",t,e)}}))}}]),e}());t.ConfigUtils=g},14282:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(78914)),o=a(n(77766)),r=a(n(59036)),l=a(n(20116)),u=a(n(94473)),s=a(n(26394)),c=a(n(69198)),d=n(33367),f=n(63242),h=(a(n(99357)),a(n(75043)).default.name("MessageBuffer")),p=function(){function e(t){(0,s.default)(this,e),this.connection=t,this.messages=[]}return(0,c.default)(e,[{key:"push",value:function(e){h.log("push",e),this.messages.push(e)}},{key:"flush",value:function(){var e,t,n=this;h.log("flush",this.messages),this.messages.length>0&&d.Monitoring.telemetry(f.TelemetryName.CLIENT_MESSAGE_FLUSH_BUFFER);var a=(0,u.default)(e=this.messages).call(e,(function(e){return"start_chat"===e.name}));if(a){var s,c,p=(0,l.default)(s=this.messages).call(s,(function(e){return"start_chat"!==e.name}));this.messages=(0,o.default)(c=[a]).call(c,(0,r.default)(p))}(0,i.default)(t=this.messages).call(t,(function(e){return n.connection._sendSocketEvent(e)})),this.messages=[]}},{key:"hasMessage",value:function(e){var t;return(0,u.default)(t=this.messages).call(t,(function(t){return t.private_id===e}))}},{key:"validate",value:function(e){var t=this;h.log("validate",e),e.length&&(0,i.default)(e).call(e,(function(e){t.hasMessage(e.private_id)&&t.deleteMessage(e.private_id)}))}},{key:"deleteMessage",value:function(e){var t;h.log("deleteMessage",e),this.messages=(0,l.default)(t=this.messages).call(t,(function(t){return t.private_id!==e}))}},{key:"clear",value:function(){h.log("clear"),this.messages=[]}}]),e}();t.default=p},9805:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(59340)),o=a(n(77766)),r=a(n(26394)),l=a(n(69198)),u=n(84761),s=n(18547),c=n(56602),d=n(33367),f=n(63242),h=n(94515),p=(a(n(75043)).default.name("DebugDataCollector"),null),g=function(){function e(t,n,a,i,o,l,c){(0,r.default)(this,e),this.webSocketEventsStore=null,this.viSocketEventsStore=null,this.exceptionsStore=null,this.initialized=!1,this.messagesFormatter=new s.MessagesFormatter(c),this.appStore=t,this.widgetConfig=n,this.clientStore=a,this.proactiveStore=i,this.agentStore=o,this.reduxStore=l,this.webSocketEventsStore=new u.EventStore,this.viSocketEventsStore=new u.EventStore,this.exceptionsStore=new u.EventStore,this.actionsStore=new u.EventStore,this.initialized=!0,p=this}return(0,l.default)(e,[{key:"isInitialized",value:function(){return this.initialized}},{key:"saveSocketEvent",value:function(e){this.webSocketEventsStore.save(e)}},{key:"saveViEvent",value:function(e){this.viSocketEventsStore.save(e)}},{key:"saveException",value:function(e){this.exceptionsStore.save(e)}},{key:"saveReduxAction",value:function(e){this.actionsStore.save(e)}},{key:"pageHasErrors",value:function(){return this.exceptionsStore.length()>0}},{key:"getMessagesAsHTML",value:function(){try{var e,t=this.messagesFormatter.toHTML(),n=new Blob([t],{type:"text/html"});return{url:window.parent.URL.createObjectURL(n),fileName:(0,o.default)(e="".concat((new Date).toISOString(),"_")).call(e,(0,c.getPageWindow)().location.host,"_chat_log.html")}}catch(e){return d.Monitoring.telemetryOnce(f.TelemetryName.ERROR_DOWNLOADING_CHAT_LOG,{param1:e.message}),{url:null,fileName:null}}}},{key:"exportData",value:function(){return(0,i.default)({agentStore:this.agentStore,appStore:this.appStore,clientStore:this.clientStore,config:this.widgetConfig,exceptionsStore:this.exceptionsStore.getAll(),messagesStore:this.messagesFormatter.toDebugLog(),proactiveStore:this.proactiveStore,reduxStore:this.reduxStore.getState(),userAgent:navigator.userAgent,version:h.EnvironmentManager.getVersion(),visitorsInsightEventsStore:this.viSocketEventsStore.getAll(),webSocketEventsStore:this.webSocketEventsStore.getAll(),actionsStore:this.actionsStore.getAll()})}}],[{key:"getInstance",value:function(){return p}}]),e}();t.default=g},84761:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.EventStore=void 0;var i=a(n(26394)),o=a(n(69198)),r=function(){function e(){(0,i.default)(this,e),this.events=[]}return(0,o.default)(e,[{key:"save",value:function(e){this.events.push(e)}},{key:"getAll",value:function(){return this.events||null}},{key:"length",value:function(){return this.events.length}}]),e}();t.EventStore=r},18547:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.MessagesFormatter=void 0;var i=a(n(77766)),o=a(n(78914)),r=a(n(26394)),l=a(n(69198)),u=a(n(8282)),s=a(n(75043)),c=n(56602),d=n(74721),f=s.default.name("MessagesFormatter"),h=function(){function e(t){(0,r.default)(this,e),this.messagesStore=t}return(0,l.default)(e,[{key:"toTxt",value:function(){f.log("toTxt")}},{key:"toHTML",value:function(){var e,t;f.log("toHTML");var n="",a=this.messagesStore.store;return(0,o.default)(a).call(a,(function(e){var t,a,o,r,l,s=e.store;if("client"===s.from)l="you";else{if("agent"!==s.from&&"bot"!==s.from)return;var c,f=s.from_id&&u.default.getAgentById(s.from_id);"bot"===s.from&&(f=s.from_id&&u.default.getBotById(s.from_id)),l=f?(0,i.default)(c="".concat(f.store.display_name," (")).call(c,f.store.title,")"):"agent"}var h=s.text;if(h&&"form"!==s.type&&"botsystem"!==s.type){if("media"===s.type&&s.body&&s.body.file_url){var p,g=s.body.name||s.body.file_name,m=s.body.file_url||s.body.file;h=(0,i.default)(p='<a target="_blank" rel="nofollow noopener" href="'.concat(encodeURI(m),'">')).call(p,g,"</a>")}var v="cobrowse"===s.type&&s.body&&s.body.address;if(v){var _,y,b=s.body.text||"",w=(0,i.default)(_="".concat(s.body.url,"#jvhs_")).call(_,s.body.address);h=(0,i.default)(y='<a target="_blank" rel="nofollow noopener" href="'.concat(encodeURI(w),'">')).call(y,(0,d.escapeHTMLString)(b),"</a>")}var E=h?(0,d.escapeHTMLString)(h):"";v&&(E=h);var C=new Date(s.created_ts),T=C.toLocaleDateString(),k=C.toLocaleTimeString();n+=(0,i.default)(t=(0,i.default)(a=(0,i.default)(o=(0,i.default)(r='<div class="message '.concat(s.from,'MessageWrap">\n                <span class="messageInfo">')).call(r,T," ")).call(o,k,", ")).call(a,l,"</span>\n                <br>\n                <span>")).call(t,E,"</span>\n            </div>\n            <br>")}})),(0,i.default)(e=(0,i.default)(t='<!DOCTYPE html>\n        <html lang="en">\n        <head>\n            <meta charset="UTF-8">\n            <meta name="viewport" content="width=device-width, initial-scale=1.0">\n            <meta http-equiv="X-UA-Compatible" content="ie=edge">\n            <title>Chat log from '.concat((0,c.getPageWindow)().location.host,"</title>\n            <style>\n                * {\n                    font-family: sans-serif;\n                }\n                a {\n                    color: #0044d3 !important;\n                }\n                h1 {\n                    display: block;\n                    margin: 15px auto;\n                    text-align: center;\n                    width: 600px;\n                }\n                .wrap {\n                    display: flex;\n                    flex-direction: column;\n                    width: 600px;\n                    margin: 0 auto;\n                }\n                .wrap .message {\n                    display: block;\n                    max-width: 100%;\n                    min-width: 40px;\n                    margin-bottom: 2px;\n                    overflow: hidden;\n                    word-wrap: break-word;\n                    text-indent: 0;\n                    user-select: text;\n                    border-radius: 5px;\n                }\n                .message a {\n                    color: inherit;\n                }\n                .messageInfo {\n                    opacity: 0.7;\n                    font-size: 14px;\n                }\n                .clientMessageWrap {\n                    background-color: #18c139;\n                    color: white;\n                    padding: 12px 16px 12px 16px;\n                    max-width: 70%;\n                    overflow: hidden;\n                    word-wrap: break-word;\n                    line-height: @mainLine;\n                    text-indent: 0;\n                    user-select: text;\n                    box-sizing: border-box;\n                    margin: 0 0 0 auto;\n                }\n                .agentMessageWrap,\n                .botMessageWrap {\n                    background-color: #f1f0f0;\n                    color: #222d38;\n                    padding: 12px 16px 12px 16px;\n                    max-width: 70%;\n                    overflow: hidden;\n                    word-wrap: break-word;\n                    line-height: @mainLine;\n                    text-indent: 0;\n                    user-select: text;\n                    box-sizing: border-box;\n                    margin: 0 auto 0 0;\n                }\n                .printButton {\n                    position: fixed;\n                    top: 13px;\n                    right: 30px;\n                    background-color: #18c139;\n                    color: white;\n                    width: 80px;\n                    height: 40px;\n                    border-radius: 5px;\n                    font-size: 20px;\n                    box-shadow: none;\n                    border: none;\n                }\n                .printButton:hover {\n                    background-color: #12a730;\n                    cursor: pointer;\n                }\n                @media print {\n                    .printButton {\n                        display: none;\n                    }\n                }\n            </style>\n        </head>\n        <body>\n            <h1>Chat log from ")).call(t,(0,c.getPageWindow)().location.host,'</h1>\n            <button class="printButton" onclick="window.print()">Print</button>\n            <div class="wrap">\n                ')).call(e,n,"\n            </div>\n        </body>\n        </html>")}},{key:"toDebugLog",value:function(){return f.log("toDebugLog"),this.messagesStore.store}}]),e}();t.MessagesFormatter=h},93298:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.onDelayedCallAvailable=P,t.resetDelayedCallStatus=function(){T.callbackDispatchers.setDelayedTimezone(null),T.callbackDispatchers.setDelayedPeriods([]),T.callbackDispatchers.setCallbackIsDelayed(null),T.callbackDispatchers.setDelayedCallbackStatus(null)},t.requestDelayedCall=function(e){var t,n,a=e.dateTime,i=e.phone,o=i.replace(/( |\-)/gi,"").replace(/\D+/g,""),r=B(a),l=r.date,u=r.time,s=w.default.client_id?w.default.client_id.split(".")[0]:"0",c=(0,y.default)(t=(0,y.default)(n="/sites/".concat(E.default.site_id,"/widgets/")).call(n,E.default.widget_id,"/clients/")).call(t,s,"/telephony/callback/delayed"),d={phone:o,callback_date:l,callback_time:u};T.callbackDispatchers.setDelayedCallbackStatus(D.wait),w.default.client_info.phone="+".concat(o);var f={url:(0,k.telephonyUrl)(c),headers:{"Content-Type":"application/x-www-form-urlencoded"},params:O({},d)};S.default.post(f,(function(e,t){if(!t)return T.callbackDispatchers.setDelayedCallbackStatus(D.notWorkTime),void x.Monitoring.telemetry(A.TelemetryName.DELAYED_ERR,{param1:e||null});var n=t.work_time,a=t.error_list;if(t.ok){var o;if("as_soon_as_possible"===u&&t.callback_started)T.callbackDispatchers.setCallbackIsDelayed(!1),T.callbackDispatchers.setCallbackStatus(M.CallStatus.WAIT),C.messageActions.handleContactsForm(),C.messageActions.systemCallMessage((0,y.default)(o="".concat((0,b.default)("cw_call_to")," ")).call(o,(0,k.getMaskedPhone)(i)),"callMessageStart");T.callbackDispatchers.setDelayedCallbackStatus(D.success),I.default.trackCallWidgetRequested()}(n&&P(n),a)&&((0,v.default)(a).call(a,"max_requests_limit")&&T.callbackDispatchers.setDelayedCallbackStatus(D.maxRequestsLimit),(0,v.default)(a).call(a,"bad_callback_time")&&(T.callbackDispatchers.setDelayedCallbackStatus(D.badCallbackTime),j(d.callback_date+N+d.callback_time)),(0,m.default)(a).call(a,(function(e){return/client_blacklist|global_blacklist|rate_limiter/.test(e)}))&&T.callbackDispatchers.setDelayedCallbackStatus(D.blocked),w.default.cw_call_delayed_status===D.wait&&T.callbackDispatchers.setDelayedCallbackStatus(D.notWorkTime),T.callbackDispatchers.setCallbackStatus(!1))}))},t.removePeriod=j,t.redirectAfterRequestDelayedCall=function(){var e=n(17674).Router,t=n(85442).RouterEvent;e.next(t.ToCall)},t.isErrorStatusCode=function(e){var t;return(0,m.default)(t=[D.maxRequestsLimit,D.notWorkTime,D.badCallbackTime,D.blocked,D.badDirection]).call(t,(function(t){return e===t}))},t.formatWorkTimeToServerModel=B,t.formatPeriodsToUserStoreModel=F,t.formatPeriodsToSelectModel=function(e){var t,n=new Date,a=(n.getTime(),n.getDate()),i=(0,b.default)("callback_delayed_period_today"),o=new Date((new Date).setDate(a+1)).getDate(),r=(0,b.default)("callback_delayed_period_tomorrow"),l=(0,b.default)("callback_delayed_period_as_possible").toLowerCase(),u="as_soon_as_possible";return(0,g.default)(t=(0,d.default)(e).call(e,(function(t,n){var s=function(e){var t,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"").split(N),s=(0,p.default)(n,2),c=(s[0],s[1]),d=e.split(N),h=(0,p.default)(d,2),g=h[0],m=h[1],v=m===u,_=c&&c!==u,b=v&&_?c:m,w=(0,y.default)(t="".concat(g," ")).call(t,b),E=H(w),C=E.time,T=E.date,k=E.month,S=E.dateDetail;if(v)return l.charAt(0).toUpperCase()+(0,f.default)(l).call(l,1);if(L&&T!==a&&T!==o){var I={month:"long",day:"numeric",hour:"numeric",minute:"numeric"};return S.toLocaleString(W(),I)}var A,x,M,R,O,D=(0,y.default)(A="".concat(","," ")).call(A,C);return T===a?(0,y.default)(R="".concat(i)).call(R,D):T===o?(0,y.default)(O="".concat(r)).call(O,D):(0,y.default)(x=(0,y.default)(M="".concat(T,".")).call(M,k," ")).call(x,D)}(t,e[n+1]);return s?{label:s,value:t}:s}))).call(t,(function(e){return"object"===(0,c.default)(e)}))},t.DELAYED_CALL_STATUS=void 0;var i=a(n(63978)),o=a(n(20368)),r=a(n(39649)),l=a(n(34074)),u=a(n(14310)),s=a(n(86902)),c=a(n(23765)),d=a(n(2991)),f=a(n(3649)),h=a(n(78914)),p=a(n(18777)),g=a(n(20116)),m=a(n(77149)),v=a(n(78580)),_=a(n(87672)),y=a(n(77766)),b=a(n(75119)),w=a(n(36216)),E=a(n(62904)),C=n(75245),T=n(81189),k=n(51139),S=a(n(49043)),I=a(n(40695)),A=n(63242),x=n(33367),M=n(20965);function R(e,t){var n=(0,s.default)(e);if(u.default){var a=(0,u.default)(e);t&&(a=(0,g.default)(a).call(a,(function(t){return(0,l.default)(e,t).enumerable}))),n.push.apply(n,a)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)(0,h.default)(n=R(Object(a),!0)).call(n,(function(t){(0,_.default)(e,t,a[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(a));else{var u;(0,h.default)(u=R(Object(a))).call(u,(function(t){(0,i.default)(e,t,(0,l.default)(a,t))}))}}return e}a(n(75043)).default.name("DelayedCall");var N="|",D={wait:0,success:1,maxRequestsLimit:2,notWorkTime:3,badCallbackTime:4,blocked:5,badDirection:6};t.DELAYED_CALL_STATUS=D;var L="function"==typeof(new Date).toLocaleString&&function(){try{(new Date).toLocaleString("i")}catch(e){return"RangeError"===e.name}return!1}();function P(e){T.callbackDispatchers.setCallbackAvailable(!0),T.callbackDispatchers.setDelayedTimezone(e.timezone_diff),T.callbackDispatchers.setDelayedPeriods(F(e.schedule)),T.callbackDispatchers.setCallbackIsDelayed(!0)}function j(e){if(w.default.cw_call_delayed_periods&&w.default.cw_call_delayed_periods.length){var t=w.default.cw_call_delayed_periods;T.callbackDispatchers.setDelayedPeriods((0,g.default)(t).call(t,(function(t){return t!==e})))}}function B(e){var t=e.split(N),n=(0,p.default)(t,2);return{date:n[0],time:n[1]}}function F(e){var t=[];return(0,h.default)(e).call(e,(function(e){var n=e.date,a=e.intervals;(0,h.default)(a).call(a,(function(e){var a,i;t.push((0,y.default)(a=(0,y.default)(i="".concat(n)).call(i,N)).call(a,e))}))})),t}T.callbackDispatchers.setDelayedCallbackStatus(null);var H=function(e){var t,n=e.replace(/\-/g,"/"),a=new Date(n).getTime();if(isNaN(a))return e;var i=-(new Date).getTimezoneOffset(),o=w.default.cw_call_delayed_tz,r=60*(i-o)*1e3,l=new Date(a+r),u=l.getHours(),s=l.getMinutes(),c=l.getDate(),d=l.getMonth(),f=function(e){return e>9?e:"0".concat(e)},h=f(s),p=f(u),g=(0,y.default)(t="".concat(p,":")).call(t,h);return L&&"en"==W()&&(g=l.toLocaleString(W(),{hour:"numeric",minute:"numeric",hour12:!0})),{time:g,date:c,month:d,dateDetail:l}};function W(){var e=E.default.locale;return"no"==e?"nb":e.search("_")?e.split("_")[0]:e}},14847:function(e,t,n){"use strict";var a=n(87646),i=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=function(){f.isDesignerEditor&&(_._dAPI=w)};var o=i(n(78914)),r=i(n(51942)),l=i(n(5505)),u=i(n(99357)),s=i(n(8282)),c=i(n(86999)),d=a(n(62904)),f=n(24335),h=i(n(69961)),p=i(n(45808)),g=n(21224),m=n(81189),v=n(75245),_=(i(n(75043)).default.name("DesignerApi"),window.parent||window),y=function(e,t){var n=d.default;n[e]=t,(0,d.initConfig)(n)},b=function(){var e=p.default.getComponent(g.Component.ROOT_COMPONENT);e&&e.forceUpdate()},w={showChat:function(){l.default.open()},showLabel:function(){l.default.close()},setAgent:function(e){s.default.destroy(),s.default.push({agent_id:1,display_name:e.name,title:e.title,avatar_url:e.avatarUrl,body:{state:"join",unsave:!0}}),(0,r.default)(h.default,{agent_id:1,display_name:e.name,title:e.title,avatar_url:e.avatarUrl}),m.agentsDispatchers.addAgent({id:1,name:e.name,title:e.title,avatarUrl:e.avatarUrl}),m.chatsDispatchers.addJoinedAgent(1),b()},addMessages:function(e){var t=[];(0,o.default)(e).call(e,(function(e){t.push({from:e.from,from_id:"agent"===e.from?1:null,text:e.text,type:"message",status:"read",created_ts:(new Date).getTime(),body:{unsave:!0}})})),m.messagesDispatchers.addMessages(t)},updateAgent:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;(0,r.default)(h.default,{agent_id:t,display_name:e.name,title:e.title,avatar_url:e.avatarUrl});var n=s.default.getAgentById(t);n&&(n.set("display_name",e.name),n.set("title",e.title),n.set("avatar_url",e.avatar_url)),m.agentsDispatchers.updateAgent({id:t,name:e.name,title:e.title,avatarUrl:e.avatarUrl})},editLastMessage:function(e){var t=u.default.getAgentMessages();if(t.length){t[t.length-1].set("text",e);var n=p.default.getComponent(g.Component.SCROLL_CONTAINER);n&&n.forceUpdate()}},cleanMessages:function(){u.default.destroy(),u.default.trigger("update")},setWidgetColor:function(e,t){m.userDispatchers.setWidgetColor(e),m.userDispatchers.setWidgetColor2(t),b()},setCallbackColor:function(e){y("callback_btn_color",e),b()},setBubbleColor:function(e){y("bubble_color",e),(0,f.runBind)("setBubbleColor"),b()},setPattern:function(e){m.userDispatchers.setPattern(e),y("pattern",e),b()},setWidgetPosition:function(e,t){var n=t.toString();m.userDispatchers.setWidgetOrientation(e),m.userDispatchers.setWidgetPadding(n),y("widget_orientation",e),y("widget_padding",n),(0,f.runBind)("setWidgetPosition",{orientation:e,padding:t}),b()},setFontColor:function(e){"auto"===e&&(e=c.default.isLightColor(d.default.widget_color)?"dark":"light"),y("widget_font_color",e),m.userDispatchers.setWidgetFontColor(e),b()},setFontSize:function(e){m.userDispatchers.setWidgetFontSize(e),y("font_size",e),b()},setFontFamily:function(e){m.userDispatchers.setWidgetFontFamily(e),y("font_family",e),b()},setFontType:function(e){m.userDispatchers.setWidgetFontType(e),y("font_type",e),b()},setOnlineText:function(e){m.userDispatchers.setOnlineWidgetLabel(e),y("online_widget_label",e),(0,f.runBind)("setOnlineText",e)},addPrechat:function(e){y("prechat",e),y("enable_prechat",1),v.messageActions.pushPrechat()},updatePrechats:function(e){if(e){var t=p.default.getComponent(g.Component.PRECHAT);t&&t.trigger("updatePrechatText",e)}},cleanPrechat:function(){v.messageActions.deletePrechatMsg(),u.default.trigger("update")}}},24335:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.designerBind=function(e,t){if(!h)return;void 0!==f[e]||(f[e]=[]),f[e].push(t)},t.runBind=function(e,t){var n;void 0!==f[e]&&(0,s.default)(n=f[e]).call(n,(function(e){e(t)}))},t.isDesignerEditor=void 0;var i,o,r,l,u,s=a(n(78914)),c=a(n(81643)),d=n(94515),f={},h=(o=window.parent||window,r=o.location.host,l=d.EnvironmentManager.isProduction(),u=-1!==(0,c.default)(i=["app.jivosite.com","app3alpha.jivosite.com","app3beta.jivosite.com"]).call(i,r),!(!o._jivoDesigner||!(l&&u||!l)));t.isDesignerEditor=h},77922:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(26394)),o=a(n(69198)),r=a(n(75043)).default.name("DevTools"),l=null,u=function(){function e(t,n,a,o,r,u,s,c,d,f,h,p,g,m,v,_,y,b,w,E,C,T,k,S,I,A,x,M,R,O,N,D,L,P,j,B,F){if((0,i.default)(this,e),l)return l;this.localStore=t,this.sessionStore=n,this.tempStore=a,this.actions=o,this.connection=r,this.clientStore=u,this.agentStore=s,this.agentsStore=c,this.appStore=d,this.reduxStore=f,this.messagesStore=h,this.proactiveStore=p,this.siteConnector=g,this.utils=m,this.utm=v,this.historyStore=_,this.social=y,this.router=b,this.soundManager=w,this.proactive=E,this.refManager=C,this.abTesting=T,this.device=k,this.debugDataCollector=S,this.monitoring=I,this.apiInvitationsManager=A,this.analytics=x,this.messageActions=M,this.positionDispatchers=R,this.configUtils=O,this.transitionDispatchers=N,this.callbackDispatchers=D,this.appDispatchers=L,this.clientDispatchers=P,this.featuresDispatchers=j,this.featureManager=B,this.environmentManager=F,l=this}return(0,o.default)(e,[{key:"installOnPage",value:function(){l&&(window.parent.jwdt=l),r.log("Installed")}}],[{key:"getInstance",value:function(){return l}}]),e}();t.default=u},58061:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(81643)),o=a(n(63978)),r=a(n(31238)),l=a(n(54103)),u=a(n(26394)),s=a(n(69198));a(n(75043)).default.name("Device");var c=new(function(){function e(t){var n,a,i;(0,u.default)(this,e),this.userAgent=t,this._find=(a=(0,l.default)(n=this._find).call(n,this),i={},function(){var e=arguments.length<=0?void 0:arguments[0];if(e in i)return i[e];var t=a(e);return i[e]=t,t}),this.initialize(),this.initializeSupportedFeatures()}return(0,s.default)(e,[{key:"initialize",value:function(){this.isWindows=this._find("windows"),this.isOpera=this._find("opera")||this._find("opr")||this._find("presto"),this.isOperaMini=this.isOpera&&(this._find("mini")||this._find("opios")),this.isFirefox=this._find("firefox"),this.isChrome=this._find("chrome"),this.isChromeIOS=this._find("crios"),this.isSafari=this._find("safari")&&!this.isChrome&&!this.isChromeIOS,this.isEdge=this._find("edge"),this.isIe=this._find("msie")||this._find("trident")||this.isEdge,this.isIeOrEdge=this.isIe||this._find("lumia"),this.isIpod=this._find("ipod"),this.isIpad=this._find("ipad")||this._find("macintosh")&&"ontouchend"in window,this.isIphone=!this.isWindows&&this._find("iphone"),this.isIos=this.isIphone||this.isIpod||this.isIpad,this.isAndroid=!this.isWindows&&this._find("android"),this.isAndroidPhone=this.isAndroid&&this._find("mobile"),this.isAndroidTablet=this.isAndroid&&!this._find("mobile"),this.isBlackberry=this._find("blackberry")||this._find("bb10")||this._find("rim"),this.isBlackberryPhone=this.isBlackberry&&!this._find("tablet"),this.isBlackberryTablet=this.isBlackberry&&this._find("tablet"),this.isWindowsPhone=this.isWindows&&this._find("phone"),this.isWindowsTablet=this.isWindows&&this._find("touch")&&!this.isWindowsPhone&&!this._find("trident"),this.isMobile=this.isAndroidPhone||this.isIphone||this.isIpod||this.isWindowsPhone||this.isBlackberryPhone,this.isTablet=this.isIpad||this.isAndroidTablet||this.isBlackberryTablet||this.isWindowsTablet,this.isMobileOrTablet=this.isMobile||this.isTablet,this.isDesktop=!this.isMobile&&!this.isTablet,this.isYandexBot=-1!==this.userAgent.search(/\+http:\/\/yandex\.com\/bots/gi),this.isGoogleBot=-1!==this.userAgent.search(/google/gi),this.isOperaMobile=this.isOperaMini||this.isOpera&&this.isMobileOrTablet;var e=/OS (\d+)_(\d+)_?(\d+)?/.exec(window.navigator.appVersion);this.iosVersion=e?(0,r.default)(e[1]+"."+e[2]):null,this.device=null,this.isDesktop?this.device="desktop":this.isMobile?this.device="mobile":this.isTablet&&(this.device="tablet")}},{key:"initializeSupportedFeatures",value:function(){var e=this;try{localStorage.setItem("testLocalStorage","ok"),localStorage.removeItem("testLocalStorage"),this.isLocalStorageSupported=!0}catch(e){this.isLocalStorageSupported=!1}try{new File([],""),this.isImageResizeSupported="FileReader"in window&&"File"in window&&"Blob"in window}catch(e){this.isImageResizeSupported=!1}this.isCssVariablesSupported=window.CSS&&CSS.supports&&CSS.supports("color","var(--fake-var)")||!1,this.isWebAnimationApiSupported=!!window.KeyframeEffect,this.isPassiveListenersSupported=!1;try{var t=(0,o.default)({},"passive",{get:function(){return e.isPassiveListenersSupported=!0,e.isPassiveListenersSupported}});window.addEventListener("test",null,t)}catch(e){this.isPassiveListenersSupported=!1}}},{key:"operaMini",value:function(){return this.isOperaMini}},{key:"firefox",value:function(){return this.isFirefox}},{key:"safari",value:function(){return this.isSafari}},{key:"chrome",value:function(){return this.isChrome}},{key:"ieOrEdge",value:function(){return this.isIeOrEdge}},{key:"ie",value:function(){return this.isIe}},{key:"edge",value:function(){return this.isEdge}},{key:"ios",value:function(){return this.isIos}},{key:"ipad",value:function(){return this.isIpad}},{key:"chromeIOS",value:function(){return this.isChromeIOS}},{key:"android",value:function(){return this.isAndroid}},{key:"windowsPhone",value:function(){return this.isWindowsPhone}},{key:"mobile",value:function(){return this.isMobile}},{key:"tablet",value:function(){return this.isTablet}},{key:"mobileOrTablet",value:function(){return this.isMobileOrTablet}},{key:"desktop",value:function(){return this.isDesktop}},{key:"osVersion",value:function(){return this.iosVersion}},{key:"getDevice",value:function(){return this.device}},{key:"supportsPassiveListeners",value:function(){return this.isPassiveListenersSupported}},{key:"supportsCssVariables",value:function(){return this.isCssVariablesSupported}},{key:"supportsWebAnimationApi",value:function(){return this.isWebAnimationApiSupported}},{key:"supportsImageResize",value:function(){return this.isImageResizeSupported}},{key:"supportsLocalStorage",value:function(){return this.isLocalStorageSupported}},{key:"supportsIMessage",value:function(){return(this.ios()||this.ipad())&&this.osVersion()>=11.3}},{key:"yandexBot",value:function(){return this.isYandexBot}},{key:"googleBot",value:function(){return this.isGoogleBot}},{key:"isPointerEnabled",value:function(){return"PointerEvent"in window}},{key:"_find",value:function(e){var t;return-1!==(0,i.default)(t=this.userAgent).call(t,e)}}]),e}())(window.navigator.userAgent.toLowerCase());t.default=c},99112:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.getRuleLocal=function(e){if(e in c)return c[e]},t.pageVisible=function(){if("visibilityState"in document)return"visible"===document.visibilityState;if("webkitVisibilityState"in document)return"visible"===document.webkitVisibilityState;return!1},t.isVisible=function(e){return e&&e.offsetWidth>0&&e.offsetHeight>0},t.getScrollBarWidth=function(){if(void 0!==i)return i;var e=document.createElement("div");if(e.style.visibility="hidden",e.style.width="100px",!document||!document.body)return i;document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",e.appendChild(n);var a=n.offsetWidth;return e.parentNode.removeChild(e),i=t-a},t.getComputedStyleAll=m,t.getInnerHeight=function(e){var t=e.clientHeight,n=m(e,"paddingTop"),a=m(e,"paddingBottom");return t-(0,l.default)(n)-(0,l.default)(a)},t.getInnerWidth=function(e){var t=e.clientWidth,n=getComputedStyle(e),a=n.paddingLeft,i=n.paddingRight;return t-(0,l.default)(a)-(0,l.default)(i)},t.getNextSiblingNodeFocus=function(e){if(e.keyCode&&13==e.keyCode){var t,n=e.currentTarget.parentNode.nextElementSibling,a=n.querySelector("input");if(a||(a=n.querySelector("jdiv")||n.querySelector("textarea")),!a)return;if(-1!==(0,r.default)(t=["INPUT","TEXTAREA"]).call(t,a.tagName)&&a.focus)a.focus();else{var i=u.default.tablet()?"touchstart":"click",o=document.createEvent("MouseEvents");o.initEvent(i,!0,!0),a.dispatchEvent(o)}}},t.hasClass=function(e,t){return d?e.classList.contains(t):""!==e.className&&s.default.contains(p(e),t)},t.addClass=function(e,t){if(d)s.default.each(h(t),(function(t){e&&e.classList.add(t)})),e&&f(e);else{var n=p(e),a=s.default.union(n,h(t));g(e,a)}},t.removeClass=function(e,t){if(d)s.default.each(h(t),(function(t){e&&e.classList.remove(t)})),e&&f(e);else{var n=p(e),a=s.default.difference(n,h(t));g(e,a)}},t.getElementPosition=function(e){if(!e)return{width:0,height:0,top:0,left:0,windowWidth:0,windowHeight:0};var t,n=e.ownerDocument,a=n.defaultView||n.parentWindow,i={left:0,top:0};if(e.getBoundingClientRect)i=s.default.extend(i,e.getBoundingClientRect());else for(t=e;t;)i.left+=t.offsetLeft,i.top+=t.offsetTop,t=t.offsetParent;return i.width=e.offsetWidth,i.height=e.offsetHeight,i.windowWidth=a.innerWidth,i.windowHeight=a.innerHeight,i},t.addNoTranslateClass=function(e){return e.className+=" notranslate",e},t.addNewLine=function(e,t){if(!e)return!1;var n=e.selectionStart,a=t.substring(0,n),i=t.substring(n,t.length);if(n!==e.value.length){var r;e.value=(0,o.default)(r="".concat(a,"\r\n")).call(r,i),e.setSelectionRange(n,n)}else e.value+="\r\n",e.scrollTop=e.scrollHeight;return e.value},t.isInput=function(e){var t;if(!e)return;return-1!==(0,r.default)(t=["INPUT","TEXTAREA"]).call(t,e.tagName)},t.isScrolledIntoView=function(e,t){if(e&&t&&t.base){if(t.getScrollTop()<100)return!0;var n=t.base,a=e.getBoundingClientRect(),i=a.top,o=a.bottom,r=a.height,l=n.getBoundingClientRect();return i<=l.top?l.top-i<=r:o-l.bottom<=r}return!1},t.isNoScroll=function(e,t){if(e&&e.base&&t){return e.getScrollHeight()<e.base.clientHeight||t.lastChild&&t.lastChild.lastChild&&t.lastChild.lastChild.clientHeight>e.getClientHeight()}},t.isParentA=function(e){return e&&e.target&&e.target.parentNode&&"A"==e.target.parentNode.tagName};var i,o=a(n(77766)),r=a(n(81643)),l=a(n(31238)),u=a(n(58061)),s=a(n(62107)),c=(a(n(75043)).default.name("DomUtils"),{}),d="classList"in document.documentElement;function f(e){e.offsetHeight}function h(e){return s.default.isArray(e)?e:e.replace(/^\s+|\s+$/g,"").split(/\s+/)}function p(e){return h(e.className)}function g(e,t){var n=t.join(" ");e.className!==n&&(e.className=n,f(e))}function m(e,t){if(e)return e.currentStyle?e.currentStyle[t]:window.getComputedStyle&&window.getComputedStyle(e,null)?window.getComputedStyle(e,null)[t]:e.style[t]}},34935:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var a=n(94515).EnvironmentManager.getAllowedFileTypes(),i=a&&a.length?a:[{extension:"rar",mimeType:"application/vnd.rar"},{extension:"tar",mimeType:"application/x-tar"},{extension:"7z",mimeType:"application/x-7z-compressed"},{extension:"djvu",mimeType:"image/vnd.djvu"},{extension:"json",mimeType:"application/json"},{extension:"log",mimeType:"text/plain"},{extension:"ppt",mimeType:"application/vnd.ms-powerpoint"},{extension:"xls",mimeType:"application/vnd.ms-excel"},{extension:"doc",mimeType:"application/msword"},{extension:"docx",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"},{extension:"rtf",mimeType:"application/rtf"},{extension:"ttf",mimeType:"font/ttf"},{extension:"psd",mimeType:"image/vnd.adobe.photoshop"},{extension:"odt",mimeType:"application/vnd.oasis.opendocument.text"},{extension:"pdf",mimeType:"application/pdf"},{extension:"aac",mimeType:"audio/aac"},{extension:"avi",mimeType:"video/x-msvideo"},{extension:"csv",mimeType:"text/csv"},{extension:"epub",mimeType:"application/epub+zip"},{extension:"gz",mimeType:"application/gzip"},{extension:"gif",mimeType:"image/gif"},{extension:"ics",mimeType:"text/calendar"},{extension:"jpeg",mimeType:"image/jpeg"},{extension:"jpg",mimeType:"image/jpeg"},{extension:"mp3",mimeType:"audio/mpeg"},{extension:"mpeg",mimeType:"video/mpeg"},{extension:"oga",mimeType:"audio/ogg"},{extension:"ogv",mimeType:"video/ogg"},{extension:"png",mimeType:"image/png"},{extension:"svg",mimeType:"image/svg+xml"},{extension:"txt",mimeType:"text/plain"},{extension:"vsd",mimeType:"application/vnd.visio"},{extension:"wav",mimeType:"audio/wav"},{extension:"weba",mimeType:"audio/webm"},{extension:"webm",mimeType:"video/webm"},{extension:"webp",mimeType:"image/webp"},{extension:"zip",mimeType:"application/zip"},{extension:"zip",mimeType:"application/x-zip-compressed"},{extension:"mp4",mimeType:"application/mp4"},{extension:"mp4",mimeType:"video/mp4"},{extension:"mp4a",mimeType:"audio/mp4"},{extension:"mov",mimeType:"video/quicktime"},{extension:"html",mimeType:"text/html"},{extension:"htm",mimeType:"text/html"},{extension:"css",mimeType:"text/css"},{extension:"ods",mimeType:"application/vnd.oasis.opendocument.spreadsheet"},{extension:"odp",mimeType:"application/vnd.oasis.opendocument.presentation"},{extension:"pptx",mimeType:"application/vnd.openxmlformats-officedocument.presentationml.presentation"},{extension:"xlsx",mimeType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}];t.default=i},56152:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(26394)),o=a(n(69198)),r=n(10404),l=n(56602),u=n(57018),s=a(n(34935)),c=function(){function e(t){(0,i.default)(this,e),this.file=t,this.fileExtension=(0,l.getFileExtension)(t.name),this.fileMimeType=t.type,this.fileSize=t.size,this.reason=null}return(0,o.default)(e,[{key:"isValid",value:function(){return this.isAllowedFileSize()&&this.isAllowedExtensionAndMime()}},{key:"getReason",value:function(){return this.reason}},{key:"isAllowedExtensionAndMime",value:function(){if(!this.fileExtension)return this.reason=r.FileUploadError.NO_EXTENSION,!1;for(var e=0;e<s.default.length;e++){var t=s.default[e];if(t.extension===this.fileExtension.toLowerCase()&&t.mimeType===this.fileMimeType)return!0}return this.reason=r.FileUploadError.RESTRICTED_FILE_TYPE,!1}},{key:"isAllowedFileSize",value:function(){return!(this.fileSize>u.MAX_FILE_SIZE)||(this.reason=r.FileUploadError.FILE_SIZE_EXCEEDED,!1)}}]),e}();t.default=c},93848:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.initCallTouch=function(){if(r.default.enable_calltouch){var e=(0,u.getPageWindow)();if("function"==typeof e.ct){s.log("init");try{var t=e.ct("calltracking_params");t&&t.length&&(0,o.default)(t).call(t,(function(t){var n,a,o=(0,i.default)(n=(0,i.default)(a='{"site_id": '.concat(r.default.site_id,', "widget_id": "')).call(a,r.default.widget_id,'", "visitor_id": "')).call(n,l.default.visitorId,'"}');s.log("set attr:",o),e.ct(t.modId,"set_attrs",o)}))}catch(e){s.error("Fail to sync with calltouch",e)}}}};var i=a(n(77766)),o=a(n(78914)),r=a(n(62904)),l=a(n(36216)),u=n(56602),s=a(n(75043)).default.name("CallTouch","color: grey")},94990:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.initVideoForce=function(){var e=i.default.integrations;if(e&&e.videoforce){try{var t=document.createElement("script");t.src="https://widget.videoforce.ru/"+e.videoforce,t.crossorigin="anonymous",t.async="true";var n=(0,o.getPageWindow)().document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)}catch(e){r.Monitoring.reportException(e)}}};var i=a(n(62904)),o=n(56602),r=n(33367);a(n(75043)).default.name("VideoForce","color: grey")},94515:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.EnvironmentManager=void 0;var i=a(n(26394)),o=a(n(69198)),r=n(84640),l=new(function(){function e(){(0,i.default)(this,e),this.env="production",this.version="22.8.0",this.loaderVersion="0.1",this.branch="rc_widget_22_8_7daaddae",this.allowedFiles=JSON.parse('[{"extension":"rar","mimeType":"application/vnd.rar"},{"extension":"tar","mimeType":"application/x-tar"},{"extension":"7z","mimeType":"application/x-7z-compressed"},{"extension":"djvu","mimeType":"image/vnd.djvu"},{"extension":"json","mimeType":"application/json"},{"extension":"log","mimeType":"text/plain"},{"extension":"ppt","mimeType":"application/vnd.ms-powerpoint"},{"extension":"xls","mimeType":"application/vnd.ms-excel"},{"extension":"doc","mimeType":"application/msword"},{"extension":"docx","mimeType":"application/vnd.openxmlformats-officedocument.wordprocessingml.document"},{"extension":"rtf","mimeType":"application/rtf"},{"extension":"ttf","mimeType":"font/ttf"},{"extension":"psd","mimeType":"image/vnd.adobe.photoshop"},{"extension":"odt","mimeType":"application/vnd.oasis.opendocument.text"},{"extension":"pdf","mimeType":"application/pdf"},{"extension":"aac","mimeType":"audio/aac"},{"extension":"avi","mimeType":"video/x-msvideo"},{"extension":"csv","mimeType":"text/csv"},{"extension":"epub","mimeType":"application/epub+zip"},{"extension":"gz","mimeType":"application/gzip"},{"extension":"gif","mimeType":"image/gif"},{"extension":"ics","mimeType":"text/calendar"},{"extension":"jpeg","mimeType":"image/jpeg"},{"extension":"jpg","mimeType":"image/jpeg"},{"extension":"mp3","mimeType":"audio/mpeg"},{"extension":"mpeg","mimeType":"video/mpeg"},{"extension":"oga","mimeType":"audio/ogg"},{"extension":"ogv","mimeType":"video/ogg"},{"extension":"png","mimeType":"image/png"},{"extension":"svg","mimeType":"image/svg+xml"},{"extension":"txt","mimeType":"text/plain"},{"extension":"vsd","mimeType":"application/vnd.visio"},{"extension":"wav","mimeType":"audio/wav"},{"extension":"weba","mimeType":"audio/webm"},{"extension":"webm","mimeType":"video/webm"},{"extension":"webp","mimeType":"image/webp"},{"extension":"zip","mimeType":"application/zip"},{"extension":"zip","mimeType":"application/x-zip-compressed"},{"extension":"mp4","mimeType":"application/mp4"},{"extension":"mp4","mimeType":"video/mp4"},{"extension":"mp4a","mimeType":"audio/mp4"},{"extension":"mov","mimeType":"video/quicktime"},{"extension":"html","mimeType":"text/html"},{"extension":"htm","mimeType":"text/html"},{"extension":"css","mimeType":"text/css"},{"extension":"ods","mimeType":"application/vnd.oasis.opendocument.spreadsheet"},{"extension":"odp","mimeType":"application/vnd.oasis.opendocument.presentation"},{"extension":"pptx","mimeType":"application/vnd.openxmlformats-officedocument.presentationml.presentation"},{"extension":"xlsx","mimeType":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}]')||null}return(0,o.default)(e,[{key:"isProduction",value:function(){return this.env===r.Environment.PRODUCTION}},{key:"isTesting",value:function(){return this.env===r.Environment.TESTING}},{key:"isDevelopment",value:function(){return this.env===r.Environment.DEVELOPMENT}},{key:"getVersion",value:function(){return this.version}},{key:"getLoaderVersion",value:function(){return this.loaderVersion}},{key:"getBranch",value:function(){return this.branch}},{key:"getAllowedFileTypes",value:function(){return this.allowedFiles}},{key:"isPartnerApp",value:function(){return window.parent.jivo_partner||!1}}]),e}());t.EnvironmentManager=l},75959:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(26394)),o=a(n(69198)),r=a(n(62904)),l=a(n(62652)),u=a(n(18228)),s=a(n(58061)),c=n(33367),d=n(63242),f=(a(n(75043)).default.name("EulaManager"),new(function(){function e(){(0,i.default)(this,e),this.context=null,this.eulaLink=null}return(0,o.default)(e,[{key:"showEula",value:function(e,t,n){r.default.eula&&(l.default.show_eula=e,t&&(this.eulaLink=t),s.default.desktop()&&document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur(),n&&(this.context=n,c.Monitoring.telemetry(d.TelemetryName.EULA_SHOWN,{param1:n})))}},{key:"acceptEula",value:function(){l.default.eula_accepted=!0,"cb"===this.context&&u.default.sendIfConnected({name:"accept_eula"}),c.Monitoring.telemetry(d.TelemetryName.EULA_ACCEPTED,{param1:this.context})}}]),e}()));t.default=f},23582:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.FeatureManager=t.Feature=void 0;var i=a(n(87672)),o=a(n(26394)),r=a(n(69198)),l=a(n(62904)),u=(a(n(75043)).default.name("FeatureManager"),{NEW_ANIMATION:"newAnimation",OLD_CAPTCHA:"oldCaptcha",RECAPTCHA:"recaptcha"});t.Feature=u;var s=new(function(){function e(){var t;(0,o.default)(this,e),this.features=(t={},(0,i.default)(t,u.NEW_ANIMATION,l.default.enable_new_animation),(0,i.default)(t,u.OLD_CAPTCHA,l.default.enable_antispam&&1===l.default.contacts_ask&&!l.default.recaptcha),(0,i.default)(t,u.RECAPTCHA,l.default.enable_antispam&&l.default.recaptcha),t)}return(0,r.default)(e,[{key:"isEnabled",value:function(e){return this.features[e]||!1}}]),e}());t.FeatureManager=s},46418:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(26394)),o=a(n(69198)),r=n(56602),l=a(n(75043)),u=a(n(47321)),s=n(85442),c=l.default.name("HistoryManager"),d=null,f=function(){function e(){if((0,i.default)(this,e),d)return d;this.initHash=this.getLocation().hash,this.initHref=this.getLocationWithoutHash(),d=this}return(0,o.default)(e,[{key:"setHistoryState",value:function(){c.log("setHistoryState");var e=(0,r.getPageWindow)(),t=e.history,n=e.location;(!t.state||t.state&&"number"!=typeof t.state.jmobile)&&t.pushState({jmobile:1},n.title,n.href),t.replaceState({jmobile:1},n.title,n.href)}},{key:"checkPopState",value:function(e,t){c.log("checkPopState",e,t),this.initHash!==this.getLocation().hash&&this.initHref===this.getLocationWithoutHash()||(this.initHash=this.getLocation().hash,this.initHref=this.getLocationWithoutHash(),t!==s.Route.LABEL&&u.default.closeWidget())}},{key:"getLocation",value:function(){return(0,r.getPageWindow)().location}},{key:"getLocationWithoutHash",value:function(){var e=this.getLocation();return e.href.replace(e.hash,"")}}],[{key:"getInstance",value:function(){return d}}]),e}();t.default=f},20097:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(59340)),o=a(n(26394)),r=a(n(69198)),l=a(n(58061)),u=(a(n(75043)).default.name("LoaderContextManager"),null),s=function(){function e(t,n){var a=this;if((0,o.default)(this,e),u)return u;this.appStore=n,this.appStore.addListener((function(){a.updateChatStarted()})),this.storeName="jv_loader_info_"+t,this.store={},l.default.supportsLocalStorage()&&(this.store=JSON.parse(localStorage.getItem(this.storeName))||{}),u=this}return(0,r.default)(e,[{key:"setInStore",value:function(e,t){this.store[e]=t,this.saveStore()}},{key:"saveStore",value:function(){l.default.supportsLocalStorage()&&localStorage.setItem(this.storeName,(0,i.default)(this.store))}},{key:"updateChatStarted",value:function(){this.store.isChatStarted!==this.appStore.chat_started&&(this.store.isChatStarted=this.appStore.chat_started,this.saveStore())}}],[{key:"getInstance",value:function(){return u}}]),e}();t.default=s},88561:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(20116)),o=a(n(78914)),r=a(n(26394)),l=a(n(69198)),u=n(56602),s=n(99112),c=a(n(75043)).default.name("PageVisibilityManager"),d=new(function(){function e(){var t=this;(0,r.default)(this,e),this.pageVisible=(0,s.pageVisible)(),this.subscribers=[],(0,u.listenVisibility)((function(){t.pageVisible=(0,s.pageVisible)(),c.log("Page visibility changed to:",t.pageVisible),t.fireSubscriptions(t.pageVisible)}))}return(0,l.default)(e,[{key:"fireSubscriptions",value:function(e){var t;(0,o.default)(t=this.subscribers).call(t,(function(t){t(e)}))}},{key:"subscribe",value:function(e){this.subscribers.push(e)}},{key:"unsubscribe",value:function(e){var t;this.subscribers=(0,i.default)(t=this.subscribers).call(t,(function(t){if(t!==e)return t}))}}]),e}());t.default=d},38514:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(94198)),o=a(n(26394)),r=a(n(69198)),l=a(n(62904)),u=n(43472),s=n(81189),c=a(n(36216)),d=n(85442),f=n(17674),h=a(n(45808)),p=n(21224),g=n(56602),m=n(99112),v=a(n(46237)),_=a(n(62107)),y=n(5505),b=n(57018),w=a(n(75043)).default.name("PositionManager"),E="336px",C="496px",T=new(function(){function e(){var t=this;(0,o.default)(this,e),this.offlineBodyHeight=0,this.offlineContainerHeight=0,this._lastHeight=null,this.transitionProp="",this.updatePositionStore=_.default.throttle((function(){t._updatePositionStoreOnDrag()}),30)}return(0,r.default)(e,[{key:"clearPositionStore",value:function(e,t,n){e&&s.positionDispatchers.setWidgetPositionLeft(""),t&&s.positionDispatchers.setWidgetPositionRight(""),n&&s.positionDispatchers.setWidgetPositionHeight("")}},{key:"getPositionStoreData",value:function(){return u.reduxStore.getState().position}},{key:"getPositionStyle",value:function(e,t){switch(e){case d.Route.LABEL:return this._getLabelPosition();case d.Route.CALL:case d.Route.CALL_EULA:return this._getCallPosition();case d.Route.CHAT_MIN:return this._getChatMinPosition();case d.Route.INTRODUCE:return this._getIntroducePosition();default:return this._getChatPosition(t)}}},{key:"initializeDrag",value:function(e){var t=this;e&&(v.default.attach(e),v.default.addListener("start",(function(){t._startDrag()})),v.default.addListener("stop",(function(){t._stopDrag()})),v.default.addListener("move",(function(e,n,a){t._drag(e,n,a)})))}},{key:"getPosRight",value:function(e){return(0,g.getPageWindow)().document.body.clientWidth-(e.offsetLeft||40)-e.offsetWidth+"px"}},{key:"getPosLeft",value:function(e){return(0,g.getPageWindow)().document.body.clientWidth-(e.offsetWidth+30)+"px"}},{key:"_updatePositionStoreOnDrag",value:function(){var e=h.default.get(p.Component.WIDGET_CONTAINER),t=(0,i.default)(e.style.height);t&&t<b.MINIMAL_WIDGET_HEIGHT&&(t=b.MINIMAL_WIDGET_HEIGHT);var n=e.style.left,a=e.style.right;s.positionDispatchers.initializePositionStore({height:t+"px",left:n,right:a})}},{key:"_startDrag",value:function(){w.log("_startDrag");var e=h.default.get(p.Component.WIDGET_CONTAINER),t=this.getStyleKey();e.style.marginLeft=0,e.style.marginRight=0,this.transitionProp=e.style.transition,e.style.transition="","right"===t&&""===e.style.right&&(e.style.right=this.getPosRight(e),e.style.left=""),"left"===t&&""!==e.style.right&&(e.style.left=e.offsetLeft+"px",e.style.right=""),"left"===t&&""===e.style.left&&(e.style.left=e.offsetLeft||"40px",e.style.right="");var n=(0,m.getElementPosition)(e),a=e.offsetHeight;this.originX=(0,i.default)(e.style[t]),this.originHeight=(0,i.default)(a),n.minLeft="left"===t?40:30,n.maxLeft=n.windowWidth-n.width-n.minLeft,n.maxLeft-=30,n.minHeight=400,n.height=a<n.minHeight?n.minHeight:a,n.maxHeight=(0,g.getPageWindow)().innerHeight-30,this.dragData=n}},{key:"_stopDrag",value:function(){w.log("_stopDrag");var e=h.default.get(p.Component.WIDGET_CONTAINER);if(this.updatePositionStore(),e.style.transition=this.transitionProp||"","[object HTMLDivElement]"===e.toString()||"[object HTMLUnknownElement]"===e.toString()){var t=getComputedStyle(e);(0,y._callUserFunction)("onResizeCallback",{width:E,height:t.height+"px"})}}},{key:"_drag",value:function(e,t,n){w.log("_drag",e,t,n);var a=h.default.get(p.Component.WIDGET_CONTAINER),i=this.getStyleKey();"left"==i&&(t=-t);var o=this.dragData,r=this.originX+t;r<o.minLeft?a.style[i]=o.minLeft+"px":r>o.maxLeft?a.style[i]=o.maxLeft+"px":a.style[i]=r+"px";var l=this.originHeight+n;l!==o.height&&(l>o.minHeight||l>o.height)&&(f.Router.isIgnoreDragHeightRoute()&&(l=o.height),l>this.dragData.maxHeight&&(l=this.dragData.maxHeight),this.dragData.height=l,a.style.height=l+"px"),this.updatePositionStore()}},{key:"getStyleKey",value:function(){return"0"==l.default.widget_padding&&"bottom"===l.default.widget_orientation||"left"===l.default.widget_orientation?"left":"right"}},{key:"_getChatPosition",value:function(e){var t=(0,g.getPageWindow)(),n={width:E,top:"auto",bottom:0,paddingTop:0,marginBottom:0};""===this.getPositionStoreData().right&&"right"===this.getStyleKey()&&s.positionDispatchers.setWidgetPositionRight("30px"),""===this.getPositionStoreData().left&&"left"===this.getStyleKey()&&s.positionDispatchers.setWidgetPositionLeft("40px"),n.right=this.getPositionStoreData().right&&!e?this.getPositionStoreData().right:"30px",n.left="",n.marginRight=0;var a=(0,i.default)(this.getPositionStoreData().height),o=a&&(0,i.default)(a)>b.MINIMAL_WIDGET_HEIGHT&&!e?a:C;return n.height=o,t.innerHeight<(0,i.default)(o,10)&&(n.height=(t.innerHeight>=b.MINIMAL_WIDGET_HEIGHT?t.innerHeight:b.MINIMAL_WIDGET_HEIGHT)+"px"),(0,i.default)(this.getPositionStoreData().right)+(0,i.default)(E)>t.document.body.clientWidth&&(n.right="30px",s.positionDispatchers.setWidgetPositionRight("30px")),(""!==this.getPositionStoreData().left&&"left"===l.default.widget_orientation||"bottom"===l.default.widget_orientation&&"0"===l.default.widget_padding)&&(n.left=this.getPositionStoreData().left&&!e?this.getPositionStoreData().left:"40px",n.right=""),"left"===this.getStyleKey()&&(0,i.default)(this.getPositionStoreData().left)+(0,i.default)(E)>t.document.body.clientWidth&&(n.left="40px",n.right="",s.positionDispatchers.setWidgetPositionLeft(n.left),s.positionDispatchers.setWidgetPositionRight("")),n}},{key:"_getLabelPosition",value:function(){return this._getChatPosition()}},{key:"_getCallPosition",value:function(){var e=this._getChatPosition();return c.default.cw_call.status&&"cw_connected"===c.default.cw_call.status?{left:e.left,right:e.right}:{width:E,height:C,left:e.left,right:e.right}}},{key:"_getChatMinPosition",value:function(){var e=this._getChatPosition(!0);return e.height="",50==l.default.widget_padding&&"bottom"==l.default.widget_orientation&&(e.marginRight=this._getMarginRight(E),e.right=l.default.widget_padding+"%"),"left"!==this.getStyleKey()&&"left"!==l.default.widget_orientation||(e.left="40px",e.right=""),(0,g.isCustomLabel)()&&(e.bottom="-170px"),e}},{key:"_getIntroducePosition",value:function(){var e=this._getChatPosition();if(this._lastHeight)return e.height="".concat(this._lastHeight,"px"),e;var t=h.default.getComponent(p.Component.INTRODUCE);if(t){var n=t,a=n.scrollHeight+70;70===a&&this.getPositionStoreData().height&&(a=(0,i.default)(this.getPositionStoreData().height)>>0),e.height="".concat(a,"px"),n.scrollHeight&&(this._lastHeight=a)}return e}},{key:"_getMarginRight",value:function(e){var t=(0,i.default)(e);return t<300&&(t=300),t/2*-1+"px"}}]),e}());t.default=T},13106:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(54103)),o=a(n(26394)),r=a(n(69198)),l=n(56602),u=a(n(75043)).default.name("RecaptchaManager"),s=null,c=function(){function e(t){if((0,o.default)(this,e),s)return s;this.token=t,this.recaptchaWidgetIndex=null,this.grecaptcha=null,this.error=null,this.blocked=null,s=this}return(0,r.default)(e,[{key:"isBlocked",value:function(){return this.blocked}},{key:"addRecaptchaToPage",value:function(e){var t;u.log("Insertion of reCaptcha code",e);var n=(0,l.getPageWindow)(),a=n.document.head,o=n.document.createElement("script");o.async=!0,o.src="//google.com/recaptcha/api.js?render=explicit&onload=jivo_onRecaptchaLoadCallback",n.jivo_onRecaptchaLoadCallback=(0,i.default)(t=this.onLoadCallback).call(t,this),a.appendChild(o)}},{key:"onLoadCallback",value:function(){u.log("onLoadCallback"),this.grecaptcha=(0,l.getPageWindow)().grecaptcha,this.recaptchaWidgetIndex=this.grecaptcha.render({sitekey:this.token,badge:"bottomleft"})}},{key:"getToken",value:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"startup";u.log("getToken",{action:a}),this.grecaptcha.ready((function(){u.log("Get recaptcha token"),n.grecaptcha.execute(n.recaptchaWidgetIndex,{action:a}).catch((function(e){u.log("Execution error",e),n.error=e})).then((function(a){a?(u.log("Recaptcha token received",a),e(a)):n.error&&(t(n.error),n.error=null)}))}))}},{key:"block",value:function(){this.blocked=!0}}],[{key:"getInstance",value:function(){return s}}]),e}();t.default=c},45808:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(78914)),o=a(n(20116)),r=a(n(26394)),l=a(n(69198)),u=(a(n(75043)).default.name("RefManager"),new(function(){function e(){(0,r.default)(this,e),this.refs={},this.observers={}}return(0,l.default)(e,[{key:"set",value:function(e,t){e&&t&&(this.refs[e]=t,this._fire(e))}},{key:"get",value:function(e){if(e&&this.refs[e])return this.refs[e].base?this.refs[e].base:this.refs[e]}},{key:"getComponent",value:function(e){return this.refs[e]}},{key:"subscribe",value:function(e,t){this.observers[e]||(this.observers[e]=[]),this.observers[e].push(t)}},{key:"unsubscribe",value:function(e,t){var n;this.observers[e]=(0,o.default)(n=this.observers[e]).call(n,(function(e){if(e!==t)return e}))}},{key:"_fire",value:function(e){var t;this.observers[e]||(this.observers[e]=[]),(0,i.default)(t=this.observers[e]).call(t,(function(e){e()}))}}]),e}()));t.default=u},40372:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.AudioBufferStore=void 0;var i=a(n(86902)),o=a(n(26394)),r=a(n(69198)),l=new(function(){function e(){(0,o.default)(this,e),this.audioBuffers={},this.mp3BuffersLengths={notification:5808,agent_message:3760,outgoing_message:5014},this.oggBufferLengths={notification:6140,agent_message:6464,outgoing_message:7165}}return(0,r.default)(e,[{key:"set",value:function(e,t){this.audioBuffers[e]=t}},{key:"get",value:function(e){return this.audioBuffers[e]||null}},{key:"getReadyAudioBuffersCount",value:function(){return(0,i.default)(this.audioBuffers).length}},{key:"getReferenceBufferLength",value:function(e,t){switch(t){case"mp3":return this.mp3BuffersLengths[e];case"ogg":return this.oggBufferLengths[e]}}}]),e}());t.AudioBufferStore=l},58193:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.HTMLAudioSoundManager=void 0;var i=a(n(1068)),o=a(n(78914)),r=a(n(23765)),l=a(n(33032)),u=a(n(54103)),s=a(n(26394)),c=a(n(69198)),d=a(n(5824)),f=a(n(51379)),h=a(n(214)),p=a(n(66380)),g=n(56591),m=n(56602),v=n(33367),_=a(n(58061)),y=a(n(45808)),b=n(21224);function w(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,p.default)(e);if(t){var o=(0,p.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,h.default)(this,n)}}var E=a(n(75043)).default.name("HTMLAudioSoundManager"),C=function(e){(0,f.default)(n,e);var t=w(n);function n(e){var a,i,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,s.default)(this,n),(i=t.call(this,e,o)).touchListenerTimeout=null,i.soundNodes={},i._windowOnClicked,i._mobileHackHandler=(0,u.default)(a=i._mobileHackHandler).call(a,(0,d.default)(i)),i}return(0,c.default)(n,[{key:"initSoundPlayer",value:function(){E.log("Initialization started"),this.disabled||(this.soundNodes={agent_message:y.default.get(b.Component.SOUND_AGENT_MESSAGE),notification:y.default.get(b.Component.SOUND_NOTIFICATION),outgoing_message:y.default.get(b.Component.SOUND_OUTGOING_MESSAGE)},_.default.mobileOrTablet()&&this._addHackListeners([window.parent,window],"click",this._mobileHackHandler))}},{key:"play",value:function(e,t){var n=this;if(this.disabled)E.log('Cannot play sound "'.concat(e,'". SoundManager is disabled.'));else{var a=this.soundNodes[e];if(a&&void 0!==a.play)try{(_.default.ios()||_.default.safari())&&a.load();var i=a.play();this._promisesSupported(i)?t?i.then((function(){n._pause(e)})):i.catch((function(t){var a;n.touchListenerTimeout||(n._windowOnClicked=(0,u.default)(a=n._windowOnClicked).call(a,n,e),_.default.mobileOrTablet()&&n._removeHackListeners([window.parent,window],"click",n._mobileHackHandler),n._addHackListeners([window.parent,window],"click",n._windowOnClicked),n.touchListenerTimeout=(0,l.default)((function(){n._removeHackListeners([window.parent,window],"click",n._windowOnClicked)}),3e3))})).then():t&&this._pause(e)}catch(e){v.Monitoring.reportException(e)}}}},{key:"_pause",value:function(e){if(!this.disabled){var t=this.soundNodes[e];void 0!==t.pause&&t.pause()}}},{key:"_promisesSupported",value:function(e){return("object"===(0,r.default)(e)||"function"==typeof e)&&e.then&&"function"==typeof e.then}},{key:"_windowOnClicked",value:function(e){this.play(e),clearTimeout(this.touchListenerTimeout),this._removeHackListeners([window.parent,window],"click",this._windowOnClicked),this.touchListenerTimeout=null}},{key:"_mobileHackHandler",value:function(){this._mobileHack(),this._removeHackListeners([window.parent,window],"click",this._mobileHackHandler)}},{key:"_mobileHack",value:function(){this.play(this.sounds[1],!0)}},{key:"_addHackListeners",value:function(e,t,n){(0,o.default)(e).call(e,(function(e){return(0,m.addListener)(e,t,n)}))}},{key:"_removeHackListeners",value:function(e,t,n){(0,o.default)(e).call(e,(function(e){return(0,m.removeEvent)(e,t,n)}))}}]),n}(g.SoundManagerBase);t.HTMLAudioSoundManager=C},37139:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.SoundDownloader=void 0;var i=a(n(77766)),o=a(n(78914)),r=a(n(26394)),l=a(n(69198)),u=a(n(49043)),s=n(56602),c=n(33367),d=n(64841),f=n(40372),h=n(94515),p=a(n(75043)).default.name("SoundDownloader"),g=function(){function e(t){(0,r.default)(this,e),this.audioContext=t,this.soundValidator=new d.SoundValidator,this.exceptionReported=!1}return(0,l.default)(e,[{key:"downloadSounds",value:function(e,t){var n=this;(0,o.default)(e).call(e,(function(e){n.download(e,t)}))}},{key:"download",value:function(e,t){var n=this,a=this._getRequestParams(e,t);u.default.get(a,(function(a,i){if(a)n._handleDownloadError(a,e,t);else{var o=n.soundValidator.validate(e,t,i);if(o.success)n._decodeBuffer(i,e,t);else if(o.error){n._fallback(e,t)||(c.Monitoring.telemetryWithProbability("sound_fallback",{param1:e,param2:t,param3:"validation"},5),p.warn(o.error))}}}),{responseType:"arraybuffer"})}},{key:"_getRequestParams",value:function(e,t){var n=(h.EnvironmentManager.isDevelopment()?"/public":"")+"/sounds/".concat(e,".");return{url:(0,s.staticUrl)(n+t,!0)}}},{key:"_decodeBuffer",value:function(e,t,n){var a=this;this.audioContext.decodeAudioData(e,(function(e){f.AudioBufferStore.set(t,e)}),(function(e){a._handleDecodeBufferError(e,t,n)}))}},{key:"_handleDownloadError",value:function(e,t,n){var a,o,r;this._fallback(t,n)||(c.Monitoring.telemetryWithProbability("sound_fallback",{param1:t,param2:n,param3:"download"},5),p.warn((0,i.default)(a=(0,i.default)(o=(0,i.default)(r='Error downloading arrayBuffer for sound "'.concat(t,".")).call(r,n,'". Reason: ')).call(o,e.code," ")).call(a,e.text)))}},{key:"_handleDecodeBufferError",value:function(e,t,n){var a,o;this._fallback(t,n)||(c.Monitoring.telemetryWithProbability("sound_fallback",{param1:t,param2:n,param3:"decode"},5),p.warn((0,i.default)(a=(0,i.default)(o='Error decoding arrayBuffer for sound "'.concat(t,".")).call(o,n,'". Reason: ')).call(a,e)))}},{key:"_fallback",value:function(e,t){var n=this._getFallbackExtension(t);return!!n&&(c.Monitoring.telemetryWithProbability("sound_fallback",{param1:e,param2:t,param3:"fallback"},5),this.download(e,n),!0)}},{key:"_getFallbackExtension",value:function(e){switch(e){case"mp3":return"ogg";default:return null}}},{key:"_reportErrorMessageOnce",value:function(e){this.exceptionReported||((0,s.reportException)(e),this.exceptionReported=!0)}}]),e}();t.SoundDownloader=g},56591:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.SoundManagerBase=void 0;var i=a(n(26394)),o=a(n(69198)),r=a(n(75043)).default.name("SoundManagerBase"),l=function(){function e(t,n){(0,i.default)(this,e),this.disabled=n,this.sounds=t}return(0,o.default)(e,[{key:"initSoundPlayer",value:function(){r.log("initSoundPlayer method is NOT implemented!")}},{key:"enableSoundPlayer",value:function(){this.disabled=!1}},{key:"disableSoundPlayer",value:function(){this.disabled=!0}},{key:"play",value:function(e){r.log("play method is NOT implemented!")}}]),e}();t.SoundManagerBase=l},64841:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.SoundValidator=void 0;var i=a(n(77766)),o=a(n(26394)),r=a(n(69198)),l=n(40372),u=function(){function e(){(0,o.default)(this,e)}return(0,r.default)(e,[{key:"validate",value:function(e,t,n){var a,o,r,u,s;return n?n instanceof ArrayBuffer?this._isValidBufferLength(e,t,n)?{success:!0,error:null}:{success:!1,error:new Error((0,i.default)(r=(0,i.default)(u=(0,i.default)(s='ArrayBuffer byteLength for sound "'.concat(e,".")).call(s,t,'" is ')).call(u,n.byteLength,", should be ")).call(r,l.AudioBufferStore.getReferenceBufferLength(e,t),"."))}:{success:!1,error:new Error((0,i.default)(o='ArrayBuffer for sound "'.concat(e,".")).call(o,t,'" is not an instance of ArrayBuffer.'))}:{success:!1,error:new Error((0,i.default)(a='No arrayBuffer for sound "'.concat(e,".")).call(a,t,'"'))}}},{key:"_isValidBufferLength",value:function(e,t,n){return n.byteLength===l.AudioBufferStore.getReferenceBufferLength(e,t)}}]),e}();t.SoundValidator=u},81688:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.WebAudioSoundManager=void 0;var i=a(n(1068)),o=a(n(26394)),r=a(n(69198)),l=a(n(51379)),u=a(n(214)),s=a(n(66380)),c=n(56591),d=n(33367),f=a(n(58061)),h=a(n(75043)),p=n(37139),g=n(40372);function m(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,s.default)(e);if(t){var o=(0,s.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}var v=h.default.name("WebAudioSoundManager"),_=function(e){(0,l.default)(n,e);var t=m(n);function n(e){var a,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,o.default)(this,n),(a=t.call(this,e,i)).audioContext=null,a.soundDownloader=null,a}return(0,r.default)(n,[{key:"initSoundPlayer",value:function(){if(v.log("Initialization started"),!this.disabled&&!this._checkIfIsInitialized()){var e=f.default.firefox()?"ogg":"mp3";this.audioContext=this._createAudioContext(),this.soundDownloader=new p.SoundDownloader(this.audioContext),this.soundDownloader.downloadSounds(this.sounds,e)}}},{key:"play",value:function(e){var t=this;!this.disabled&&this._checkIfIsInitialized()?(this.audioContext||(v.log("AudioContext was created on play"),this.audioContext=this._createAudioContext()),"suspended"===this.audioContext.state?this.audioContext.resume().then((function(){v.log("AudioContext was resumed"),t._startBufferAudio(e)})):this._startBufferAudio(e)):v.log('Cannot play sound "'.concat(e,'". SoundManager is either disabled or is not initialized.'))}},{key:"_createAudioContext",value:function(){v.log("Creating AudioContext");try{var e=window.AudioContext||window.webkitAudioContext;if(e)return new e}catch(e){var t=new Error("Exception during the creation of audio context. ".concat(e.message));return d.Monitoring.reportException(t),this.disableSoundPlayer(),null}}},{key:"_startBufferAudio",value:function(e){var t=g.AudioBufferStore.get(e);if(t){var n=this.audioContext.createBufferSource();if(n)n.buffer=t,n.connect(this.audioContext.destination),n.start();else{var a=new Error('Error creating buffer source for sound "'.concat(e,'".'));d.Monitoring.reportException(a),this.disableSoundPlayer()}}else{var i=new Error('Error there is no audiobuffer for sound "'.concat(e,'".'));d.Monitoring.reportException(i),this.disableSoundPlayer()}}},{key:"_checkIfIsInitialized",value:function(){return this.sounds.length===g.AudioBufferStore.getReadyAudioBuffersCount()&&(this.soundDownloader=null,!0)}}]),n}(c.SoundManagerBase);t.WebAudioSoundManager=_},44992:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=t.WebAudioDisabled=t.Sounds=void 0;var i=a(n(58061)),o=n(17674),r=n(85442),l=n(81688),u=n(58193),s=(a(n(75043)).default.name("SoundManager index"),i.default.operaMini()||o.Router.getCurrentRoute()===r.Route.HIDDEN),c=["agent_message","notification","outgoing_message"];t.Sounds=c;var d=!function(){if(!i.default.mobileOrTablet()||!window.AudioContext&&!window.webkitAudioContext||i.default.ieOrEdge())return!1;var e=window.AudioContext||window.webkitAudioContext;try{return(new e).close(),!0}catch(e){return!1}}();t.WebAudioDisabled=d;var f=d?new u.HTMLAudioSoundManager(c,s):new l.WebAudioSoundManager(c,s);t.default=f},41829:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(31581)),o=a(n(26394)),r=a(n(69198)),l=a(n(75119)),u=n(56602),s=a(n(75043)).default.name("TitleManager"),c=new(function(){function e(t,n){(0,o.default)(this,e),this.originalTitle=t,this.jivoTitle=n,this.titleShown=!1,this.timer=null}return(0,r.default)(e,[{key:"getTitle",value:function(){return(0,u.getPageWindow)().document.title}},{key:"startBlinking",value:function(){var e=this;clearInterval(this.timer),this.timer=(0,i.default)((function(){var t;e.titleShown?t=e.originalTitle:(e.originalTitle=e.getTitle(),t=e.jivoTitle),e.changeTitle(t),e.titleShown=!e.titleShown}),1e3)}},{key:"stopBlinking",value:function(){clearInterval(this.timer);var e=this.getTitle();e!==this.originalTitle&&e!==this.jivoTitle&&(this.originalTitle=e),this.changeTitle(this.originalTitle),this.titleShown=!1}},{key:"changeTitle",value:function(e){(0,u.getPageWindow)().document.title=e,s.log("Title changed to:",e)}}]),e}())((0,u.getPageWindow)().document.title,(0,l.default)("lblNewMessage"));t.default=c},11017:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(26394)),o=a(n(69198)),r=a(n(62904)),l=a(n(26936)),u=(a(n(75043)).default.name("TransitionManager"),function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,null,[{key:"getEmptyTransition",value:function(){return l.default.NoTransition}},{key:"getTransitionByName",value:function(e){return"function"==typeof l.default[e]?l.default[e](function(){var e=window.parent.document.getElementById("jvlabelWrap");if(e){if("bottom"===r.default.widget_orientation)return{marginRight:e.style.marginRight,width:e.offsetWidth,height:e.offsetHeight};if("right"===r.default.widget_orientation)return{marginBottom:e.style.marginBottom,height:e.offsetWidth,width:e.offsetWidth};if("left"===r.default.widget_orientation)return{marginBottom:e.style.marginBottom,height:e.offsetWidth,width:e.offsetWidth}}return 0}()):l.default[e]}}]),e}());t.default=u},82207:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(94198)),o=a(n(54103)),r=a(n(26394)),l=a(n(69198)),u=n(56602),s=n(81189),c=a(n(62107)),d=a(n(45808)),f=n(21224),h=n(10872),p=a(n(58061)),g=n(57018),m=a(n(75043)).default.name("WindowResizeManager"),v=null,_=function(){function e(t){if((0,r.default)(this,e),m.log("constructor"),v)return v;var n;this.handler=c.default.throttle((0,o.default)(n=this.resizeHandler).call(n,this),100),(0,u.addListener)((0,u.getPageWindow)(),"resize",this.handler),v=this,this.onResize=t,this.lastHeight=null}return(0,l.default)(e,[{key:"destroy",value:function(){m.log("destroy"),(0,u.removeEvent)((0,u.getPageWindow)(),"resize",this.handler)}},{key:"resizeHandler",value:function(){var e=d.default.get(f.Component.WIDGET_CONTAINER);if(m.log("resizeHandler"),e&&(!e||e.style)){var t=(0,i.default)((0,h.getProperty)("right",e))||0,n=(0,i.default)((0,h.getProperty)("left",e))||0,a=(0,i.default)((0,h.getProperty)("height",e))||0,o=t+n+g.CHAT_WIDTH+28,r=(0,u.getPageWindow)().document.body.clientWidth,l=(0,u.getPageWindow)().innerHeight-30;if(o>r)s.positionDispatchers.initializePositionStore({height:a>l?l<g.MINIMAL_WIDGET_HEIGHT?"".concat(g.MINIMAL_WIDGET_HEIGHT,"px"):"".concat(l,"px"):"".concat(a,"px"),left:this.getNewValue(n,o,r,40),right:this.getNewValue(t,o,r,30)});else if(a>l){var c=l<g.MINIMAL_WIDGET_HEIGHT?"".concat(g.MINIMAL_WIDGET_HEIGHT,"px"):"".concat(l,"px");s.positionDispatchers.setWidgetPositionHeight(c)}if(p.default.safari()&&!p.default.mobileOrTablet()&&(0,h.updateKeyframes)(e),this.onResize){var v=getComputedStyle(e);v&&this.lastHeight!==v.height&&(this.onResize({width:g.CHAT_WIDTH+"px",height:v.height}),this.lastHeight=v.height)}}}},{key:"getNewValue",value:function(e,t,n,a){if(!e)return null;var i=e-(t-n);return i<a&&(i=a),"".concat(i,"px")}}],[{key:"getInstance",value:function(){return v}}]),e}();t.default=_},76822:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.checkAlone=c,t.replaceEmoji=d,t.formatText=function(e,t){var n=e;if(!n)return e;"proactive"!==t[0].get("type")&&(n=r.default.escape(n));return n=(n=n.replace(/(?:\r\n|\r|\n)/g,"<br />")).replace(u.default.getRegExp()," $& "),n=(0,s.default)(n),n=l.default.disable_emoji?n:d(n)};var i=a(n(59748)),o=a(n(59748)),r=a(n(62107)),l=a(n(62904)),u=a(n(77244)),s=a(n(17889));function c(e){var t=!1,n=0,a=u.default.parse(e,(function(){return n++,""})).match(/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g);return 1!==n||a||(t=!0),t}function d(e){var t=c(e);return u.default.replace(e,(function(e){var n=u.default.toCodePoint(e),a=document.createElement("jdiv");return o.default.render(i.default.createElement(u.default,{icon:n,alone:t,className:"emojiMessages",style:{}}),a),a.childNodes[0].outerHTML}))}},85870:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.checkRoute=w,t.updateHistory=function(e){b.log("updateHistory",e,r.default.started),r.default.lastMsgId!==e.last_msg_id?(b.log("updateHistory on resume_ok"),C(e,(function(e){b.log("new history data",e),r.default.started&&e?(e.messages&&e.messages.length&&(T(e.messages),k(e.messages)),w()):E()}))):r.default.started||E()},t.getMsgHistory=C,t.deleteMessagesFromHistory=T,t.updateEditedMessages=k;var i=a(n(78914)),o=a(n(20116)),r=a(n(62652)),l=n(66434),u=n(17674),s=n(85442),c=a(n(99357)),d=a(n(49173)),f=n(8565),h=n(33367),p=n(63242),g=a(n(47321)),m=a(n(75043)),v=n(81189),_=a(n(81574)),y=n(66707),b=m.default.name("MessageHistory");function w(){r.default.route===s.Route.CHAT&&(c.default.getCurrentChatMessages().length||r.default.chat_started||u.Router.next(s.RouterEvent.Navigate))}var E=function(){y.cssLoader.subscribe((function(){_.default.getInstance().start()}),(function(){_.default.getInstance().stop()}))};function C(e,t){b.log("getMsgHistory",e),e&&e.last_msg_id>r.default.lastMsgId?(b.log("start get new history"),d.default.getHistoryMessages("messages",{},(function(n,a){var u;if(n)!function(e,t){b.log("handleError",e),t(),h.Monitoring.telemetry(p.TelemetryName.API_GET_MESSAGES_ERROR,{param1:e.code}),b.log("error: ",e)}(n,t);else if(b.log("receive new history",a),a&&a.result){var s=a.result;u=s.chat_opened,b.log("handleChatOpened",u),r.default.chat_started=u||!1,u||(c.default.closeChat(),r.default.chat_accepted=!1,g.default.setDepartmentId(null)),function(e){if(b.log("handleMessages",e),e&&e.length){var t=function(){b.log("getLastMessage");var e=(0,o.default)(c.default).call(c.default,(function(e){var t=e.get("from");return(t===f.MessageInitiator.CLIENT||t===f.MessageInitiator.AGENT)&&e.get("msg_id")}));return e[e.length-1]}(),n=function(e){b.log("getLastMessageId",e);var t=e?e.get("msg_id"):null;e||(e=c.default.getLastProactive())&&(t=e.get("msg_id"));return t}(t),a=(0,o.default)(e).call(e,(function(e){var a=(0,l.filterMessage)(e);return e.type===f.MessageType.PROACTIVE&&t&&t.get("type")===f.MessageType.PROACTIVE&&t.destroy(),a&&n!==e.msg_id}));(0,i.default)(a).call(a,(function(e){if(e.deleted)e.status=f.MessageStatus.DELETED;else{b.log("add item from history",e);var t=1e3*e.created_ts,n=1e3*e.updated_ts;e.created_ts=new Date(t),e.updated_ts&&(e.updated_ts=new Date(n))}})),v.messagesDispatchers.addMessages(a),h.Monitoring.telemetry(p.TelemetryName.API_GET_MESSAGES_RECEIVED)}}(s.messages),T(s.messages),r.default.lastMsgId=e.last_msg_id,t(s)}else b.error("Empty history data")}))):t()}function T(e){var t=(0,o.default)(e).call(e,(function(e){return e.deleted}));t.length&&(0,i.default)(t).call(t,(function(e){var t=c.default.getMessageById(e.msg_id);t&&(t.set("status",f.MessageStatus.DELETED),t.set("type",f.MessageType.MESSAGE),t.set("body",null))}))}function k(e){var t=(0,o.default)(e).call(e,(function(e){return!e.deleted}));t.length&&(0,i.default)(t).call(t,(function(e){var t=c.default.getMessageById(e.msg_id);t&&e.updated_ts&&(t.set("updated_ts",1e3*e.updated_ts),t.set("text",e.text))}))}},77347:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.cleanTempProactive=function(){var e;_.log("cleanTempProactive");var t=s.default.getTmpProactive(),n=s.default.getLastMessage(),a=n.get("from"),i=h.MessageInitiator.AGENT,o=h.MessageInitiator.CLIENT,l=h.MessageInitiator.FORM;t&&t.get("body")&&t.get("body").unsave&&-1!==(0,r.default)(e=[i,o,l]).call(e,a)&&t!==n&&(t.destroy(),c.default.destroy(),d.default.reload(),d.default.agent_id=0);(0,f.prechatEnabled)()&&s.default.getClientMessages()&&s.default.getClientMessages().length&&p.messageActions.deletePrechatMsg()},t.getMessagesGroup=b,t.getScrollToFormState=function(e){var t=s.default.getFormMessage(),n=s.default.getFormIntroduceText();if(t.length){if(n.length){var a=e?(0,u.default)("lblIntroduceRequest"):(0,u.default)("offlineIntroductionText");n[0].set("created_ts",(new Date).getTime()),n[0].set("text",a)}return t[0].set("created_ts",(new Date).getTime()),(0,i.default)(s.default).call(s.default),g.Monitoring.telemetry(m.TelemetryName.CHAT_INTRODUCE,{param1:"btnform"}),{hideScrollButton:!0,messagesGroups:b()}}};var i=a(n(47302)),o=a(n(51942)),r=a(n(81643)),l=a(n(62107)),u=a(n(75119)),s=a(n(99357)),c=a(n(67966)),d=a(n(69961)),f=n(92097),h=n(8565),p=n(75245),g=n(33367),m=n(63242),v=n(81189),_=a(n(75043)).default.name("MessagesMainUtils"),y=!1;function b(){var e,t,n,a,i,u=[],f=0,p=s.default.getLastProactive(),g=s.default.getLastMessage();if(c.default.get("text")&&!y){var m={from:h.MessageInitiator.AGENT,from_id:d.default&&d.default.agent_id,status:h.MessageStatus.READ,private_id:c.default.get("private_id"),text:c.default.get("text"),created_ts:c.default.get("created_ts"),type:h.MessageType.PROACTIVE,body:{unsave:!0}};d.default.bot_id&&(m.from_id=d.default.bot_id,m.from=h.MessageType.BOT),v.messagesDispatchers.addMessage(m),y=!0}else if(p&&p.get("body")&&p.get("body").unsave&&(g.get("from")===h.MessageInitiator.CLIENT||g.get("from")===h.MessageInitiator.AGENT)&&p!==g){var _=(0,o.default)({},p.toJSON());_.body=d.default,v.messagesDispatchers.addMessage(_),p.destroy(),c.default.destroy()}if(l.default.each(s.default.getAll(),(function(i){var o=i.toJSON(),s=new Date(o.created_ts),c=!1;!t||t.getMonth()===s.getMonth()&&t.getDate()===s.getDate()||(c=!0),"message"!==o.type||-1!==(0,r.default)(l.default).call(l.default,["cobrowse","media","invoice"],n)||o.from!==e||o.from_id!==a||c?(c&&(u.push([{type:h.MessageType.SEPARATOR,time:s.getTime(),from:h.MessageInitiator.SYSTEM}]),f++),u.push([i])):u[u.length-1].push(i),e=o.from,n=o.type,a=o.from_id,t=s})),s.default.store.length>0&&u.length>0){var b=u[0][0].get("created_ts"),w=(i=b,Math.round(Math.abs((i-(new Date).getTime())/864e5)));(f>0||w>=1)&&u.unshift([{type:h.MessageType.SEPARATOR,time:b,from:h.MessageInitiator.SYSTEM}])}return u}},33367:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.Monitoring=void 0;var i=a(n(59340)),o=a(n(26394)),r=a(n(69198)),l=n(27303),u=n(94515),s=n(56602),c=(a(n(75043)).default.name("Monitoring"),new(function(){function e(){(0,o.default)(this,e),this.reportedTelemetry={},this.provider=new l.MonitoringProvider}return(0,r.default)(e,[{key:"init",value:function(){var e=arguments,t=this;window.onerror=function(n,a,o,r,l){!l&&(l={}),(window||e||"function"==typeof t.reportException)&&t.reportException({message:n,lineNumber:o,fileName:(0,s.getBundleSrc)()+"&v="+u.EnvironmentManager.getVersion(),columnNumber:r,stack:(0,i.default)(l.stack||l.stacktrace||l)})}}},{key:"reportException",value:function(e){this.provider.reportException(e)}},{key:"telemetry",value:function(e,t){this.provider.telemetry(e,t),!0!==this.reportedTelemetry[e]&&(this.reportedTelemetry[e]=!0)}},{key:"telemetryOnce",value:function(e,t){!0!==this.reportedTelemetry[e]&&this.telemetry(e,t)}},{key:"telemetryWithProbability",value:function(e,t,n){var a=this;this._invokeWithProbability((function(){a.telemetry(e,t)}),n)}},{key:"_invokeWithProbability",value:function(e,t){Math.random()<=.01*t&&e()}},{key:"isTelemetryReported",value:function(e){return!0===this.reportedTelemetry[e]}}]),e}()));t.Monitoring=c},27303:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.MonitoringProvider=void 0;var i=a(n(81643)),o=a(n(77766)),r=a(n(23765)),l=a(n(26394)),u=a(n(69198)),s=a(n(62904)),c=a(n(36216)),d=a(n(58061)),f=a(n(49043)),h=n(56602),p=a(n(27371)),g=a(n(9805)),m=n(94515),v=a(n(75043)),_=v.default.name("MonitoringProvider"),y=function(){function e(){(0,l.default)(this,e),this.lastTelemetry=[],this.errorSentCnt=0}return(0,u.default)(e,[{key:"reportException",value:function(e){if(g.default.getInstance()&&g.default.getInstance().saveException(e),!m.EnvironmentManager.isProduction()||s.default.disable_error_reporting||d.default.googleBot()||d.default.yandexBot())_.warn("REPORT",e);else{if(++this.errorSentCnt>3)return;try{this.reportError(e)}catch(e){_.error(e.message)}}}},{key:"reportError",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n={url:(0,h.getProtocol)()+"//err.jivosite.com/widget",params:{widget:"true",widget_id:s.default.widget_id,widget_version:m.EnvironmentManager.getVersion(),level:t,url:(0,h.getCurrentPage)().url,client_id:c.default.client_id?c.default.client_id.split(".")[0]:null,user_agent:navigator.userAgent,lineNumber:e.lineNumber,fileName:e.fileName,column:e.columnNumber,full_message:this.getStack(e.message,e.stack),short_message:e.message,device:d.default.getDevice(),shard:this.getShard()},headers:{"Content-Type":"application/json"}},a=f.default.post(n,(function(e,t){_.log("Error reported:",e,t)}),{monitoring:!0});_.log(n,a)}},{key:"telemetry",value:function(e,t){if(this.saveTelemetry(e),!s.default.disable_telemetry&&!d.default.googleBot())if("object"==(0,r.default)(t)&&t||(t={}),t.event=e,t.widget_id=s.default.widget_id,t.chat_mode=s.default.chat_mode,t.site_id=s.default.site_id,t.device=d.default.getDevice(),t.visitor_id=c.default.visitorId,t.widget_version=m.EnvironmentManager.getVersion(),t.shard=this.getShard(),p.default.getActiveTest()&&(t.abtest_name=p.default.getActiveTestName(),t.abtest_group=p.default.getActiveTestGroup()),c.default.client_id&&(t.client_id=c.default.client_id.split(".")[0]),m.EnvironmentManager.isProduction())try{f.default.get({url:(0,h.getProtocol)()+"//telemetry.jivosite.com/w",params:t},(function(){}),{monitoring:!0})}catch(e){_.log(e)}else _.log("TELEMETRY",t)}},{key:"saveTelemetry",value:function(e){5===this.lastTelemetry.length&&this.lastTelemetry.shift(),this.lastTelemetry.push(e.substr(0,60))}},{key:"getStack",value:function(e,t){if("Script error."==e)return t;var n,a,i=v.default.lastLog.join("\r\n");return"{}"!=t&&""!=t&&t?"Uncaught TypeError: undefined is not a function"==e?(0,o.default)(a="".concat(t," \r\n ")).call(a,i):t.replace(/(?:\\[n])+/,"\r\n"):(0,o.default)(n="Custom stack: \r\n".concat(i,"\r\n\r\n")).call(n,this.lastTelemetry.join("\r\n"))}},{key:"getShard",value:function(){var e=s.default.base_url;return-1!==(0,i.default)(e).call(e,"jvs")?"jvs":-1!==(0,i.default)(e).call(e,"ru1")?"ru1":-1!==(0,i.default)(e).call(e,"ya")?"ya":"main"}}]),e}();t.MonitoringProvider=y},23586:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;a(n(75043)).default.name("Polyfill");var i={init:function(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(window.document||window.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1}),Element.prototype.closest||(Element.prototype.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}return null})}};t.default=i},92097:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.prechatEnabled=t.prechatSetUsed=t.prechatUsed=void 0;var i=a(n(62904)),o=a(n(62652)),r=(a(n(75043)).default.name("Prechat"),!1);t.prechatUsed=function(){return r};t.prechatSetUsed=function(e){r=e};t.prechatEnabled=function(){return i.default.options&&i.default.enable_prechat&&o.default.is_online&&!i.default.maintenance}},18750:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(81643)),o=a(n(2991)),r=a(n(23765)),l=a(n(26394)),u=a(n(69198)),s=n(33367),c=a(n(49173)),d=a(n(36216)),f=a(n(62107)),h=n(63242),p=a(n(75043)).default.name("Proactive"),g=new(function(){function e(){(0,l.default)(this,e),this.agents=null,this.departments=null}return(0,u.default)(e,[{key:"getActiveAgent",value:function(e){var t=this;p.log("getActiveAgent"),c.default.getStatus((function(n,a){t.parseStatus(n,a,e)}))}},{key:"parseStatus",value:function(e,t,n){if(e)s.Monitoring.telemetry(h.TelemetryName.WIDGET_STATUS,{param1:e.code}),this.agents=null,this.departments=null,n(!1);else{var a=d.default.pa_id;d.default.assigned_agent_id&&(a=d.default.assigned_agent_id),n(this.getAgent(t,a,d.default.department_id))}}},{key:"getAgent",value:function(e,t,n){var a=e.departments;if(p.log("parseStatus",e,t,n),e.bots)return e.bots[0];if(this.agents=e.bots||e.agents,this.departments=a,this.agents.length){if(n&&"object"===(0,r.default)(a)&&n in a){var i=this.departments[n],o=this.getOnlineAgentInDep(t,i.agents);if(o)return o;var l=this.getRandomOnlineAgentFromDep(i.agents);return p.log("dep agent: ",l),l||!1}var u=this.getAgentById(t);if(u)return u;var s=this.getRandomAgent(this.agents.length-1);return s||!1}return!1}},{key:"getRandomAgent",value:function(e){return this.agents[this.randomInt(0,e)]}},{key:"randomInt",value:function(e,t){var n=e+Math.random()*(t+1-e);return Math.floor(n)}},{key:"getAgentById",value:function(e){return f.default.findWhere(this.agents,{agent_id:e})}},{key:"getRandomAgentIdByArray",value:function(e){return e[1===e.length?0:this.randomInt(0,e.length-1)]}},{key:"getOnlineIds",value:function(){var e;return(0,o.default)(e=this.agents).call(e,(function(e){return e.agent_id}))}},{key:"getOnlineInDep",value:function(e){var t=this.getOnlineIds();return f.default.intersection(t,e)}},{key:"getOnlineAgentInDep",value:function(e,t){var n=this.getOnlineInDep(t);if(n.length&&-1!==(0,i.default)(n).call(n,e))return this.getAgentById(e)}},{key:"getRandomOnlineAgentFromDep",value:function(e){if(this.getOnlineInDep(e).length){var t=this.getRandomAgentIdByArray(e);return this.getAgentById(t)}return!1}}]),e}());t.default=g},70645:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.withLocator=void 0;var a=n(94515);t.withLocator=function(e){return e&&!a.EnvironmentManager.isProduction()?{"data-qa-id":e}:{}}},17674:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.Router=void 0;var i,o,r,l,u,s,c,d,f,h,p,g,m,v,_,y=a(n(87672)),b=a(n(33032)),w=a(n(81643)),E=a(n(68415)),C=a(n(62652)),T=a(n(62904)),k=a(n(36216)),S=a(n(62107)),I=a(n(99357)),A=a(n(58061)),x=n(85442),M=n(36143),R=n(33367),O=n(63242),N=n(81189),D=a(n(82207)),L=a(n(45808)),P=n(10872),j=n(21224),B=n(23582),F=a(n(75959)),H=a(n(75043)).default.name("Router");I.default.on("update",S.default.debounce((function(){M.RouterUtils.needToShowEvaluation()&&W.getCurrentRoute()!==x.Route.CHAT_INTRODUCE&&W.getCurrentRoute()!==x.Route.CHAT_EVAL&&(H.log("messages store update to eval"),W.next(x.RouterEvent.ToEval))}),200));var W=new E.default({namespace:"ROUTER",initialState:C.default.route,eulaContext:{},debugClicks:0,clickTimer:null,getCurrentRoute:function(){return this.state},isContainerRoute:function(){var e;return-1===(0,w.default)(e=[x.Route.LABEL,x.Route.LABEL_INVITATION,x.Route.HIDDEN]).call(e,this.state)},isChatRoute:function(){var e;return-1!==(0,w.default)(e=[x.Route.CHAT,x.Route.CHAT_INTRODUCE,x.Route.CHAT_EVAL,x.Route.INTRODUCE,x.Route.DEPARTMENTS]).call(e,this.state)},isChatPrevRoute:function(e){var t;return-1!==(0,w.default)(t=[x.Route.CHAT,x.Route.CHAT_CALL,x.Route.CHAT_EVAL,x.Route.INTRODUCE,x.Route.DEPARTMENTS]).call(t,e)},isChatInputRoute:function(e){var t;return-1!==(0,w.default)(t=[x.Route.CHAT,x.Route.CHAT_CALL,x.Route.CHAT_EVAL]).call(t,e)},isIgnoreDragHeightRoute:function(){var e;return-1!==(0,w.default)(e=[x.Route.CALL,x.Route.INTRODUCE,x.Route.CALL_EULA]).call(e,this.state)},isMinRoute:function(){return this.state===x.Route.CHAT_MIN},isChatClosedRoute:function(){var e;return-1!==(0,w.default)(e=[x.Route.LABEL,x.Route.CHAT_MIN]).call(e,this.state)},isFormRoute:function(){var e;return-1!==(0,w.default)(e=[x.Route.INTRODUCE]).call(e,this.state)},isHideAvatarRoute:function(){var e;return-1!==(0,w.default)(e=[x.Route.INTRODUCE,x.Route.DEPARTMENTS]).call(e,this.state)},getPrevRoute:function(){return this.priorState},needToShowIntroduceForm:function(){return!k.default.is_introduced&&1===T.default.contacts_ask},setNext:function(e){H.warn("setNext route:",e),this.transition(e)},getPrevEvent:function(){return this._priorAction},next:function(e,t){H.warn("next",e,"from",this.state),e&&this.handle(e,t)},_navToChat:function(){C.default.is_online?"cw_wait"===k.default.cw_call.status?this.transition(x.Route.CHAT_CALL):M.RouterUtils.needToShowIntroduceForm()?this.transition(x.Route.INTRODUCE):M.RouterUtils.showDepartmentsIfPossible()?this.transition(x.Route.DEPARTMENTS):M.RouterUtils.needToShowEvaluation()?this.transition(x.Route.CHAT_EVAL):this.transition(x.Route.CHAT):C.default.is_online||("cw_wait"===k.default.cw_call.status?this.transition(x.Route.CHAT_CALL):M.RouterUtils.showDepartmentsIfPossible()?this.transition(x.Route.DEPARTMENTS):M.RouterUtils.needToShowIntroduceForm()&&B.FeatureManager.isEnabled(B.Feature.OLD_CAPTCHA)?this.transition(x.Route.INTRODUCE):this.transition(x.Route.CHAT))},_navToChatFromChatMin:function(){C.default.show_container=!0,this.priorState===x.Route.CHAT_EULA&&!C.default.eula_accepted?this.transition(x.Route.CHAT_EULA):M.RouterUtils.needToShowEvaluation()?this.transition(x.Route.CHAT_EVAL):this.transition(x.Route.CHAT)},_debugClicked:function(){var e=this;clearTimeout(this.clickTimer),this.debugClicks++,this.debugClicks>7&&(this.debugClicks=0,this.transition(x.Route.DEBUG),R.Monitoring.telemetryOnce(O.TelemetryName.DEBUG_PANEL_OPENED)),this.clickTimer=(0,b.default)((function(){e.debugClicks=0}),1e3)},states:(_={},(0,y.default)(_,x.Route.HIDDEN,{_onEnter:function(){this.trigger("route_change",x.Route.HIDDEN);var e=D.default.getInstance();e&&e.destroy()}}),(0,y.default)(_,x.Route.LABEL,(i={_onEnter:function(){this.trigger("route_change",x.Route.LABEL)}},(0,y.default)(i,x.RouterEvent.Hide,(function(){this.transition(x.Route.HIDDEN)})),(0,y.default)(i,x.RouterEvent.ToCall,(function(){!k.default.is_introduced&&B.FeatureManager.isEnabled(B.Feature.OLD_CAPTCHA)?this.transition(x.Route.INTRODUCE):this.transition(x.Route.CALL)})),(0,y.default)(i,x.RouterEvent.ToChat,(function(){this.transition(x.Route.CHAT)})),(0,y.default)(i,x.RouterEvent.ApiOpen,(function(){this._navToChat()})),(0,y.default)(i,x.RouterEvent.Navigate,(function(){this._navToChat()})),(0,y.default)(i,x.RouterEvent.ToLabelInvitation,(function(){this.transition(x.Route.LABEL_INVITATION)})),(0,y.default)(i,x.RouterEvent.ToMobileMenu,(function(){this.transition(x.Route.MOBILE_MENU)})),i)),(0,y.default)(_,x.Route.LABEL_INVITATION,(o={_onEnter:function(){this.trigger("route_change",x.Route.LABEL_INVITATION)}},(0,y.default)(o,x.RouterEvent.Hide,(function(){this.transition(x.Route.HIDDEN)})),(0,y.default)(o,x.RouterEvent.ToCall,(function(){this.transition(x.Route.CALL)})),(0,y.default)(o,x.RouterEvent.ApiOpen,(function(){this._navToChat()})),(0,y.default)(o,x.RouterEvent.Navigate,(function(){this._navToChat()})),(0,y.default)(o,x.RouterEvent.CloseWindow,(function(){this.transition(x.Route.LABEL)})),o)),(0,y.default)(_,x.Route.DEPARTMENTS,(r={_onEnter:function(){this.trigger("route_change",x.Route.DEPARTMENTS)}},(0,y.default)(r,x.RouterEvent.CloseWindow,(function(){this.transition(x.Route.LABEL)})),(0,y.default)(r,x.RouterEvent.ToCall,(function(){A.default.mobileOrTablet()?this.transition(x.Route.CALL):this.transition(x.Route.CHAT_CALL),R.Monitoring.telemetry(O.TelemetryName.CW_ONLINE_HEADER_BUTTON)})),(0,y.default)(r,x.RouterEvent.Hide,(function(){this.transition(x.Route.HIDDEN)})),(0,y.default)(r,x.RouterEvent.Navigate,(function(){M.RouterUtils.needToShowIntroduceForm()&&0===I.default.store.length?this.transition(x.Route.INTRODUCE):this.transition(x.Route.CHAT)})),(0,y.default)(r,x.RouterEvent.ToDebug,(function(){this._debugClicked()})),r)),(0,y.default)(_,x.Route.INTRODUCE,(l={_onEnter:function(){this.trigger("route_change",x.Route.INTRODUCE)}},(0,y.default)(l,x.RouterEvent.Submit,(function(){M.RouterUtils.needToShowEula()?this.transition(x.Route.CHAT_EULA):(this.transition(x.Route.CHAT),this.trigger("submit_eula_success",x.Route.INTRODUCE))})),(0,y.default)(l,x.RouterEvent.ToCall,(function(){this.transition(x.Route.CALL)})),(0,y.default)(l,x.RouterEvent.CloseWindow,(function(){this.transition(x.Route.LABEL)})),(0,y.default)(l,x.RouterEvent.Hide,(function(){this.transition(x.Route.HIDDEN)})),(0,y.default)(l,x.RouterEvent.ToDebug,(function(){this._debugClicked()})),l)),(0,y.default)(_,x.Route.MOBILE_MENU,(u={_onEnter:function(){this.trigger("route_change",x.Route.MOBILE_MENU)}},(0,y.default)(u,x.RouterEvent.ToCall,(function(){this.transition(x.Route.CALL)})),(0,y.default)(u,x.RouterEvent.CloseWindow,(function(){this.transition(x.Route.LABEL)})),(0,y.default)(u,x.RouterEvent.Hide,(function(){this.transition(x.Route.HIDDEN)})),(0,y.default)(u,x.RouterEvent.ToChat,(function(){this._navToChat()})),(0,y.default)(u,x.RouterEvent.Navigate,(function(){M.RouterUtils.needToShowIntroduceForm()?this.transition(x.Route.INTRODUCE):M.RouterUtils.showDepartmentsIfPossible()?this.transition(x.Route.DEPARTMENTS):this.transition(x.Route.CHAT)})),u)),(0,y.default)(_,x.Route.CHAT,(s={_onEnter:function(){this.trigger("route_change",x.Route.CHAT)}},(0,y.default)(s,x.RouterEvent.Submit,(function(e){e&&e.from&&e.from!==this.state||(M.RouterUtils.needToShowEula()?(e&&(this.eulaContext={link:e.link,context:e.context}),this.transition(x.Route.CHAT_EULA)):this.trigger("submit_success"))})),(0,y.default)(s,x.RouterEvent.ToCall,(function(){A.default.mobileOrTablet()?this.transition(x.Route.CALL):this.transition(x.Route.CHAT_CALL),R.Monitoring.telemetry(O.TelemetryName.CW_ONLINE_HEADER_BUTTON)})),(0,y.default)(s,x.RouterEvent.ToIntroduce,(function(){k.default.is_introduced||1!==T.default.contacts_ask?this._navToChat():this.transition(x.Route.INTRODUCE)})),(0,y.default)(s,x.RouterEvent.ToSocial,(function(){this.transition(x.Route.CHAT_SOCIAL)})),(0,y.default)(s,x.RouterEvent.ToEval,(function(){this.transition(x.Route.CHAT_EVAL)})),(0,y.default)(s,x.RouterEvent.CloseWindow,(function(){this.transition(M.RouterUtils.getRouteChatMin())})),(0,y.default)(s,x.RouterEvent.Hide,(function(){this.transition(x.Route.HIDDEN)})),(0,y.default)(s,x.RouterEvent.ToEula,(function(e){e&&M.RouterUtils.needToShowEula()&&(this.eulaContext={link:e.link,context:e.context},this.transition(x.Route.CHAT_EULA))})),(0,y.default)(s,x.RouterEvent.ToDebug,(function(){this._debugClicked()})),s)),(0,y.default)(_,x.Route.CHAT_MIN,(c={_onEnter:function(){C.default.show_container=!0,this.trigger("route_change",x.Route.CHAT_MIN)}},(0,y.default)(c,x.RouterEvent.ToChat,(function(){M.RouterUtils.needToShowEvaluation()?this.transition(x.Route.CHAT_EVAL):this.transition(x.Route.CHAT)})),(0,y.default)(c,x.RouterEvent.ToCall,(function(){this.transition(x.Route.CHAT_CALL)})),(0,y.default)(c,x.RouterEvent.Hide,(function(){this.transition(x.Route.HIDDEN)})),(0,y.default)(c,x.RouterEvent.ApiOpen,(function(){this._navToChatFromChatMin()})),(0,y.default)(c,x.RouterEvent.Navigate,(function(){this._navToChat()})),c)),(0,y.default)(_,x.Route.CHAT_EULA,(d={_onEnter:function(){var e=this.eulaContext&&this.eulaContext.link?this.eulaContext.link:null,t=this.eulaContext&&this.eulaContext.context?this.eulaContext.context:"introduce";"cb"!==t&&W.getPrevRoute()!==x.Route.CHAT_CALL&&F.default.showEula(!0,e,t),this.eulaContext={},this.trigger("route_change",x.Route.CHAT_EULA)}},(0,y.default)(d,x.RouterEvent.Submit,(function(){var e,t=this.priorState;t?(this.trigger("submit_eula_success",W.getPrevRoute()),M.RouterUtils.needToShowEvaluation()?this.transition(x.Route.CHAT_EVAL):-1===(0,w.default)(e=[x.Route.INTRODUCE,x.Route.CHAT_MIN]).call(e,t)?this.transition(t):this.transition(x.Route.CHAT)):this.transition(x.Route.CHAT)})),(0,y.default)(d,x.RouterEvent.ToCall,(function(){A.default.mobileOrTablet()?this.transition(x.Route.CALL):this.transition(x.Route.CHAT_CALL)})),(0,y.default)(d,x.RouterEvent.Cancel,(function(){this.priorState&&this.priorState!==x.Route.CHAT_MIN?this.transition(this.priorState):M.RouterUtils.needToShowEvaluation()?this.transition(x.Route.CHAT_EVAL):this.transition(x.Route.CHAT)})),(0,y.default)(d,x.RouterEvent.CloseWindow,(function(){!A.default.mobileOrTablet()&&C.default.chat_started&&C.default.is_online?this.transition(x.Route.CHAT_MIN):this.transition(x.Route.LABEL)})),(0,y.default)(d,x.RouterEvent.Hide,(function(){this.transition(x.Route.HIDDEN)})),(0,y.default)(d,x.RouterEvent.ToDebug,(function(){this._debugClicked()})),d)),(0,y.default)(_,x.Route.CHAT_SOCIAL,(f={_onEnter:function(){this.trigger("route_change",x.Route.CHAT_SOCIAL)}},(0,y.default)(f,x.RouterEvent.Submit,(function(){this.transition(x.Route.LABEL)})),(0,y.default)(f,x.RouterEvent.ToChat,(function(){M.RouterUtils.needToShowEvaluation()?this.transition(x.Route.CHAT_EVAL):this.transition(x.Route.CHAT)})),(0,y.default)(f,x.RouterEvent.ToCall,(function(){this.transition(x.Route.CALL)})),(0,y.default)(f,x.RouterEvent.Cancel,(function(){M.RouterUtils.needToShowEvaluation()?this.transition(x.Route.CHAT_EVAL):this.transition(x.Route.CHAT)})),(0,y.default)(f,x.RouterEvent.CloseWindow,(function(){this.transition(M.RouterUtils.getRouteChatMin())})),(0,y.default)(f,x.RouterEvent.Hide,(function(){this.transition(x.Route.HIDDEN)})),(0,y.default)(f,x.RouterEvent.ToEula,(function(e){e&&M.RouterUtils.needToShowEula()&&(this.eulaContext={link:e.link,context:e.context},this.transition(x.Route.CHAT_EULA))})),(0,y.default)(f,x.RouterEvent.ToDebug,(function(){this._debugClicked()})),f)),(0,y.default)(_,x.Route.CHAT_EVAL,(h={_onEnter:function(){this.trigger("route_change",x.Route.CHAT_EVAL)}},(0,y.default)(h,x.RouterEvent.Submit,(function(){this.transition(x.Route.CHAT)})),(0,y.default)(h,x.RouterEvent.ToCall,(function(){A.default.mobileOrTablet()?this.transition(x.Route.CALL):this.transition(x.Route.CHAT_CALL)})),(0,y.default)(h,x.RouterEvent.ToSocial,(function(){this.transition(x.Route.CHAT_SOCIAL)})),(0,y.default)(h,x.RouterEvent.Cancel,(function(){this.transition(x.Route.CHAT)})),(0,y.default)(h,x.RouterEvent.CloseWindow,(function(){this.transition(M.RouterUtils.getRouteChatMin())})),(0,y.default)(h,x.RouterEvent.Hide,(function(){this.transition(x.Route.HIDDEN)})),(0,y.default)(h,x.RouterEvent.ToEula,(function(e){e&&M.RouterUtils.needToShowEula()&&(this.eulaContext={link:e.link,context:e.context},this.transition(x.Route.CHAT_EULA))})),(0,y.default)(h,x.RouterEvent.ToDebug,(function(){this._debugClicked()})),(0,y.default)(h,x.RouterEvent.ToChat,(function(){this.transition(x.Route.CHAT)})),h)),(0,y.default)(_,x.Route.CHAT_CALL,(p={_onEnter:function(){this.trigger("route_change",x.Route.CHAT_CALL)}},(0,y.default)(p,x.RouterEvent.Submit,(function(){M.RouterUtils.needToShowEula()?this.transition(x.Route.CHAT_EULA):this.trigger("submit_success")})),(0,y.default)(p,x.RouterEvent.ToCall,(function(){if(M.RouterUtils.needToShowEvaluation())this.transition(x.Route.CHAT_EVAL);else{var e,t=W.getPrevRoute();if(t)this.transition(-1===(0,w.default)(e=[x.Route.CHAT_MIN,x.Route.CHAT_EULA]).call(e,t)?t:x.Route.CHAT)}})),(0,y.default)(p,x.RouterEvent.ToSocial,(function(){this.transition(x.Route.CHAT_SOCIAL)})),(0,y.default)(p,x.RouterEvent.Cancel,(function(){M.RouterUtils.needToShowEvaluation()?this.transition(x.Route.CHAT_EVAL):this.transition(x.Route.CHAT)})),(0,y.default)(p,x.RouterEvent.CloseWindow,(function(){this.transition(M.RouterUtils.getRouteChatMin())})),(0,y.default)(p,x.RouterEvent.Hide,(function(){this.transition(x.Route.HIDDEN)})),(0,y.default)(p,x.RouterEvent.ToEula,(function(e){e&&M.RouterUtils.needToShowEula()&&(this.eulaContext={link:e.link,context:e.context},this.transition(x.Route.CHAT_EULA))})),(0,y.default)(p,x.RouterEvent.ToIntroduce,(function(){1===T.default.contacts_ask&&this.transition(x.Route.INTRODUCE)})),(0,y.default)(p,x.RouterEvent.ToDebug,(function(){this._debugClicked()})),p)),(0,y.default)(_,x.Route.CALL,(g={_onEnter:function(){this.trigger("route_change",x.Route.CALL)}},(0,y.default)(g,x.RouterEvent.Submit,(function(){M.RouterUtils.needToShowEula()?this.transition(x.Route.CALL_EULA):this.trigger("submit_success")})),(0,y.default)(g,x.RouterEvent.ToEula,(function(){this.transition(x.Route.CALL_EULA)})),(0,y.default)(g,x.RouterEvent.CloseWindow,(function(){C.default.show_container=!1,M.RouterUtils.isChatMinAvailable()?this.transition(x.Route.CHAT_MIN):this.transition(x.Route.LABEL)})),(0,y.default)(g,x.RouterEvent.Hide,(function(){this.transition(x.Route.HIDDEN)})),(0,y.default)(g,x.RouterEvent.ToChat,(function(){this._navToChat()})),(0,y.default)(g,x.RouterEvent.ToDebug,(function(){this._debugClicked()})),g)),(0,y.default)(_,x.Route.CALL_EULA,(m={_onEnter:function(){this.trigger("route_change",x.Route.CALL_EULA)}},(0,y.default)(m,x.RouterEvent.Submit,(function(){if(W.getPrevRoute()===x.Route.CALL)return this.transition(x.Route.CALL),void this.trigger("submit_eula_success",W.getPrevRoute());this.trigger("submit_success")})),(0,y.default)(m,x.RouterEvent.Cancel,(function(){C.default.show_eula=!1,this.transition(x.Route.CALL)})),(0,y.default)(m,x.RouterEvent.ToChat,(function(){this.transition(x.Route.CHAT)})),(0,y.default)(m,x.RouterEvent.CloseWindow,(function(){C.default.show_eula=!1,this.transition(x.Route.LABEL)})),(0,y.default)(m,x.RouterEvent.Hide,(function(){this.transition(x.Route.HIDDEN)})),(0,y.default)(m,x.RouterEvent.ToDebug,(function(){this._debugClicked()})),m)),(0,y.default)(_,x.Route.DEBUG,(v={_onEnter:function(){this.trigger("route_change",x.Route.DEBUG)}},(0,y.default)(v,x.RouterEvent.CloseWindow,(function(){this.transition(M.RouterUtils.getRouteChatMin())})),(0,y.default)(v,x.RouterEvent.ToChat,(function(){this._navToChat()})),(0,y.default)(v,x.RouterEvent.ToCall,(function(){A.default.mobileOrTablet()?this.transition(x.Route.CALL):this.transition(x.Route.CHAT_CALL),R.Monitoring.telemetry(O.TelemetryName.CW_ONLINE_HEADER_BUTTON)})),v)),_)});t.Router=W,W.on("route_change",(function(e){N.appDispatchers.setAppRoute(e),A.default.safari()&&!A.default.mobileOrTablet()&&(e===x.Route.DEBUG&&W.getPrevRoute()===x.Route.INTRODUCE||e===x.Route.INTRODUCE&&W.getPrevRoute()===x.Route.DEBUG)&&(0,b.default)((function(){var e=L.default.get(j.Component.WIDGET_CONTAINER);(0,P.updateKeyframes)(e)}),0)}))},36143:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.RouterUtils=void 0;var i=a(n(81643)),o=a(n(26394)),r=a(n(69198)),l=a(n(62904)),u=a(n(62652)),s=a(n(36216)),c=a(n(69961)),d=a(n(99357)),f=a(n(58061)),h=n(8565),p=n(85442),g=a(n(75043)).default.name("RouterUtils"),m=new(function(){function e(){(0,o.default)(this,e)}return(0,r.default)(e,[{key:"showDepartmentsIfPossible",value:function(){var e,t=l.default.departments&&l.default.departments.length,n=t&&-1!=(0,i.default)(e=[-1,0,2,3]).call(e,l.default.contacts_ask);return t&&1===l.default.contacts_ask&&s.default.is_introduced&&!s.default.department_id&&(n=!0),n&&!c.default.agent_id&&!u.default.chat_started&&!s.default.department_id&&u.default.is_online}},{key:"needToShowEula",value:function(){return l.default.eula&&!u.default.eula_accepted}},{key:"needToShowIntroduceForm",value:function(){return!s.default.is_introduced&&u.default.is_focused&&1===l.default.contacts_ask}},{key:"checkMessage",value:function(){var e=d.default.getChatId(),t=d.default.getLastMessage(),n=d.default.getAgentChatMessages(e).length>0,a=d.default.getCurrentClientMessages().length>0,i=d.default.getChatMessages(e).length>=5&&n,o=d.default.getBotMessages(e);if(o.length){var r=o[o.length-1].get("msg_id");i=d.default.getChatMessagesAfterId(e,r).length>=5&&n}return!(u.default.chat_started&&t&&!t.get("chat_id")&&t.get("from")===h.MessageInitiator.CLIENT&&i)&&!!(u.default.chat_started&&a&&e&&i&&t&&t.get("chat_id"))}},{key:"needToShowEvaluation",value:function(){var e=this.checkMessage();return g.log("needToShowEvaluation",e),!(!l.default.show_rate_form||!e||s.default.evaluate||!u.default.chat_started)}},{key:"getRouteChatMin",value:function(){return this.isChatMinAvailable()?(u.default.show_container=!0,p.Route.CHAT_MIN):"cw_connected"===s.default.cw_call.status?(u.default.show_container=!0,p.Route.CALL):(u.default.show_container=!1,p.Route.LABEL)}},{key:"callbackEnabled",value:function(){var e=l.default.callback_settings;return!!(e.time&&e.countries&&e.countries.length)}},{key:"isChatMinAvailable",value:function(){var e=c.default.agent_id||c.default.bot_id,t=c.default.body&&"left"==c.default.body.state;return u.default.chat_started&&u.default.is_online&&e&&!t&&!f.default.mobileOrTablet()&&"cw_connected"!==s.default.cw_call.status}}]),e}());t.RouterUtils=m},11470:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.getRuleLocal=function(e){if(e in p)return p[e]},t.setRuleLocal=function(e,t){e in p&&(p[e]=t)},t.addPageView=function(){var e=c.default.get("pages_count");e?c.default.set("pages_count",(0,r.default)(e)+1):c.default.set("pages_count",1)},t.compare=g,t.timeDiff=m,t.getValue=v,t.isTimeCondition=function(e){var t;return(0,o.default)(t=e.condition).call(t,"time")>=0},t.isGoalCondition=function(e){return"goal_close"===e||"goal_scroll"===e},t.getPageUrlValue=_,t.checkCondition=y,t.checkTimeConditions=function(e,t,n){for(var a=!1,i=0;i<e.length;i++)if(y(e[i],n))a=!0;else if("all"===t)return!1;return a},t.setInvitationTime=function(){c.default.set("invitation_time",(new Date).getTime())},t.isYandexMarketClient=function(e){var t,n=1==d.default.get("visits_count"),a=c.default.get("pages_count")<10;return!f.default.mobileOrTablet()&&n&&a&&-1!==(0,o.default)(t=["market","YM"]).call(t,e.source)&&"cpc"==e.medium},t.isPopupCommand=function(e){var t;return-1!==(0,o.default)(t=["proactive","open_offline","show_callform"]).call(t,e)};var i=a(n(77766)),o=a(n(81643)),r=a(n(94198)),l=a(n(62904)),u=n(81426),s=n(56602),c=a(n(5972)),d=a(n(93268)),f=a(n(58061)),h=a(n(75043)).default.name("RuleManagerUtils"),p={scrollPosition:!1,movedToCloseButton:!1,firstMessageTime:null,pageEnterTime:(new Date).getTime()};function g(e,t,n){var a,i;switch(n){case"contain":return-1!=(0,o.default)(a=e.toLowerCase()).call(a,t.toLowerCase());case"greater":return e>t;case"greater_equal":return e>=t;case"lower":return e<t;case"lower_equal":return e<=t;case"not_contain":return-1===(0,o.default)(i=e.toLowerCase()).call(i,t.toLowerCase());case"not_equal":return t!=e;case"regexp":return new RegExp(e,"i").test(t);default:return t==e}}function m(e){return Math.round(((new Date).getTime()-e)/1e3)}function v(e){switch(e){case"online":return l.default.chat_mode===u.ChatMode.ONLINE;case"page_url":return(0,s.getCurrentPage)().url.replace(/^http(s?)\:\/\//i,"");case"hour":return(new Date).getHours();case"page_title":return(0,s.getCurrentPage)().title;case"week_day":var t=(new Date).getDay();return 0===t?7:t;case"time_after_close":var n=c.default.get("close_time");return n?m(n):Number.MAX_VALUE;case"time_after_first_message":return p.firstMessageTime?m(p.firstMessageTime.getTime()):NaN;case"time_after_invitation":var a=c.default.get("invitation_time");return null===a||""===a?Number.MAX_VALUE:m(a);case"time_on_page":return m(p.pageEnterTime);case"time_on_site":return m(c.default.get("enter_ts"));case"number_of_visits":return d.default.get("visits_count");case"goal_close":return p.movedToCloseButton;case"goal_scroll":return p.scrollPosition;case"pages_count":return(0,r.default)(c.default.get("pages_count"));case"country":return l.default.geoip.split(";")[0];case"city":return l.default.geoip.split(";")[2]||null;default:return c.default.get(e)}}function _(e){var t=e.match(/^(?:https?:)?(?:\/\/)?([^\/\?]+)/gi);if(t&&t.length){var n={href:e,hostname:t[0]};e=(0,s.getUnicodeHref)(n).replace(/http(|s):\/\//,"")}else e=e.replace(/http(|s):\/\//,"");return e}function y(e,t){var n,a,o,l,u=v(e.condition);"page_url"===e.condition&&(e.value=_(e.value)),"pages_count"===e.condition&&(e.value=(0,r.default)(e.value));var s=g(u,e.value,e.comparator),c=(0,i.default)(n="".concat(t||"","; ")).call(n,s?"success":"failed");return c+=(0,i.default)(a=" condition ".concat(e.condition,"; comparator=")).call(a,e.comparator),h.info((0,i.default)(o=(0,i.default)(l="".concat(c,"; expected=")).call(l,e.value,"; actual=")).call(o,u)),s}},6991:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(51942)),o=a(n(23765)),r=a(n(54103)),l=a(n(62904)),u=n(56602),s=a(n(36216)),c=a(n(58061)),d=n(37916),f=n(33367),h=n(63242),p=n(81189),g=n(94515),m=a(n(93268)),v=a(n(75043)).default.name("Social"),_=new(0,n(89766).EventEmitter),y={vk:!1,fb:!1,mode:!1},b=null,w=!1,E={getSocial:function(){return b||y},setPopupMode:function(e){b=e,_.emit("update",y)},getPopupMode:function(){return b},setSocial:function(e){return y=e},isLoginned:function(){return y.vk||y.fb},getJoints:function(){var e=0,t={};return d.CallbackUtils.isCallbackEnabled()?(t.callback=!0,e++):l.default.power_button_phone&&(t.cbUrl=l.default.power_button_phone,e++),l.default.joint?(l.default.joint.fb&&l.default.joint.fb.joint_id&&(t.fbUrl="https://m.me/"+l.default.joint.fb.joint_id,e++),l.default.joint.wa&&(t.waUrl="https://wa.me/"+l.default.joint.wa,e++),l.default.joint.vk&&l.default.joint.vk.joint_id&&(t.vkUrl="https://vk.me/club"+l.default.joint.vk.joint_id,e++),l.default.joint.vb&&l.default.joint.vb.botname&&(t.vbUrl="viber://pa?chatURI="+l.default.joint.vb.botname,e++),l.default.joint.tg&&l.default.joint.tg.botname&&(t.tgUrl=this.getTgLink()+l.default.joint.tg.botname,e++),this.isImVersion()&&l.default.joint.im&&l.default.joint.im.joint_id&&(t.imUrl="sms://open?service=iMessage&recipient=urn:biz:".concat(l.default.joint.im.joint_id,"&biz-intent-id=click_in_jivo"),e++),{links:t,count:e}):{links:t,count:e}},startSocials:function(){var e;(v.log("startSocials"),w||c.default.mobileOrTablet()||!l.default.joint||!l.default.joint.vk&&!l.default.joint.fb||m.default.get("is_blacklisted"))||(w=!0,this.initSocial(),(0,u.addListener)(window,"message",(0,r.default)(e=this.checkLogin).call(e,this),!1))},initSocial:function(){var e=this.checkSocial();if(v.log("initSocial",e),e){var t=this.genSocialIframeUrl(e)+"#rand="+(new Date).getMilliseconds()+",lang="+l.default.locale,n=document.createElement("iframe");n.src=t,n.className="iframe-social",n.title="JivoSocial",document.body.appendChild(n)}},getTgLink:function(){var e="https://telegram.me/";l.default.geoip&&("RU"==l.default.geoip.split(";")[0]&&(e="tg://resolve/?domain="));return e},checkSocial:function(){if(l.default.joint){var e="check";l.default.joint.vk&&!l.default.joint.fb&&(e="checkvk"),l.default.joint.fb&&!l.default.joint.vk&&(e="checkfb");var t=document.getElementsByClassName("check-iframe");return!(t&&t.length>0)&&(!(!l.default.joint.vk&&!l.default.joint.fb)&&e)}},genSocialIframeUrl:function(e){v.log("getnSocialIframeUrl",e);var t=["mode="+e];l.default.joint.vk&&(t.push("vk_app_id="+l.default.joint.vk.app_id),t.push("vk_joint_id="+l.default.joint.vk.joint_id),t.push("vk_key="+this.genVkRandomKey())),l.default.joint.fb&&(t.push("fb_app_id="+l.default.joint.fb.app_id),t.push("fb_joint_id="+l.default.joint.fb.joint_id),t.push("fb_key="+s.default.client_id+"_"+l.default.widget_id)),t.push("logs="+(l.default.logs||0));var n=g.EnvironmentManager.isDevelopment()?"/public/social.html?":"/social.min.html?";return(0,u.staticUrl)(n+t.join("&"),!0)},genVkRandomKey:function(){return(s.default.client_id+"="+l.default.widget_id).replace(/./g,(function(e){return e.charCodeAt(0).toString(16)}))},getIframeUrl:function(e){return this.genSocialIframeUrl(e)+"#rand="+(new Date).getMilliseconds()+",lang="+l.default.locale},checkLogin:function(e,t){if(v.log("checkLogin",e,t),e&&"object"===(0,o.default)(e)){if(t&&(e={data:{social:t}}),e.data&&e.data.social){var n={},a=e.data.social;return a.fb&&(n.fb=!0,n.vk=!1,n.mode="fb",f.Monitoring.telemetryOnce(h.TelemetryName.SOCIAL_SHOW_FACEBOOK)),a.vk&&(n.vk=!0,n.fb=!1,n.mode="vk",f.Monitoring.telemetryOnce(h.TelemetryName.SOCIAL_SHOW_VK)),a.fb||a.vk||(n.vk=!1,n.fb=!1,n.mode="email"),y={vk:n.vk,fb:n.fb,mode:n.mode},_.emit("update",y),p.socialDispatchers.initializeSocialStore(y),n}}else v.log("postMessage from social failed: ",e)},isImVersion:function(){return(c.default.ios()||c.default.ipad())&&c.default.osVersion()>=11.3},ifIMessageEnabled:function(){var e=this.getJoints();return!!(this.isImVersion()&&e.links&&e.links.imUrl)}},C=(0,i.default)(_,E);t.default=C},53172:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.getAgents=s,t.getAgentById=c,t.getJoinedAgents=function(){var e=[],t=d();if(t&&t.length>0){var n=t[t.length-1].joinedAgents;(0,o.default)(n).call(n,(function(t){e.push(c(t))}))}return e},t.getApp=function(){return u.reduxStore.getState().app},t.getCallback=function(){return u.reduxStore.getState().callback},t.getChats=d,t.getChatById=function(e){var t;return(0,r.default)(t=d()).call(t,(function(t){return t.id===e}))},t.getClient=function(){return u.reduxStore.getState().client},t.getMessages=function(){return u.reduxStore.getState().messages},t.getPosition=function(){return u.reduxStore.getState().position},t.getProactive=function(){return u.reduxStore.getState().proactive},t.getSettings=function(){return u.reduxStore.getState().settings},t.getSystemSettings=function(){return u.reduxStore.getState().settings.system},t.getUserSettings=function(){return u.reduxStore.getState().settings.user},t.getCallbackSettings=function(){return u.reduxStore.getState().settings.user.callback},t.getFeatures=function(){return u.reduxStore.getState().settings.features},t.getClientMessages=function(e){return(0,i.default)(e).call(e,(function(e){return e.from===l.MessageInitiator.CLIENT}))},t.getMessagesByType=function(e,t){return(0,i.default)(e).call(e,(function(e){return e.type===t}))};var i=a(n(20116)),o=a(n(78914)),r=a(n(94473)),l=n(8565),u=n(43472);function s(){return u.reduxStore.getState().agents}function c(e){var t;return(0,r.default)(t=s()).call(t,(function(t){return t.id===e}))}function d(){return u.reduxStore.getState().chats}},49902:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(94198)),o=a(n(54103)),r=a(n(31581)),l=a(n(68415)),u=a(n(62107)),s=a(n(5972)),c=a(n(75043)).default.name("Timer"),d=new l.default({timer:0,seconds:0,timerText:!1,initialState:"unitialized",namespace:"Timer",setTimerNull:function(){clearInterval(this.timer),s.default.set("cw_timer",null)},initialize:function(){c.log("Timer initalized.")},states:{unitialized:{start_timer:"STARTTIMER"},STARTTIMER:{_onEnter:function(){this.handle("start_timer")},start_timer:function(){var e=1e3*this.seconds,t=this.timerText;t&&(t.innerText=e/1e3);var n=this.seconds;clearInterval(this.timer),this.timer=(0,r.default)((0,o.default)(u.default).call(u.default,(function(){var t=s.default.get("cw_timer");if(t){var a=(0,i.default)((new Date).getTime())-(0,i.default)(t);if((e=1e3*((e=1e3*this.seconds-a)/1e3).toFixed(2))<=0)return clearInterval(this.timer),this.timer=!1,void this.handle("timer_finished")}else s.default.set("cw_timer",(new Date).getTime());n=e/1e3,(e-=100)<=0&&(n=e,clearInterval(this.timer),this.timer=!1,this.handle("timer_finished")),this.emit("tick",n)}),this),10)},timer_finished:"STOP",cancel_timer:"unitialized"},STOP:{_onEnter:function(){c.log("STOP, timer_finished")},start_timer:"STARTTIMER"}}});t.default=d},10872:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.getSavedLabelPosition=t.saveLabelPosition=t.isFallbackNeeded=t.updateKeyframes=t.setProperty=t.getProperty=void 0;var i=a(n(63978)),o=a(n(20368)),r=a(n(39649)),l=a(n(78914)),u=a(n(34074)),s=a(n(20116)),c=a(n(14310)),d=a(n(86902)),f=a(n(87672)),h=a(n(58061));function p(e,t){var n=(0,d.default)(e);if(c.default){var a=(0,c.default)(e);t&&(a=(0,s.default)(a).call(a,(function(t){return(0,u.default)(e,t).enumerable}))),n.push.apply(n,a)}return n}var g=a(n(75043)).default.name("TransitionUtils"),m=function(e,t){return t&&t.style?v()?t.style[e]:t.style.getPropertyValue("--".concat(e)):null};t.getProperty=m;t.setProperty=function(e,t,n){v()?n.style[e]=t:n.style.setProperty("--".concat(e),t)};t.updateKeyframes=function(e){if(g.log("updateKeyframes"),h.default.supportsWebAnimationApi()){var t=m("height",e),n=m("left",e),a=m("right",e),i=e&&e.getAnimations()[0],o=i&&i.effect.getKeyframes(),r=o&&o[o.length-1];r&&(r.height=t,r.left=n,r.right=a,i.effect.setKeyframes(o),i.currentTime=299.99)}};var v=function(){return!h.default.supportsCssVariables()||h.default.ieOrEdge()||h.default.safari()&&!h.default.supportsWebAnimationApi()};t.isFallbackNeeded=v;var _={};t.saveLabelPosition=function(e){_={right:e.right||null,left:e.left||null,offsetWidth:e.offsetWidth||null}};t.getSavedLabelPosition=function(){return function(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)(0,l.default)(n=p(Object(a),!0)).call(n,(function(t){(0,f.default)(e,t,a[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(a));else{var s;(0,l.default)(s=p(Object(a))).call(s,(function(t){(0,i.default)(e,t,(0,u.default)(a,t))}))}}return e}({},_)}},37607:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.getIMessageLink=void 0;t.getIMessageLink=function(e){return"sms://open?service=iMessage&recipient=urn:biz:".concat(e,"&biz-intent-id=click_in_jivo")}},94686:function(e,t,n){"use strict";var a=n(60530)(n(25843)),i={phone:function(e){return e.length>0&&(0,a.default)(e).call(e).replace(/\D+/g,"").length>=5&&/^\+?[0-9() -]+$/i.test(e)},client_name:function(e){return e.length>0&&e.length<100},email:function(e){return e.length>=4&&new RegExp(/^([a-zA-Z\d-_]+([+.][a-zA-Z\d-_]+)*)@(([a-zA-Z\d][a-zA-Z\d-_.]*[a-zA-Z\d])|([a-zA-Z\d]))\.([a-zA-Z\d]{2,})$/i).test(e)},message:function(e){return e.length>0},description:function(e){return e.length>0},captcha:function(e){return e.length>0}};e.exports=i},43942:function(e,t,n){"use strict";var a=n(87646),i=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(63978)),r=i(n(20368)),l=i(n(39649)),u=i(n(78914)),s=i(n(34074)),c=i(n(20116)),d=i(n(14310)),f=i(n(86902)),h=i(n(94198)),p=i(n(69301)),g=i(n(81643)),m=i(n(59340)),v=i(n(87672)),_=i(n(77766)),y=i(n(33032)),b=i(n(54103)),w=i(n(26394)),E=i(n(69198));n(301);var C=a(n(62904)),T=n(57018),k=i(n(62652)),S=i(n(36216)),I=i(n(8282)),A=i(n(75119)),x=i(n(18228)),M=i(n(99357)),R=i(n(67966)),O=i(n(36421)),N=i(n(62107)),D=n(56602),L=i(n(51362)),P=n(75737),j=n(99112),B=n(17674),F=n(85442),H=n(24335),W=n(33367),U=n(63242),z=n(78605),G=i(n(9805)),V=n(11470),q=i(n(5972)),K=i(n(93268)),Y=i(n(47321)),Z=n(81189),J=n(42796),X=n(53172),$=n(94515),Q=n(23582);function ee(e,t){var n=(0,f.default)(e);if(d.default){var a=(0,d.default)(e);t&&(a=(0,c.default)(a).call(a,(function(t){return(0,s.default)(e,t).enumerable}))),n.push.apply(n,a)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)(0,u.default)(n=ee(Object(a),!0)).call(n,(function(t){(0,v.default)(e,t,a[t])}));else if(l.default)(0,r.default)(e,(0,l.default)(a));else{var i;(0,u.default)(i=ee(Object(a))).call(i,(function(t){(0,o.default)(e,t,(0,s.default)(a,t))}))}}return e}var ne=i(n(75043)).default.name("VI"),ae=["purl","ptitle","navcount","visible","status"],ie=function(){function e(){var t,n,a;((0,w.default)(this,e),this.ifNeedConnect())?(k.default.viReconnectTime=null,this.changeCurrentKeysFn=N.default.debounce((0,b.default)(t=this.changeCurrentKeys).call(t,this),100),(0,j.pageVisible)()?(0,y.default)((0,b.default)(n=this.init).call(n,this),1e3):(0,D.listenVisibility)((0,b.default)(a=this.onVisibilityChange).call(a,this))):ne.log("not initialized");this.inited=!1}return(0,E.default)(e,[{key:"onVisibilityChange",value:function(){(0,j.pageVisible)()&&!this.inited&&(this.changeCurrentKeysFn(),this.init(),this.inited=!0)}},{key:"ifNeedConnect",value:function(){return C.default.new_visitors_insight&&!C.default.maintenance&&!C.default.botmode&&!K.default.get("is_blacklisted")&&!(0,D.isWixEditor)()&&!H.isDesignerEditor&&!(0,D.isAppCobrowse)()&&!(!k.default.is_online&&1===C.default.hide_offline)&&!(B.Router.getCurrentRoute()===F.Route.HIDDEN)&&(null===k.default.viReconnectTime||(new Date).getTime()>k.default.viReconnectTime)}},{key:"init",value:function(){var e,t,n,a,i,o,r,l,u=this;if(this.openConnection()){if(ne.log("start init"),this.net.onopen=(0,b.default)(e=this.connectionOnOpen).call(e,this),this.net.onget=(0,b.default)(t=this.onget).call(t,this),this.net.onset=(0,b.default)(n=this.onset).call(n,this),this.net.onclose=(0,b.default)(a=this.connectionOnClosed).call(a,this),this.net.onerror=(0,b.default)(i=this.connectionOnError).call(i,this),this.net.onfail=(0,b.default)(o=this.connectionOnFail).call(o,this),this.net.ondrop=(0,b.default)(r=this.connectionOnDrop).call(r,this),this.cacheCurrentKeys=this.getAllCurrentKeys(),S.default.addListener(this.changeCurrentKeysFn),k.default.addListener(this.changeCurrentKeysFn),I.default.on("update",this.changeCurrentKeysFn),x.default.on("socket_message",this.changeCurrentKeysFn),x.default.on("update_data",this.changeCurrentKeysFn),M.default.on("create",this.changeCurrentKeysFn),O.default.addListener("update",N.default.debounce((0,b.default)(l=this.checkClientAway).call(l,this),T.AWAY_CLIENT_TIMEOUT)),B.Router.on("route_change",(function(e){e===F.Route.HIDDEN&&u.closeConnection()})),(0,D.isWixContext)()){var s=(0,D.getPageWindow)().wix_context;s.addEventListener(s.Events.PAGE_NAVIGATION,this.changeCurrentKeysFn)}(0,D.listenVisibility)((function(){u.changeCurrentKeysFn(),(0,j.pageVisible)()&&u.openConnection()}))}}},{key:"checkClientAway",value:function(){O.default.isActive||(0,j.pageVisible)()||!this.isConnected||this.net.close()}},{key:"getURL",value:function(){var e,t,n,a=$.EnvironmentManager.isProduction()||"https:"===(0,D.getProtocol)()?"wss":"ws";return(0,_.default)(e=(0,_.default)(t=(0,_.default)(n="".concat(a,"://")).call(n,(0,C.getViHost)(),"/")).call(t,C.default.widget_id,"?")).call(e,S.default.visitorId)}},{key:"openConnection",value:function(){return this.isConnected||!this.ifNeedConnect()?(ne.log("cant open connection"),!1):(this.net||(this.net=new ClientSocket),this.net.open(this.getURL()),!0)}},{key:"closeConnection",value:function(){ne.log("close connection"),this.isConnected&&this.net&&this.net.close()}},{key:"connectionOnOpen",value:function(){ne.log("connection open"),this.isConnected=!0,this.sendDynamicKeys(),this.changeCurrentKeysFn()}},{key:"connectionOnClosed",value:function(e){this.isConnected=!1,ne.log("connection close: ",e)}},{key:"connectionOnError",value:function(e){ne.error("connection error: ",e)}},{key:"connectionOnFail",value:function(e){W.Monitoring.telemetry(U.TelemetryName.VISITORS_FAIL,{param1:e})}},{key:"connectionOnDrop",value:function(e){var t=this;0!==e&&(k.default.viReconnectTime=(new Date).getTime()+e,ne.log("connection drop: ",e/1e3+"s"),(0,y.default)((function(){var e;P.ConfigUtils.reloadConfig((0,b.default)(e=t.openConnection).call(e,t))}),e))}},{key:"getKeys",value:function(e){var t=this,n=S.default.client_info,a=(0,D.getPageWindow)(),i={name:function(){return S.default.display_name||n.client_name},phone:function(){return n&&n.phone?n.phone:null},email:function(){return n&&n.email?n.email:null},desc:function(){return n&&n.description?n.description:null},purl:function(){return(0,D.isWixContext)()?a.wix_url:L.default.decodeString((0,D.getCurrentPage)().url)},ptitle:function(){var e=(0,D.getCurrentPage)().title;return e===(0,A.default)("lblNewMessage")&&(e=t.cacheCurrentKeys&&t.cacheCurrentKeys.ptitle),(0,D.isWixContext)()?a.wix_title:e},cid:function(){return S.default.client_id?S.default.client_id.split(".")[0]:null},utm:function(){var e=te(te(te(te(te({},S.default.utm.campaign&&{campaign:S.default.utm.campaign}),S.default.utm.source&&{source:S.default.utm.source}),S.default.utm.medium&&{medium:S.default.utm.medium}),S.default.utm.keyword&&{keyword:S.default.utm.keyword}),S.default.utm.content&&{content:S.default.utm.content});return(0,m.default)(e)},status:function(){var e,t,n=!M.default.getCurrentChatAgentMessages().length&&M.default.getCurrentClientMessages().length;return t=k.default.chat_started?k.default.chat_accepted?z.ClientStatus.ON_CHAT:k.default.is_online?x.default.isConnected()&&n?z.ClientStatus.INVITE_SENT:z.ClientStatus.ON_SITE:x.default.isConnected()&&n&&(0,X.getApp)().lastChatOpened?z.ClientStatus.INVITE_SENT:z.ClientStatus.ON_SITE:R.default.get("text")?z.ClientStatus.PROACTIVE_SHOW:z.ClientStatus.ON_SITE,S.default.cw_call.status&&-1!==(0,g.default)(e=["cw_wait","cw_connecting","cw_connected"]).call(e,S.default.cw_call.status)&&(t=z.ClientStatus.ON_CALL),t==z.ClientStatus.INVITE_SENT&&x.default.isConnected()&&!n&&W.Monitoring.telemetryOnce(U.TelemetryName.VI_STATUS_FAIL,{param1:"no_client_message",param2:k.default.chat_accepted?"1":"0"}),t},navcount:function(){return q.default.get("pages_count")},visits:function(){return K.default.get("visits_count")},chats:function(){return M.default.getChatCounts()},visible:function(){return(0,j.pageVisible)()},opened:function(){return!B.Router.isChatClosedRoute()},agentids:function(){return k.default.chat_accepted&&(0,m.default)(I.default.getAgentIdsByStatus("join"))},pa_id:function(){return S.default.pa_id},avatar:function(){return S.default.avatar_url},wversion:function(){return $.EnvironmentManager.getVersion()},cdata:function(){return x.default.custom_data?(0,m.default)(x.default.custom_data):null}};return e?i[e]&&i[e]():(0,p.default)(N.default).call(N.default,i)}},{key:"getAllCurrentKeys",value:function(){var e=this,t={};return N.default.each(this.getKeys(),(function(n){t[n]=e.getKeys(n)})),t}},{key:"changeCurrentKeys",value:function(){var e=this,t=this.getAllCurrentKeys();this.isConnected&&(0,m.default)(this.cacheCurrentKeys)!==(0,m.default)(t)&&N.default.each(this.getKeys(),(function(n){var a=t[n];e.cacheCurrentKeys[n]!==a&&e.set(n,a)}))}},{key:"sendAllKeys",value:function(e,t){var n=this;N.default.each(this.getKeys(),(function(a){n.cacheCurrentKeys[a]||(n.cacheCurrentKeys[a]=n.getKeys(a));var i=n.cacheCurrentKeys[a];i&&n.net.set({room:t,to:e,key:a,value:i})}))}},{key:"sendDynamicKeys",value:function(){var e=this;N.default.each(ae,(function(t){e.set(t,e.getKeys(t))}))}},{key:"set",value:function(e,t,n,a){if(this.isConnected&&null!=t){this.cacheCurrentKeys[e]=t;var i={key:e,value:t};a&&(i.room=a),n&&(i.to=n),G.default.getInstance().saveViEvent(i),this.net.set(i)}}},{key:"onget",value:function(e){var t=this;G.default.getInstance().saveViEvent(e),"*"===e.key||"all"===e.key?(this.sendAllKeys(e.from,e.room),N.default.each({startsec:function(){var e=q.default.get("enter_ts");return e&&(0,V.timeDiff)(e)}},(function(n,a){n()&&t.set(a,n(),e.from,e.room)}))):this.getKeys(e.key)&&this.set(e.key,this.getKeys(e.key),e.from,e.room)}},{key:"onset",value:function(e){var t=this;if(G.default.getInstance().saveViEvent(e),"invite"===e.key&&!this.isInvited){if(Q.FeatureManager.isEnabled(Q.Feature.OLD_CAPTCHA))return;k.default.is_online||B.Router.isChatClosedRoute()&&(Z.transitionDispatchers.startTransition(J.ScriptName.OPEN_WIDGET),B.Router.next(F.RouterEvent.ToChat)),x.default.send({name:"start_chat",invited_agent:e.value}),this.isInvited=!0,(0,y.default)((function(){t.isInvited=!1}),T.APP_INVITE_TIME),W.Monitoring.telemetry(U.TelemetryName.VISITORS_INVITE,{param1:(0,h.default)(e.value)}),Y.default.setVisitorInvite(!0)}}}]),e}(),oe={run:function(){ne.log("run",S.default.visitorId),0!=S.default.visitorId?new ie:W.Monitoring.telemetry(U.TelemetryName.VISITORS_FAIL,{param1:"visitorId = 0",param2:navigator.userAgent})}};t.default=oe},68806:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(33032)),o=a(n(31581)),r=a(n(26394)),l=a(n(69198)),u=a(n(62652)),s=a(n(62107)),c=a(n(58061)),d=a(n(56602)),f=n(99112),h=a(n(47321)),p=a(n(59592)),g=n(81189),m=a(n(75043)),v=a(n(48938)),_=m.default.name("SiteConnector"),y=new(function(){function e(){var t=this;(0,r.default)(this,e),this.window=d.default.getPageWindow(),this.document=this.window.document,this.bodyEl=this.document.body,this.documentEl=this.document.documentElement,this.scrollEl=this.document.scrollingElement||this.bodyEl,this.pageZoom=null,this.userZoom=null,this.appZoom=null,this.isSiteOptimizedForMobile=!1,this.isWidgetOnWix=!1,this.changeZoomSubscription=[],this.checkZoomsFn=s.default.throttle((function(){t.checkZooms()}),200,{trailing:!0}),!c.default.mobileOrTablet()||d.default.isWixContext()&&!c.default.android()||(this.checkViewport(),this.initListenChangeZooms()),c.default.tablet()&&d.default.addListener(this.bodyEl,"touchstart",(function(e){e&&e.target&&"label"!==u.default.route&&(0,f.hasClass)(t.documentEl,"jivo-tablet-overlay"),(0,f.hasClass)(e.target,v.default.mobileContainer)&&(0,f.hasClass)(e.target,v.default._tablet)&&(e.preventDefault(),h.default.closeWidget())}))}return(0,l.default)(e,[{key:"initListenChangeZooms",value:function(){var e=this;d.default.addListener(this.window,"scroll",this.checkZoomsFn,!0),d.default.addListener(this.window,"resize",this.checkZoomsFn,!0),d.default.addListener(this.window,"orientationchange",this.checkZoomsFn),this.window.visualViewport&&this.window.visualViewport.addEventListener&&(d.default.addListener(this.window.visualViewport,"scroll",this.checkZoomsFn,!0),d.default.addListener(this.window.visualViewport,"resize",this.checkZoomsFn,!0)),u.default.addListener("update",(function(){"label"!==u.default.route&&"hidden"!==u.default.route?e.setZoomChangeIterval(500):e.setZoomChangeIterval(1e3)}))}},{key:"setZoomChangeIterval",value:function(e){e!==this.intervalTime&&(clearInterval(this.intervalId),this.intervalTime=e,this.intervalId=(0,o.default)(this.checkZoomsFn,e))}},{key:"checkZooms",value:function(){var e=this.getUserZoom(),t=this.getPageZoom(),n=this.getAppZoom();e===this.userZoom&&t===this.pageZoom&&n===this.appZoom||(_.log("zoom:",e,t,n),this.userZoom=e,this.pageZoom=t,this.appZoom=n,g.zoomDispatchers.initializeZoomStore({user:this.userZoom,page:this.pageZoom,app:this.appZoom}),this.triggerChangeZoom())}},{key:"checkViewport",value:function(){var e=this.document.querySelector("meta[name=viewport]");if(e&&e.content)for(var t=e.getAttribute("content").toLowerCase().split(","),n=e.getAttribute("id"),a=0;a<t.length;a++){t[a]=t[a].replace(/^\s+/,"");var i=t[a].split("=");"width"==i[0]&&"device-width"===i[1]&&(this.isSiteOptimizedForMobile=!0),"width"!=i[0]||"device-width"===i[1]||"wixMobileViewport"!=n||this.window.isWixIframe||(this.isWidgetOnWix=!0)}}},{key:"triggerChangeZoom",value:function(){var e=this;s.default.each(this.changeZoomSubscription,(function(t){t({userZoom:e.userZoom,pageZoom:e.pageZoom,appZoom:e.appZoom})}))}},{key:"blockScroll",value:function(){(0,f.addClass)(this.bodyEl,"jivo-block-scroll"),d.default.addListener(this.window,"scroll",this.preventDefault),d.default.addListener(this.document,"touchmove",this.preventDefault),this.window.visualViewport&&this.window.visualViewport.addEventListener&&(this.window.visualViewport.addEventListener("scroll",this.preventDefault),this.window.visualViewport.addEventListener("resize",this.preventDefault))}},{key:"unblockScroll",value:function(){(0,f.removeClass)(this.bodyEl,"jivo-block-scroll"),d.default.removeEvent(this.window,"scroll",this.preventDefault),d.default.removeEvent(this.document,"touchmove",this.preventDefault),this.window.visualViewport&&this.window.visualViewport.removeEventListener&&(this.window.visualViewport.removeEventListener("scroll",this.preventDefault),this.window.visualViewport.removeEventListener("resize",this.preventDefault))}},{key:"addOverlay",value:function(){(0,f.addClass)(this.documentEl,"jivo-mobile-overlay")}},{key:"removeOverlay",value:function(){(0,f.removeClass)(this.documentEl,"jivo-mobile-overlay")}},{key:"blockSite",value:function(){var e=this;void 0===this.blockState&&(this.resetScrollPositions(),(0,f.addClass)(this.documentEl,"jivo-site-full-block"),c.default.tablet()&&(0,i.default)((function(){(0,f.addClass)(e.documentEl,"jivo-tablet-overlay")}),300),this.blockState=!0)}},{key:"unblockSite",value:function(){(0,f.removeClass)(this.documentEl,"jivo-site-full-block"),(0,f.removeClass)(this.documentEl,"jivo-tablet-overlay"),this.restoreScrollPositions(),delete this.blockState}},{key:"resetScrollPositions",value:function(){this.scrollEl&&(this.originalScrollTop=this.scrollEl.scrollTop,this.originalScrollLeft=this.scrollEl.scrollLeft,this.scrollEl.scrollTop=0,this.scrollEl.scrollLeft=0)}},{key:"restoreScrollPositions",value:function(){(this.originalScrollTop||this.originalScrollleft)&&this.scrollEl&&(this.scrollEl.scrollTop=this.originalScrollTop,this.scrollEl.scrollLeft=this.originalScrollLeft,delete this.originalScrollTop,delete this.originalScrollLeft)}},{key:"preventDefault",value:function(e){return e.preventDefault(),e.stopPropagation(),!1}},{key:"getUserZoom",value:function(){var e=this.documentEl.clientWidth/this.window.innerWidth,t=this.window.visualViewport;if(t){var n=this.getPseudo().clientWidth;e=this.documentEl.clientWidth<n?n/t.width:this.documentEl.clientWidth/t.width}return!this.isSiteOptimizedForMobile&&e>=.97&&e<=1.03&&(e=1),e}},{key:"getPageZoom",value:function(){return this.window.visualViewport?"landscape"===this.getOrientation()?this.window.screen.height/this.window.visualViewport.width:this.window.screen.width/this.window.visualViewport.width:"landscape"===this.getOrientation()?this.window.screen.height/this.window.innerWidth:this.window.screen.width/this.window.innerWidth}},{key:"getAppZoom",value:function(){return this.window.visualViewport?"landscape"===this.getOrientation()&&c.default.ios()?this.window.visualViewport.width/this.window.screen.height:this.window.visualViewport.width/this.window.screen.width:"landscape"===this.getOrientation()?this.window.innerWidth/this.window.screen.height:this.window.innerWidth/this.window.screen.width}},{key:"getTextSize",value:function(){if(c.default.ios()&&d.default.isWixContext())return"normal";var e=null;if(!c.default.ios())return e;var t=this.getAppZoom();return 1!==t&&(e=100*t+"%"),e||"none"}},{key:"getLineHeight",value:function(e){var t=null,n=this.getAppZoom();return 1!==n&&(t=(e||1.25)/n+"em"),t}},{key:"getOrientation",value:function(){var e,t=0;switch("number"==typeof this.window.orientation?t=this.window.orientation:this.window.screen&&this.window.screen.orientation&&(t=this.window.screen.orientation.angle),t){case-90:case 90:e="landscape";break;default:e="portrait"}return e}},{key:"getBodyOffset",value:function(){var e=this.getBodyPosition(),t=this.bodyEl.getBoundingClientRect(),n=this.documentEl.getBoundingClientRect();return{top:"static"===e?0:t.top-n.top,left:"static"===e?0:t.left-n.left}}},{key:"getBodyPosition",value:function(){return this.window.getComputedStyle(this.bodyEl).position}},{key:"getPseudo",value:function(){if(this.documentEl.querySelector){var e=this.documentEl.querySelector("."+p.default.pseudoHeight);return e||0}return 0}},{key:"listenChangeZoom",value:function(e){this.changeZoomSubscription.push(e)}}]),e}());t.default=y},8282:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(32366)),r=a(n(20116)),l=a(n(94473)),u=a(n(26394)),s=a(n(69198)),c=a(n(31474)),d=a(n(51379)),f=a(n(214)),h=a(n(66380)),p=a(n(47701)),g=a(n(62107));function m(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,h.default)(e);if(t){var o=(0,h.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,f.default)(this,n)}}a(n(75043)).default.name("AgentsStore");var v=new(function(e){(0,d.default)(n,e);var t=m(n);function n(){return(0,u.default)(this,n),t.apply(this,arguments)}return(0,s.default)(n,[{key:"getAgentById",value:function(e){return e?(0,l.default)(g.default).call(g.default,this.store,(function(t){return t.get("agent_id")===e>>0})):null}},{key:"getBotById",value:function(e){return e?(0,l.default)(g.default).call(g.default,this.store,(function(t){return t.get("bot_id")===e>>0})):null}},{key:"getAgentsByStatus",value:function(e){return e?(0,r.default)(g.default).call(g.default,this.store,(function(t){return t.get("body.state")===e})):null}},{key:"getAgentIdsByStatus",value:function(e){return e?(0,o.default)(g.default).call(g.default,this.store,(function(t,n){return n.get("body.state")===e&&t.push(n.get("agent_id")||n.get("bot_id")),t}),[]):null}},{key:"getOnlyAgentIdsByStatus",value:function(e){return e?(0,o.default)(g.default).call(g.default,this.store,(function(t,n){return n.get("body.state")===e&&n.get("agent_id")&&t.push(n.get("agent_id")),t}),[]):null}},{key:"getBotIdsByStatus",value:function(e){return e?(0,o.default)(g.default).call(g.default,this.store,(function(t,n){return n.get("body.state")===e&&n.get("bot_id")&&t.push(n.get("bot_id")),t}),[]):null}},{key:"closeChat",value:function(){g.default.each(this.store,(function(e){e.set("body.state","left")}))}},{key:"updateAgentList",value:function(e){var t=this;e&&e.length&&(1==e.length&&this.closeChat(),g.default.each(e,(function(e){var a;a=e.bot_id?t.getBotById(e.bot_id):t.getAgentById(e.agent_id),e.body={state:"join"},e=g.default.omit(e,"state","vox_name"),a?a.set(e):(0,c.default)((0,h.default)(n.prototype),"push",t).call(t,e)})))}},{key:"toReduxFormat",value:function(){var e=[];return g.default.each(this.store,(function(t){var n=t.toJSON(),a={avatarUrl:n.avatar_url||null,id:n.agent_id||n.bot_id,name:n.display_name||null,title:n.title||null,isBot:!!n.bot_id};e.push(a)})),e}}]),n}(p.default))({type:"default",name:"agents",keys:{agent_id:null,bot_id:null,display_name:null,title:null,avatar_url:null,body:{state:"join"}}});t.default=v},35067:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(20116)),o=a(n(26394)),r=a(n(69198)),l=a(n(62107)),u=a(n(82993)),s=a(n(51362)),c=(a(n(75043)).default.name("HistoryStore"),new(function(){function e(){(0,o.default)(this,e),this.LS=u.default}return(0,r.default)(e,[{key:"push",value:function(e){var t=this.get()||[];e=this.format(e),this.getHistoryByUrl(t,e.url).length?t=this.updateHistoryByUrl(t,e.url):(10===t.length&&(t=this.deleteOldestEntry(t)),e.time=(new Date).getTime(),t.push(e)),this.LS.set("history",t)}},{key:"get",value:function(){return this.LS.get("history")||[]}},{key:"destroy",value:function(){this.LS.removeKey("history")}},{key:"format",value:function(e){return e.url=this.subStr(s.default.decodeString(e.url)),e.title=this.subStr(e.title),e}},{key:"subStr",value:function(e){return e.length>150?e.substr(0,150)+"...":e}},{key:"getHistoryByUrl",value:function(e,t){return(0,i.default)(l.default).call(l.default,e,(function(e){return e.url===t}))}},{key:"updateHistoryByUrl",value:function(e,t){for(var n=0;n<e.length;n++)e[n].url===t&&(e[n].time=(new Date).getTime());return e}},{key:"deleteOldestEntry",value:function(e){var t=this.sortByTime(e);return t.shift(),t}},{key:"sortByTime",value:function(e){return l.default.sortBy(e,(function(e){return e.time}))}}]),e}()));t.default=c},35195:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(81643)),r=a(n(26394)),l=a(n(69198)),u=a(n(51379)),s=a(n(214)),c=a(n(66380)),d=a(n(71093)),f=a(n(62107)),h=n(8565);function p(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var o=(0,c.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}a(n(75043)).default.name("MessageStore");var g=function(e){(0,u.default)(n,e);var t=p(n);function n(){return(0,r.default)(this,n),t.apply(this,arguments)}return(0,l.default)(n,[{key:"isAgentMessage",value:function(){var e=this.store;return e.from===h.MessageInitiator.AGENT||"bot"===e.from}},{key:"unStorage",value:function(){if(window.parent.window&&window.parent.window.isWixPreview)return!0;var e=this.store;return-1!==(0,o.default)(f.default).call(f.default,[h.MessageType.EMAIL,h.MessageType.SOCIAL,h.MessageType.PRECHAT],e.type)||e.body&&e.body.unsave||!1}}]),n}(d.default);t.default=g},99357:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1068)),o=a(n(36384)),r=a(n(59036)),l=a(n(94473)),u=a(n(20116)),s=a(n(26394)),c=a(n(69198)),d=a(n(31474)),f=a(n(51379)),h=a(n(214)),p=a(n(66380)),g=a(n(47701)),m=a(n(35195)),v=a(n(62107)),_=a(n(36216)),y=a(n(56602)),b=a(n(17673)),w=a(n(8575)),E=a(n(62652)),C=n(8565);n(81189);function T(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,p.default)(e);if(t){var o=(0,p.default)(this).constructor;n=(0,i.default)(a,arguments,o)}else n=a.apply(this,arguments);return(0,h.default)(this,n)}}var k=a(n(75043)).default.name("MessagesStore"),S=new(function(e){(0,f.default)(n,e);var t=T(n);function n(e){var a;return(0,s.default)(this,n),(a=t.call(this,e)).destroyDeletedMessages(),a}return(0,c.default)(n,[{key:"push",value:function(e){var t=this.formatMessage(e);return(0,d.default)((0,p.default)(n.prototype),"push",this).call(this,t)}},{key:"pushAll",value:function(e){(0,d.default)((0,p.default)(n.prototype),"pushAll",this).call(this,e)}},{key:"sort",value:function(){this.store=v.default.sortBy(this.store,(function(e){return e.get("created_ts")}))}},{key:"formatMessage",value:function(e){var t=v.default.pick(e,["private_id","msg_id","chat_id","created_ts","updated_ts","from","from_id","text","type","status","body"]),n=e.meta||e.body;if(void 0!==n)if("tinkoffInvoice"===n.type){if("SUCCESS"===n.status){var a=(0,u.default)(v.default).call(v.default,this.store,(function(t){return(t.get("body")?t.get("body").invoice_id:t.invoice_id)===e.body.invoice_id}));if(a.length){var i=a[0].get("body");i&&(i.status="SUCCESS",a[0].set("body",i))}}}else if(n.chat_invoice_id){var o={type:"yandex",status:n.invoice_status,url:n.url,userEmail:_.default.client_info.email||"",invoiceId:n.chat_invoice_id,amount:n.amount,comment:n.invoice_comment};t.type=C.MessageType.INVOICE,t.body=o;var r=o.status;if("pending"===r){var l=window.parent.location.href,s=["&shopSuccessURL","shopFailURL","shopDefaultUrl"],c=b.default.parse(w.default.parse(o.url).query),d=[];for(var f in c.ym_merchant_receipt&&(o.url=y.default.removeQueryParam("ym_merchant_receipt",o.url)),s)s.hasOwnProperty(f)&&d.push(s[f]+"="+encodeURIComponent(l));o.cps_email="",c.cps_email&&"undefined"!=c.params&&(o.cps_email=c.cps_email||""),_.default.client_info.email&&(o.cps_email=_.default.client_info.email),o.url=y.default.removeQueryParam("cps_email",o.url),o.url=y.default.setGetParam("cps_email",o.cps_email,o.url),o.url+=d.join("&")}else if("confirmed"===r){var h=(0,u.default)(v.default).call(v.default,this.store,(function(e){return e.get("type")===C.MessageType.INVOICE&&"yandex"===e.get("body.type")&&e.get("body.invoiceId")===n.chat_invoice_id}));h.length&&h[0].set("body.status","confirmed")}}return e.type==C.MessageType.MESSAGE&&e.media&&(t.type=C.MessageType.MEDIA,t.body=e.media),t}},{key:"getLastMessage",value:function(){return this.store[this.store.length-1]||null}},{key:"getClientMessages",value:function(){return(0,u.default)(v.default).call(v.default,this.store,(function(e){return e.get("from")===C.MessageInitiator.CLIENT}))}},{key:"getAgentMessages",value:function(){return(0,u.default)(v.default).call(v.default,this.store,(function(e){return e.get("from")===C.MessageInitiator.AGENT}))}},{key:"getAgentTextMessages",value:function(){var e=this.getChatId();return e?(0,u.default)(v.default).call(v.default,this.store,(function(t){return t.get("chat_id")===e&&t.get("from")===C.MessageInitiator.AGENT&&t.get("type")===C.MessageType.MESSAGE})):[]}},{key:"getMessagesByType",value:function(e){return(0,u.default)(v.default).call(v.default,this.store,(function(t){return t.get("type")===e}))}},{key:"getMessageById",value:function(e){return e?(0,l.default)(v.default).call(v.default,this.store,(function(t){return t.get("msg_id")===e})):null}},{key:"getMessageByPrivateId",value:function(e){return e?(0,l.default)(v.default).call(v.default,this.store,(function(t){return t.get("private_id")===e})):null}},{key:"closeChat",value:function(){var e=this.getLastMessage(),t=this.getLastProactive();t&&t.set("chat_id",e.get("chat_id"))}},{key:"getCurrentProactive",value:function(){var e=this.getLastProactive(),t=null;return E.default.chat_started?e&&!e.get("chat_id")&&(t=e):t=null,k.log("getCurrentProactive",t),t}},{key:"getLastProactive",value:function(){var e=(0,u.default)(v.default).call(v.default,this.store,(function(e){return e.get("type")===C.MessageType.PROACTIVE}));return k.log("getLastProactive",e),e.length?e[e.length-1]:null}},{key:"getTmpProactive",value:function(){var e=(0,u.default)(v.default).call(v.default,this.store,(function(e){return e.get("type")===C.MessageType.PROACTIVE&&e.get("body")&&e.get("body").unsave}));return k.log("getTmpProactive",e),e.length?e[e.length-1]:null}},{key:"getUnreadMessage",value:function(){return(0,u.default)(v.default).call(v.default,this.store,(function(e){var t=e.toJSON();return t.from===C.MessageInitiator.AGENT&&t.status!==C.MessageStatus.READ&&t.status!==C.MessageStatus.DELETED}))}},{key:"destroyDeletedMessages",value:function(){var e=this.getDeletedMessages();v.default.each(e,(function(e){e.destroy()}))}},{key:"getDeletedMessages",value:function(){return(0,u.default)(v.default).call(v.default,this.store,(function(e){return e.get("status")==C.MessageStatus.DELETED}))}},{key:"getChatCounts",value:function(){var e,t=0;return v.default.each(this.store,(function(n){var a=n.get("chat_id");null!==a&&a!==e&&(e=a,t+=1)})),t}},{key:"getAllChatIds",value:function(){var e=[];return v.default.each(this.store,(function(t){t.get("chat_id")&&e.push(t.get("chat_id"))})),(0,r.default)(new o.default(e))}},{key:"getChatId",value:function(){var e=this.getAgentMessages(),t=(0,u.default)(this).call(this,(function(e){return e.get("chat_id")&&e.get("from")===C.MessageInitiator.CLIENT})),n=e.length?e[e.length-1].get("chat_id"):null,a=t.length?t[t.length-1].get("chat_id"):null;return a>n&&(n=a),n}},{key:"getChatMessages",value:function(e){return(0,u.default)(v.default).call(v.default,this.store,(function(t){return t.get("chat_id")===e&&t.get("type")!==C.MessageType.SYSTEM&&"bot"!==t.get("from")}))}},{key:"getChatMessagesAfterId",value:function(e,t){return(0,u.default)(v.default).call(v.default,this.store,(function(n){return n.get("chat_id")===e&&n.get("type")!==C.MessageType.SYSTEM&&"bot"!==n.get("from")&&n.get("msg_id")>t}))}},{key:"getCurrentChatMessages",value:function(){var e=this.getChatId();return e?this.getChatMessages(e):[]}},{key:"getAgentChatMessages",value:function(e){return(0,u.default)(v.default).call(v.default,this.store,(function(t){return t.get("chat_id")===e&&t.get("from")===C.MessageInitiator.AGENT&&t.get("type")!==C.MessageType.PROACTIVE}))}},{key:"getCurrentChatAgentMessages",value:function(){var e=this.getChatId();return this.getAgentChatMessages(e)}},{key:"getCurrentClientMessages",value:function(){return(0,u.default)(v.default).call(v.default,this.getChatMessages(this.getChatId()),(function(e){return e.get("from")===C.MessageInitiator.CLIENT}))}},{key:"find",value:function(e){return(0,l.default)(v.default).call(v.default,this.store,(function(t){return e(t)}))}},{key:"filter",value:function(e){return(0,u.default)(v.default).call(v.default,this.store,(function(t){return e(t)}))}},{key:"getUndelivered",value:function(){return(0,u.default)(v.default).call(v.default,this.store,(function(e){return e.get("status")===C.MessageStatus.NOT_DELIVERED}))}},{key:"getFormMessage",value:function(){return(0,u.default)(v.default).call(v.default,this.store,(function(e){return e.get("type")===C.MessageType.FORM}))}},{key:"getFormIntroduceText",value:function(){return(0,u.default)(v.default).call(v.default,this.store,(function(e){return e.get("type")===C.MessageType.PREFORM&&e.get("from")===C.MessageInitiator.FORM}))}},{key:"getBotMessages",value:function(e){return(0,u.default)(v.default).call(v.default,this.store,(function(t){return t.get("chat_id")===e&&t.get("type")===C.MessageType.MESSAGE&&"bot"===t.get("from")}))}},{key:"getTemporaryMessageWithText",value:function(e){var t=(0,u.default)(v.default).call(v.default,this.store,(function(t){return t.get("type")===C.MessageType.TEMPORARY&&t.get("text")===e}));return t.length?t[t.length-1]:null}},{key:"getTemporaryMessages",value:function(){return(0,u.default)(v.default).call(v.default,this.store,(function(e){return e.get("type")===C.MessageType.TEMPORARY}))||null}},{key:"getLastUnreadApiInvitation",value:function(){var e=(0,u.default)(v.default).call(v.default,this.store,(function(e){return e.get("type")===C.MessageType.MESSAGE&&e.get("body")&&e.get("body").customerIO}));return k.log("getLastTempCustomerIOMessage",e),e.length?e[e.length-1]:null}},{key:"getUnreadApiInvitations",value:function(){return(0,u.default)(v.default).call(v.default,this.store,(function(e){return e.get("type")===C.MessageType.MESSAGE&&e.get("body")&&e.get("body").customerIO&&e.get("body").unsave}))}},{key:"getSystemMessageByText",value:function(e){return(0,u.default)(v.default).call(v.default,this.store,(function(t){return t.get("type")===C.MessageType.SYSTEM&&t.get("text")===e}))}},{key:"hasMessages",value:function(){return this.store.length>0}},{key:"getCobrowseByHash",value:function(e){if(e)return(0,l.default)(v.default).call(v.default,this.store,(function(t){var n=t.toJSON();return n.type===C.MessageType.COBROWSE&&n.body&&n.body.type===C.MessageType.COBROWSE&&n.body.address===e}))}}]),n}(g.default))({type:"default",name:"messages",itemClass:m.default,keys:{private_id:function(){return y.default.generateGUID()},msg_id:null,chat_id:null,created_ts:function(){return(new Date).getTime()},updated_ts:null,from:C.MessageInitiator.EMPTY,from_id:null,text:null,type:C.MessageType.EMPTY,status:C.MessageStatus.SENT,body:{}}});t.default=S},36421:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(81643)),o=a(n(31581)),r=a(n(51942)),l=a(n(58061)),u=a(n(62107)),s=a(n(18228)),c=n(56602),d=n(99112),f=n(17674),h=n(89766).EventEmitter,p=(new Date).getTime(),g=(0,r.default)(new h,{isActive:null}),m=u.default.throttle((function(){p=(new Date).getTime(),f.Router.isChatRoute()&&(0,d.pageVisible)()&&!0!==g.isActive&&(g.isActive=!0,g.emit("update"))}),500),v=function(){g.isActive=!1,g.emit("update")};(0,o.default)((function(){!1!==g.isActive&&(new Date).getTime()-p>3e4&&v()}),15e3),l.default.desktop()?((0,c.addListener)(window.parent,"scroll",m,!0),(0,c.addListener)(window.parent,"mousemove",m,!0)):((0,c.addListener)(window.parent,"touchmove",m,!0),(0,c.addListener)(window.parent,"touchend",m,!0)),s.default.on("send",(function(e){var t;(0,i.default)(t=["client_typing","client_message"]).call(t,e.name)>=0&&m()})),(0,c.listenVisibility)((function(){(0,d.pageVisible)()?m():v()})),f.Router.on("route_change",(function(){f.Router.isChatRoute()?m():v()}));var _=g;t.default=_},33535:function(t,n,a){"use strict";var i=a(60530);a(63978)(n,"__esModule",{value:!0}),n.default=void 0;var o=i(a(63978)),r=i(a(20368)),l=i(a(39649)),u=i(a(34074)),s=i(a(20116)),c=i(a(14310)),d=i(a(86902)),f=i(a(81643)),h=i(a(94473)),p=i(a(2991)),g=i(a(78914)),m=i(a(51942)),v=i(a(87672)),_=i(a(36216)),y=i(a(69961)),b=i(a(62652)),w=i(a(99357)),E=i(a(8282)),C=i(a(67966)),T=i(a(35067)),k=i(a(56602)),S=i(a(75119)),I=i(a(47321)),A=i(a(40695)),x=i(a(58061)),M=i(a(44992)),R=a(66434),O=a(93298),N=a(17674),D=a(85442),L=a(8565),P=a(75245),j=a(33367),B=a(63242),F=a(5505),H=a(92097),W=i(a(18228)),U=a(81189),z=i(a(62904)),G=a(75737),V=i(a(75043)),q=a(20965),K=a(42796),Y=i(a(44299)),Z=i(a(41829)),J=i(a(93268)),X=a(85870);function $(e,t){var n=(0,d.default)(e);if(c.default){var a=(0,c.default)(e);t&&(a=(0,s.default)(a).call(a,(function(t){return(0,u.default)(e,t).enumerable}))),n.push.apply(n,a)}return n}var Q=V.default.name("actions/connection"),ee={accept:function(e){var t=e.agent_info.bot_id;b.default.chat_started=!0,b.default.chat_accepted=!0,U.chatsDispatchers.setChatEvaluated(!1),b.default.is_online||(t||n.default.setOnline(),P.messageActions.deleteUnansweredOfflineSystemInvite(),P.messageActions.sendTempMessageAsClientMessageIfNeeded(),j.Monitoring.telemetry(B.TelemetryName.NEWOFFLINE_AGENT_ACCEPT)),t?y.default.agent_id=0:(y.default.bot_id&&n.default.setOnline(),y.default.bot_id=0),y.default.agent_id=e.agent_info.agent_id||null,y.default.bot_id=e.agent_info.bot_id||null,y.default.display_name=e.agent_info.display_name||null,y.default.title=e.agent_info.title||null,y.default.avatar_url=e.agent_info.avatar_url||null,y.default.typing=e.agent_info.typing||null;var a=y.default.toReduxFormat();y.default.bot_id?(U.botsDispatchers.addBot(a),U.chatsDispatchers.setJoinedBots([y.default.bot_id]),E.default.updateAgentList([e.agent_info])):(U.agentsDispatchers.addAgent(a),U.chatsDispatchers.setJoinedAgents([e.agent_info]),U.chatsDispatchers.setJoinedBots([])),t||(_.default.pa_id=y.default.agent_id,!_.default.is_introduced&&b.default.is_online&&P.messageActions.checkContactsForm()),A.default.trackChatConnected(),(0,F._callUserFunction)("onAccept"),j.Monitoring.telemetry(B.TelemetryName.CHAT_ACCEPTED,function(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)(0,g.default)(n=$(Object(a),!0)).call(n,(function(t){(0,v.default)(e,t,a[t])}));else if(l.default)(0,r.default)(e,(0,l.default)(a));else{var i;(0,g.default)(i=$(Object(a))).call(i,(function(t){(0,o.default)(e,t,(0,u.default)(a,t))}))}}return e}({param1:t?"bot":"agent"},A.default.getCountersTelemetry()))},transferred:function(e){b.default.is_online||n.default.setOnline(),(0,m.default)(y.default,e.agent_info);var t=e.agent_info.bot_id,a=y.default.toReduxFormat();t?(U.botsDispatchers.addBot(a),U.chatsDispatchers.setJoinedBots([t])):(U.agentsDispatchers.addAgent(a),U.chatsDispatchers.setJoinedAgents([e.agent_info]),U.chatsDispatchers.setJoinedBots([])),U.messagesDispatchers.addMessage({text:(0,S.default)("lblTransferred").replace("_AGENT_",e.agent_info.display_name),type:"system",from:"system"}),_.default.pa_id=y.default.agent_id},startup_ok:function(e){Q.log("startup_ok",e),I.default.reloadStories(),E.default.closeChat(),z.default.maintenance=!1,n.default.resetCallStatus(null),N.Router.getCurrentRoute()===D.Route.CHAT_MIN&&N.Router.setNext(D.Route.LABEL),_.default.client_id=e.jv_client_id,_.default.jv_sess_id=e.jv_sess_id,U.clientDispatchers.setHasIntegration(e.client_info.has_integration),_.default.client_info.client_name=e.client_info.name,_.default.assigned_agent_id=e.assigned_agent_id||null,P.messageActions.deleteMaintenanceMessage(),(0,X.updateHistory)(e)},startup_error:function(e){"blacklisted"==e.err_code?(b.default.chat_started=!1,b.default.chat_accepted=!1,J.default.set("is_blacklisted",!0,86400),N.Router.next(D.RouterEvent.Hide),M.default.disableSoundPlayer()):"moved"==e.err_code?(Q.log("startup_error, Site is moved"),G.ConfigUtils.reloadConfig((function(e){Q.log("Site is moved",e),W.default._scheduleEvent("startup",5e3)}))):"maintenance"==e.err_code?n.default.maintenance():n.default.force_offline(e),j.Monitoring.telemetry(B.TelemetryName.STARTUP_ERROR,{param1:I.default.getVisitorInvite()?1:0,param2:e.err_code}),I.default.setVisitorInvite(!1)},resume_ok:function(e){if(Q.log("resume_ok",e),z.default.maintenance=!1,I.default.reloadStories(),T.default.destroy(),e.agents&&e.agents.length>0){var t,a=!1;(0,g.default)(t=e.agents).call(t,(function(e){e.bot_id&&(a=e)})),a?(U.botsDispatchers.addBot({avatarUrl:a.avatar_url||null,id:a.bot_id,name:a.display_name||null,title:a.title||null,isBot:!0}),U.chatsDispatchers.setJoinedBots([a.bot_id])):U.chatsDispatchers.setJoinedAgents(e.agents),n.default.updateAgentInfo(e.agents),E.default.getAgentsByStatus("join").length&&(b.default.chat_accepted=!0,U.appDispatchers.setAppIsOnline(!0),U.appDispatchers.setLastChatOpened(!0))}else U.chatsDispatchers.setNoJoinedAgents(),b.default.chat_accepted=!1;var i=N.Router.getCurrentRoute();x.default.mobileOrTablet()||b.default.chat_started||w.default.getCurrentChatMessages().length||!b.default.is_online||i===D.Route.CALL||i===D.Route.CHAT_CALL||i===D.Route.LABEL||C.default.get("text")||N.Router.next(D.RouterEvent.CloseWindow);var o=e.client_info.cw_call;n.default.resetCallStatus(o),o===q.CallStatus.WAIT&&I.default.startCallTimeout(),o?((0,m.default)(_.default.cw_call,o),N.Router.getCurrentRoute()!==D.Route.CHAT_CALL&&N.Router.next(D.RouterEvent.ToCall),o.status==q.CallStatus.CONNECTED&&(0,O.resetDelayedCallStatus)()):_.default.cw_call.status!==q.CallStatus.ENDED&&I.default.requestCWAvailable();var r=e.client_info.msg_history;r.length&&(0,g.default)(r).call(r,(function(e){var t;(0,g.default)(t=w.default.getAll()).call(t,(function(t){if(e.private_id&&t.get("private_id")===e.private_id){var n={chat_id:e.chat_id,msg_id:e.msg_id,status:L.MessageStatus.DELIVERED};t.set(n)}}))})),e.client_info.has_integration&&U.clientDispatchers.setHasIntegration(e.client_info.has_integration),e.assigned_agent_id&&(_.default.assigned_agent_id=e.assigned_agent_id),P.messageActions.checkContactsForm(),P.messageActions.deleteMaintenanceMessage(),I.default.checkChatStarted(e.chat_started),(0,X.updateHistory)(e)},cw_wait:function(e){},cw_call_end:function(e){I.default.clearCallTimeout(),P.messageActions.systemCallMessage((0,S.default)("c_callDisconnected"),"callEnd"),U.callbackDispatchers.setCallbackStatus(q.CallStatus.ENDED),U.callbackDispatchers.setCallbackAvailable(!0),(0,F._callUserFunction)("onCallEnd",{result:"ok"}),j.Monitoring.telemetry(B.TelemetryName.CALL_END)},cw_connecting:function(e){U.callbackDispatchers.setCallbackStatus(q.CallStatus.CONNECTING),(0,O.resetDelayedCallStatus)()},cw_connected:function(e){U.callbackDispatchers.setCallbackStatus(q.CallStatus.CONNECTED),U.callbackDispatchers.setCallbackAvailable(!1),(0,O.resetDelayedCallStatus)()},cw_error:function(e){I.default.clearCallTimeout();var t=(0,S.default)(e.reason);t||(t=(0,S.default)("cw_unableToConnect")+" "+(0,S.default)("cw_errInfoText")),U.messagesDispatchers.addMessage({text:t,type:"system",from:"system",body:{type:"call",name:"callEnd"}}),U.callbackDispatchers.setCallbackAvailable(!0),U.callbackDispatchers.setCallbackStatus(q.CallStatus.ERROR),U.callbackDispatchers.setCallbackError(t),x.default.mobileOrTablet()||N.Router.next(D.RouterEvent.ToCall),(0,F._callUserFunction)("onCallEnd",{result:"fail",reason:t}),j.Monitoring.telemetry(B.TelemetryName.CALL_ERROR,{param1:e.reason})},agentMessage:function(e,t){Q.log("agentMessage",e),b.default.is_online||n.default.setOnline(),P.messageActions.saveLastSystemMessage();var a={text:e.message||e.text,type:e.media?L.MessageType.MEDIA:L.MessageType.MESSAGE,from:e.from,from_id:e.from_id,private_id:e.private_id,msg_id:e.msg_id,chat_id:e.chat_id,meta:e.meta,body:e.media},i=e.type==L.MessageType.LISTPICKER;t&&(i&&(a.text=e.body.text||e.body.title),e.is_markdown&&(a.body?a.body.is_markdown=!0:a.body={is_markdown:!0}),e.type==L.MessageType.INVITE?(a.type=L.MessageType.SYSTEM,a.text=(0,S.default)("botTransferChat"),j.Monitoring.telemetry(B.TelemetryName.BOT_TRANSFER_CHAT)):j.Monitoring.telemetry(B.TelemetryName.CLIENT_MESSAGE_BOT)),U.messagesDispatchers.addMessage(a),i&&(a.type=L.MessageType.LISTPICKER,a.body=e.body,a.msg_id=e.msg_id+.1,U.messagesDispatchers.addMessage(a)),I.default.agentMessageAck([e.msg_id]),U.clientDispatchers.setLastMessage(null),I.default.agentTyping(0),!x.default.desktop()||k.default.isCustomLabel()&&"function"==typeof k.default.getPageWindow().jivo_onMessageReceived||(N.Router.next(D.RouterEvent.ToChat),N.Router.getPrevRoute()===D.Route.CHAT_MIN?U.transitionDispatchers.startTransition(K.ScriptName.MAXIMIZE_WIDGET):U.transitionDispatchers.startTransition(K.ScriptName.OPEN_WIDGET),Z.default.startBlinking()),M.default.play("agent_message"),(0,F._callUserFunction)("onMessageReceived")},update_agent_info:function(e){var t;b.default.is_online||n.default.setOnline();var a=e.agent_info,i=(0,p.default)(t=E.default.getAgentsByStatus("join")).call(t,(function(e){var t=e.store;return t.agent_id===a.agent_id?a:t}));n.default.updateAgentInfo([a]),U.chatsDispatchers.setJoinedAgents(i)},invoice:function(e){Q.log("invoice",e),U.messagesDispatchers.addMessage({type:"invoice",msg_id:e.invoice.msg_id,from:"agent",body:{type:e.invoice.gateway_system+"Invoice",comment:e.invoice.comment,amount:e.invoice.amount,invoice_id:e.invoice.invoice_id,payment_url:e.invoice.payment_url,status:e.status,currency:e.invoice.currency}})},agent_chat_close:function(){b.default.chat_started=!1,b.default.chat_accepted=!1,w.default.closeChat(),U.chatsDispatchers.setNoJoinedAgents(),_.default.evaluate=!1,I.default.setDepartmentId(null)},agent_service_message:function(t){switch(b.default.is_online||n.default.setOnline(),t.service){case"cobrowse":"highlight"===t.event&&(U.messagesDispatchers.addMessage({text:t.comment,type:"cobrowse",from:"agent",msg_id:t.msg_id,status:N.Router.isChatRoute()?"read":"sended",body:{type:"highlight",page_url:t.page_url,hash:t.hash}}),x.default.mobileOrTablet()||N.Router.next(D.RouterEvent.ToChat),M.default.play("agent_message"),(0,F._callUserFunction)("onMessageReceived"));break;default:Q.log("unhandled agent_service_message",e)}Z.default.startBlinking()},agent_typing:function(e){b.default.is_online||n.default.setOnline(),I.default.agentTyping(e.typing)},update_client_info:function(e){e.avatar_url&&(_.default.avatar_url=e.avatar_url),e.display_name&&(_.default.display_name=e.display_name),e.assigned_agent_id&&(_.default.assigned_agent_id=e.assigned_agent_id)},message_state:function(e){var t=(0,h.default)(w.default).call(w.default,(function(t){return t.get("private_id")===e.private_id}));if(Q.log("messageState",e,t),t){var n={chat_id:e.chat_id,msg_id:e.msg_id,status:L.MessageStatus.DELIVERED};t.set(n),t.get("from")===L.MessageInitiator.CLIENT&&(0,H.prechatSetUsed)(!1)}},blacklist:function(){J.default.set("is_blacklisted",!0,86400),b.default.chat_started=!1,b.default.chat_accepted=!1,N.Router.next(D.RouterEvent.Hide),M.default.disableSoundPlayer()},disconnecting:function(){Z.default.stopBlinking()},force_offline:function(e){b.default.is_online&&(U.appDispatchers.setAppIsOnline(!1),P.messageActions.resendClientMessageAfterForceOffline(),P.messageActions.handleContactsForm(),j.Monitoring.telemetry(B.TelemetryName.NEWOFFLINE_FORCE_OFFLINE))},update_client:function(e){e.has_integration&&k.default.hasIntegration(e.has_integration)&&(U.clientDispatchers.setHasIntegration(e.has_integration),U.messagesDispatchers.addMessage({text:(0,S.default)("social_success_"+e.has_integration),type:L.MessageType.SYSTEM,body:{type:L.MessageType.SOCIAL}}),N.Router.next(D.RouterEvent.ToChat),j.Monitoring.telemetry(B.TelemetryName.SOCIAL_HAS_INTEGRATION+e.has_integration),I.default.isChatContactForm()&&j.Monitoring.telemetry(B.TelemetryName.CHAT_INTRODUCE_SOCIAL,{param1:"connect_"+e.has_integration}))},connect_failed:function(){Q.log("connect_failed")},offline_ack:function(e){P.messageActions.offlineAck(e)},agent_message:function(e){b.default.is_online||n.default.setOnline(),e.meta&&n.default.agentMessage(e)},chat_message:function(e){var t;if(Q.log("chat_message",e),b.default.is_online||n.default.setOnline(),-1!==(0,f.default)(t=["join","left"]).call(t,e.params.type))I.default.updateChatAgent(e);else{var a="bot"===e.params.from;if((e.params.from===L.MessageInitiator.AGENT||a)&&n.default.agentMessage(e.params,a),e.params.from===L.MessageInitiator.CLIENT){var i=(0,R.filterMessage)(e.params);if(i){var o=k.default.generateGUID();U.messagesDispatchers.addMessage({from:L.MessageInitiator.CLIENT,text:e.params.text,type:L.MessageType.MESSAGE,private_id:o,status:L.MessageStatus.SENT})}i&&b.default.route!==D.Route.CHAT&&N.Router.next(D.RouterEvent.ToChat)}}},chat_message_update:function(e){var t=e.params.msg_id,n=w.default.getMessageById(t);Q.log("chat_message_update",e,t,n),n&&(e.params.deleted?(n.set("status",L.MessageStatus.DELETED),n.set("type",L.MessageType.MESSAGE),n.set("body",null)):e.params.updated_ts&&(n.set("updated_ts",1e3*e.params.updated_ts),n.set("text",e.params.text)))},agents_list_updated:function(e){if(Q.log("agents_list_updated"),b.default.is_online||n.default.setOnline(),e.params.length){if(1===e.params.length){var t=e.params[0];(0,m.default)(y.default,t),t.bot_id||(_.default.pa_id=t.agent_id)}n.default.updateAgentInfo(e.params),U.chatsDispatchers.setJoinedAgents(e.params),U.agentsDispatchers.initializeAgentStore(E.default.toReduxFormat())}},maintenance:function(){Q.log("Enable maintenance"),z.default.maintenance=!0,U.callbackDispatchers.setCallbackAvailable(!1),P.messageActions.addMaintenanceMessage()},updateAgentInfo:function(e){if(1===e.length){var t=e[0];(0,m.default)(y.default,t),t.bot_id||(_.default.pa_id=t.agent_id)}},resetCallStatus:function(e){Q.log("resetCallStatus",e),e||U.callbackDispatchers.setCallbackStatus(!1)},setOnline:function(){var e=(0,S.default)("offlineAgentConnected");U.appDispatchers.setAppIsOnline(!0),P.messageActions.systemMessageOnce(e)},enableRecaptchaAntispam:function(){Q.log("Enable antispam"),U.callbackDispatchers.setCallbackAvailable(!1),P.messageActions.systemMessageOnce((0,S.default)("maintenanceSystemText"),"text",!1),U.appDispatchers.setIsInputDisabled(!0),Y.default.allRulesCancel()}};n.default=ee},47321:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(63978)),o=a(n(20368)),r=a(n(39649)),l=a(n(78914)),u=a(n(34074)),s=a(n(20116)),c=a(n(14310)),d=a(n(86902)),f=a(n(87672)),h=a(n(51942)),p=a(n(33032)),g=a(n(59340)),m=a(n(77766)),v=a(n(81643)),_=a(n(36216)),y=a(n(69961)),b=a(n(62652)),w=a(n(18228)),E=n(56602),C=a(n(62904)),T=a(n(58061)),k=a(n(62107)),S=a(n(40695)),I=n(93298),A=a(n(99357)),x=a(n(67966)),M=a(n(8282)),R=a(n(75119)),O=a(n(75043)),N=n(17674),D=n(85442),L=n(8565),P=n(75245),j=n(36143),B=a(n(44992)),F=n(33367),H=n(63242),W=n(5505),U=n(43472),z=n(81189),G=a(n(49043)),V=n(51139),q=n(20965),K=a(n(5972)),Y=n(42796),Z=a(n(82036)),J=a(n(6991)),X=a(n(75959)),$=a(n(68806));function Q(e,t){var n=(0,d.default)(e);if(c.default){var a=(0,c.default)(e);t&&(a=(0,s.default)(a).call(a,(function(t){return(0,u.default)(e,t).enumerable}))),n.push.apply(n,a)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)(0,l.default)(n=Q(Object(a),!0)).call(n,(function(t){(0,f.default)(e,t,a[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(a));else{var s;(0,l.default)(s=Q(Object(a))).call(s,(function(t){(0,i.default)(e,t,(0,u.default)(a,t))}))}}return e}var te=O.default.name("Actions"),ne=null,ae=null,ie="",oe=0,re=null,le=!1,ue=k.default.throttle((function(e,n){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(t.default.startCallTimeout(),(0,v.default)(a=["cw_wait","cw_connecting","cw_connected"]).call(a,_.default.cw_call.status)>=0)te.log("already calling");else{var o=(0,V.getPhoneNumberInfo)(e);_.default.client_info.phone=o?"+"+o.phoneCode+o.innerNumber:e,(0,V.checkStartCall)(e,i,(function(a,i){if(i||(te.log("Wrong response from telephony"),i={ok:!1,error_list:["wrong_response"]}),i.only_forward)return z.callbackDispatchers.setCallbackStatus(q.CallStatus.ERROR),z.callbackDispatchers.setCallbackError((0,R.default)("cw_call_forward")),void _.default.dispatch();var o;i.ok?(b.default.chat_started=!0,b.default.chat_accepted=!0,z.callbackDispatchers.setCallbackStatus(q.CallStatus.WAIT),P.messageActions.handleContactsForm(),P.messageActions.systemCallMessage((0,m.default)(o="".concat((0,R.default)("cw_call_to")," ")).call(o,(0,V.getMaskedPhone)(e)),"callMessageStart"),(0,W._callUserFunction)("onCallStart"),S.default.trackCallWidgetRequested(),F.Monitoring.telemetry(H.TelemetryName.CALL_START,{param1:n})):(t.default.setCallError(),F.Monitoring.telemetry(H.TelemetryName.CALL_ERROR,{param1:i.error_list.join(" ")}),i.work_time&&i.work_time.schedule&&((0,I.onDelayedCallAvailable)(i.work_time),(0,I.redirectAfterRequestDelayedCall)(),F.Monitoring.telemetry(H.TelemetryName.CALL_START,{param1:n})),T.default.mobileOrTablet()||N.Router.getCurrentRoute()!==D.Route.LABEL||N.Router.next(D.RouterEvent.Navigate))}))}}),2e3),se={chatOpenByClient:!1,visitorInvite:!1,sendUpdateProactive:function(){if(_.default.jv_sess_id){var e={name:"update_client",jv_sess_id:_.default.jv_sess_id},t=A.default.getCurrentProactive();x.default.get("text")&&(t=x.default),t&&t.get("text")&&t.get("body")&&(e.proactive_rule={invitation_text:t.get("text"),agent_id:t.get("body").agent_id,private_id:t.get("private_id"),created_ts:Math.floor(t.get("created_ts")/1e3)}),ne!=(0,g.default)(e)&&(ne=(0,g.default)(e),te.log("sendUpdateProactive",e),e.proactive_rule&&w.default.sendIfConnected(e))}else te.log("updateProactive no session.")},checkConnection:function(e){w.default.isConnected()?e():(w.default.handle("startup"),w.default.on("socket_message",(function t(n){(0,p.default)((function(){!n||"startup_ok"!=n.name&&"resume_ok"!=n.name||(n.jv_client_id&&(_.default.client_id=n.jv_client_id),e(),w.default.off("socket_message",t))}),0)})))},requestCWAvailable:function(e){C.default.maintenance?z.callbackDispatchers.setCallbackAvailable(!1):(0,V.callWidgetPing)((function(t){z.callbackDispatchers.setCallbackAvailable(t.ok),t.work_time&&(0,I.onDelayedCallAvailable)(t.work_time),_.default.cw_call_enabled&&"function"==typeof e&&e()}),b.default.chat_started)},requestApiCWAvailable:function(e){(0,V.callWidgetPing)((function(t){if(z.callbackDispatchers.setCallbackAvailable(t.ok),_.default.cw_call_enabled&&"function"==typeof e)e({result:"ok"});else{var n=t.error_list?t.error_list.join(" "):"Call request error";e({result:"fail",reason:n})}}),b.default.chat_started)},pingAndOpenCall:function(){te.info("pingAndOpenCall"),t.default.checkConnection((function(){(0,V.callWidgetPing)((function(e){z.callbackDispatchers.setCallbackAvailable(e.ok);var t=N.Router.getCurrentRoute()===D.Route.LABEL;!e.ok||!t&&b.default.is_online?e.ok&&!t&&b.default.is_online&&(te.log("api toggle call form"),N.Router.next(D.RouterEvent.ToCall),T.default.desktop()&&z.transitionDispatchers.startTransition(Y.ScriptName.OPEN_WIDGET)):(z.userDispatchers.setCallHeaderText(null),N.Router.next(D.RouterEvent.ToCall),T.default.desktop()&&z.transitionDispatchers.startTransition(Y.ScriptName.OPEN_WIDGET),F.Monitoring.telemetry(H.TelemetryName.API_CALL_OPEN))}),b.default.chat_started)}))},blurActiveElement:function(){var e=(0,E.getPageWindow)().document.activeElement;e&&"function"==typeof e.blur&&e.blur()},closeWidget:function(e){z.appDispatchers.setAppIsFocused(0),T.default.mobileOrTablet()?(t.default.blurActiveElement(),e||(0,W._callUserFunction)("onClose")):N.Router.isMinRoute()?parent.document.getElementById("jivo_custom_widget")||(0,W._callUserFunction)("onClose"):(x.default.get("proactiveName")&&(S.default.trackProactiveInvitationRejected(x.default.get("proactiveName")),x.default.set("proactiveName",null)),(0,W._callUserFunction)("onClose")),K.default.set("close_time",(new Date).getTime()),t.default.chatOpenByClient=!1},openChatCallbacks:function(){te.log("openChatCallbacks"),b.default.is_online?S.default.trackChatOpenedByClick():S.default.trackOfflineFormOpenedByClick(),(0,W._callUserFunction)("onOpen")},hideWidget:function(){N.Router.next(D.RouterEvent.Hide),B.default.disableSoundPlayer()},setClientContactInfo:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];te.log("setClientContactInfo",e,n),t.default.setIntroduce(e),n||z.clientDispatchers.setIsIntroduced(!0),b.default.is_online&&!n&&(S.default.trackGaveContacts(),a&&F.Monitoring.telemetry(H.TelemetryName.INTRODUCE,{param1:C.default.contacts_ask}),(0,W._callUserFunction)("onIntroduction"))},setIntroduce:function(e){_.default.client_info=(0,h.default)(_.default.client_info,{client_name:e.name||e.client_name||null,phone:e.phone||null,email:e.email||null,description:e.description||null}),te.log("setIntroduce",_.default.client_info,e),w.default.sendIfConnected(ee(ee({name:"introduction"},_.default.client_info),{},{accept_eula:C.default.eula&&b.default.eula_accepted||null}))},setDepartmentId:function(e){_.default.department_id=e,te.log("set department id",e)},startCall:function(e,n,a){te.log("startCall from chat",e),t.default.checkConnection((function(){ue(e.replace(/\D+/g,""),n,a)}))},sendEvaluation:function(e){F.Monitoring.telemetry(H.TelemetryName.CLIENT_RATE_FORM,{param1:e}),_.default.evaluate="0"!==e;var t=A.default.getAgentMessages(),n=t.length?t[t.length-1].get("chat_id"):null;n?w.default.send({name:"rate",chat_id:n,rate:e}):te.log("sendEvaluation","error: no chat_id for rate form")},markEvaluated:function(){_.default.evaluate=!0},clientTyping:function(e){var t=e?1:0;oe!=t&&(oe=t,w.default.sendIfConnected({name:"client_typing",typing:t}))},typingInsight:function(e){1==C.default.typing_insight&&ie!=e&&(ie=e,w.default.sendIfConnected({name:"client_service_message",service:"typing_insight",event:"input_changed",new_val:e}))},updateTitle:function(e,t){if(te.log("updateTitle",e),window&&window.location){if(!T.default.mobileOrTablet()||N.Router.getCurrentRoute()===D.Route.LABEL){var n=t||(0,E.getCurrentPage)().url;te.log("updateTitle url",n),w.default.sendIfConnected({name:"url_change",url:n,title:(0,E.setSubstrTitle)(e)})}}else te.log("no window")},agentMessageAck:function(e){w.default.send({name:"agent_message_ack",ack_msg_ids:e})},agentMessageRead:function(e){w.default.send({name:"agent_message_read",msg_ids:e})},submitShowEula:function(e){if(j.RouterUtils.needToShowEula()){var t,n=(0,V.getMaskedPhone)(e);return X.default.showEula((0,m.default)(t="".concat((0,R.default)("eula_phone"),"<br/>")).call(t,n),null,"cb"),N.Router.next(D.RouterEvent.Submit,{context:"cb"}),!0}return!1},reloadStories:function(){b.default.reload(),_.default.reload(),t.default.syncRouter()},syncRouter:function(){if(te.log("syncRouter",b.default.route,N.Router.getCurrentRoute()),b.default.route!==N.Router.getCurrentRoute()){var e,n,a=N.Router.getPrevEvent();if(_.default.is_introduced&&"introduce"===b.default.route)return;if(-1!==(0,v.default)(e=[0,-1]).call(e,C.default.contacts_ask)&&"introduce"===b.default.route)return;if(!(b.default.route!==D.Route.CHAT_SOCIAL||a&&J.default.getPopupMode()))return void te.warn("prevent to show Social without user click.");if(-1!=(0,v.default)(n=[D.Route.CHAT_EULA,D.Route.CALL_EULA]).call(n,b.default.route)&&(!a||a&&-1==(0,v.default)(a).call(a,"submit"))&&b.default.show_eula)return void te.warn("prevent to show Eula without user click.");N.Router.setNext(b.default.route),t.default.reloadTransitionStore()}},disableFileUpload:function(){z.featuresDispatchers.disableFiletransfer(1),C.default.options=0},agentTyping:function(e){0==e?clearTimeout(ae):ae=(0,p.default)((function(){t.default.agentTyping(0)}),3e3),z.chatsDispatchers.setAgentTyping(e)},updateChatAgent:function(e){var t=e.params,n=M.default.getAgentById(t.from_id);n?(n.set("body.state",t.type),z.messagesDispatchers.addMessage({type:"system",body:{from_id:t.from_id,action:t.type,type:"chat"},msg_id:t.msg_id,chat_id:t.chat_id})):te.error("updateChatAgent: No agent info in agents store.")},clearCallTimeout:function(){re&&clearTimeout(re)},startCallTimeout:function(){t.default.clearCallTimeout(),re=(0,p.default)((function(){var e;(0,v.default)(e=["cw_wait","cw_connecting"]).call(e,_.default.cw_call.status)>=0&&t.default.setCallError()}),24e4)},setCallError:function(){var e=(0,R.default)("cw_unableToConnect")+" "+(0,R.default)("cw_errInfoText");z.callbackDispatchers.setCallbackStatus(q.CallStatus.ERROR),z.callbackDispatchers.setCallbackError(e),z.messagesDispatchers.addMessage({text:e,type:L.MessageType.SYSTEM,from:L.MessageInitiator.SYSTEM,body:{type:"call",name:"callEnd"}})},isChatContactForm:function(){var e;return-1!==(0,v.default)(e=[0,-1]).call(e,C.default.contacts_ask)},clearHistory:function(){b.default.reset(),_.default.reset(),A.default.destroy()},initializeReduxStores:function(){if(z.appDispatchers.initializeAppStore({isFocused:b.default.is_focused,isOnline:b.default.is_online,route:b.default.route,tabRoute:null,lastChatOpened:b.default.lastChatOpened,isInputDisabled:!1}),z.clientDispatchers.initializeClientStore({assignedAgentId:_.default.assigned_agent_id,clientId:_.default.client_id,description:_.default.client_info.description,email:_.default.client_info.email,eulaAccepted:null,hasIntegration:_.default.has_integration,isBlacklisted:null,isIntroduced:_.default.is_introduced,lastMessage:_.default.last_message,displayName:_.default.display_name,priorityAgentId:_.default.pa_id,phone:_.default.client_info.phone,sessionId:_.default.jv_sess_id,utm:_.default.utm,visitorId:_.default.visitorId}),$.default.checkZooms(),z.callbackDispatchers.initializeCallbackStore({available:_.default.cw_call_enabled,delayedPeriods:_.default.cw_call_delayed_periods,delayedStatus:_.default.cw_call_delayed_status,delayedTimezone:_.default.cw_call_delayed_tz,isDelayed:_.default.cw_call_delayed,error:_.default.cw_call.error,status:_.default.cw_call.status}),z.agentsDispatchers.initializeAgentStore(M.default.toReduxFormat()),z.botsDispatchers.initializeBotsStore(M.default.toReduxFormat()),z.messagesDispatchers.initializeMessagesStore(),z.chatsDispatchers.initializeChatsStore(),T.default.mobileOrTablet()||z.positionDispatchers.initializePositionStore({height:Z.default.height,left:Z.default.left,right:Z.default.right}),t.default.reloadTransitionStore(),x.default.get("body")&&(y.default.agent_id||y.default.bot_id)){var e=y.default.toReduxFormat();e.isBot?(z.botsDispatchers.addBot({avatarUrl:e.avatarUrl,id:e.id,name:e.name,title:e.title,isBot:!0}),z.chatsDispatchers.setJoinedBots([e.id])):(z.agentsDispatchers.addAgent(e),z.chatsDispatchers.addJoinedAgent(e.id))}},reloadTransitionStore:function(){te.log("reloadTransitionStore");var e=N.Router.isContainerRoute()?Y.ScriptName.OPEN_WIDGET:Y.ScriptName.CLOSE_WIDGET;N.Router.isMinRoute()&&(e=Y.ScriptName.MINIMIZE_WIDGET),e==Y.ScriptName.OPEN_WIDGET&&U.reduxStore.getState().transition.currentScript==Y.ScriptName.MAXIMIZE_WIDGET||z.transitionDispatchers.initializeTransitionStore({currentScript:e})},getCurrentChatStatus:function(){return b.default.chat_accepted?q.ChatState.ACCEPTED:b.default.chat_started?q.ChatState.STARTED:q.ChatState.NOT_STARTED_OR_CLOSED},getCaptcha:function(e,t){var n,a,i,o=(new Date).getTime(),r=(0,m.default)(n=(0,m.default)(a=(0,m.default)(i="".concat(C.default.base_url,"/script/captcha/")).call(i,C.default.widget_id,"?visitor_id=")).call(a,_.default.visitorId,"&rnd=")).call(n,o);G.default.get({url:r},(function(n,a){if(n||!a.ok||!a.image_src)return t();e(a.image_src)}))},checkCaptcha:function(e,t,n){var a,i,o,r=(0,m.default)(a=(0,m.default)(i=(0,m.default)(o="".concat(C.default.base_url,"/script/startup-token/")).call(o,C.default.widget_id,"?visitor_id=")).call(i,_.default.visitorId,"&symbols=")).call(a,e);G.default.get({url:r},(function(e,a){if(e||!a.ok||!a.token)return n();t(a.token)}))},checkChatStarted:function(e){b.default.is_online||(te.log("checkChatStarted for offline."),z.appDispatchers.setLastChatOpened(e))},setVisitorInvite:function(e){this.visitorInvite=e},getVisitorInvite:function(){return this.visitorInvite},initSocial:function(){le||(J.default.startSocials(),le=!0)},addMessagesOnOpen:function(){P.messageActions.addMessagesOnOpen(b.default.is_online)}};t.default=se},75245:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.messageActions=void 0;var i=a(n(51942)),o=a(n(78914)),r=a(n(81643)),l=a(n(33032)),u=a(n(94473)),s=a(n(26394)),c=a(n(69198)),d=a(n(36216)),f=a(n(62652)),h=a(n(69961)),p=a(n(18228)),g=n(56602),m=a(n(62904)),v=a(n(58061)),_=(a(n(62107)),a(n(40695))),y=a(n(99357)),b=a(n(67966)),w=a(n(6991)),E=a(n(75119)),C=a(n(75043)),T=n(17674),k=n(85442),S=n(8565),I=n(92097),A=n(24335),x=n(33367),M=n(63242),R=n(5505),O=n(60906),N=n(11470),D=n(63465),L=(a(n(45808)),n(21224),n(81189)),P=n(23582),j=C.default.name("MessageActions"),B=new(function(){function e(){(0,s.default)(this,e),this.cacheOfflineMsg={},this.mediaFile=!1,this.formTimeout=null}return(0,c.default)(e,[{key:"systemMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text",n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];j.log("systemMessage",e,t);var a={type:"text"!==t?"call":t,name:t};n||(a.unsave=!0),L.messagesDispatchers.addMessage({text:e,type:S.MessageType.SYSTEM,body:a})}},{key:"testMessage",value:function(e){L.messagesDispatchers.addMessage({text:e,type:S.MessageType.FOR_TEST,from:S.MessageInitiator.AGENT})}},{key:"botMessage",value:function(e){j.log("botMessage",e),L.messagesDispatchers.addMessage({type:S.MessageType.PREFORM,text:e,from:S.MessageInitiator.FORM})}},{key:"messageOnce",value:function(e,t,n,a){if(!this.checkIfMessageExists(e,t))switch(e){case S.MessageType.SYSTEM:this.systemMessage(t,n,a);break;case S.MessageType.PREFORM:this.botMessage(t);break;case S.MessageType.FOR_TEST:this.testMessage(t)}}},{key:"systemMessageOnce",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text",n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.messageOnce(S.MessageType.SYSTEM,e,t,n)}},{key:"botMessageOnce",value:function(e){this.messageOnce(S.MessageType.PREFORM,e)}},{key:"checkIfMessageExists",value:function(e,t){var n=(0,u.default)(y.default).call(y.default,(function(n){var a=n.get("type")===e,i=!t||n.get("text")===t;return a&&i}));return n||!1}},{key:"_sendClientMessageBase",value:function(e){var t,n=(0,g.generateGUID)(),a=b.default.get("proactiveName");if(a)_.default.trackProactiveInvitationAccepted(a),b.default.set("proactiveName",null);else if(f.default.chat_started){var i=y.default.getCurrentChatAgentMessages(),o=y.default.getCurrentClientMessages();o&&!o.length&&i&&i.length&&_.default.trackClientAnswerAgentChatRequest()}else _.default.trackClientInitChat(),(0,R._callUserFunction)("onClientStartChat");if(O.ApiInvitationsManager.isInitialized()&&O.ApiInvitationsManager.hasInvitations()&&O.ApiInvitationsManager.markInvitationsAnswered(),this.saveLastSystemMessage(),!this.mediaFile){var r={from:S.MessageInitiator.CLIENT,text:e,type:S.MessageType.MESSAGE,private_id:n,status:S.MessageStatus.SENT};t=y.default.push(r),L.messagesDispatchers.addMessage(r,!0)}var u={name:"client_message",message:e,private_id:n};if(d.default.department_id&&(u.widget_department_id=d.default.department_id),1===y.default.getClientMessages().length&&(0,R._callUserFunction)("onMessageSent"),!(0,g.isWixEditor)()&&!A.isDesignerEditor){if((0,l.default)((function(){t&&!t.get("msg_id")&&(t.set("status","notDelivered"),p.default.messageBuffer.hasMessage(n)||p.default.messageBuffer.push(u),x.Monitoring.telemetry(M.TelemetryName.CLIENT_MESSAGE_SEND_ERROR))}),2e3),!f.default.chat_started){var s={param1:y.default.getChatCounts()>0?"old":"new",param2:(0,I.prechatUsed)()?"prechat_used":"from_input",param3:m.default.locale};x.Monitoring.telemetryOnce(M.TelemetryName.VISITOR_MSG_SENT,s)}(0,I.prechatEnabled)()&&((0,I.prechatUsed)()&&(u.is_prechat_btn=!0),this.deletePrechatMsg()),3==m.default.contacts_ask&&w.default.isLoginned()&&this.initSocial(),this.needToShowContactsForm()&&!m.default.bots&&this.startFormSequence((0,E.default)("lblIntroduceRequest")),d.default.is_introduced||1!==m.default.contacts_ask||(T.Router.next(k.RouterEvent.ToIntroduce),x.Monitoring.telemetry(M.TelemetryName.CHAT_INTRODUCE,{param1:"show",param2:(0,g.getContactSettingsInfo)()})),this.mediaFile&&(u.media=this.mediaFile.file,u.private_id=this.mediaFile.privateId,this.mediaFile=!1),(0,N.getRuleLocal)("firstMessageTime")||(0,N.setRuleLocal)("firstMessageTime",new Date),f.default.chat_started=!0,p.default.send(u)}}},{key:"needToShowContactsForm",value:function(){var e;return!d.default.is_introduced&&!h.default.bot_id&&-1!==(0,r.default)(e=[0,-1]).call(e,m.default.contacts_ask)&&!y.default.getFormMessage().length}},{key:"checkContactsForm",value:function(){if(this.needToShowContactsForm()){var e=(0,E.default)("lblIntroduceRequest"),t=this.checkIfMessageExists(S.MessageType.PREFORM,e);t?t.set("created_ts",(new Date).getTime()):this.botMessage(e),this.addContactsForm()}}},{key:"addContactsForm",value:function(){this.checkIfMessageExists(S.MessageType.FORM)||(L.messagesDispatchers.addMessage({type:S.MessageType.FORM,from:S.MessageInitiator.FORM}),this.addSocialTelemetry())}},{key:"saveLastSystemMessage",value:function(){var e=y.default.getLastMessage();e&&"system"==e.get("type")&&e.get("body")&&e.get("body").unsave&&e.set("body",null)}},{key:"storeMediaFile",value:function(e,t){this.mediaFile={file:e,privateId:t}}},{key:"addSocialTelemetry",value:function(){var e=w.default.getJoints().links,t="";e.vkUrl&&e.fbUrl&&(t="show_vkfb"),e.vkUrl&&!e.fbUrl&&(t="show_vk"),!e.vkUrl&&e.fbUrl&&(t="show_fb"),(e.vkUrl||e.fbUrl)&&x.Monitoring.telemetry(M.TelemetryName.CHAT_INTRODUCE_SOCIAL,{param1:t})}},{key:"initSocial",value:function(){var e=this;j.log("initSocial",w.default.isLoginned()),y.default.getMessagesByType(S.MessageType.SOCIAL).length||v.default.mobileOrTablet()||(0,l.default)((function(){1!==y.default.getCurrentClientMessages().length||d.default.has_integration||(h.default.bot_id||L.messagesDispatchers.addMessage({text:(0,E.default)("social_online_text"),type:S.MessageType.SYSTEM,body:{type:S.MessageType.SOCIAL}}),(0,l.default)((function(){e.addSocialMessage()}),2e3))}),2e3)}},{key:"addSocialMessage",value:function(){j.log("addSocialMessage"),m.default.joint&&!d.default.client_info.email&&!d.default.has_integration&&!v.default.mobileOrTablet()&&!y.default.getMessagesByType(S.MessageType.SOCIAL).length&&y.default.getCurrentClientMessages().length>0&&L.messagesDispatchers.addMessage({text:"",type:S.MessageType.SOCIAL})}},{key:"sendOfflineMessageFromApi",value:function(e){j.log("sendOfflineMessageFromApi",e),p.default.send({name:"offline_message",message:e.message,email:e.email,phone:e.phone,client_name:e.name||e.client_name,cap_symbols:e.cap_symbols||"",from_online:f.default.forcedOffline,description:d.default.client_info.description,accept_eula:m.default.eula&&f.default.eula_accepted||null}),_.default.trackOfflineMessageSent()}},{key:"getSystemInviteText",value:function(){return m.default.offline_form_text}},{key:"getOfflineSuccessText",value:function(){return(0,E.default)("offlineSuccessContactsSubmit")}},{key:"offlineSystemInvite",value:function(e){if(!m.default.maintenance&&!f.default.is_online&&!f.default.chat_started&&(!P.FeatureManager.isEnabled(P.Feature.OLD_CAPTCHA)||e)){var t=this.getSystemInviteText();this.messageOnce(S.MessageType.FOR_TEST,t)}}},{key:"startFormSequence",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:700;j.log("startFormSequence",e,n),f.default.is_online&&h.default.bot_id||(this.formTimeout&&clearTimeout(this.formTimeout),f.default.is_online||this.setInputDisabled(!0),n?this.formTimeout=(0,l.default)((function(){0===y.default.getFormMessage().length&&(e&&t.botMessageOnce(e),(0,l.default)((function(){t.addContactsForm()}),n),x.Monitoring.telemetry(M.TelemetryName.CHAT_INTRODUCE,{param1:"show"}))}),n):0===y.default.getFormMessage().length&&(e&&this.botMessageOnce(e),this.addContactsForm(),x.Monitoring.telemetry(M.TelemetryName.CHAT_INTRODUCE,{param1:"show"})))}},{key:"deleteUnansweredOfflineSystemInvite",value:function(){0===y.default.getClientMessages().length&&(this.deleteOfflineSystemInvites(),f.default.is_online&&!(0,D.isValidEmail)()&&this.deleteOfflineTmpMessage())}},{key:"deleteOfflineTmpMessage",value:function(){this.destroyByType(S.MessageType.FOR_TEST),this.destroyByType(S.MessageType.TEMPORARY),this.destroyByType(S.MessageType.PREFORM),this.destroyByType(S.MessageType.FORM)}},{key:"addPrechatMessage",value:function(){if((0,I.prechatEnabled)()){var e=y.default.getMessagesByType(S.MessageType.PRECHAT),t=y.default.getCurrentChatAgentMessages(),n=y.default.getCurrentClientMessages(),a=y.default.getLastProactive();!f.default.is_online||f.default.chat_started||e.length||(n.length||t.length)&&!a||this.pushPrechat()}}},{key:"pushPrechat",value:function(){L.messagesDispatchers.addMessage({body:{unsave:!0},type:S.MessageType.PRECHAT,from:S.MessageInitiator.FORM})}},{key:"deletePrechatMsg",value:function(){var e=y.default.getMessagesByType(S.MessageType.PRECHAT);e&&(0,o.default)(e).call(e,(function(e){e&&e.destroy()}))}},{key:"deleteOfflineSystemInvites",value:function(){var e=y.default.getMessagesByType(S.MessageType.FOR_TEST);(0,o.default)(e).call(e,(function(e){e&&e.destroy()}))}},{key:"addMaintenanceMessage",value:function(){this.systemMessageOnce((0,E.default)("maintenanceSystemText"),"text",!1),L.appDispatchers.setIsInputDisabled(!0)}},{key:"deleteMaintenanceMessage",value:function(){j.log("deleteMaintenanceMessage");var e=y.default.getSystemMessageByText((0,E.default)("maintenanceSystemText"));(0,o.default)(e).call(e,(function(e){e&&e.destroy()}))}},{key:"destroyByType",value:function(e){var t=y.default.getMessagesByType(e);(0,o.default)(t).call(t,(function(e){e&&e.destroy()}))}},{key:"markdownMessage",value:function(e){j.log("markdownMessage",e),L.messagesDispatchers.addMessage({type:S.MessageType.MESSAGE,text:e,from:S.MessageInitiator.AGENT,body:{customerIO:!0,unsave:!0}})}},{key:"systemCallMessage",value:function(e,t){var n=y.default.getLastMessage();(!n||n&&n.get("text")!==e)&&this.systemMessage(e,t)}},{key:"sendClientMessage",value:function(e){j.log("sendClientMessage",e),f.default.is_online?this._sendClientMessageBase(e):d.default.is_introduced?this.sendOfflineMessage(e):P.FeatureManager.isEnabled(P.Feature.OLD_CAPTCHA)?T.Router.next(k.RouterEvent.ToIntroduce):(this._fakeOfflineMessage(e),this.handleContactsForm())}},{key:"sendOfflineMessage",value:function(e){j.log("sendOfflineMessage",e),f.default.chat_started=!0,L.appDispatchers.setLastChatOpened(!0);var t=y.default.getLastMessage();this.saveLastSystemMessage();var n,a=(0,g.generateGUID)();if(!this.mediaFile){var i={from:S.MessageInitiator.CLIENT,text:e,type:S.MessageType.MESSAGE,private_id:a,status:S.MessageStatus.SENT};n=y.default.push(i),L.messagesDispatchers.addMessage(i,!0)}var o=this._createOfflineMessage(e,a);this.mediaFile&&(o.media=this.mediaFile.file,o.private_id=this.mediaFile.privateId,this.mediaFile=!1),p.default.send(o),this.checkIfMessageIsDelivered(n);var r=this.getOfflineSuccessText(),l=this.checkIfMessageExists(S.MessageType.SYSTEM,r),u=this.equalMessages(t,l);d.default.is_introduced&&l&&y.default.getClientMessages().length>=1&&u&&x.Monitoring.telemetryOnce(M.TelemetryName.NEWOFFLINE_MESSAGE_AFTER_FORM),_.default.trackOfflineMessageSent()}},{key:"offlineAck",value:function(e){j.log("offlineAck"),(0,g.isEmpty)(this.cacheOfflineMsg)&&!e||(T.Router.getCurrentRoute()===k.Route.CHAT||v.default.mobileOrTablet()||T.Router.next(k.RouterEvent.ToChat),this.cacheOfflineMsg=e)}},{key:"resendClientMessageAfterForceOffline",value:function(){var e=this;j.log("resendClientMessageAfterForceOffline");var t=y.default.getClientMessages();(0,o.default)(t).call(t,(function(t){var n=t&&t.get("status");if(t&&n!==S.MessageStatus.DELIVERED){var a=t.get("text"),i=t.get("body");if(t.get("type")===S.MessageType.MEDIA)if(i&&i.file_url)if(e.storeMediaFile(i.file_url,(0,g.generateGUID)()),t.set("status",S.MessageStatus.SENT),t.set("type",S.MessageType.TEMPORARY),e.systemMessageOnce((0,E.default)("offlineForceOfflineMessage")),d.default.is_introduced){var o=e._createOfflineMessage(a);e.mediaFile&&(e._formatMediaForOfflineMessage(o,i),e.mediaFile=!1),p.default.send(o)}else e.handleContactsForm();else i&&!i.file_url&&t.set("type",S.MessageType.TEMPORARY);else t.destroy(),e.systemMessageOnce((0,E.default)("offlineForceOfflineMessage")),e.sendClientMessage(a)}}))}},{key:"handleContactsForm",value:function(){if(!f.default.is_online&&!d.default.is_introduced)if(0===y.default.getFormMessage().length)x.Monitoring.telemetryOnce(M.TelemetryName.NEWOFFLINE_FIRST_MESSAGE),this.startFormSequence((0,E.default)("offlineIntroductionText"));else{var e=y.default.getFormIntroduceText(),t=y.default.getFormMessage();e[0].set("created_ts",(new Date).getTime()),t[0].set("created_ts",(new Date).getTime()),this.setInputDisabled(!0)}}},{key:"sendTemporaryMessages",value:function(){var e=this,t=y.default.getTemporaryMessages();return!(!t||!t.length)&&((0,o.default)(t).call(t,(function(t){e.sendTemporaryMessage(t)})),!0)}},{key:"sendTemporaryMessage",value:function(e){j.log("sendTemporaryMessage",t);var t=e.get("text"),n=e.get("body"),a=this._createOfflineMessage(t);this._formatMediaForOfflineMessage(a,n),p.default.send(a),_.default.trackOfflineMessageSent(),this._swapTemporaryOfflineMessage(a),(0,I.prechatSetUsed)(!1)}},{key:"setInputDisabled",value:function(e){j.log("setInputDisabled",e),L.appDispatchers.setIsInputDisabled(e)}},{key:"equalMessages",value:function(e,t){return!(!e||!t||e.get("type")!==t.get("type")||e.get("text")!==t.get("text"))}},{key:"checkIfMessageIsDelivered",value:function(e){(0,l.default)((function(){e&&!e.get("msg_id")&&e.set("status",S.MessageStatus.NOT_DELIVERED)}),2e3)}},{key:"sendTempMessageAsClientMessageIfNeeded",value:function(){var e=this;j.log("sendTempMessageAsClientMessageIfNeeded");var t=y.default.getTemporaryMessages();t&&(0,o.default)(t).call(t,(function(t){var n=t.get("text");t.destroy(),e.sendClientMessage(n)}))}},{key:"_swapTemporaryOfflineMessage",value:function(e){if(j.log("_swapTemporaryOfflineMessage"),e){var t=y.default.getTemporaryMessageWithText(e.message);if(e&&t){var n=t.get("body");n&&n.file?t.set("type",S.MessageType.MEDIA):t.set("type",S.MessageType.MESSAGE),t.set("private_id",e.private_id),t.set("status",S.MessageStatus.SENT)}this.checkIfMessageIsDelivered(t)}}},{key:"_fakeOfflineMessage",value:function(e){j.log("_fakeOfflineMessage",e),f.default.chat_started=!0,L.appDispatchers.setLastChatOpened(!0);var t={from:S.MessageInitiator.CLIENT,text:e,type:S.MessageType.TEMPORARY};this.mediaFile&&(t.media=this.mediaFile.file,t.private_id=this.mediaFile.privateId,this.mediaFile=!1),t=y.default.push(t),L.messagesDispatchers.addMessage(t,!0)}},{key:"_createOfflineMessage",value:function(e,t){var n={name:"offline_message",message:e||"",email:d.default.client_info.email,phone:d.default.client_info.phone,client_name:d.default.client_info.client_name,cap_symbols:"",from_online:!1,description:d.default.client_info.description,accept_eula:m.default.eula&&f.default.eula_accepted||null,private_id:t||(0,g.generateGUID)()};return(0,I.prechatUsed)()&&(n.is_prechat_btn=!0),n}},{key:"_formatMediaForOfflineMessage",value:function(e,t){if(e&&t&&t.file_url){var n=(0,g.getUrlEmoji)(t.type,t.file_url),a=(0,i.default)({},t);a.file=t.file_url,delete a.file_url,a.type=(0,g.detectType)(t.type),e.message=n,e.media=a}}},{key:"setListpickerAnswer",value:function(e,t){j.log("setListpickerAnswer",e,t);var n=y.default.getMessageById(e);if(n){n.set("body.answer_id",t);var a=n.get("body.keyboard")[t];n.set("body.keyboard",[a]),n.destroy()}}},{key:"hideEmailForm",value:function(){var e=y.default.getMessagesByType("email");e.length&&e[e.length-1].destroy()}},{key:"addMessagesOnOpen",value:function(e){e?(this.deleteUnansweredOfflineSystemInvite(),this.addPrechatMessage()):(this.deleteUnansweredOfflineSystemInvite(),this.offlineSystemInvite())}}]),e}());t.messageActions=B},92234:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(51942)),o=a(n(36216)),r=a(n(69961)),l=a(n(99357)),u=a(n(67966)),s=a(n(62652)),c=a(n(47321)),d=a(n(58061)),f=a(n(40695)),h=n(74721),p=n(17674),g=n(85442),m=n(75245),v=a(n(75119)),_=n(33367),y=n(63242),b=n(8565),w=n(81189),E=n(42796),C=(a(n(62904)),n(23582),a(n(75043)).default.name("ruleActions")),T=function(){s.default.is_online&&m.messageActions.deleteUnansweredOfflineSystemInvite(),p.Router.getCurrentRoute()!==g.Route.LABEL||d.default.mobileOrTablet()||(p.Router.next(g.RouterEvent.ToChat),w.transitionDispatchers.startTransition(E.ScriptName.OPEN_WIDGET))},k={proactive:function(e,t,n){C.log("proactive",t),(0,i.default)(r.default,t);var a=r.default.toReduxFormat();a.isBot?(w.botsDispatchers.addBot({avatarUrl:a.avatarUrl,id:a.id,name:a.name,title:a.title,isBot:!0}),w.chatsDispatchers.setJoinedBots([a.id])):(w.agentsDispatchers.addAgent(a),w.chatsDispatchers.addJoinedAgent(a.id));var o={text:(0,h.escapeHTMLString)(e),body:t,proactiveName:n};u.default.set(o);var l=o.text===(0,v.default)("defRuleInvitationText")?"default":"custom";_.Monitoring.telemetry(y.TelemetryName.CHAT_INVITE,{param1:l}),T(),c.default.sendUpdateProactive()},showCallForm:function(e,t){c.default.requestCWAvailable((function(){C.log("RULE MANAGER: ",o.default.cw_call_enabled,"label"==s.default.route),o.default.cw_call_enabled&&"label"==s.default.route&&(w.userDispatchers.setCallHeaderText(e),!d.default.mobileOrTablet()&&p.Router.next(g.RouterEvent.ToCall),w.transitionDispatchers.startTransition(E.ScriptName.OPEN_WIDGET),"function"==typeof t&&t())}))},systemMessage:function(e){if(!r.default.bot_id){var t=l.default.getLastMessage();t&&t.get("type")===b.MessageType.SYSTEM&&t.get("text")===e&&t.destroy();var n={type:b.MessageType.SYSTEM,text:e};s.default.chat_started||(n.body={unsave:!0}),w.messagesDispatchers.addMessage(n),T()}},systemMessageEmail:function(e){w.messagesDispatchers.addMessage({type:"email",text:e,body:{unsave:!0}}),T(),f.default.trackSystemMessageEmailShown()},openOffline:function(){m.messageActions.offlineSystemInvite(!0),T()}};t.default=k},40695:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(77766)),o=a(n(81643)),r=a(n(78914)),l=n(56602),u=a(n(62904)),s=a(n(75043)).default.name("analytics"),c={counters:{ya:0,fb:0,ga:0},_yaCounter:[],_trackedEvents:[],getCountersTelemetry:function(){return{param2:this.counters.ya,param3:this.counters.fb,param4:this.counters.ga}},getAnalyticsClientId:function(){var e,t=(0,l.getPageWindow)(),n={};if("function"==typeof t.ga){var a;if("function"==typeof t.ga.getAll)(0,r.default)(a=t.ga.getAll()).call(a,(function(e){n.ga||(n.ga=e.get("clientId"))}));this.counters.ga=1}return(0,r.default)(e=this._yaCounter).call(e,(function(e){t[e]&&"function"==typeof t[e].getClientID&&(n.ym||(n.ym=t[e].getClientID()))})),n},isAnalyticsIdAvaiable:function(){var e=this.getAnalyticsClientId();return s.log("Counters userId",e),!(!u.default.options||!e.ga&&!e.ym)&&e},init:function(){try{var e=(0,l.getPageWindow)();for(var t in e)0===(0,o.default)(t).call(t,"yaCounter")&&"function"==typeof e[t].reachGoal&&(this._yaCounter.push(t),this.counters.ya=1);s.log("Active Yandex counters: ",this._yaCounter.length)}catch(e){s.log(e.toString())}},_trackEvent:function(e,t){var n;if((0,l.isPaidCustomer)()&&!((0,o.default)(n=this._trackedEvents).call(n,e)>=0)){this._trackedEvents.push(e),s.info("_trackEvent: "+e+"/"+t);var a,u=(0,l.getPageWindow)();if(void 0!==u._gaq&&"function"==typeof u._gaq.push&&u._gaq.push(["_trackEvent","JivoSite",e,t,void 0,!0]),"function"==typeof u.ga&&"function"==typeof u.ga.getAll)(0,r.default)(a=u.ga.getAll()).call(a,(function(n){s.log("track ga:",n.get("name"),e,t),0!==n.get("name").search(/^gtag_/i)&&n.send("event","JivoSite",e,t,{nonInteraction:1})})),this.counters.ga=1;if("function"==typeof u.gtag){var c={event_category:"JivoSite",event_action:e,event_label:t};s.log("track gtag:",c),u.gtag("event","JivoSite",c),this.counters.ga=1}if(u._gaUA_real&&"function"==typeof u._gaUA_real.getAll){var d=u._gaUA_real.getAll();2==d.length&&(d[1].send("event","JivoSite",e,t,{nonInteraction:1}),s.log("Track event to custom tiu client counter",d[1].get("trackingId"),e,t)),this.counters.ga=1}if(u.gaUA&&"function"==typeof u.gaUA.getAll){var f=u.gaUA.getAll();f.length&&f.length>0&&f[1]&&"function"==typeof f[1].send&&(f[1].send("event","JivoSite",e,t,{nonInteraction:1}),s.log("Track event to custom tiu client counter",f[1].get("trackingId"),e,t)),this.counters.ga=1}if(this._yaCounter.length>0){var h,p;e=(0,i.default)(h=["Jivo"]).call(h,e.split(" ")).join("_");var g=(0,l.getPageWindow)();(0,r.default)(p=this._yaCounter).call(p,(function(t){g&&g[t]&&"function"==typeof g[t].reachGoal&&g[t].reachGoal(e)})),this.counters.ya=1}this.trackFBEvents(e)}},_setCustomVar:function(e,t){s.log("_setCustomVar: "+e+"/"+t);var n=(0,l.getPageWindow)();if(void 0!==n._gaq&&n._gaq.push(["_setCustomVar",1,e,t,1]),"function"==typeof n.ga&&n.ga("set",e,t),this._yaCounter.length>0){var a,i={};i[e]=t,(0,r.default)(a=this._yaCounter).call(a,(function(e){n[e].params(i)}))}},trackFBEvents:function(e){var t=(0,l.getPageWindow)().fbq;if(e=e.replace(/ /gi,"_").replace("Jivo_",""),s.log("trackFBEvents",e),!t||1===u.default.site_id)return!1;t("trackCustom","Jivo",{content_name:e}),this.counters.fb=1},trackChatOpenedByClick:function(){this._trackEvent("Chat requested","User clicked chat widget")},trackOfflineFormOpenedByClick:function(){this._trackEvent("Offline form shown","User offline form")},trackOfflineMessageSent:function(){this._trackEvent("Offline message sent","User sent message via offline form")},trackProactiveInvitationShown:function(e){this._trackEvent("Proactive invitation shown",e)},trackProactiveInvitationAccepted:function(e){this._trackEvent("Proactive invitation accepted",e)},trackProactiveInvitationRejected:function(e){this._trackEvent("Proactive invitation rejected",e)},trackChatConnected:function(){this._trackEvent("Chat established","User connected to agent")},trackGaveContacts:function(){var e="User gave contacts during chat";this._trackEvent(e,e)},trackCallWidgetInvitationShown:function(e){this._trackEvent("Callback invitation shown",e)},trackCallWidgetRequested:function(){this._trackEvent("Callback requested","User request callback.")},setABTestGroupContacts:function(e,t){this._setCustomVar(e,t)},trackSystemMessageEmailShown:function(){var e="In-chat email form shown";this._trackEvent(e,e)},trackSystemMessageEmailSubmitted:function(){var e="In-chat email form submitted";this._trackEvent(e,e)},trackContinueInSocial:function(e){this._trackEvent("Continue in social","User clicked ".concat(e," button"))},trackMobileSocial:function(e){var t=this.getSocialName(e);this._trackEvent("Jivo_".concat(t),"User tap ".concat(t," mobile link"))},trackSocial:function(e){var t=this.getSocialName(e);this._trackEvent("Jivo_".concat(t),"User click ".concat(t," label link"))},trackClientInitChat:function(){this._trackEvent("Client initiate chat","Client initiate chat")},trackClientAnswerAgentChatRequest:function(){var e="Client answer on agent request";this._trackEvent(e,e)},trackMobileCallClick:function(){this._trackEvent("Mobile call","Mobile call")},trackPrechatClick:function(e){this._trackEvent("Prechat phrase clicked",e)},getSocialName:function(e){switch(e){case"vk":return"Vkontakte";case"fb":return"Facebook";case"wa":return"WhatsApp";case"tg":return"Telegram";case"vb":return"Viber";default:return e}}};t.default=c},5505:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t._callUserFunction=F,t.default=void 0;var i=a(n(41511)),o=a(n(33032)),r=a(n(81643)),l=a(n(23765)),u=a(n(62904)),s=a(n(18228)),c=n(56602),d=a(n(86999)),f=a(n(58061)),h=a(n(36216)),p=a(n(44299)),g=a(n(40695)),m=a(n(27968)),v=a(n(62652)),_=a(n(47321)),y=n(17674),b=n(85442),w=n(75245),E=a(n(49173)),C=n(33367),T=n(63242),k=a(n(99357)),S=a(n(94686)),I=a(n(6991)),A=n(60906),x=n(51139),M=n(81189),R=n(42796),O=n(11470),N=n(94515),D=n(23582),L=a(n(93268)),P=a(n(75043)).default.name("api"),j=10,B={open:function(e){if(C.Monitoring.telemetryWithProbability(T.TelemetryName.API_OPEN,{param1:e},j),L.default.get("is_blacklisted"))return{result:"fail"};var t=(0,c.getPageWindow)();t.jivo_cstm_widget&&f.default.mobileOrTablet()&&(t.jivo_cstm_widget.style.display="block");var n="object"===(0,l.default)(e);return n&&"call"===e.start?u.default.callback_settings.time?(y.Router.getCurrentRoute()===b.Route.CALL||(p.default.allRulesCancel(),_.default.pingAndOpenCall()),{result:"ok"}):(P.info("Callback is disabled."),{result:"fail",reason:"Callback is disabled"}):y.Router.getCurrentRoute()==b.Route.CHAT?{result:"ok",opened:!0}:(v.default.is_focused=1,n&&"menu"===e.start?f.default.mobile()&&I.default.getJoints().count>0?(_.default.chatOpenByClient=!1,y.Router.next(b.RouterEvent.ToMobileMenu)):(M.transitionDispatchers.startTransition(R.ScriptName.OPEN_WIDGET),y.Router.next(b.RouterEvent.ApiOpen)):(f.default.desktop()&&M.transitionDispatchers.startTransition(R.ScriptName.OPEN_WIDGET),y.Router.next(b.RouterEvent.ApiOpen)),w.messageActions.offlineSystemInvite(),w.messageActions.addPrechatMessage(),t.jivo_cstm_widget&&f.default.mobileOrTablet()&&(v.default.is_online?g.default.trackChatOpenedByClick():g.default.trackOfflineFormOpenedByClick()),{result:"ok"})},close:function(){var e;if(C.Monitoring.telemetryWithProbability(T.TelemetryName.API_CLOSE,{},j),L.default.get("is_blacklisted"))return{result:"fail"};if((0,r.default)(e=[b.Route.LABEL,b.Route.CHAT_MIN]).call(e,v.default.route)>=0)return{result:"ok",closed:!0};if(_.default.closeWidget(),f.default.mobileOrTablet())y.Router.next(b.RouterEvent.CloseWindow);else{var t=v.default.chat_accepted?R.ScriptName.MINIMIZE_WIDGET:R.ScriptName.CLOSE_WIDGET;M.transitionDispatchers.startTransition(t)}return{result:"ok"}},getContactInfo:function(){C.Monitoring.telemetryWithProbability(T.TelemetryName.API_GET_CONTACT_INFO,{},j);var e=h.default.client_info;return{client_name:e.client_name,email:e.email,phone:e.phone,description:e.description}},getVisitorNumber:function(e){P.log("getVisitorNumber",e);var t=h.default.client_id;t&&(0,r.default)(t).call(t,".")>0&&"function"==typeof e?(0,o.default)((function(){e(null,t.split(".").shift())}),0):e&&"function"==typeof e?(C.Monitoring.telemetryWithProbability(T.TelemetryName.API_GET_VISITOR_NUMBER,{},j),E.default.getVisitorNumber((function(t,n){P.log(t,n),t?P.log("Error fetch visitor number."):n&&("object"===(0,l.default)(n)&&n.result&&"client_id"in n?(h.default.client_id||(h.default.client_id=n.client_id),"function"==typeof e&&e(null,h.default.client_id.split(".").shift())):P.error("Error fetching visitor number"))}))):P.error("Please provide callback function in jivo_api.getVisitorNumber(callback)")},setUserToken:function(e){var t;return C.Monitoring.telemetryWithProbability(T.TelemetryName.API_SET_USER_TOKEN,{},j),"string"==typeof e||e instanceof String?(e==s.default.user_token?t={result:"fail",error:"Cant set same token: ".concat(e)}:s.default.setUserToken(e,(function(n){n?P.log("Token updated, token: ".concat(e)):P.log("Token set, but was not sent to the server"),t={result:"ok",token:e||!1}})),!u.default.enable_api_invitation&&N.EnvironmentManager.isProduction()||v.default.chat_started||A.ApiInvitationsManager.initialize(e),t):(P.error("Bad token. The token must be type of string"),{result:"fail",token:e||!1})},setCustomData:function(e){if(C.Monitoring.telemetryWithProbability(T.TelemetryName.API_SET_CUSTOM_DATA,{},j),u.default.webhooks_enabled)return{result:"fail",reason:"Webhooks enabled. You must disable it to use setCustomData"};var t=this.validateCustomData(e);return(0,i.default)(t)?(s.default.setCustomData(e),{result:"ok"}):(P.error("Invalid custom data.",t),{result:"fail",reason:t})},validateCustomData:function(e){var t="";if(!(0,i.default)(e))return"Data must be array.";(0==e.length||e.length>10)&&(t+="Data limit error, data length  must be 1 to 10.");for(var n=0;n<e.length;n++){var a;if("string"!=typeof e[n].content&&(t+="Property content must be string. "),e[n].link)if(u.default.api_domain&&"string"==typeof e[n].link)-1===(0,r.default)(a=e[n].link).call(a,u.default.api_domain)&&delete e[n].link;else delete e[n].link}return""==t?e:t},sendMessage:function(e){if(D.FeatureManager.isEnabled(D.Feature.OLD_CAPTCHA))return{result:"fail",error:"Send message error"};if("string"!=typeof e||"[object Object]"===Object.prototype.toString.call(e))return{result:"fail",error:"First argument must be text to send message."};var t=k.default.getClientMessages();return t.length&&e==t[t.length-1].get("text")?{result:"fail",error:"You cannot send 2 messages in a row"}:(w.messageActions.sendClientMessage(e),C.Monitoring.telemetryOnce(T.TelemetryName.API_SEND_MESSAGE),{result:"ok"})},setContactInfo:function(e){if(C.Monitoring.telemetryWithProbability(T.TelemetryName.API_SET_CONTACT_INFO,{},j),e&&"object"===(0,l.default)(e)){P.log("setContactInfo",e);var t={},n=!1,a="";for(var i in e)if({}.hasOwnProperty.call(e,i)){var o=e[i],r=i;"name"==r&&(r="client_name"),o&&S.default[r]&&S.default[r](o)?(t[i]=o,n=!0):(P.error(r+" not valid."),a+=r+" not valid.")}return n?(this._sendIntroduce(t),{result:"ok",data:t}):(C.Monitoring.telemetryWithProbability(T.TelemetryName.API_SET_CONTACT_INFO_BAD_DATA,{},j),P.error("setContactInfo bad data",e),{result:"fail",error:a})}},_sendIntroduce:function(e){e.isEmailSubmitted&&g.default.trackSystemMessageEmailSubmitted(),P.log(e),_.default.setClientContactInfo({client_name:e.name||e.client_name,phone:e.phone,email:e.email,description:e.description},!0)},showProactiveInvitation:function(e,t){(0,O.isYandexMarketClient)(h.default.utm)?P.log("Disabled for YM clients"):(0,c.isPaidCustomer)()?(C.Monitoring.telemetryOnce(T.TelemetryName.API_SHOW_PROACTIVE),p.default.showProactive(e,t,"jivo_api.showProactiveInvitation")):P.log("Proactive disabled for free users.")},highlightCobrowse:function(e,t,n){if(!e)return!1;m.default.getCobrowseData(e,t,n)},sendOfflineMessage:function(e){if(C.Monitoring.telemetryOnce(T.TelemetryName.API_SEND_OFFLINE_MESSAGE),P.log("sendOfflineMessage",e),v.default.is_online)return{result:"fail",error:"Error send offline message when chat is online."};if(e&&"object"===(0,l.default)(e)){P.log("sendOfflineMessage",e);var t="";for(var n in e)if({}.hasOwnProperty.call(e,n)){var a=e[n],i=n;"name"==i&&(i="client_name"),a&&S.default[i]&&S.default[i](a)||(P.error(i+" not valid."),t+=i+" not valid. ")}return""==t?(_.default.setClientContactInfo(e),w.messageActions.sendOfflineMessageFromApi(e),{result:"ok"}):(C.Monitoring.telemetryOnce(T.TelemetryName.API_SEND_OFFLINE_MESSAGE_BAD_DATA),P.error("sendOfflineMessage bad data",e),{result:"fail",error:t})}return{result:"fail",error:"Invalid params for offline message"}},setRules:function(e){return C.Monitoring.telemetryOnce(T.TelemetryName.API_SET_RULES),e&&"object"===(0,l.default)(e)?(u.default.rules=e,{result:"ok"}):(P.error("Invalid type of rules, must be object."),{result:"fail"})},chatMode:function(){return C.Monitoring.telemetryWithProbability(T.TelemetryName.API_CHAT_MODE,{},j),u.default.chat_mode},setWidgetColor:function(e,t){C.Monitoring.telemetryOnce(T.TelemetryName.API_SET_WIDGET_COLOR);var n=d.default.isLightColor(e)?"dark":"light";M.userDispatchers.setWidgetColor(e),M.userDispatchers.setWidgetColor2(t||null),M.userDispatchers.setWidgetFontColor(n)},sendPageTitle:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e&&"string"==typeof e?(_.default.updateTitle(e,n),t&&C.Monitoring.telemetryOnce(T.TelemetryName.API_SEND_PAGE_TITLE),{result:"ok"}):{result:"fail",reason:"Invalid title"}},isCallbackEnabled:function(e){"function"==typeof e&&(C.Monitoring.telemetryWithProbability(T.TelemetryName.API_IS_CALLBACK_ENABLED,{},j),(0,c.isEmpty)(u.default.callback_settings)?e({result:"fail",reason:"Callback disabled"}):_.default.requestApiCWAvailable(e))},startCall:function(e){if(P.log("api startCall",e),!h.default.cw_call_enabled||(0,c.isEmpty)(u.default.callback_settings))return{result:"fail",reason:"Callback disabled"};if(e){var t=(0,x.getPhoneNumberInfo)(e);return t?(e="+"+t.number,y.Router.next(b.RouterEvent.ToCall),_.default.startCall(e,"from_api"),{result:"ok"}):{result:"fail",reason:"Invalid phone"}}return{result:"fail",reason:"Invalid phone"}},getUtm:function(){C.Monitoring.telemetryWithProbability(T.TelemetryName.API_GET_UTM,{},j);var e=h.default.utm;return{term:e.keyword||null,campaign:e.campaign||null,content:e.content||null,medium:e.medium||null,source:e.source||null}},getUnreadMessagesCount:function(){return k.default.getUnreadMessage().length},clearHistory:function(){_.default.clearHistory()}};function F(e,t){if(P.log("_callUserFunction",e,t),e="jivo_"+e,"function"==typeof window.parent.window[e])try{P.log("JIVO: calling user function "+e),window.parent.window[e](t),P.log("JIVO: user function "+e+" returned"),C.Monitoring.telemetryWithProbability(e,{},j)}catch(e){P.log("ERROR: _callUserFunction",e)}}t.default=B,y.Router.on("route_change",(function(e){F("onChangeState",e),y.Router.isChatInputRoute(e)&&A.ApiInvitationsManager.markInvitationsRead()}))},27968:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(86902)),o=a(n(77766)),r=a(n(33032)),l=a(n(23765)),u=a(n(81643)),s=a(n(59748)),c=a(n(59748)),d=a(n(75119)),f=n(56602),h=n(99112),p=a(n(4620)),g=a(n(58061)),m=a(n(62904)),v=a(n(62107)),_=a(n(90842)),y=a(n(93867)),b=n(33367),w=a(n(49043)),E=n(63242),C=n(94515),T=a(n(41829)),k=a(n(91858)),S=a(n(75043)).default.name("cobrowse"),I=window.parent.document,A=function(e,t){var n=window.top;"function"==typeof n.history.replaceState?n.history.replaceState({},t,e):"function"==typeof n.history.pushState&&n.history.pushState({},t,e)},x={init:function(){var e,t,n=!1,a={};_.default.install(window.parent),this._process=t=function(t,i){n?(S.log("controller of childSandboxBridge set as for NodeWebkit"),(e=O).setLangpack(a),e.init(),"in_node_webkit"===t&&window.parent.jivo_cobrowse.source.postMessage({name:"widget_ready"},window.parent.jivo_cobrowse.origin)):e=R,e[t]&&"is_node_webkit"!==t&&e[t](i)},(0,f.addListener)(window.parent,"message",(function(e){if(e&&e.data&&"object"===(0,l.default)(e.data)){var i=e.data;-1!==(0,u.default)(v.default).call(v.default,["startSelection","stopSelection","in_node_webkit"],i.name)&&e.source&&e.origin&&(e.source,e.origin,n=!0,i.langpack&&(a=i.langpack),t(i.name,i))}}),!1)},process:function(e,t){this._process||this.init(),this._process(e,t)},create:function(e,t){x.process("highlight",e),x.process("renderTooltip",e),A(t,I.title)},postMessage:function(e){(0,r.default)((function(){window.parent.jivo_cobrowse.source.postMessage(e,window.parent.jivo_cobrowse.origin)}),0)},isNodeWebkit:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return isNodeWebkit})),isOldCobrowse:function(e){if(10==e.length)return!0;var t=null;try{t=window.atob(e),(0,f.getPageWindow)().document.querySelector(t)}catch(e){t=!1}return!t},getCobrowseData:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(S.log("getCobrowseData",e,t,n,a),x.isOldCobrowse(e)){var r=m.default.base_url+"/script/cobrowsing?hash=".concat(e);w.default.get({url:r},(function(n,a){if(n)return i&&i(!1),void b.Monitoring.telemetry(E.TelemetryName.COBROWSE_FAILED);if(a&&v.default.isObject(a)){if(a&&a.isDeleted)return i&&i(!1),void b.Monitoring.telemetry(E.TelemetryName.COBROWSE_FAILED);0===a.comment.length&&(a.comment=(0,d.default)("lblDefaultCobrowseComment")),a.comment=(0,f.stripBrackets)(a.comment),T.default.stopBlinking();var o=(0,f.getPageWindow)().document.location.href.split("#")[0],r=t&&t+"#jvhs_"+e;t&&o!==t&&o!==encodeURI(t)?(0,f.getPageWindow)().document.location.href=r:(i&&(a.cb=i),x.create(a,r))}}))}else{var l=(0,f.getPageWindow)().location.href,u=l.replace((0,f.getPageWindow)().location.hash,"");if(t&&t!==u){var s;(0,f.getPageWindow)().document.location.href=(0,o.default)(s="".concat(t,"#jvhs_")).call(s,e)}else{var c,h=(t=(0,f.getPageWindow)().document.location.href).split("#")[0],p=(0,o.default)(c="".concat(h,"#jvhs_")).call(c,e),g=null;try{g=window.atob(e)}catch(t){return S.error(t),void b.Monitoring.telemetry(E.TelemetryName.COBROWSE_FAILED,{param1:e,param2:t})}x.create({comment:n?(0,f.stripBrackets)(n):(0,d.default)("lblDefaultCobrowseComment"),element:g,hash:e,page:p,show:!0,agentId:a&&a.agentId,agent:a,cb:i},p)}}}};function M(e){var t=function(e){var t="",n=e.split(" > ");return v.default.each(n,(function(e){t+="/*",-1!==(0,u.default)(e).call(e,":")&&(t+="["+e.substr((0,u.default)(e).call(e,"(")+1,(0,u.default)(e).call(e,")")-(0,u.default)(e).call(e,"(")-1)+"]")})),t}(e),n=I.querySelector(e);return n||I.evaluate(t,I,null,_.default.XPathResultType.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}var R={is_inited:!1,isCobrowseVisible:function(e){return(0,h.isVisible)(e)&&"HTML"!=e.tagName&&"hidden"!=e.style.visibility&&"jivo-iframe-container"!=e.id&&"jivo_container"!=e.id},highlight:function(e){if(S.log("highlight"),"cobrowser-iframe"===window.parent.name&&!this.is_inited&&!O.is_inited){var t=I.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",(0,f.staticUrl)((C.EnvironmentManager.isDevelopment()?"/public":"")+"/css/for_app.css")),I.body.appendChild(t),this.is_inited=!0}var n;if(N(n="string"==typeof e.element?M(e.element):e.element)){if(e.hash&&null!==I.getElementById("#jivo_cobrowsing_element_id_"+e.hash))return this.animateScroll(e);v.default.each(["jivo_cobrowsing_element","jivo_cobrowsing_tooltip"],(function(e){v.default.each(I.getElementsByClassName(e),(function(e){e.parentNode.removeChild(e)}))}));var a,i=N(n),o=i.width,l=i.height;if(S.log(n,e),!n||!this.isCobrowseVisible(n))return"cobrowser-iframe"!==window.parent.name&&b.Monitoring.telemetry(E.TelemetryName.COBROWSE_FAILED),void(e.cb&&e.cb(!1));S.log("overlayCreate"),c(),S.log("overlayCss"),s(i,o,l),S.log("overlayAppend"),d(),window.parent&&"cobrowser-iframe"!==window.parent.name&&b.Monitoring.telemetry(E.TelemetryName.COBROWSE_SUCCESS,{param1:e.hash?e.hash.length:0});var u=function(){var t;if(t="string"==typeof e.element?M(e.element):e.element,a||(c(),d()),t){var n=N(t);s(n,n.width,n.height)}if(a)return a};return(0,r.default)((function(){u()}),50),(0,f.addListener)(window.parent,"resize",u),a||void 0}function s(e,t,i){a.style.width=t+"px",a.style.height=i+"px",a.style.left=e.left-8+"px",a.style.top=e.top-8+"px",D(n)&&(a.style.position="fixed")}function c(){a||((a=I.createElement("jdiv")).className="jivo_cobrowsing_element",a.id="jivo_cobrowsing_element_id_"+e.hash,I.body.appendChild(a))}function d(){if(!a){var e=I.createElement("jdiv");a.className="jivo_cobrowsing_element_inner",a.appendChild(e)}}S.log("cobrowse element position failed.")},renderTooltip:function(e){S.log("renderTooltip",e);var t,n=null!==I.getElementById("#jivo_cobrowsing_element_id_"+e.hash);if(!1!==n)return this.animateScroll(e),n;if(!(t="string"==typeof e.element?M(e.element):e.element)||!this.isCobrowseVisible(t))return S.log("Error render tooltip, element not visible"),void(e.cb&&e.cb(!1));var a=I.createElement("jdiv");a.className="",a.id="jivo_content_cobrowsing_tooltip",a.style.width="100%",a.style.height="auto";var i=I.createElement("jdiv");return i.className="jivo_cobrowsing_tooltip",g.default.mobile()&&(i.style.width="200px"),i.id="jivo_cobrowsing_tooltip_"+e.hash,D(t)&&(i.style.position="fixed"),i.appendChild(a),e.show&&(i=this.addTooltipContent(i,e,t),e.cb&&e.cb(!0)),i},appendTooltip:function(e,t){var n=e.childNodes[0];I.body.appendChild(e);var a=function(){if((0,h.addClass)(n,"jivo-bottom"),(0,h.removeClass)(n,"jivo-top jivo-left jivo-right"),t){var a=N(t),i=(0,f.getPageWindow)(),o=a.width,r=a.height,l=a.left+o/2,u=a.top-30+15,s=N(e),c=N(n),d=i.innerWidth||i.outerWidth,p=s.width/2*-1;u<c.height+10?(u=a.top+r+10,n.className+=" jivo-top"):(n.style.position="absolute",n.style.bottom="10px"),l+p<10&&(l=35,p=0,n.className+=" jivo-left"),g.default.mobile()?l+s.width+p>d&&(p=0,l=d-s.width):l+s.width>d&&(p=-1*s.width,l=a.left+o-30,n.className+=" jivo-right"),e.style.left=(0!==l?l:35)+"px",e.style.top=u+"px",e.style.marginLeft=p+"px"}};a(),e.style.opacity=0,this.animateScroll(null,t,n),(0,r.default)((function(){a(),e.style.opacity=1}),300),(0,f.addListener)(window.parent,"resize",a)},addTooltipContent:function(e,t,n){S.log("addTooltipContent",t);var a=e.childNodes[0],i=32&m.default.options&&t.agent,r=I.createElement("jdiv");r.dir="ltr",r.id="jivo_action",r.className="jivo-desktop";var l=window.parent.document.createElement("jdiv");if(l.id="jivo_close_button",l.innerHTML=y.default,r.appendChild(l),a.appendChild(r),l.addEventListener("click",(function(n){n.preventDefault();var a,i,o,r=I.getElementsByClassName("jivo_cobrowsing_element")[0];r.parentNode.removeChild(r),a=t.hash,o=window.top,(0,u.default)(i=o.location.href).call(i,"#jvhs_"+a)>0&&A(o.location.href.replace("#jvhs_"+a,""),(0,f.getCurrentPage)().title),e.parentNode.removeChild(e)})),i&&t.agent){if(t.agent.avatar_url){var d,h,p=I.createElement("jdiv");p.className="jivo_cobrowsing_tooltip_avatar",a.appendChild(p),c.default.render(s.default.createElement(k.default,{dark:!1,inChat:!0,url:(0,o.default)(d=(0,o.default)(h="".concat((0,f.getProtocol)())).call(h,m.default.avatar_url,"/avatars/")).call(d,t.agent.avatar_url)}),p)}var g=I.createElement("jdiv");g.innerText=t.agent.display_name,g.className="jivo_cobrowsing_tooltip_agent",a.appendChild(g)}var v=I.createElement("jdiv");return v.innerHTML=t.comment.split("\n").join("<br />"),v.className="jivo_cobrowsing_tooltip_text",a.appendChild(v),this.appendTooltip(e,n),e},animateScroll:function(e,t,n){if(e&&(t=I.getElementById("#jivo_cobrowsing_element_id_"+e.hash),n=I.getElementById("#jivo_cobrowsing_tooltip_"+e.hash).childNodes[0]),D(t))S.log("Ignore scroll for fixed element");else{var a={top:(n&&(0,h.hasClass)(n,"jivo-top")?N(t).top:N(n.parentNode).top)-300};I.documentElement&&"scrollBehavior"in I.documentElement.style&&(a.behavior="smooth"),S.log("scrollTo",a),window.parent.scrollTo(a)}}},O={is_selecting:!1,is_tooltip_open:!1,is_inited:!1,langpack:{},init:function(){if(!this.is_inited){var e=I.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",(0,f.staticUrl)((C.EnvironmentManager.isDevelopment()?"/public":"")+"/css/for_app.css")),I.body.appendChild(e),(0,f.removeEvent)(window.parent,"keydown",this.keydownListener),(0,f.addListener)(window.parent,"keydown",this.keydownListener),this.is_inited=!0}},keydownListener:function(e){27===e.keyCode&&O.onEsc()},setLangpack:function(e){this.langpack=e},i18n:function(e){return this.langpack[e]?this.langpack[e]:e},startSelection:function(){var e=O;(0,h.addClass)(I.body,"jivo_selecting"),e.is_selecting=!0,v.default.each(["input","textarea","select","button"],(function(e){v.default.each(I.getElementsByTagName(e),(function(e){var t=I.createElement("jdiv"),n=N(e);t.style.width=n.width+"px",t.style.height=n.height+"px",t.style.left=n.left+"px",t.style.top=n.top+"px",t.style.position="absolute",t.realNode=e,e.disabled=!0,I.body.appendChild(t)}))})),v.default.each(I.getElementsByTagName("*"),(function(t){(0,f.addListener)(t,"mouseover",e.mouseoverListener),(0,f.addListener)(t,"mouseout",e.clearSelection)}))},stopTagsA:function(){v.default.each(I.getElementsByTagName("a"),(function(e){(0,f.addListener)(e,"click",(function(e){return e.preventDefault(),e.stopPropagation(),!1}))}))},mouseoverListener:function(e){var t=O;if("OPTION"===this.tagName)return!1;t.clearSelection(),R.highlight({element:e.target}),t.stopTagsA(),(0,f.removeEvent)(e.currentTarget,"click",t.clickListener),(0,f.addListener)(e.currentTarget,"click",t.clickListener)},clickListener:function(e){var t=O;e.preventDefault(),e.stopPropagation();var n=this.realNode?this.realNode:this;t.stopSelection(),t.toolTip(n)},stopSelection:function(){var e=O;(0,h.removeClass)(I.body,"jivo_selecting"),v.default.each(["input","textarea","select","button"],(function(e){v.default.each(I.getElementsByTagName(e),(function(e){e.disabled=!1}))})),v.default.each(I.getElementsByClassName("fake_cb_element"),(function(e){e.parentNode.removeChild(e)})),v.default.each(I.getElementsByTagName("*"),(function(t){(0,f.removeEvent)(t,"mouseover",e.mouseoverListener),(0,f.removeEvent)(t,"mouseout",e.clearSelection),(0,f.removeEvent)(t,"click",e.clickListener)})),e.is_selecting=!1},clearSelection:function(){v.default.each(["jivo_cobrowsing_element","jivo_cobrowsing_tooltip"],(function(e){v.default.each(I.getElementsByClassName(e),(function(e){e.parentNode.removeChild(e)}))}))},toolTip:function(e){var t=O,n=R.renderTooltip({element:e}),a=n.childNodes[0];n.className+=" air",n.style.width="auto",a.style.padding="8px",a.style.width="auto",a.style.backgroundColor="";var i=I.createElement("textarea");i.id="cobrowsing_textarea_comment",i.maxLength=200,i.placeholder=t.i18n("cb_enterComment"),i.value="",i.onkeypress=function(n){13===n.keyCode&&(n.preventDefault(),n.stopPropagation(),t.send(e))},t.textInput=i;var o=I.createElement("button");o.className="btn btn-mimi blue on_dark large",o.innerText=t.i18n("cb_send"),o.style.float="right",o.style.position="relative",o.style.marginRight="8px",o.onclick=function(){t.send(e)};var r=I.createElement("button");r.className="btn btn-mimi grey on_dark large",r.innerText=t.i18n("cb_cancel"),r.style.float="right",r.style.position="relative",r.style.marginRight="5px",r.onclick=function(){t.closeTooltip()};var l=I.createElement("jdiv");l.style.clear="both",a.appendChild(i),a.appendChild(r),a.appendChild(o),a.appendChild(l),R.appendTooltip(n,e),i.focus(),t.is_tooltip_open=!0},send:function(e){var t=this.textInput.value;t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");var n={name:"on_send",page_element:function(e){for(var t=[];e.parentNode;){if(e.id){t.unshift("#"+e.id);break}if(e==e.ownerDocument.documentElement)t.unshift(e.tagName);else{for(var n=1,a=e;a.previousElementSibling;a=a.previousElementSibling,n++);t.unshift(e.tagName+":nth-child("+n+")")}e=e.parentNode}return t.join(" > ")}(e),page_url:window.parent.location.href,comment:t};S.log("postMessage",n),x.postMessage(n),g.default.supportsLocalStorage()?window.parent.localStorage.removeItem("jv_".concat(m.default.widget_id,"_tmp_app")):p.default.get("store_".concat(m.default.widget_id,"_tmp_app"),null)},closeTooltip:function(){var e=O;e.stopSelection(),e.is_tooltip_open=!1,e.startSelection(),x.postMessage({name:"on_cancel"})},onEsc:function(){this.is_tooltip_open?this.closeTooltip():this.is_selecting?(this.stopSelection(),x.postMessage({name:"reset"})):x.postMessage({name:"close"})}};function N(e){var t,n,a=0,i=0,o=0,r=0,l={top:0,left:0},u=I,s=u.body;return t=u.documentElement,e&&void 0!==e.getBoundingClientRect?(l=e.getBoundingClientRect(),e&&!D(e)&&(n=(0,f.getPageWindow)(),a=t.clientTop||s.clientTop||0,i=t.clientLeft||s.clientLeft||0,o=n.pageYOffset||t.scrollTop,r=n.pageXOffset||t.scrollLeft),{top:l.top+o-a,left:l.left+r-i,right:l.right,width:e.offsetWidth,height:e.offsetHeight,windowWidth:s.innerWidth,windowHeight:s.innerHeight}):(b.Monitoring.telemetry(E.TelemetryName.COBROWSE_FAILED),!1)}function D(e){var t=!1;if(e)for(var n=e,a=[];n&&"HTML"!==n.tagName;){if(a.unshift(n),window.parent.window.Polymer&&!window.parent.jivo_cobrowse&&n.treeScope_){var o=n[(0,i.default)(n)[0]];"fixed"===getComputedStyle(o).position&&(t=!0)}else"fixed"===getComputedStyle(n).position&&(t=!0);n=n.parentNode}return t}var L=x;t.default=L},62904:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.initConfig=function(e){window.parent.jivo_config=u=e},t.getViHost=function(){return u.vi_host},t.getCometHost=function(){return u.comet.host},t.getConfig=function(){return u},t.default=void 0;var i=a(n(51942)),o=n(24335),r=n(81426),l=window.parent||window,u=l.jivo_config;switch(n.p=(u.static_host||u.base_url)+"/",u||(u={}),u.chat_mode){case"online":case 1:u.chat_mode=r.ChatMode.ONLINE;break;case"offline":case 0:u.chat_mode=r.ChatMode.OFFLINE}u.callback_settings||(u.callback_settings={}),u.widget_color2||"#383345"!=u.widget_color||(u.widget_color="#2F324A",u.widget_color2="#424867",u.power_gradient=1),u.bubble_color||(u.bubble_color="green"),"[object Object]"===Object.prototype.toString.call(l.wix_context)&&"[object Object]"===Object.prototype.toString.call(l.jivo_wix)&&(0,i.default)(u,l.jivo_wix),l.jivo_in_wix_iframe&&(u.widget_orientation="bottom"),o.isDesignerEditor&&(0,i.default)(u,l._desingerConfig);var s=u;t.default=s},84235:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.ACTIVE_TEST=void 0;n(76871);t.ACTIVE_TEST=!1},57018:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.MAX_IMAGE_WIDTH=t.DEFAULT_WIDGET_HEIGHT=t.LABEL_HEIGHT=t.CHAT_WIDTH=t.MINIMAL_WIDGET_HEIGHT=t.MAX_FILE_SIZE=t.MAINT_RECONNECT_TIMEOUT=t.HEADER_HEIGHT=t.CACHE_KEY=t.API_INVITES_CACHE_TIME=t.MP_AGENT_HEIGHT=t.MP_LINE_HEIGHT=t.PROACTIVE_MAX_HEIGHT=t.PROACTIVE_TEXT_LIMIT=t.APP_INVITE_TIME=t.AWAY_CLIENT_TIMEOUT=void 0;t.AWAY_CLIENT_TIMEOUT=144e5;t.APP_INVITE_TIME=8e3;t.PROACTIVE_TEXT_LIMIT=50;t.PROACTIVE_MAX_HEIGHT=74;t.MP_LINE_HEIGHT=19;t.MP_AGENT_HEIGHT=28;t.API_INVITES_CACHE_TIME=18e5;t.CACHE_KEY="api_invites";t.HEADER_HEIGHT=70;t.MAINT_RECONNECT_TIMEOUT=3e5;t.MAX_FILE_SIZE=10485760;t.MINIMAL_WIDGET_HEIGHT=402;t.CHAT_WIDTH=336;t.LABEL_HEIGHT=40;t.DEFAULT_WIDGET_HEIGHT=496;t.MAX_IMAGE_WIDTH=234},18228:function(e,t,n){"use strict";var a=n(87646),i=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(63978)),r=i(n(20368)),l=i(n(39649)),u=i(n(34074)),s=i(n(20116)),c=i(n(14310)),d=i(n(86902)),f=i(n(78914)),h=i(n(87672)),p=i(n(81643)),g=i(n(77766)),m=i(n(33032)),v=i(n(59340)),_=i(n(23765)),y=i(n(68415)),b=i(n(46849)),w=a(n(62904)),E=n(56602),C=n(99112),T=i(n(58061)),k=i(n(36216)),S=i(n(62652)),I=i(n(99357)),A=i(n(67966)),x=i(n(35067)),M=i(n(33535)),R=i(n(27371)),O=n(24335),N=n(33367),D=n(63242),L=i(n(9805)),P=i(n(51362)),j=i(n(40695)),B=i(n(5972)),F=i(n(14282)),H=n(57018),W=n(75737),U=n(94515),z=i(n(93268)),G=i(n(49043)),V=n(23582),q=i(n(13106));function K(e,t){var n=(0,d.default)(e);if(c.default){var a=(0,c.default)(e);t&&(a=(0,s.default)(a).call(a,(function(t){return(0,u.default)(e,t).enumerable}))),n.push.apply(n,a)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)(0,f.default)(n=K(Object(a),!0)).call(n,(function(t){(0,h.default)(e,t,a[t])}));else if(l.default)(0,r.default)(e,(0,l.default)(a));else{var i;(0,f.default)(i=K(Object(a))).call(i,(function(t){(0,o.default)(e,t,(0,u.default)(a,t))}))}}return e}var Z=i(n(75043)).default.name("CONNECTION");function J(){var e=[];return U.EnvironmentManager.isProduction()||"https:"===(0,E.getProtocol)()?e.unshift("wss://"+(0,w.getCometHost)()+"/cometcn"):e.unshift("ws://"+(0,w.getCometHost)()+"/cometcn"),e}var X=new y.default({namespace:"CONNECTION",messageBuffer:null,jconnection:null,user_token:null,send:function(e,t){Z.log("SEND: ",e,t),this.handle("send",e,t),this.trigger("send",e)},sendIfConnected:function(e){Z.log("sendIfConnected",this.isConnected(),e),this.isConnected()&&(this.handle("send",e),this.trigger("send",e))},setupConnection:function(){var e=this;this.jconnection||(0,E.isWixEditor)()||O.isDesignerEditor||(Z.log("url",J()),this.jconnection=new b.default(J()),this.jconnection.on("connecting",(function(){e.handle("socket_connecting")})),this.jconnection.on("open",(function(){e.handle("socket_connect")})),this.jconnection.on("close",(function(t){e.handle("socket_disconnect",t)})),this.jconnection.on("error",(function(e){Z.error(e)})),this.jconnection.on("message",(function(e){var t;try{t=JSON.parse(e)}catch(e){return Z.error("parse error",e)}if(!t||"object"!==(0,_.default)(t))return Z.error("bad message");t.name&&(Z.log(t.name,t),L.default.getInstance().saveSocketEvent(t)),X.handle("socket_message",t)})),this.jconnection.open())},_sendSocketEvent:function(e,t){var n;Z.log("_sendSocketEvent",e);try{n=(0,v.default)(e)}catch(e){return t&&t(!1),Z.error("stringify error",e)}if("object"==(0,_.default)(e))if("name"in e){var a=this.jconnection.send(n);if(Z.log("Sending "+e.name,a),a){var i=!e.implict&&"offline_message"===e.name;("client_message"==e.name||i)&&this.messageBuffer.push(e),Z.error("send error",a),t&&t(!1)}else L.default.getInstance().saveSocketEvent(e),t&&t(!0)}else Z.error("Attempt to send event without name"),t&&t(!1);else Z.error("Socket event must be object"),t&&t(!1)},isConnected:function(){return"CONNECTED"===this.state},setCustomData:function(e){Z.log("setCustomData",e,this.isConnected()),this.isConnected()?this.send({name:"update_custom_data",custom_data:e}):(this.custom_data=e,this.emit("update_data"))},setUserToken:function(e,t){Z.log("setUserToken",e,this.user_token),this.user_token=e,this.isConnected()?this.send({name:"update_user_token",user_token:e},t):t(!1)},setCaptchaToken:function(e){Z.log("setCaptchaToken",this.cap_token),this.cap_token=e},requestTelemetry:function(e){var t=this.jconnection,n={},a=J().join(",");t?(n.Param1=t.url||a,n.Param2=t.state,n.Param3=t.health):n.Param1=a,N.Monitoring.telemetry(e,n)},checkMaintenance:function(e){(1013===e||w.default.maintenance)&&(Z.log("Maintenance mode on",e,w.default.maintenance),w.default.maintenance=!0,this._cancelEvent("startup"),this._scheduleEvent("startup",H.MAINT_RECONNECT_TIMEOUT))},states:{uninitialized:{_onEnter:function(){this.jconnection&&(this.jconnection.off(),this.jconnection.close(),this.jconnection=null)},send:function(e){this.messageBuffer.push(e),this.transition("CONNECTING")},startup:function(){this.transition("CONNECTING")}},CONNECTING:{_onEnter:function(){this.setupConnection()},socket_connect:function(){this.transition("STARTING_UP")},send:function(e){this.messageBuffer.push(e)},socket_disconnect:function(e){this.transition("uninitialized"),this.checkMaintenance(e.code),this.requestTelemetry(D.TelemetryName.DISCONNECTED)},socket_connecting:function(){}},STARTING_UP:{_onEnter:function(){Q.call(this)},startup_timeout:function(){this.requestTelemetry(D.TelemetryName.STARTUP_TIMEOUT)},socket_disconnect:function(e){this.checkMaintenance(e.code),this.transition("uninitialized")},send:function(e){this.messageBuffer.push(e)},socket_message:function(e){"startup_ok"===e.name?(this._cancelEvent("startup_timeout"),this.transition("CONNECTED")):"resume_ok"==e.name?(e&&e.client_info&&e.client_info.msg_history&&this.messageBuffer.validate(e.client_info.msg_history),this.transition("CONNECTED")):"startup_error"===e.name?("maintenance"==e.err_code&&(w.default.maintenance=!0,this.checkMaintenance(1013)),"moved"==e.err_code&&W.ConfigUtils.reloadConfig((function(e){Z.log("Site is moved",e),X._scheduleEvent("startup",5e3)})),this.transition("DISCONNECTING")):"maintenance"===e.name&&this.transition("DISCONNECTING"),this.emit(e.name,e),this.emit("socket_message",e)}},CONNECTED:{_onEnter:function(){this.emit("startup_ok"),this.messageBuffer.flush()},socket_message:function(e){switch(e.name){case"agent_chat_close":w.default.options||(Z.log("DISCONNECT FROM chatserver due agent_chat_close!"),this.transition("DISCONNECTING"));break;case"blacklist":this.transition("DISCONNECTING")}this.emit(e.name,e),this.emit("socket_message",e)},send:function(e,t){this._sendSocketEvent(e,t)},socket_disconnect:function(e){Z.log("close",e),this.checkMaintenance(e.code),1e3==e.code&&this.trigger("disconnecting"),this.transition("uninitialized")},startup:function(){this.emit("startup_ok")},socket_connecting:function(){var e=this;(0,m.default)((function(){e.requestTelemetry(D.TelemetryName.JC_RECONNECT)}),2e3),this.transition("CONNECTING")}},DISCONNECTING:{_onEnter:function(){this.jconnection.close(),this.trigger("disconnecting")},socket_disconnect:function(e){this.transition("uninitialized")}}}});X.messageBuffer=new F.default(X),X.ifNeedConnect=function(){if(V.FeatureManager.isEnabled(V.Feature.RECAPTCHA)){var e=q.default.getInstance();if(e&&e.isBlocked())return!1}if(!w.default.maintenance){var t=(0,E.isWixEditor)()||O.isDesignerEditor,n=z.default.get("is_blacklisted"),a=!S.default.is_online&&1==w.default.hide_offline&&!S.default.chat_started,i=I.default.getUndelivered().length,o=T.default.mobileOrTablet()&&1==w.default.disable_mobile;return t||n||a||o?(Z.log("Connection disabled for wix editor"),!1):k.default.jv_sess_id&&!S.default.chat_started?(Z.log("Connection disabled chat not started."),!1):k.default.jv_sess_id||S.default.chat_started||!w.default.botmode?!(X.isConnected()||!(0,C.pageVisible)())&&(S.default.is_online&&i?(Z.log("Online and send undelivered."),!0):!(!k.default.jv_sess_id||(0,E.isAppCobrowse)())||!(S.default.is_online||!S.default.chat_started)):(Z.log('Connection disabled for "Google bots".'),!1)}Z.log("Maintenance mode on!")};var $=function(){k.default.jv_sess_id&&S.default.reload(),Z.log("ifNeedConnect",X.ifNeedConnect()),X.ifNeedConnect()&&X.handle("startup")};$(),(0,E.listenVisibility)($),X.on("socket_message",(function(e){Z.log("socket_message",e),e.method&&M.default[e.params.type]?M.default[e.params.type](e.params.body):e.method?M.default[e.method](e):M.default[e.name]&&M.default[e.name](e)})),X.on("disconnecting",(function(){M.default.disconnecting&&M.default.disconnecting()}));function Q(){var e,t,n=this;Z.log("onAppStartingUp");var a={name:"startup",jv_widget_id:(0,w.getConfig)().widget_id,site_id:(0,w.getConfig)().site_id,current_page:{title:(0,E.getCurrentPage)().title,url:P.default.decodeString((0,E.getCurrentPage)().url)},is_mobile:T.default.mobileOrTablet(),visits_count:B.default.get("visits_count")-0,jv_client_id:k.default.client_id,pa_id:k.default.pa_id,client_name:k.default.client_info.client_name,email:k.default.client_info.email,phone:k.default.client_info.phone,description:k.default.client_info.description,page_visible:(0,C.pageVisible)(),chat_opened:0===(0,p.default)(e=S.default.route).call(e,"chat")&&-1===(0,p.default)(t=S.default.route).call(t,"min"),chat_id:I.default.getChatId(),widget_version:U.EnvironmentManager.getVersion(),abtest:R.default.getActiveTestAsString()};Z.log("STARTING_UP",k.default.client_id),k.default.visitorId&&(a.visitor_id=k.default.visitorId);var i=k.default.utm,o=i.campaign,r=i.source,l=i.medium,u=i.keyword,s=i.content;if(o||r||l||u||s){var c=Y(Y(Y(Y(Y({},o&&{campaign:o}),r&&{source:r}),l&&{medium:l}),u&&{keyword:u}),s&&{content:s});a.new_utm=c}k.default.jv_sess_id||(a.history=x.default.get()),Z.log("proactive on startup");var d=I.default.getCurrentProactive();A.default.get("text")&&(d=A.default),d&&d.get("text")&&d.get("body")&&(a.proactive_rule={invitation_text:d.get("text"),agent_id:d.get("body").agent_id,private_id:d.get("private_id"),created_ts:Math.floor(d.get("created_ts")/1e3)});var h=I.default.getLastUnreadApiInvitation();h&&(a.proactive_rule={invitation_text:h.get("text"),agent_id:h.get("body").agent_id,private_id:h.get("private_id"),created_ts:Math.floor(h.get("created_ts")/1e3)});var _=I.default.getUndelivered();if(_.length){var y=S.default.is_online?"client_message":"offline_message";(0,f.default)(_).call(_,(function(e){var t={name:y,message:e.get("text"),private_id:e.get("private_id")},a=e.get("private_id");a&&(n.messageBuffer.hasMessage(a)||X.messageBuffer.push(t))}))}this.custom_data&&(a.custom_data=this.custom_data),this.user_token&&(a.user_token=this.user_token);var b=j.default.isAnalyticsIdAvaiable();if(b&&(a.analytics=b),(z.default.get("is_blacklisted")||1==w.default.hide_offline&&!S.default.is_online&&!S.default.chat_started)&&this.transition("DISCONNECTING"),V.FeatureManager.isEnabled(V.Feature.RECAPTCHA)){var O=q.default.getInstance();O.getToken((function(e){var t=function(e){var t,n;return(0,E.getProtocol)()+w.default.base_url+(0,g.default)(t=(0,g.default)(n="/script/recaptcha-token/".concat(encodeURIComponent(w.default.widget_id),"?visitor_id=")).call(n,encodeURIComponent(k.default.visitorId),"&token=")).call(t,encodeURIComponent(e))}(e);G.default.get({url:t},(function(e,t){e?N.Monitoring.telemetry(D.TelemetryName.RECAPTCHA_ERROR,{param1:"Server error: "+(0,v.default)(e)}):t&&t.ok&&t.token?(N.Monitoring.telemetry(D.TelemetryName.RECAPTCHA_SUCCESS,{param1:t&&t.score}),Z.log("Recaptcha request is successful"),a.cap_token=t.token,n._sendSocketEvent(a),w.default.maintenance||n._scheduleEvent("startup_timeout",3e3)):t&&!t.ok&&(N.Monitoring.telemetry(D.TelemetryName.RECAPTCHA_FAILURE,{param1:t&&t.score,param2:t&&t.reason.join(",")}),Z.log("Recaptcha request is unsuccessful"),O.block(),(0,m.default)((function(){M.default.enableRecaptchaAntispam(),n.transition("DISCONNECTING")}),1500))}))}),(function(e){N.Monitoring.telemetry(D.TelemetryName.RECAPTCHA_ERROR,{param1:"Client error: "+(0,v.default)(e)})}))}else this.cap_token&&(a.cap_token=this.cap_token),this._sendSocketEvent(a),w.default.maintenance||this._scheduleEvent("startup_timeout",3e3)}var ee=X;t.default=ee},92142:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=t.addSyncExclude=void 0;var i=a(n(20368)),o=a(n(39649)),r=a(n(78914)),l=a(n(34074)),u=a(n(20116)),s=a(n(14310)),c=a(n(86902)),d=a(n(23765)),f=a(n(63978)),h=a(n(87672)),p=a(n(59340)),g=a(n(81643)),m=a(n(62107)),v=a(n(62904)),_=a(n(4620)),y=a(n(58061)),b=n(99112),w=a(n(75043));function E(e,t){var n=(0,c.default)(e);if(s.default){var a=(0,s.default)(e);t&&(a=(0,u.default)(a).call(a,(function(t){return(0,l.default)(e,t).enumerable}))),n.push.apply(n,a)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)(0,r.default)(n=E(Object(a),!0)).call(n,(function(t){(0,h.default)(e,t,a[t])}));else if(o.default)(0,i.default)(e,(0,o.default)(a));else{var u;(0,r.default)(u=E(Object(a))).call(u,(function(t){(0,f.default)(e,t,(0,l.default)(a,t))}))}}return e}var T=n(89766).EventEmitter,k=w.default.name("createStore"),S=["pa_id"],I=["widget_color","widget_color2","widget_font_color","show_container","started"];function A(e,t){for(var n in t)if(t[n]&&t[n].constructor&&t[n].constructor===Object)e[n]=e[n]||{},A(e[n],t[n]);else{if(window.parent.window&&window.parent.window.isWixPreview)return!0;-1!==(0,g.default)(m.default).call(m.default,["route"],n)&&y.default.mobileOrTablet()||"cobrowser-iframe"===window.parent.name||-1!==(0,g.default)(I).call(I,n)||(e[n]=t[n])}return e}t.addSyncExclude=function(e){S.push(e),I.push(e)};var x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if("JivoStore"==e.__type)return e;var n=(0,p.default)(e),a=y.default.supportsLocalStorage(),i=new T,o=m.default.debounce((function(){i.emit("update",e)}),10),r=function(){var n=function(t){var n=C({},t);return t?A(n,e):n=e,n};if(a&&!v.default.cookie_domain){var i=n(JSON.parse(window.parent.localStorage.getItem("jv_store_"+t)));window.parent.localStorage.setItem("jv_store_"+t,(0,p.default)(i))}else{var o=n(JSON.parse(_.default.get("store_"+t)));_.default.set("store_"+t,(0,p.default)(o))}},l=function(e,n){var a=e[n];(0,f.default)(e,n,{set:function(e){if(a!=e&&(a=e,o(),t)){if(!(0,b.pageVisible)()&&(0,g.default)(S).call(S,n)>-1)return;if((0,g.default)(I).call(I,n)>-1)return;if(window.parent&&"cobrowser-iframe"===window.parent.name)return;r()}},get:function(){return a}})},u=function e(t){m.default.each(t,(function(n,a){"function"!=typeof n&&(n&&"object"==(0,d.default)(n)&&"number"!=typeof n.length?e(n):l(t,a))}))},s=function(){if(t)try{if(a&&!v.default.cookie_domain){var n=JSON.parse(window.parent.localStorage.getItem("jv_store_"+t));A(e,n);var i=JSON.parse(_.default.get("store_"+t));i&&A(e,i),_.default.set("store_"+t,null)}else A(e,JSON.parse(_.default.get("store_"+t))),a&&(A(e,JSON.parse(window.parent.localStorage.getItem("jv_store_"+t))),window.parent.localStorage.removeItem("jv_store_"+t))}catch(e){k.error(e)}},c=function(){e=JSON.parse(n),u(e),r(),o()};return u(e),s(),(0,f.default)(e,"__type",{enumerable:!1,configurable:!1,writable:!1,value:"JivoStore"}),(0,f.default)(e,"addListener",{enumerable:!1,configurable:!1,writable:!1,value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"update",t=arguments.length>1?arguments[1]:void 0;return"function"==typeof e&&(t=e,e="update"),i.addListener(e,t)}}),(0,f.default)(e,"dispatch",{enumerable:!1,configurable:!1,writable:!1,value:function(){o()}}),(0,f.default)(e,"reload",{enumerable:!1,configurable:!1,writable:!1,value:function(){s()}}),(0,f.default)(e,"reset",{enumerable:!1,configurable:!1,writable:!1,value:function(){c()}}),e};t.default=x},66707:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.cssLoader=void 0;var i=a(n(81643)),o=a(n(62904)),r=a(n(54417));window.parent.__jivoBundleInit(window);var l,u,s=(u=window.parent.location.protocol,-1===(0,i.default)(l=["http","https","http:","https:"]).call(l,u)&&(u="https:"),u+(o.default.static_host&&(~o.default.static_host.search(/\/\/cdn(-\w+)?.jivosite.com(\/\w)?/)||~o.default.static_host.search(/\/\/code(-\w+)?.jivosite.com(\/\w)?/))?o.default.static_host:o.default.base_url)+"/css/".concat("7daaddae","/widget.css")),c=new r.default(window.parent.document,s);t.cssLoader=c},75119:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(62904));function o(e){return"custom_langpack"in i.default&&e in i.default.custom_langpack?i.default.custom_langpack[e].replace(/\n/g,"<br />").replace(/&quot;/g,'"').replace(/&#039;/g,"'"):function(e){return window.base_langpack&&window.base_langpack[e]?window.base_langpack[e].replace(/\n/g,"<br />").replace(/&nbsp;/g," "):e}(e)}function r(e){var t=window.parent.currentDownloadLocale,n=window.parent.customLocale,a=window.parent.domKeys;return a&&a[e]&&t&&t[e]?n[e]||t[e]:"{{_"+e+"_}}"}var l=window.parent&&window.parent.__jivoPhraseappEditor?r:o;t.default=l},73113:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i,o=a(n(94198)),r=a(n(51942)),l=a(n(54103)),u=a(n(26394)),s=a(n(69198)),c=n(56602),d=n(99112),f=a(n(58061)),h=a(n(62107)),p=a(n(75043)).default.name("autoResizer"),g=["lineHeight","textDecoration","letterSpacing","fontSize","fontFamily","fontStyle","fontWeight","textTransform","textAlign","direction","wordSpacing","fontSizeAdjust","paddingLeft","paddingRight","width","boxSizing","whiteSpace","wordWrap","paddingTop"],m=function(){function e(t,n){if((0,u.default)(this,e),i)return i.element=t,i.config=n,i.bindEvents(),i;if(t){this.element=t;var a=t.offsetHeight;"original"===n.maxSize&&(n.maxSize=a),"original"===n.minSize&&(n.minSize=a),this.config=n,this.bindEvents(),this.container=this.initializeContainer(),this.clone=this.initializeClone(),i=this}else p.warn("no element provided to resize!")}return(0,s.default)(e,[{key:"bindEvents",value:function(){var e,t,n,a;(0,c.addListener)(this.element,"keyup",(0,l.default)(e=this.check).call(e,this)),(0,c.addListener)(this.element,"keypress",(0,l.default)(t=this.check).call(t,this)),(0,c.addListener)(this.element,"change",(0,l.default)(n=this.check).call(n,this)),(0,c.addListener)(this.element,"paste",(0,l.default)(a=this.check).call(a,this))}},{key:"initializeContainer",value:function(){if(p.log("initializeContainer"),this.container)return this.container;var e=null;return(e=document.createElement("jdiv")).style.position="absolute",e.style.top="-9999px",e.style.width="0px",e.style.height="0px",e.style.padding="0px",e.style.overflow="hidden",document.body.appendChild(e),e}},{key:"initializeClone",value:function(){if(this.clone)return this.clone;p.log("initializeClone");var e=document.createElement("jdiv");return e.setAttribute("id","jv-autoresize"),this.container.appendChild(e),e}},{key:"updateClone",value:function(){var e=this;h.default.each(g,(function(t){var n=(0,d.getComputedStyleAll)(e.element,t);n&&(e.clone.style[t]=n)})),this.clone.style.display="block"}},{key:"afterResize",value:function(){(f.default.tablet()?this.element.scrollHeight:this.element.offsetHeight)>=this.config.maxSize&&this.element.style.setProperty("overflow-y","auto","important")}},{key:"updateConfig",value:function(e){p.log("updateConfig",e),(0,r.default)(this.config,e)}},{key:"check",value:function(){this.updateClone();var e,t,n=this.element.value||this.element.getAttribute("placeholder")||"",a=this.element.offsetHeight;(n=n.length?n:" ")===this.prevValue&&""==n||(this.clone.innerHTML=h.default.escape(n).replace(new RegExp("\\r?\\n","ig"),"<div>.</div>"),e=Math.min(Math.max(this.clone.offsetHeight,this.config.minSize>>0),this.config.maxSize),""==this.element.value&&(e=this.clone.offsetHeight),a!==e&&(t={height:e}),this.prevValue=n,t&&(f.default.mobile()&&(e+=(0,o.default)((0,d.getComputedStyleAll)(this.element,"paddingTop"))+(0,o.default)((0,d.getComputedStyleAll)(this.element,"paddingBottom"))),this.element.setAttribute("style","height: ".concat(e,"px!important")),this.config.onResize&&this.config.onResize.call(this.element),this.config.initCheck=!1,this.afterResize()))}}]),e}();t.default=m},86999:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(2991)),o=a(n(94198));function r(e){return(0,o.default)(s(e).substring(0,2),16)}function l(e){return(0,o.default)(s(e).substring(2,4),16)}function u(e){return(0,o.default)(s(e).substring(4,6),16)}function s(e){return function(e){var t;return 3==e.length&&(e=(0,i.default)(t=e.split("")).call(t,(function(e){return e.toString()+e.toString()})).join("")),e}(e="#"==e.charAt(0)?e.substring(1,7):e)}function c(e){return e=(0,o.default)(e,10),isNaN(e)?"00":(e=Math.max(0,Math.min(e,255)),"0123456789ABCDEF".charAt((e-e%16)/16)+"0123456789ABCDEF".charAt(e%16))}function d(e,t,n){var a=r(e),i=l(e),o=u(e),s=g.toHSV(new h(a,i,o));s.v>0?s.v=s.v*t:s.v=100*(t-1),s.s=s.s*n;var d,f,p,m=g.toRGB(s);return"#"+(d=m.r,f=m.g,p=m.b,c(d)+c(f)+c(p))}function f(e,t,n){e<=0&&(e=0),t<=0&&(t=0),n<=0&&(n=0),e>360&&(e=360),t>100&&(t=100),n>100&&(n=100),this.h=e,this.s=t,this.v=n}function h(e,t,n){e<=0&&(e=0),t<=0&&(t=0),n<=0&&(n=0),e>255&&(e=255),t>255&&(t=255),n>255&&(n=255),this.r=e,this.g=t,this.b=n}function p(e,t,n,a){e<=0&&(e=0),t<=0&&(t=0),n<=0&&(n=0),a<=0&&(a=0),e>100&&(e=100),t>100&&(t=100),n>100&&(n=100),a>100&&(a=100),this.c=e,this.m=t,this.y=n,this.k=a}var g={isLightColor:function(e){return function(e){var t=r(e),n=l(e),a=u(e),i=g.toHSV(new h(t,n,a));return i.v+-.5*i.s}(e)>58},_RGBtoHSV:function(e){var t=new f(0,0,0),n=e.r/255,a=e.g/255,i=e.b/255,o=Math.min(n,a,i),r=Math.max(n,a,i),l=r-o;if(t.v=r,0==l)t.h=0,t.s=0;else{t.s=l/r;var u=((r-n)/6+l/2)/l,s=((r-a)/6+l/2)/l,c=((r-i)/6+l/2)/l;n==r?t.h=c-s:a==r?t.h=1/3+u-c:i==r&&(t.h=2/3+s-u),t.h<0&&(t.h+=1),t.h>1&&(t.h-=1)}return t.h=Math.round(360*t.h),t.s=Math.round(100*t.s),t.v=Math.round(100*t.v),t},_HSVtoRGB:function(e){var t=new h(0,0,0),n=e.h/360,a=e.s/100,i=e.v/100;if(0==a)t.r=255*i,t.g=255*i,t.b=255*i;else{var o,r,l,u=6*n,s=Math.floor(u),c=i*(1-a),d=i*(1-a*(u-s)),f=i*(1-a*(1-(u-s)));0==s?(o=i,r=f,l=c):1==s?(o=d,r=i,l=c):2==s?(o=c,r=i,l=f):3==s?(o=c,r=d,l=i):4==s?(o=f,r=c,l=i):(o=i,r=c,l=d),t.r=255*o,t.g=255*r,t.b=255*l,t.r=Math.round(t.r),t.g=Math.round(t.g),t.b=Math.round(t.b)}return t},_CMYKtoRGB:function(e){var t=new h(0,0,0),n=e.c/100,a=e.m/100,i=e.y/100,o=e.k/100;return t.r=1-Math.min(1,n*(1-o)+o),t.g=1-Math.min(1,a*(1-o)+o),t.b=1-Math.min(1,i*(1-o)+o),t.r=Math.round(255*t.r),t.g=Math.round(255*t.g),t.b=Math.round(255*t.b),t},_RGBtoCMYK:function(e){var t=new p(0,0,0,0),n=e.r/255,a=e.g/255,i=e.b/255;return t.k=Math.min(1-n,1-a,1-i),t.c=(1-n-t.k)/(1-t.k),t.m=(1-a-t.k)/(1-t.k),t.y=(1-i-t.k)/(1-t.k),t.c=Math.round(100*t.c),t.m=Math.round(100*t.m),t.y=Math.round(100*t.y),t.k=Math.round(100*t.k),t},toRGB:function(e){return e instanceof h?e:e instanceof f?this._HSVtoRGB(e):e instanceof p?this._CMYKtoRGB(e):void 0},toHSV:function(e){return e instanceof f?e:e instanceof h?this._RGBtoHSV(e):e instanceof p?this._RGBtoHSV(this._CMYKtoRGB(e)):void 0},toCMYK:function(e){return e instanceof p?e:e instanceof h?this._RGBtoCMYK(e):e instanceof f?this._RGBtoCMYK(this._HSVtoRGB(e)):void 0},genGradientBg:function(e){return"linear-gradient(95deg, "+e+" 20%, "+this.getRightColor(e)+" 80%)"},getRightColor:function(e){return d(e,.9,.9)},getGradientBg:function(e,t){return"linear-gradient(95deg, "+e+" 20%, "+(t||e)+" 80%)"}},m=g;t.default=m},46237:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i,o=a(n(33032)),r=a(n(51942)),l=n(56602),u=a(n(45808)),s=n(21224),c=window.parent?window.parent.document:null,d=0,f=0,h=new(0,n(89766).EventEmitter),p=null,g=(0,r.default)(h,{attach:function(e){e&&(e.style.cursor="move",(0,l.addListener)(e,"mousedown",(function(e){e.preventDefault(),d=e.screenX,f=e.screenY,_()})))}}),m=function(e){e.preventDefault(),g.emit("move",e,d-e.screenX,f-e.screenY),clearTimeout(i),i=(0,o.default)((function(){y()}),500)},v=function(e){e.preventDefault(),y()},_=function(){c&&(p||(p=u.default.get(s.Component.MOUSE_TRACK)),g.emit("start"),p.style.display="block",(0,l.addListener)(p,"mousemove",m),(0,l.addListener)(p,"mouseup",v))},y=function(){c&&(g.emit("stop"),p.style.display="none",(0,l.removeEvent)(p,"mousemove",m),(0,l.removeEvent)(p,"mouseup",v),clearTimeout(i))},b=g;t.default=b},34777:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(51942)),o=a(n(3649)),r=a(n(86902)),l=a(n(78914)),u=a(n(81643)),s=a(n(77766)),c=a(n(62904)),d=n(56602),f=a(n(75119)),h=a(n(47321)),p=a(n(33109)),g=n(33367),m=a(n(62652)),v=a(n(36216)),_=a(n(69961)),y=n(63242),b=n(94515),w=a(n(56152)),E=n(10404),C=n(57018),T=a(n(58061)),k=a(n(75043)).default.name("fileUploader"),S="https://api.jivosite.com";if(!b.EnvironmentManager.isProduction()){var I=c.default.api_host||"",A=c.default.base_url||"",x=I?I.replace("code",""):"api"+A.replace("//code","");S=(0,d.getProtocol)()+"//"+x}var M=new(0,n(89766).EventEmitter),R={isInited:!1,xhr:!1,xhrS3:!1,getFileInfo:function(e,t){O.emit("uploading",e);var n=new w.default(e);if(n.isValid())R.checkIfFileReadIsNeeded(e,t);else{var a=n.getReason();R.emitError(a,e)}},emitError:function(e,t){if(e){var n=null,a=null;switch(e){case E.FileUploadError.FILE_SIZE_EXCEEDED:n=(0,f.default)("file_upl_error_max_size").replace("_FILESIZE_",(0,d.humanFileSize)(C.MAX_FILE_SIZE)),a=null;break;case E.FileUploadError.NO_EXTENSION:n=(0,f.default)("file_upl_error_no_ext"),a={param1:"no_ext"};break;case E.FileUploadError.RESTRICTED_FILE_TYPE:n=(0,f.default)("file_upl_error"),a={param1:(0,d.getFileExtension)(t.name)}}O.emit("error",n,t,!0),a&&g.Monitoring.telemetry(y.TelemetryName.FILE_UPLOAD_ERROR,a)}},checkIfFileReadIsNeeded:function(e,t){"photo"===(0,d.detectType)(e.type)&&"FileReader"in window?R.readFileContent(e,t):R.getS3Credentials(e)},readFileContent:function(e,t){var n=new FileReader;n.onload=function(){var a=new Image;a.onload=function(){if(e.width=a.width,e.height=a.height,!t&&(a.width>320||a.height>320)&&T.default.supportsImageResize()){var n=p.default.create(a,e);R.getFileInfo(n,e)}else R.getS3Credentials(e,t)},a.onerror=function(e){k.log("FileReader error",e),g.Monitoring.telemetry(y.TelemetryName.FILE_UPLOAD_ERROR,{param1:"image_generate_failed"})},a.src=n.result},n.onprogress=function(e){},n.readAsDataURL(e)},getS3Credentials:function(e,t){var n,a,i,o,r=(0,d.getFileExtension)(e.name);r=r.toLowerCase();var l=(0,s.default)(n="gain?extension=".concat(encodeURIComponent(r),"&allow_content_type=1&type=")).call(n,encodeURIComponent(e.type)),u=(0,s.default)(a=(0,s.default)(i=(0,s.default)(o="/api/".concat("1","/sites/")).call(o,c.default.site_id,"/widgets/")).call(i,c.default.widget_id,"/media/transfer/access/")).call(a,l),h=new XMLHttpRequest;h.open("GET",S+u),h.onload=function(){if(200===h.status){k.log("API responce:",JSON.parse(h.responseText));var n=JSON.parse(h.responseText);R.startUpload(e,!1,n,t)}else k.error("API Request failed.  Returned status of ",h.status),O.emit("error",(0,f.default)("file_upl_error"),e),g.Monitoring.telemetry(y.TelemetryName.FILE_UPLOAD_ERROR,{param1:"api_status_failed"})},h.addEventListener("error",(function(t){k.log("API error:",t),O.emit("error",(0,f.default)("file_upl_error"),e),g.Monitoring.telemetry(y.TelemetryName.FILE_UPLOAD_ERROR,{param1:"api_xhr_error"})}),!1),h.send(),R.xhrS3=h},abort:function(){k.log("abort upload"),R.xhr&&R.xhr.abort(),R.xhrS3&&R.xhrS3.abort(),O.emit("abort")},startUpload:function(e,t,n,a){var i=R.buildBodyFormData(n,e);if(i){var o=new XMLHttpRequest;o.upload.addEventListener("progress",(function(e){e.lengthComputable&&O.emit(a?"thumbProgress":"progress",e.loaded,e.total)}),!1),o.addEventListener("load",(function(t){t.target&&204==t.target.status?(k.log(a?"thumbComplete":"complete",t),e.icon_type=(0,d.detectType)(e.type),O.emit(a?"thumbComplete":"complete",e,n.url+"/"+i.url,a||null)):(k.log("not received response",t),O.emit("error",(0,f.default)("file_upl_error"),e),g.Monitoring.telemetry(y.TelemetryName.FILE_UPLOAD_ERROR,{param1:"s3_no_responce"}))}),!1),o.addEventListener("error",(function(t){k.log("upload error",t),O.emit("error",(0,f.default)("file_upl_error"),e),g.Monitoring.telemetry(y.TelemetryName.FILE_UPLOAD_ERROR,{param1:"s3_xhr"})}),!1),o.addEventListener("abort",(function(e){O.emit("cancel")}),!1),o.open("POST",n.url),o.send(i.formData),k.log("upload started."),O.emit(a?"thumbUploading":"uploading",e,i,t),R.xhr=o}else k.log("s3 credentials error, abort uploading.")},getEscapedFileName:function(e){var t;try{t=encodeURIComponent(e)}catch(e){k.log("too ugly file name",e),t=!1}return t},buildBodyFormData:function(e,t){var n,a;if(k.log("buildBody",e,t),e.error_list)return e.error_list.length&&-1!==(0,u.default)(a=e.error_list).call(a,"expired_license")&&(h.default.disableFileUpload(),O.emit("disableFileUpload")),O.emit("error",(0,f.default)("file_upl_error"),t),void g.Monitoring.telemetry(y.TelemetryName.FILE_UPLOAD_ERROR,{param1:"s3_error"});var i={signature:"X-Amz-Signature",credential:"X-Amz-Credential",algorithm:"X-Amz-Algorithm",policy:"Policy",date:"X-Amz-Date"},s=e.key.split("/")[3],c=new FormData;c.append("acl","public-read"),c.append("Content-Type",t.type),c.append("key",e.key),c.append("Content-disposition","attachment; filename*=UTF-8''"+R.getEscapedFileName(t.name)),(0,l.default)(n=(0,r.default)(e)).call(n,(function(t){i[t]&&c.append(i[t],e[t])}));var d=new Blob([(0,o.default)(t).call(t)],{type:t.type});return c.append("file",d,R.getEscapedFileName(t.name)),{fileName:s,url:e.key,formData:c}},isPreviewImage:function(e){var t=e.toLowerCase();return/\.(gif|jpg|jpeg|png)$/i.test(t)},isFileUploadEnabled:function(){return m.default.is_online?!_.default.bot_id&&!c.default.disable_filetransfer&&0!=c.default.options:!c.default.disable_filetransfer&&0!=c.default.options&&v.default.is_introduced}},O=(0,i.default)(M,R);O.addListener("thumbComplete",(function(e,t,n){n.imagePreview=t,O.getS3Credentials(n)}));var N=O;t.default=N},66434:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.filterMessage=void 0;var i=a(n(23765)),o=a(n(99357));t.filterMessage=function(e){var t=/^\/service/.test(e.text),n="object"===(0,i.default)(e.media),a=e.msg_id,r=!t;if("number"==typeof a){var l=!!o.default.getMessageById(a);r=r&&!l}if(n){var u="client"===e.from&&"media"!==e.type&&n&&"error"===e.media.type;r=r&&!u}return e.deleted&&(r=!1),r}},18389:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(3649)),o=a(n(23765)),r=function(e,t,n){for(;t<e.length;t++)l(e[t])&&(e[t]=n);return e},l=function(e){return!e.match(/[\s()-]/)},u={toPattern:function(e,t){var n,a="object"===(0,o.default)(t)?t.pattern:t,u=a.replace(/\W/g,""),s=a.split(""),c=e.toString().replace(/\W/g,""),d=c.replace(/\W/g,""),f=0,h=s.length,p="object"===(0,o.default)(t)?t.placeholder:void 0;for(n=0;n<h;n++){if(f>=c.length){if(u.length===d.length)return s.join("");if(void 0!==p&&u.length>d.length)return r(s,n,p).join("");break}if(s[n]&&l(s[n])&&c[f].match(/[0-9]/))s[n]=c[f++];else if(s[n]&&l(s[n]))return void 0!==p?r(s,n,p).join(""):(0,i.default)(s).call(s,0,n).join("")}return s.join("").substr(0,n)}};t.default=u},31446:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(3649)),o=a(n(94473)),r=a(n(81643)),l=a(n(78914)),u=a(n(62107)),s=a(n(75043)),c=n(8575),d=n(17673),f=n(91151),h=(s.default.name("Referer"),function(e){var t=[];for(var n in e){var a=e[n],i=function(e){var n=a[e],i=function(a){var i;r=n[a],(0,l.default)(i=r[0]).call(i,(function(n){var i={domain:n,medium:e,name:a};r[1]&&(i.params=r[1]),t.push(i)}))};for(var o in n)i(o)};for(var o in a){var r;i(o)}}return t}(f)),p=function(e,t,n){var a;this.known=!1,this.referer=null,this.medium="unknown",this.search_parameter=null,this.search_term=null,this.referers=n||h;var i=c.parse(e),o=i.hostname;if(this.known=Boolean(~(0,r.default)(a=["http:","https:"]).call(a,i.protocol)),this.uri=i,this.known){if(t)if(c.parse(t).hostname===o)return void(this.medium="internal");var l=this._lookup_referer(o,i.pathname,!0);if(l||(l=this._lookup_referer(o,i.pathname,!1))){if(this.referer=l.name,this.medium=l.medium,"search"===l.medium){if(!l.params)return;var s=u.default.extend(d.parse(i.hash),d.parse(i.query));for(var f in s){var p,g=s[f];-1!==(0,r.default)(p=l.params).call(p,f.toLowerCase())&&(this.search_parameter=f,this.search_term=g)}}}else this.medium="unknown"}};p.prototype.searchReferer=function(e){return(0,o.default)(u.default).call(u.default,this.referers,(function(t){return t.domain instanceof RegExp&&e.search(t.domain)>-1||(t.domain===e||void 0)}))},p.prototype._lookup_referer=function(e,t,n){var a=null;if(!(a=n?this.searchReferer(e+t):this.searchReferer(e))&&n){var o=t.split("/");if(o.length>1)try{a=this.searchReferer(e+"/"+o[1])}catch(e){}}if(a)return a;try{var l=(0,r.default)(e).call(e,".");if(-1===l)return null;var u=(0,i.default)(e).call(e,l+1);return this._lookup_referer(u,t,n)}catch(e){return null}};var g=p;t.default=g},33109:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var a={reduceImage:function(e,t){var n=0,i=0,o=e.width/e.height;e.width/320>e.height/320?(n=320,i=Math.floor(320/o)):(n=Math.floor(320*o),i=320);var r=Math.ceil(Math.log(e.width/n)/Math.log(2))-2,l=document.createElement("canvas"),u=l.getContext("2d");l.width=e.width,l.height=e.height,u.drawImage(e,0,0,l.width,l.height);for(var s=0;s<r;s++)l=a.reduceImageStep(l);var c=document.createElement("canvas");return c.width=n,c.height=i,c.getContext("2d").drawImage(l,0,0,c.width,c.height),c.toDataURL(t.type)},reduceImageStep:function(e){var t=document.createElement("canvas");return t.width=e.width/2,t.height=e.height/2,t.getContext("2d").drawImage(e,0,0,t.width,t.height),t},dataURItoBlob:function(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],a=new ArrayBuffer(t.length),i=new Uint8Array(a),o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return new Blob([a],{type:n})},createFile:function(e,t){window.URL;var n=a.dataURItoBlob(e),i="thumb_"+t.name;return new File([n],i,{type:t.type,lastModified:new Date})},create:function(e,t){var n=a.reduceImage(e,t);return a.createFile(n,t)}},i=a;t.default=i},51362:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(3649)),o=a(n(94198)),r=a(n(81643)),l=a(n(89400)),u=a(n(62107)),s=n(33367),c=a(n(4620)),d=a(n(36216)),f=a(n(31446)),h=a(n(75043)),p=a(n(10505)),g=n(56602),m=n(17673),v=h.default.name("utm"),_={utmccn:"campaign",utmcsr:"source",utmcmd:"medium",utmctr:"keyword",utmcct:"content"},y={parseUtmz:function(e){var t={};if(e){var n,a=decodeURI(e).replace(/^[0-9\.]*/g,"");if(a)for(var i=a.split("|"),o=0;o<i.length;o++)(n=i[o].substr(0,6))in _&&(t[_[n]]=i[o].substr(7))}return t},parseUTM:function(e,t,n){var a={},i=!1;try{a=this.parseUtmz(c.default.get("__utmz"))}catch(e){s.Monitoring.reportException({message:"utmz parse error",stack:e.stack,lineNumber:1,fileName:"utm.js",column:1})}if(v.log("parseUTM",n),n)for(var o,d=n.split("|"),h=(0,l.default)(u.default).call(u.default,_),y=0;y<d.length;y++)2===(o=d[y].split("=")).length&&(o[0]=o[0].toLowerCase(),(0,r.default)(h).call(h,o[0])>=0?(a[o[0]]=o[1],i=!0):"term"===o[0]&&(a.keyword=o[1]));if(v.log("finish utmz, utmparams",a),!i)if("string"==typeof t&&""!==t){var b=new f.default(t,e);if(v.log("processing_refer",b,t,e),!b.known)return void v.log("unknown_refer");if("internal"===b.medium){if(b.uri.query&&b.uri.query.length){var w=this.decodeString(b.uri.query),E={};try{E=m.parse(w)}catch(e){s.Monitoring.reportException({message:"querystring parse error: "+w,stack:e.stack,lineNumber:72,fileName:"utm.js",column:1});var C=this.getUTMParamsFromUrl(w);for(var T in C)if(C[T]){var k=C[T].split("=");k.length&&(E[k[0]]=k[1])}}for(var S in _)E["utm_"+_[S]]&&(a[_[S]]=E["utm_"+_[S]]);E.utm_term&&(a.keyword=E.utm_term),v.log("query params:",a)}(0,g.isEmpty)(a)&&u.default.extend(a,{campaign:"(direct)",source:"(direct)"})}else"unknown"===b.medium?u.default.extend(a,{campaign:"(referral)",medium:"referral",source:p.default.toUnicode(b.uri.hostname),content:b.uri.path}):u.default.extend(a,{campaign:"(organic)",source:b.referer,medium:b.medium,keyword:b.search_term,content:""})}else(0,g.isEmpty)(a)&&u.default.extend(a,{campaign:"(direct)",source:"(direct)"});return a.keyword&&(a.keyword=this.decodeString(a.keyword)),a.content&&(a.content=this.decodeString(a.content)),a.campaign&&(a.campaign=this.decodeString(a.campaign)),v.log("FINISH UTM",u.default.omit(a,g.isEmpty)),u.default.omit(a,g.isEmpty)},decodeString:function(e){try{e=decodeURIComponent(e)}catch(t){return v.log(t),this.decode(e)}return e},decode:function(e){return(e=(e=(e=e.replace(/%([EF][0-9A-F])%([89AB][0-9A-F])%([89AB][0-9A-F])/gi,(function(e,t,n,a){var i=(0,o.default)(t,16)-224,r=(0,o.default)(n,16)-128;if(0==i&&r<32)return e;var l=(i<<12)+(r<<6)+((0,o.default)(a,16)-128);return l>65535?e:String.fromCharCode(l)}))).replace(/%([CD][0-9A-F])%([89AB][0-9A-F])/gi,(function(e,t,n){var a=(0,o.default)(t,16)-192;if(a<2)return e;var i=(0,o.default)(n,16)-128;return String.fromCharCode((a<<6)+i)}))).replace(/%([0-7][0-9A-F])/gi,(function(e,t){return String.fromCharCode((0,o.default)(t,16))}))).replace(/%[A-Z0-9]{2}/gi,"")},getUTMParamsFromUrl:function(e){for(var t=(0,r.default)(e).call(e,"?"),n=null;-1!=n;)(n=(0,r.default)(e).call(e,"?",t+1))>0&&(t=n);var a,o,l=e.substr(t+1).split("&"),u="";for(o=l.length;o--;){var s;if(a=l[o].split("="),(0,r.default)(s=a[0]).call(s,"utm_")>=0){var c=(a=(a=l[o]).replace(/\|/gi,"%7C")).split("=");c.length>1&&(a=c[0]+"="+(0,i.default)(c).call(c,1).join("%3D")),u+=(u.length>0?"|":"")+a.substr((0,r.default)(a).call(a,"utm_")+4)}}return u},setUTM:function(e,t){var n=y.getUTMParamsFromUrl(e),a=y.parseUTM(e,t,n);d.default.utm.campaign=a&&a.campaign||null,d.default.utm.source=a&&a.source||null,d.default.utm.medium=a&&a.medium||null,d.default.utm.keyword=a&&a.keyword||null,d.default.utm.content=a&&a.content||null}},b=y;t.default=b},301:function(e,t,n){"use strict";var a=n(60530),i=a(n(3649)),o=a(n(59340)),r=a(n(33032));!function(){"undefined"==typeof window&&(window=n.g);var e,t=2e4,a=2e3,l=32e3,u=3e4,s=function(t,n){if("function"==typeof e[t])try{return e[t](n)}catch(n){if("onerror"!==t)try{e.onerror(n)}catch(e){}}},c=function(e){return void 0===e?"":("string"!=typeof e&&(e=String(e)),e.replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/[\x00-\x19]/g," "))},d=function(e){return Math.random()*e<<0},f=/^-?[a-zA-Z0-9]{1,16}$/,h=/^[_a-zA-Z][_a-zA-Z0-9]{0,7}$/,p=/^[a-zA-Z0-9]{10}$/;window.ClientSocket=function(){if(e)return e;e=this;var n,g,m,v,_=a,y=0,b=function e(){try{g.send(".")}catch(e){}m=(0,r.default)(e,t)},w=function(){g.onclose=null,g.onerror=null,g.onmessage=null,g.onopen=null,g.CLOSING>g.readyState&&g.close()},E=function f(){g&&(w(),l<(_<<=1)&&(_=l)),g=new WebSocket(n),e.readyState=g.readyState,g.onclose=function(t){if(e.readyState=g.readyState,s("onclose",t.reason),m){if(clearTimeout(m),clearTimeout(v),t.reason){var n=-1;switch(t.reason){case"Protocol Error":case"Unsupported Data":case"Invalid Data":case"Message Too Big":case"Mandatory Ext.":case"Invalid Response":case"Normal Closure":case"Void Time":n=0;break;case"Service Restart":n=6e4+d(6e5);break;case"Try Again Later":n=6e5+d(6e5);break;case"Internal Error":n=18e5+d(6e5);break;case"Going Away":n=36e5+d(6e5);break;case"Policy Violation":n=72e5;break;case"Blacklisted":n=864e5}if(-1!==n)return w(),m=null,void s("ondrop",n)}else s("onerror",new Error("close-is-not-clean"));if(3<=++y)return w(),m=null,s("ondrop",6e5+d(6e5)),void s("onfail","Network Unreachable");m=(0,r.default)(f,_+d(a)),l<(_<<=1)&&(_=l)}},g.onerror=function(e){},g.onmessage=function(e){if(y=0,clearTimeout(v),v=(0,r.default)(f,u),!(1>=e.data.length)){for(var t,n="",a={},l=e.data.split("\n"),d=0;d<l.length;d++)if(l[d]){var h=l[d].split("\t");if(4>h.length)l[d]&&s("onerror","uncomplete-message: "+(0,o.default)(l[d]));else switch(h[3]){case"+":h[0]&&(a.from=h[0]),h[1]&&(a.room=h[1]),h[4]&&(a.ip=h[4]),h[5]&&(a.port=h[5]),a.geoip={},h[6]&&(a.geoip.region=h[6]),h[7]&&(a.geoip.city_country_code=h[7]),h[8]&&(a.geoip.city_country_name=h[8]),h[9]&&(a.geoip.region_name=h[9]),h[10]&&(a.geoip.city=h[10]),h[11]&&(a.geoip.latitude=h[11]),h[12]&&(a.geoip.longitude=h[12]),h[13]&&(a.geoip.org=h[13]),s("onadd",a);break;case"-":h[0]&&(a.from=h[0]),h[1]&&(a.room=h[1]),h[4]&&(a.code=h[4]),s("ondel",a);break;default:if(4<h.length)a.key=h[3],h[0]&&(a.from=h[0]),h[1]&&(a.room=h[1]),a.value=5<h.length?(0,i.default)(h).call(h,4):h[4],s("onset",a);else if(h[0]&&(a.from=h[0],a.room=h[1]),a.key=h[3]||"*",t=s("onget",a)){if(n+="\t"+h[1]+"\t"+h[0]+"\t"+h[3],t instanceof Array)for(var p=0;p<t.length;p++)n+="\t"+c(t);else n+="\t"+c(t);n+="\n"}}}n&&C(n)}},g.onopen=function(n){e.readyState=g.readyState,e.url=g.url,e.protocol=g.protocol,_=a,clearTimeout(v),v=(0,r.default)(f,u),clearTimeout(m),m=(0,r.default)(b,t),s("onopen")},clearTimeout(m),m=(0,r.default)(f,_)};this.open=function(e){if("string"!=typeof e)throw new TypeError("invalid-URL");n=e,E()},this.close=function(){g&&(clearTimeout(m),clearTimeout(v),y=0,m=null,g.close(1e3,"Normal Closure"),e.readyState=g.readyState)};var C=function(e){if(e){var n=(e=String(e)).length;if("function"==typeof Blob&&(n=new Blob([e]).size),!(8192>=n))throw new RangeError("message-too-big");clearTimeout(v),v=(0,r.default)(E,u),clearTimeout(m),m=(0,r.default)(b,t),g.send(e)}},T=function(e,t){var n="";if(e.to){if(!f.test(e.to))throw new Error("invalid-TO");if(!e.room||!p.test(e.room))throw new Error("invalid-ROOM");n+="\t"+e.room+"\t"+e.to}else{if("get"===t)throw new Error("get-require-TO-and-ROOM");n+="\t\t"}if("*"===e.key)e.key="";else if(!h.test(e.key))throw new Error("invalid-KEY");return n+="\t"+e.key};this.get=function(e){if(e)try{C(T(e,"get")+"\n")}catch(e){return e}},this.set=function(e){if(e)try{var t=T(e,"set");if(e.value instanceof Array){if(0===e.value.length)return;for(var n=0;n<e.value.length;n++)t+="\t"+c(e.value[n])}else t+="\t"+c(e.value);C(t+"\n")}catch(e){return e}}}}()},75043:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(3649)),o=a(n(77766)),r=a(n(62904)),l=n(94515),u=[],s=3;void 0===window.console&&(window.console={log:function(){},warn:function(){},error:function(){},info:function(){}});var c=Array,d=function(){Array||(Array=c)},f=function(e,t,n,a){if(h(e,t,a),r.default.logs){if(t){if(t+=":","count"===e){var i;if(!r.default.debugOrder)return;t=(0,o.default)(i="".concat(s++," ")).call(i,t),e="warn"}"error"==e&&(t+=" ERROR"),a.unshift(t),n&&!l.EnvironmentManager.isProduction()&&a.unshift("%c%s %s",n)}console[e].apply?console[e].apply(console,a):console[e](a.join())}},h=function(e,t,n){"Monitoring"!=t&&(5==u.length&&u.shift(),u.push("".concat(n.toString().substr(0,60))))},p={name:function(e,t){return f("count",e,null,["code exec started!"]),{log:function(){d();var n=(0,i.default)(Array.prototype).call(arguments||[]);f("log",e,t,n)},info:function(){d();var n=(0,i.default)(Array.prototype).call(arguments);f("info",e,t,n)},warn:function(){d();var n=(0,i.default)(Array.prototype).call(arguments||[]);f("warn",e,t,n)},error:function(){d();var n=(0,i.default)(Array.prototype).call(arguments);f("error",e,t,n)},count:function(){d();var n=(0,i.default)(Array.prototype).call(arguments);f("count",e,t,n)}}},lastLog:u};t.default=p},45609:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.dispatchers=t.updateAgent=t.addAgent=t.initializeAgentStore=void 0;var a=n(54847),i=n(43472),o=n(14890),r=function(e){return{type:a.ActionType.INIT_AGENTS_STORE,payload:e}};t.initializeAgentStore=r;var l=function(e){return{type:a.ActionType.ADD_AGENT,payload:e}};t.addAgent=l;var u=function(e){return{type:a.ActionType.UPDATE_AGENT,payload:e}};t.updateAgent=u;var s={initializeAgentStore:(0,o.bindActionCreators)(r,i.reduxStore.dispatch),addAgent:(0,o.bindActionCreators)(l,i.reduxStore.dispatch),updateAgent:(0,o.bindActionCreators)(u,i.reduxStore.dispatch)};t.dispatchers=s},1476:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.dispatchers=t.setIsInputDisabled=t.setIsContactFormFocused=t.setIsInDrag=t.setLastChatOpened=t.setAppRoute=t.setAppIsFocused=t.setAppIsOnline=t.initializeAppStore=void 0;var i=n(54847),o=n(43472),r=n(14890),l=a(n(62652)),u=function(e){var t=e.isFocused,n=e.isOnline,a=e.route,o=e.tabRoute,r=e.lastChatOpened,l=e.isInputDisabled;return{type:i.ActionType.INIT_APP_STORE,payload:{isFocused:t,isOnline:n,route:a,tabRoute:o,lastChatOpened:r,isInputDisabled:l}}};t.initializeAppStore=u;var s=function(e){return l.default.is_online=e,{type:i.ActionType.SET_APP_IS_ONLINE,payload:{isOnline:e}}};t.setAppIsOnline=s;var c=function(e){return l.default.is_focused=e,{type:i.ActionType.SET_APP_IS_FOCUSED,payload:{isFocused:e}}};t.setAppIsFocused=c;var d=function(e){return l.default.route=e,{type:i.ActionType.SET_APP_ROUTE,payload:{route:e}}};t.setAppRoute=d;var f=function(e){return l.default.lastChatOpened=e,{type:i.ActionType.SET_LAST_CHAT_OPENED,payload:{lastChatOpened:e}}};t.setLastChatOpened=f;var h=function(e){return{type:i.ActionType.SET_IS_IN_DRAG,payload:{isInDrag:e}}};t.setIsInDrag=h;var p=function(e){return{type:i.ActionType.SET_IS_CONTACT_FORM_FOCUSED,payload:{isContactFormFocused:e}}};t.setIsContactFormFocused=p;var g=function(e){return{type:i.ActionType.SET_IS_INPUT_DISABLED,payload:{isInputDisabled:e}}};t.setIsInputDisabled=g;var m={initializeAppStore:(0,r.bindActionCreators)(u,o.reduxStore.dispatch),setAppIsOnline:(0,r.bindActionCreators)(s,o.reduxStore.dispatch),setAppIsFocused:(0,r.bindActionCreators)(c,o.reduxStore.dispatch),setAppRoute:(0,r.bindActionCreators)(d,o.reduxStore.dispatch),setLastChatOpened:(0,r.bindActionCreators)(f,o.reduxStore.dispatch),setIsInDrag:(0,r.bindActionCreators)(h,o.reduxStore.dispatch),setIsContactFormFocused:(0,r.bindActionCreators)(p,o.reduxStore.dispatch),setIsInputDisabled:(0,r.bindActionCreators)(g,o.reduxStore.dispatch)};t.dispatchers=m},13240:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.dispatchers=t.addBot=t.initializeBotsStore=void 0;var a=n(54847),i=n(43472),o=n(14890),r=function(e){return{type:a.ActionType.INIT_BOTS_STORE,payload:e}};t.initializeBotsStore=r;var l=function(e){return{type:a.ActionType.ADD_BOT,payload:e}};t.addBot=l;var u={initializeBotsStore:(0,o.bindActionCreators)(r,i.reduxStore.dispatch),addBot:(0,o.bindActionCreators)(l,i.reduxStore.dispatch)};t.dispatchers=u},86864:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.dispatchers=t.setDelayedPeriods=t.setDelayedTimezone=t.setCallbackError=t.setCallbackStatus=t.setCallbackIsDelayed=t.setDelayedCallbackStatus=t.setCallbackAvailable=t.initializeCallbackStore=void 0;var i=n(54847),o=n(43472),r=n(14890),l=a(n(36216)),u=function(e){var t=e.available,n=e.delayedPeriods,a=e.delayedStatus,o=e.delayedTimezone,r=e.isDelayed,l=e.error,u=e.status;return{type:i.ActionType.INIT_CALLBACK_STORE,payload:{available:t,delayedPeriods:n,delayedStatus:a,delayedTimezone:o,isDelayed:r,error:l,status:u}}};t.initializeCallbackStore=u;var s=function(e){return l.default.cw_call_enabled=e,{type:i.ActionType.SET_CALL_AVAILABLE,payload:{available:e}}};t.setCallbackAvailable=s;var c=function(e){return l.default.cw_call_delayed_status=e,{type:i.ActionType.SET_DELAYED_CALL_STATUS,payload:{delayedStatus:e}}};t.setDelayedCallbackStatus=c;var d=function(e){return l.default.cw_call_delayed=e,{type:i.ActionType.SET_CALL_IS_DELAYED,payload:{isDelayed:e}}};t.setCallbackIsDelayed=d;var f=function(e){return l.default.cw_call.status=e,{type:i.ActionType.SET_CALL_STATUS,payload:{status:e}}};t.setCallbackStatus=f;var h=function(e){return l.default.cw_call.error=e,{type:i.ActionType.SET_CALL_ERROR,payload:{error:e}}};t.setCallbackError=h;var p=function(e){return l.default.cw_call_delayed_tz=e,{type:i.ActionType.SET_DELAYED_TIMEZONE,payload:{delayedTimezone:e}}};t.setDelayedTimezone=p;var g=function(e){return l.default.cw_call_delayed_periods=e,{type:i.ActionType.SET_DELAYED_PERIODS,payload:{delayedPeriods:e}}};t.setDelayedPeriods=g;var m={initializeCallbackStore:(0,r.bindActionCreators)(u,o.reduxStore.dispatch),setCallbackAvailable:(0,r.bindActionCreators)(s,o.reduxStore.dispatch),setDelayedCallbackStatus:(0,r.bindActionCreators)(c,o.reduxStore.dispatch),setCallbackIsDelayed:(0,r.bindActionCreators)(d,o.reduxStore.dispatch),setCallbackStatus:(0,r.bindActionCreators)(f,o.reduxStore.dispatch),setCallbackError:(0,r.bindActionCreators)(h,o.reduxStore.dispatch),setDelayedTimezone:(0,r.bindActionCreators)(p,o.reduxStore.dispatch),setDelayedPeriods:(0,r.bindActionCreators)(g,o.reduxStore.dispatch)};t.dispatchers=m},31505:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.dispatchers=t.setJoinedBots=t.addJoinedAgent=t.setNoJoinedBots=t.setNoJoinedAgents=t.setJoinedAgents=t.setDepartment=t.setChatEvaluated=t.setAgentTyping=t.startChat=t.updateChat=t.initializeChatsStore=void 0;var i=a(n(78914)),o=n(54847),r=n(43472),l=n(14890),u=a(n(62652)),s=a(n(69961)),c=a(n(8282)),d=a(n(36216)),f=n(20965),h=a(n(99357)),p=function(){return u.default.chat_accepted?f.ChatState.ACCEPTED:u.default.chat_started?f.ChatState.STARTED:f.ChatState.NOT_STARTED_OR_CLOSED},g=function(){var e,t,n=(e=[],t=h.default.getAllChatIds(),(0,i.default)(t).call(t,(function(n,a){var i=a===t.length-1;null!==n&&e.push({state:i?p():f.ChatState.NOT_STARTED_OR_CLOSED,evaluated:d.default.evaluate,departmentId:d.default.department_id,joinedAgents:i?c.default.getOnlyAgentIdsByStatus("join"):[],joinedBots:i?c.default.getBotIdsByStatus("join"):[],id:n,agentTyping:s.default.typing})})),e);return{type:o.ActionType.INIT_CHATS_STORE,payload:n}};t.initializeChatsStore=g;var m=function(){var e=r.reduxStore.getState().chats,t=h.default.getAllChatIds();return e.length!==t.length?g():{type:o.ActionType.DO_NOTHING,payload:null}};t.updateChat=m;var v=function(){return{type:o.ActionType.START_CHAT,payload:{}}};t.startChat=v;var _=function(e){return s.default.typing=e,{type:o.ActionType.SET_AGENT_TYPING,payload:{agentTyping:e}}};t.setAgentTyping=_;var y=function(e){return d.default.evaluate=e,{type:o.ActionType.SET_CURRENT_CHAT_EVALUATED,payload:{evaluated:e}}};t.setChatEvaluated=y;var b=function(e){return d.default.department_id=e,{type:o.ActionType.SET_CURRENT_CHAT_DEPARTMENT_ID,payload:{departmentId:e}}};t.setDepartment=b;var w=function(e){c.default.updateAgentList(e);var t=c.default.getAgentIdsByStatus("join");return{type:o.ActionType.SET_JOINED_AGENTS_IN_CURRENT_CHAT,payload:{joinedAgents:t||[]}}};t.setJoinedAgents=w;var E=function(){return c.default.closeChat(),{type:o.ActionType.CLOSE_CHAT,payload:{state:f.ChatState.NOT_STARTED_OR_CLOSED,joinedAgents:[]}}};t.setNoJoinedAgents=E;var C=function(){return c.default.closeChat(),{type:o.ActionType.CLOSE_CHAT,payload:{state:f.ChatState.NOT_STARTED_OR_CLOSED,joinedBots:[]}}};t.setNoJoinedBots=C;var T=function(e){return{type:o.ActionType.ADD_JOINED_AGENT_TO_CURRENT_CHAT,payload:{agentId:e}}};t.addJoinedAgent=T;var k=function(e){return{type:o.ActionType.SET_JOINED_BOTS,payload:{joinedBots:e||[]}}};t.setJoinedBots=k;var S={initializeChatsStore:(0,l.bindActionCreators)(g,r.reduxStore.dispatch),updateChat:(0,l.bindActionCreators)(m,r.reduxStore.dispatch),setAgentTyping:(0,l.bindActionCreators)(_,r.reduxStore.dispatch),setChatEvaluated:(0,l.bindActionCreators)(y,r.reduxStore.dispatch),setDepartment:(0,l.bindActionCreators)(b,r.reduxStore.dispatch),setJoinedAgents:(0,l.bindActionCreators)(w,r.reduxStore.dispatch),setNoJoinedAgents:(0,l.bindActionCreators)(E,r.reduxStore.dispatch),setNoJoinedBots:(0,l.bindActionCreators)(C,r.reduxStore.dispatch),addJoinedAgent:(0,l.bindActionCreators)(T,r.reduxStore.dispatch),startChat:(0,l.bindActionCreators)(v,r.reduxStore.dispatch),setJoinedBots:(0,l.bindActionCreators)(k,r.reduxStore.dispatch)};t.dispatchers=S},64480:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.dispatchers=t.setInputText=t.setIsIntroduced=t.setLastMessage=t.setHasIntegration=t.initializeClientStore=void 0;var i=n(54847),o=n(43472),r=n(14890),l=a(n(36216)),u=function(e){var t=e.assignedAgentId,n=e.clientId,a=e.description,o=e.email,r=e.eulaAccepted,l=e.hasIntegration,u=e.isBlacklisted,s=e.isIntroduced,c=e.lastMessage,d=e.displayName,f=e.priorityAgentId,h=e.phone,p=e.sessionId,g=e.utm,m=e.visitorId,v=e.inputText;return{type:i.ActionType.INIT_CLIENT_STORE,payload:{assignedAgentId:t,clientId:n,description:a,email:o,eulaAccepted:r,hasIntegration:l,isBlacklisted:u,isIntroduced:s,lastMessage:c,displayName:d,priorityAgentId:f,phone:h,sessionId:p,utm:g,visitorId:m,inputText:v}}};t.initializeClientStore=u;var s=function(e){return l.default.has_integration=e,{type:i.ActionType.SET_HAS_INTEGRATION,payload:{hasIntegration:e}}};t.setHasIntegration=s;var c=function(e){return l.default.last_message=e,{type:i.ActionType.SET_LAST_MESSAGE,payload:{lastMessage:e}}};t.setLastMessage=c;var d=function(e){return l.default.is_introduced=e,{type:i.ActionType.SET_IS_INTRODUCED,payload:{isIntroduced:e}}};t.setIsIntroduced=d;var f=function(e){return{type:i.ActionType.SET_INPUT_TEXT,payload:{inputText:e}}};t.setInputText=f;var h={initializeClientStore:(0,r.bindActionCreators)(u,o.reduxStore.dispatch),setHasIntegration:(0,r.bindActionCreators)(s,o.reduxStore.dispatch),setLastMessage:(0,r.bindActionCreators)(c,o.reduxStore.dispatch),setIsIntroduced:(0,r.bindActionCreators)(d,o.reduxStore.dispatch),setInputText:(0,r.bindActionCreators)(f,o.reduxStore.dispatch)};t.dispatchers=h},38645:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.dispatchers=t.disableFiletransfer=void 0;var i=n(54847),o=n(43472),r=n(14890),l=a(n(62904)),u=function(e){return l.default.disable_filetranser=e,{type:i.ActionType.SET_DISABLE_FILETRANSFER,payload:{disableFiletransfer:e?1:0}}};t.disableFiletransfer=u;var s={disableFiletransfer:(0,r.bindActionCreators)(u,o.reduxStore.dispatch)};t.dispatchers=s},81189:function(e,t,n){"use strict";var a=n(87646);n(63978)(t,"__esModule",{value:!0}),t.zoom=t.bots=t.features=t.client=t.messages=t.transition=t.chats=t.agents=t.user=t.social=t.callback=t.position=t.app=t.zoomDispatchers=t.botsDispatchers=t.featuresDispatchers=t.clientDispatchers=t.messagesDispatchers=t.transitionDispatchers=t.chatsDispatchers=t.agentsDispatchers=t.userDispatchers=t.socialDispatchers=t.callbackDispatchers=t.positionDispatchers=t.appDispatchers=void 0;var i=a(n(1476));t.app=i;var o=a(n(17591));t.position=o;var r=a(n(86864));t.callback=r;var l=a(n(37780));t.social=l;var u=a(n(55865));t.user=u;var s=a(n(45609));t.agents=s;var c=a(n(31505));t.chats=c;var d=a(n(16792));t.transition=d;var f=a(n(97783));t.messages=f;var h=a(n(64480));t.client=h;var p=a(n(38645));t.features=p;var g=a(n(13240));t.bots=g;var m=a(n(31516));t.zoom=m;var v=i.dispatchers;t.appDispatchers=v;var _=o.dispatchers;t.positionDispatchers=_;var y=r.dispatchers;t.callbackDispatchers=y;var b=l.dispatchers;t.socialDispatchers=b;var w=u.dispatchers;t.userDispatchers=w;var E=s.dispatchers;t.agentsDispatchers=E;var C=c.dispatchers;t.chatsDispatchers=C;var T=d.dispatchers;t.transitionDispatchers=T;var k=f.dispatchers;t.messagesDispatchers=k;var S=h.dispatchers;t.clientDispatchers=S;var I=p.dispatchers;t.featuresDispatchers=I;var A=g.dispatchers;t.botsDispatchers=A;var x=m.dispatchers;t.zoomDispatchers=x},97783:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.dispatchers=t.deleteMessage=t.editMessage=t.addMessages=t.addMessage=t.initializeMessagesStore=void 0;var i=a(n(2991)),o=n(54847),r=n(43472),l=n(14890),u=a(n(99357)),s=function(){var e,t=(0,i.default)(e=u.default.getAll()).call(e,(function(e){return e.store}));return{type:o.ActionType.INIT_MESSAGES_STORE,payload:{messages:t}}};t.initializeMessagesStore=s;var c=function(e,t){var n=e;return t||(n=u.default.push(n).store),{type:o.ActionType.ADD_MESSAGE,payload:{message:n}}};t.addMessage=c;var d=function(e){return u.default.pushAll(e),{type:o.ActionType.ADD_MESSAGES,payload:{messages:e}}};t.addMessages=d;var f=function(e){return{type:o.ActionType.EDIT_MESSAGE,payload:e}};t.editMessage=f;var h=function(e){return{type:o.ActionType.DELETE_MESSAGE,payload:e}};t.deleteMessage=h;var p={initializeMessagesStore:(0,l.bindActionCreators)(s,r.reduxStore.dispatch),addMessage:(0,l.bindActionCreators)(c,r.reduxStore.dispatch),addMessages:(0,l.bindActionCreators)(d,r.reduxStore.dispatch),editMessage:(0,l.bindActionCreators)(f,r.reduxStore.dispatch),deleteMessage:(0,l.bindActionCreators)(h,r.reduxStore.dispatch)};t.dispatchers=p},17591:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.dispatchers=t.setWidgetPositionRight=t.setWidgetPositionLeft=t.setWidgetPositionHeight=t.initializePositionStore=void 0;var i=n(54847),o=n(43472),r=n(14890),l=a(n(82036)),u=function(e){var t=e.height,n=e.left,a=e.right;return l.default.height=t,l.default.left=n,l.default.right=a,{type:i.ActionType.INIT_POSITION_STORE,payload:{height:t,left:n,right:a}}};t.initializePositionStore=u;var s=function(e){return l.default.height=e,{type:i.ActionType.CHANGE_POSITION_HEIGHT,payload:{height:e}}};t.setWidgetPositionHeight=s;var c=function(e){return l.default.left=e,{type:i.ActionType.CHANGE_POSITION_LEFT,payload:{left:e}}};t.setWidgetPositionLeft=c;var d=function(e){return l.default.right=e,{type:i.ActionType.CHANGE_POSITION_RIGHT,payload:{right:e}}};t.setWidgetPositionRight=d;var f={initializePositionStore:(0,r.bindActionCreators)(u,o.reduxStore.dispatch),setWidgetPositionHeight:(0,r.bindActionCreators)(s,o.reduxStore.dispatch),setWidgetPositionLeft:(0,r.bindActionCreators)(c,o.reduxStore.dispatch),setWidgetPositionRight:(0,r.bindActionCreators)(d,o.reduxStore.dispatch)};t.dispatchers=f},37780:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.dispatchers=t.initializeSocialStore=void 0;var a=n(54847),i=n(43472),o=n(14890),r=function(e){var t=e.vk,n=e.fb,i=e.mode;return{type:a.ActionType.INIT_SOCIAL_STORE,payload:{vk:t,fb:n,mode:i}}};t.initializeSocialStore=r;var l={initializeSocialStore:(0,o.bindActionCreators)(r,i.reduxStore.dispatch)};t.dispatchers=l},16792:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.dispatchers=t.startTransition=t.initializeTransitionStore=void 0;var a=n(54847),i=n(43472),o=n(14890),r=function(e){return{type:a.ActionType.INIT_TRANSITION_STORE,payload:e}};t.initializeTransitionStore=r;var l=function(e){return{type:a.ActionType.START_TRANSITION_SCRIPT,payload:{script:e}}};t.startTransition=l;var u={initializeTransitionStore:(0,o.bindActionCreators)(r,i.reduxStore.dispatch),startTransition:(0,o.bindActionCreators)(l,i.reduxStore.dispatch)};t.dispatchers=u},55865:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.dispatchers=t.setPattern=t.setCallHeaderText=t.setWidgetFontType=t.setWidgetFontFamily=t.setWidgetFontSize=t.setOnlineWidgetLabel=t.setWidgetPadding=t.setWidgetOrientation=t.setWidgetFontColor=t.setWidgetColor2=t.setWidgetColor=void 0;var i=n(54847),o=n(43472),r=n(14890),l=a(n(62904)),u=a(n(62652)),s=function(e){return l.default.widget_color=e,u.default.widget_color=e,{type:i.ActionType.SET_WIDGET_COLOR,payload:{widgetColor:e}}};t.setWidgetColor=s;var c=function(e){return l.default.widget_color2=e,u.default.widget_color2=e,{type:i.ActionType.SET_WIDGET_COLOR2,payload:{widgetColor2:e}}};t.setWidgetColor2=c;var d=function(e){return l.default.widget_font_color=e,u.default.widget_font_color=e,{type:i.ActionType.SET_WIDGET_FONT_COLOR,payload:{widgetFontColor:e}}};t.setWidgetFontColor=d;var f=function(e){return l.default.widget_orientation=e,{type:i.ActionType.SET_WIDGET_ORIENTATION,payload:{widgetOrientation:e}}};t.setWidgetOrientation=f;var h=function(e){return l.default.widget_padding=e,{type:i.ActionType.SET_WIDGET_PADDING,payload:{widgetPadding:e}}};t.setWidgetPadding=h;var p=function(e){return l.default.online_widget_label=e,{type:i.ActionType.SET_ONLINE_WIDGET_LABEL,payload:{onlineWidgetLabel:e}}};t.setOnlineWidgetLabel=p;var g=function(e){return l.default.font_size=e,{type:i.ActionType.SET_WIDGET_FONT_SIZE,payload:{fontSize:e}}};t.setWidgetFontSize=g;var m=function(e){return l.default.font_family=e,{type:i.ActionType.SET_WIDGET_FONT_FAMILY,payload:{fontFamily:e}}};t.setWidgetFontFamily=m;var v=function(e){return l.default.font_type=e,{type:i.ActionType.SET_WIDGET_FONT_TYPE,payload:{fontType:e}}};t.setWidgetFontType=v;var _=function(e){return u.default.callText=e,{type:i.ActionType.SET_CALL_HEADER_TEXT,payload:{callHeaderText:e}}};t.setCallHeaderText=_;var y=function(e){return l.default.pattern=e,{type:i.ActionType.SET_PATTERN,payload:{pattern:e}}};t.setPattern=y;var b={setWidgetColor:(0,r.bindActionCreators)(s,o.reduxStore.dispatch),setWidgetColor2:(0,r.bindActionCreators)(c,o.reduxStore.dispatch),setWidgetFontColor:(0,r.bindActionCreators)(d,o.reduxStore.dispatch),setWidgetOrientation:(0,r.bindActionCreators)(f,o.reduxStore.dispatch),setWidgetPadding:(0,r.bindActionCreators)(h,o.reduxStore.dispatch),setOnlineWidgetLabel:(0,r.bindActionCreators)(p,o.reduxStore.dispatch),setWidgetFontSize:(0,r.bindActionCreators)(g,o.reduxStore.dispatch),setWidgetFontFamily:(0,r.bindActionCreators)(m,o.reduxStore.dispatch),setWidgetFontType:(0,r.bindActionCreators)(v,o.reduxStore.dispatch),setCallHeaderText:(0,r.bindActionCreators)(_,o.reduxStore.dispatch),setPattern:(0,r.bindActionCreators)(y,o.reduxStore.dispatch)};t.dispatchers=b},31516:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.dispatchers=t.initializeZoomStore=void 0;var a=n(54847),i=n(43472),o=n(14890),r=function(e){var t=e.user,n=e.page,i=e.app;return{type:a.ActionType.INIT_ZOOM_STORE,payload:{user:t,page:n,app:i}}};t.initializeZoomStore=r;var l={initializeZoomStore:(0,o.bindActionCreators)(r,i.reduxStore.dispatch)};t.dispatchers=l},54847:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.ActionType=void 0;t.ActionType={DO_NOTHING:"DO_NOTHING",INIT_POSITION_STORE:"INIT_POSITION_STORE",CHANGE_POSITION_HEIGHT:"CHANGE_POSITION_HEIGHT",CHANGE_POSITION_LEFT:"CHANGE_POSITION_LEFT",CHANGE_POSITION_RIGHT:"CHANGE_POSITION_RIGHT",INIT_CALLBACK_STORE:"INIT_CALLBACK_STORE",SET_CALL_AVAILABLE:"SET_CALL_AVAILABLE",SET_DELAYED_CALL_STATUS:"SET_DELAYED_CALL_STATUS",SET_CALL_IS_DELAYED:"SET_CALL_IS_DELAYED",SET_CALL_STATUS:"SET_CALL_STATUS",SET_CALL_ERROR:"SET_CALL_ERROR",SET_DELAYED_TIMEZONE:"SET_DELAYED_TIMEZONE",SET_DELAYED_PERIODS:"SET_DELAYED_PERIODS",INIT_SOCIAL_STORE:"INIT_SOCIAL_STORE",INIT_APP_STORE:"INIT_APP_STORE",SET_APP_IS_ONLINE:"SET_APP_IS_ONLINE",SET_APP_IS_FOCUSED:"SET_APP_IS_FOCUSED",SET_APP_ROUTE:"SET_APP_ROUTE",SET_LAST_CHAT_OPENED:"SET_LAST_CHAT_OPENED",SET_IS_IN_DRAG:"SET_IS_IN_DRAG",SET_IS_CONTACT_FORM_FOCUSED:"SET_IS_CONTACT_FORM_FOCUSED",SET_IS_INPUT_DISABLED:"SET_IS_INPUT_DISABLED",SET_WIDGET_COLOR:"SET_WIDGET_COLOR",SET_WIDGET_COLOR2:"SET_WIDGET_COLOR2",SET_WIDGET_FONT_COLOR:"SET_WIDGET_FONT_COLOR",SET_WIDGET_ORIENTATION:"SET_WIDGET_ORIENTATION",SET_WIDGET_PADDING:"SET_WIDGET_PADDING",SET_ONLINE_WIDGET_LABEL:"SET_ONLINE_WIDGET_LABEL",SET_WIDGET_FONT_SIZE:"SET_WIDGET_FONT_SIZE",SET_WIDGET_FONT_FAMILY:"SET_WIDGET_FONT_FAMILY",SET_WIDGET_FONT_TYPE:"SET_WIDGET_FONT_TYPE",SET_CALL_HEADER_TEXT:"SET_CALL_HEADER_TEXT",SET_PATTERN:"SET_PATTERN",INIT_AGENTS_STORE:"INIT_AGENTS_STORE",ADD_AGENT:"ADD_AGENT",UPDATE_AGENT:"UPDATE_AGENT",INIT_BOTS_STORE:"INIT_BOTS_STORE",ADD_BOT:"ADD_BOT",INIT_CHATS_STORE:"INIT_CHATS_STORE",START_CHAT:"START_CHAT",CLOSE_CHAT:"CLOSE_CHAT",SET_JOINED_AGENTS_IN_CURRENT_CHAT:"SET_JOINED_AGENTS_IN_CURRENT_CHAT",ADD_JOINED_AGENT_TO_CURRENT_CHAT:"ADD_JOINED_AGENT_TO_CURRENT_CHAT",REMOVE_AGENT_FROM_CURRENT_CHAT:"REMOVE_AGENT_FROM_CHAT",SET_CURRENT_CHAT_EVALUATED:"SET_CHAT_EVALUATED",SET_AGENT_TYPING:"SET_AGENT_TYPING",SET_CURRENT_CHAT_DEPARTMENT_ID:"SET_CHAT_DEPARTMENT_ID",SET_JOINED_BOTS:"SET_JOINED_BOTS",INIT_TRANSITION_STORE:"INIT_TRANSITION_STORE",START_TRANSITION_SCRIPT:"START_TRANSITION_SCRIPT",CONTINUE_TRANSITION_SCRIPT:"CONTINUE_TRANSITION_SCRIPT",STOP_TRANSITION_SCRIPT:"STOP_TRANSITION_SCRIPT",RESET_TRANSITON_SCRIPT:"RESET_TRANSITON_SCRIPT",INIT_MESSAGES_STORE:"INIT_MESSAGES_STORE",ADD_MESSAGE:"ADD_MESSAGE",ADD_MESSAGES:"ADD_MESSAGES",EDIT_MESSAGE:"EDIT_MESSAGE",DELETE_MESSAGE:"DELETE_MESSAGE",INIT_CLIENT_STORE:"INIT_CLIENT_STORE",SET_HAS_INTEGRATION:"SET_HAS_INTEGRATION",SET_LAST_MESSAGE:"SET_LAST_MESSAGE",SET_IS_INTRODUCED:"SET_IS_INTRODUCED",SET_INPUT_TEXT:"SET_INPUT_TEXT",SET_DISABLE_FILETRANSFER:"SET_DISABLE_FILETRANSFER",INIT_ZOOM_STORE:"INIT_ZOOM_STORE"}},78055:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.logger=void 0;var i=a(n(63978)),o=a(n(20368)),r=a(n(39649)),l=a(n(78914)),u=a(n(34074)),s=a(n(20116)),c=a(n(14310)),d=a(n(86902)),f=a(n(87672)),h=a(n(75043)),p=a(n(9805));function g(e,t){var n=(0,d.default)(e);if(c.default){var a=(0,c.default)(e);t&&(a=(0,s.default)(a).call(a,(function(t){return(0,u.default)(e,t).enumerable}))),n.push.apply(n,a)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)(0,l.default)(n=g(Object(a),!0)).call(n,(function(t){(0,f.default)(e,t,a[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(a));else{var s;(0,l.default)(s=g(Object(a))).call(s,(function(t){(0,i.default)(e,t,(0,u.default)(a,t))}))}}return e}var v=h.default.name("Redux");t.logger=function(e){return function(t){return function(n){v.log("dispatching",n);var a=t(n);return p.default.getInstance()&&p.default.getInstance().saveReduxAction(m(m({},n),{},{ts:(new Date).getTime()})),v.log("next state",e.getState()),a}}}},83425:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case v.ActionType.INIT_AGENTS_STORE:if(a&&a.length){var i=(0,m.default)(a).call(a,(function(e){return!e.isBot}));return(0,g.default)(i)}return(0,g.default)(e);case v.ActionType.ADD_AGENT:if(a){var o,r=(0,p.default)(e).call(e,(function(e){return e.id===a.id}));return r?(0,h.default)(e).call(e,(function(e){return e.id===a.id?y(y({},e),a):e})):(0,d.default)(o=[]).call(o,(0,g.default)(e),[y({},a)])}return(0,g.default)(e);case v.ActionType.UPDATE_AGENT:return a?(0,h.default)(e).call(e,(function(e){return e.id===a.id?y(y({},e),a):e})):(0,g.default)(e);default:return e}};var i=a(n(63978)),o=a(n(20368)),r=a(n(39649)),l=a(n(78914)),u=a(n(34074)),s=a(n(14310)),c=a(n(86902)),d=a(n(77766)),f=a(n(87672)),h=a(n(2991)),p=a(n(94473)),g=a(n(59036)),m=a(n(20116)),v=n(54847);function _(e,t){var n=(0,c.default)(e);if(s.default){var a=(0,s.default)(e);t&&(a=(0,m.default)(a).call(a,(function(t){return(0,u.default)(e,t).enumerable}))),n.push.apply(n,a)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)(0,l.default)(n=_(Object(a),!0)).call(n,(function(t){(0,f.default)(e,t,a[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(a));else{var s;(0,l.default)(s=_(Object(a))).call(s,(function(t){(0,i.default)(e,t,(0,u.default)(a,t))}))}}return e}var b=[]},29781:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case h.ActionType.INIT_APP_STORE:return{isFocused:a.isFocused,isOnline:!!a.isOnline,route:a.route,tabRoute:a.tabRoute,lastChatOpened:a.lastChatOpened,isInDrag:a.isInDrag,isContactFormFocused:a.isContactFormFocused,isInputDisabled:a.isInputDisabled};case h.ActionType.SET_APP_IS_ONLINE:return g(g({},e),{},{isOnline:a.isOnline});case h.ActionType.SET_APP_IS_FOCUSED:return g(g({},e),{},{isFocused:a.isFocused});case h.ActionType.SET_APP_ROUTE:return g(g({},e),{},{route:a.route});case h.ActionType.SET_LAST_CHAT_OPENED:return g(g({},e),{},{lastChatOpened:a.lastChatOpened});case h.ActionType.SET_IS_IN_DRAG:return g(g({},e),{},{isInDrag:a.isInDrag});case h.ActionType.SET_IS_CONTACT_FORM_FOCUSED:return g(g({},e),{},{isContactFormFocused:a.isContactFormFocused});case h.ActionType.SET_IS_INPUT_DISABLED:return g(g({},e),{},{isInputDisabled:a.isInputDisabled});default:return e}};var i=a(n(63978)),o=a(n(20368)),r=a(n(39649)),l=a(n(78914)),u=a(n(34074)),s=a(n(20116)),c=a(n(14310)),d=a(n(86902)),f=a(n(87672)),h=n(54847);function p(e,t){var n=(0,d.default)(e);if(c.default){var a=(0,c.default)(e);t&&(a=(0,s.default)(a).call(a,(function(t){return(0,u.default)(e,t).enumerable}))),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)(0,l.default)(n=p(Object(a),!0)).call(n,(function(t){(0,f.default)(e,t,a[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(a));else{var s;(0,l.default)(s=p(Object(a))).call(s,(function(t){(0,i.default)(e,t,(0,u.default)(a,t))}))}}return e}var m={isFocused:null,isOnline:null,route:null,tabRoute:null,lastChatOpened:null,isInDrag:null,isContactFormFocused:null,isInputDisabled:null}},30183:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case v.ActionType.INIT_BOTS_STORE:if(a&&a.length){var i=(0,m.default)(a).call(a,(function(e){return e.isBot}));return(0,g.default)(i)}return(0,g.default)(e);case v.ActionType.ADD_BOT:if(a){var o,r=(0,p.default)(e).call(e,(function(e){return e.id===a.id}));return r?(0,h.default)(e).call(e,(function(e){return e.id===a.id?y(y({},e),a):e})):(0,d.default)(o=[]).call(o,(0,g.default)(e),[y({},a)])}return(0,g.default)(e);default:return e}};var i=a(n(63978)),o=a(n(20368)),r=a(n(39649)),l=a(n(78914)),u=a(n(34074)),s=a(n(14310)),c=a(n(86902)),d=a(n(77766)),f=a(n(87672)),h=a(n(2991)),p=a(n(94473)),g=a(n(59036)),m=a(n(20116)),v=n(54847);function _(e,t){var n=(0,c.default)(e);if(s.default){var a=(0,s.default)(e);t&&(a=(0,m.default)(a).call(a,(function(t){return(0,u.default)(e,t).enumerable}))),n.push.apply(n,a)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)(0,l.default)(n=_(Object(a),!0)).call(n,(function(t){(0,f.default)(e,t,a[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(a));else{var s;(0,l.default)(s=_(Object(a))).call(s,(function(t){(0,i.default)(e,t,(0,u.default)(a,t))}))}}return e}var b=[]},77781:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case h.ActionType.INIT_CALLBACK_STORE:return{available:a.available,delayedPeriods:a.delayedPeriods,delayedStatus:a.delayedStatus,delayedTimezone:a.delayedTimezone,isDelayed:a.isDelayed,status:a.status,error:a.error};case h.ActionType.SET_CALL_AVAILABLE:return g(g({},e),{},{available:a.available});case h.ActionType.SET_DELAYED_CALL_STATUS:return g(g({},e),{},{delayedStatus:a.delayedStatus});case h.ActionType.SET_CALL_IS_DELAYED:return g(g({},e),{},{isDelayed:a.isDelayed});case h.ActionType.SET_CALL_STATUS:return g(g({},e),{},{status:a.status});case h.ActionType.SET_CALL_ERROR:return g(g({},e),{},{error:a.error});default:return e}};var i=a(n(63978)),o=a(n(20368)),r=a(n(39649)),l=a(n(78914)),u=a(n(34074)),s=a(n(20116)),c=a(n(14310)),d=a(n(86902)),f=a(n(87672)),h=n(54847);function p(e,t){var n=(0,d.default)(e);if(c.default){var a=(0,c.default)(e);t&&(a=(0,s.default)(a).call(a,(function(t){return(0,u.default)(e,t).enumerable}))),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)(0,l.default)(n=p(Object(a),!0)).call(n,(function(t){(0,f.default)(e,t,a[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(a));else{var s;(0,l.default)(s=p(Object(a))).call(s,(function(t){(0,i.default)(e,t,(0,u.default)(a,t))}))}}return e}var m={available:null,delayedPeriods:null,delayedStatus:null,delayedTimezone:null,isDelayed:null,status:null,error:null}},51369:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;if(!a)return e;switch(n){case v.ActionType.INIT_CHATS_STORE:return(0,m.default)(a);case v.ActionType.SET_JOINED_AGENTS_IN_CURRENT_CHAT:return e.length?(0,g.default)(e).call(e,(function(t,n){return n!==e.length-1?t:b(b({},t),{},{joinedAgents:(0,m.default)(a.joinedAgents)})})):[b(b({},E),{},{joinedAgents:(0,m.default)(a.joinedAgents)})];case v.ActionType.SET_JOINED_BOTS:return a.joinedBots&&a.joinedBots.length>=0?e.length?(0,g.default)(e).call(e,(function(t,n){return n!==e.length-1?t:b(b({},t),{},{joinedBots:a.joinedBots.length?(0,m.default)(a.joinedBots):[]})})):[b(b({},E),{},{joinedBots:a.joinedBots.length?(0,m.default)(a.joinedBots):[]})]:e;case v.ActionType.ADD_JOINED_AGENT_TO_CURRENT_CHAT:return a.agentId>=0?e.length?(0,g.default)(e).call(e,(function(t,n){var i,o;return n!==e.length-1||(0,h.default)(i=e[n].joinedAgents).call(i,a.agentId)?t:b(b({},t),{},{joinedAgents:(0,f.default)(o=[]).call(o,(0,m.default)(e[n].joinedAgents),[a.agentId])})})):[b(b({},E),{},{joinedAgents:a.agentId?[a.agentId]:[]})]:e;case v.ActionType.SET_AGENT_TYPING:return(0,g.default)(e).call(e,(function(t,n){return n!==e.length-1?t:b(b({},t),{},{agentTyping:a.agentTyping})}));case v.ActionType.SET_CURRENT_CHAT_EVALUATED:return(0,g.default)(e).call(e,(function(t,n){return n!==e.length-1?t:b(b({},t),{},{evaluated:a.evaluated})}));case v.ActionType.SET_CURRENT_CHAT_DEPARTMENT_ID:return(0,g.default)(e).call(e,(function(t,n){return n!==e.length-1?t:b(b({},t),{},{departmentId:a.departmentId})}));case v.ActionType.CLOSE_CHAT:return(0,g.default)(e).call(e,(function(t,n){return n!==e.length-1?t:b(b({},t),{},{state:a.state,joinedAgents:(0,m.default)(a.joinedAgents)})}));default:return e}};var i=a(n(63978)),o=a(n(20368)),r=a(n(39649)),l=a(n(78914)),u=a(n(34074)),s=a(n(20116)),c=a(n(14310)),d=a(n(86902)),f=a(n(77766)),h=a(n(78580)),p=a(n(87672)),g=a(n(2991)),m=a(n(59036)),v=n(54847),_=n(20965);function y(e,t){var n=(0,d.default)(e);if(c.default){var a=(0,c.default)(e);t&&(a=(0,s.default)(a).call(a,(function(t){return(0,u.default)(e,t).enumerable}))),n.push.apply(n,a)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)(0,l.default)(n=y(Object(a),!0)).call(n,(function(t){(0,p.default)(e,t,a[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(a));else{var s;(0,l.default)(s=y(Object(a))).call(s,(function(t){(0,i.default)(e,t,(0,u.default)(a,t))}))}}return e}var w=[],E={state:_.ChatState.NOT_STARTED_OR_CLOSED,evaluated:null,departmentId:null,joinedAgents:[],joinedBots:[],id:null,agentTyping:null}},43683:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case h.ActionType.INIT_CLIENT_STORE:return{assignedAgentId:a.assignedAgentId,clientId:a.clientId,description:a.description,email:a.email,eulaAccepted:a.eulaAccepted,hasIntegration:a.hasIntegration,isBlacklisted:a.isBlacklisted,isIntroduced:a.isIntroduced,lastMessage:a.lastMessage,displayName:a.displayName,priorityAgentId:a.priorityAgentId,phone:a.phone,sessionId:a.sessionId,utm:a.utm,visitorId:a.visitorId};case h.ActionType.SET_HAS_INTEGRATION:return g(g({},e),{},{hasIntegration:a.hasIntegration});case h.ActionType.SET_LAST_MESSAGE:return g(g({},e),{},{lastMessage:a.lastMessage});case h.ActionType.SET_IS_INTRODUCED:return g(g({},e),{},{isIntroduced:a.isIntroduced});case h.ActionType.SET_INPUT_TEXT:return g(g({},e),{},{inputText:a.inputText});default:return e}};var i=a(n(63978)),o=a(n(20368)),r=a(n(39649)),l=a(n(78914)),u=a(n(34074)),s=a(n(20116)),c=a(n(14310)),d=a(n(86902)),f=a(n(87672)),h=n(54847);function p(e,t){var n=(0,d.default)(e);if(c.default){var a=(0,c.default)(e);t&&(a=(0,s.default)(a).call(a,(function(t){return(0,u.default)(e,t).enumerable}))),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)(0,l.default)(n=p(Object(a),!0)).call(n,(function(t){(0,f.default)(e,t,a[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(a));else{var s;(0,l.default)(s=p(Object(a))).call(s,(function(t){(0,i.default)(e,t,(0,u.default)(a,t))}))}}return e}var m={assignedAgentId:null,clientId:null,description:null,email:null,eulaAccepted:null,hasIntegration:null,isBlacklisted:null,isIntroduced:null,lastMessage:null,name:null,priorityAgentId:null,phone:null,sessionId:null,utm:{campaign:null,content:null,keyword:null,medium:null,source:null},visitorId:null,inputText:null}},40758:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(14890),o=a(n(83425)),r=a(n(29781)),l=a(n(30183)),u=a(n(77781)),s=a(n(51369)),c=a(n(43683)),d=a(n(86461)),f=a(n(52917)),h=a(n(18355)),p=a(n(84868)),g=a(n(3433)),m=a(n(10466)),v=a(n(21589)),_=(0,i.combineReducers)({agents:o.default,app:r.default,bots:l.default,callback:u.default,chats:s.default,client:c.default,messages:d.default,position:f.default,proactive:h.default,settings:p.default,social:g.default,transition:m.default,zoom:v.default});t.default=_},86461:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case r.ActionType.INIT_MESSAGES_STORE:return a.messages&&a.messages.length?(0,o.default)(a.messages):(0,o.default)(e);case r.ActionType.ADD_MESSAGE:var u;return a.message?(0,i.default)(u=[]).call(u,(0,o.default)(e),[a.message]):(0,o.default)(e);case r.ActionType.ADD_MESSAGES:var s;return a.messages&&a.messages.length?(0,i.default)(s=[]).call(s,(0,o.default)(e),(0,o.default)(a.messages)):(0,o.default)(e);case r.ActionType.EDIT_MESSAGE:case r.ActionType.DELETE_MESSAGE:return(0,o.default)(e);default:return e}};var i=a(n(77766)),o=a(n(59036)),r=n(54847),l=[]},52917:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case h.ActionType.INIT_POSITION_STORE:return{height:a?a.height:e.height,left:a?a.left:e.left,right:a?a.right:e.right};case h.ActionType.CHANGE_POSITION_HEIGHT:return g(g({},e),{},{height:a?a.height:e.height});case h.ActionType.CHANGE_POSITION_LEFT:return g(g({},e),{},{left:a?a.left:e.left});case h.ActionType.CHANGE_POSITION_RIGHT:return g(g({},e),{},{right:a?a.right:e.right});default:return e}};var i=a(n(63978)),o=a(n(20368)),r=a(n(39649)),l=a(n(78914)),u=a(n(34074)),s=a(n(20116)),c=a(n(14310)),d=a(n(86902)),f=a(n(87672)),h=n(54847);function p(e,t){var n=(0,d.default)(e);if(c.default){var a=(0,c.default)(e);t&&(a=(0,s.default)(a).call(a,(function(t){return(0,u.default)(e,t).enumerable}))),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)(0,l.default)(n=p(Object(a),!0)).call(n,(function(t){(0,f.default)(e,t,a[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(a));else{var s;(0,l.default)(s=p(Object(a))).call(s,(function(t){(0,i.default)(e,t,(0,u.default)(a,t))}))}}return e}var m={height:null,left:null,right:null}},18355:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;t.type,t.payload;return e};n(54847),a(n(62904));var i={createdTs:null,name:null,privateId:null,status:null,text:null}},11171:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.features=void 0;var i=a(n(63978)),o=a(n(20368)),r=a(n(39649)),l=a(n(78914)),u=a(n(34074)),s=a(n(20116)),c=a(n(14310)),d=a(n(86902)),f=a(n(87672)),h=n(54847),p=a(n(62904));function g(e,t){var n=(0,d.default)(e);if(c.default){var a=(0,c.default)(e);t&&(a=(0,s.default)(a).call(a,(function(t){return(0,u.default)(e,t).enumerable}))),n.push.apply(n,a)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)(0,l.default)(n=g(Object(a),!0)).call(n,(function(t){(0,f.default)(e,t,a[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(a));else{var s;(0,l.default)(s=g(Object(a))).call(s,(function(t){(0,i.default)(e,t,(0,u.default)(a,t))}))}}return e}var v=p.default.eula,_={apiInvitation:!!p.default.enable_api_invitation||null,disableEmoji:!!p.default.disable_emoji||null,disableErrorReporting:!!p.default.disable_error_reporting||null,disableFiletransfer:!!p.default.disable_filetransfer||null,disableMobile:!!p.default.disable_mobile||null,disableTelemetry:!!p.default.disable_telemetry||null,eula:v&&{customAgreement:v.custom_agreement||null,customTitle:v.custom_title||null,externalLink:v.external_link||null,titleExternalLink:v.title_external_link||null,useGdpr:v.use_gdpr||null}||null,joint:p.default.joint||null,logs:!!p.default.logs||null,mobileProactive:!!p.default.mobile_proactive||null,newOfflineForm:!!p.default.new_offline_form||null,newVisitorsInsight:!!p.default.new_visitors_insight||null,prechat:!!p.default.enable_prechat||null,regions:p.default.regions||null,typingInsight:!!p.default.typing_insight||null,webhooks:p.default.webhooks_enabled||null,widgetStatus:p.default.enable_widget_status||null,newAnimation:!!p.default.enable_new_animation||null};t.features=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case h.ActionType.SET_DISABLE_FILETRANSFER:return m(m({},e),{},{disableFiletransfer:a.disableFiletransfer});default:return e}}},84868:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var a=n(14890),i=n(11171),o=n(74310),r=n(83641),l=(0,a.combineReducers)({features:i.features,system:o.system,user:r.user});t.default=l},74310:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.system=void 0;n(54847);var i=a(n(62904)),o={abSegment:i.default.ab_segment||null,apiDomain:i.default.api_domain||null,apiHost:i.default.api_host||null,avatarUrl:i.default.avatar_url||null,baseUrl:i.default.base_url||null,botmode:i.default.botmode||null,buildNumber:i.default.build_number||null,comet:i.default.comet&&{host:i.default.comet.host||null}||null,configUpdatedTs:i.default.config_updated_ts||null,cookieDomain:i.default.cookie_domain||null,geoIp:i.default.geoip||null,hostBlacklist:i.default.host_blacklist||null,premium:i.default.options||null,siteId:i.default.site_id||null,staticHost:i.default.static_host||null,telHost:i.default.telHost||null,unverified:i.default.unverified||null,viHost:i.default.vi_host||null,widgetId:i.default.widget_id||null,billRu:!!i.default.bill_ru};t.system=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;t.type,t.payload;return e}},83641:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.user=void 0;var i=a(n(63978)),o=a(n(20368)),r=a(n(39649)),l=a(n(78914)),u=a(n(34074)),s=a(n(20116)),c=a(n(14310)),d=a(n(86902)),f=a(n(87672)),h=n(54847),p=a(n(62904)),g=a(n(75119));function m(e,t){var n=(0,d.default)(e);if(c.default){var a=(0,c.default)(e);t&&(a=(0,s.default)(a).call(a,(function(t){return(0,u.default)(e,t).enumerable}))),n.push.apply(n,a)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)(0,l.default)(n=m(Object(a),!0)).call(n,(function(t){(0,f.default)(e,t,a[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(a));else{var s;(0,l.default)(s=m(Object(a))).call(s,(function(t){(0,i.default)(e,t,(0,u.default)(a,t))}))}}return e}var _={bubbleColor:p.default.bubble_color||null,callback:p.default.callback_settings&&{time:p.default.callback_settings.time||null,button:p.default.callback_settings.button||null,countries:p.default.callback_settings.countries||null}||null,callbackButtonColor:p.default.callback_btn_color||null,chatMode:p.default.chat_mode||null,contactsAsk:p.default.contacts_ask||null,contactsSettings:p.default.contacts_settings||null,custom_langpack:p.default.custom_langpack||null,departments:p.default.departments||null,fontFamily:p.default.font_family||"Arial",fontSize:p.default.font_size||"15",fontType:p.default.font_type||"normal",hideAd:p.default.hide_ad||null,hideOffline:p.default.hide_offline||null,locale:p.default.locale||null,offlineFormText:p.default.offline_form_text||null,offlineFormTitle:p.default.offline_form_title||null,offlineWidgetLabel:p.default.offline_widget_label||(0,g.default)("defOfflineWidgetLabelMobile"),onlineWidgetLabel:p.default.online_widget_label||(0,g.default)("defOnlineWidgetLabel"),pattern:p.default.pattern||null,powerButtonColor:p.default.power_button_color||"#44BB6E",powerButtonPhone:p.default.power_button_phone||null,powerGradient:!!p.default.power_gradient||null,prechat:p.default.prechat||null,rules:p.default.rules||null,showRateForm:p.default.show_rate_form||null,socialResponse:p.default.social_response||null,widgetColor:p.default.widget_color||null,widgetColor2:p.default.widget_color2||null,widgetFontColor:p.default.widget_font_color||null,widgetMobileOrientation:p.default.widget_mobile_orientation||"right",widgetOrientation:p.default.widget_orientation||"bottom",widgetPadding:p.default.widget_padding||"100",wixAgentDisplayName:p.default.wix_agent_display_name||null,wixAgentTitle:p.default.wix_agent_title||null,callHeaderText:null};t.user=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case h.ActionType.SET_WIDGET_COLOR:return v(v({},e),{},{widgetColor:a.widgetColor});case h.ActionType.SET_WIDGET_COLOR2:return v(v({},e),{},{widgetColor2:a.widgetColor2});case h.ActionType.SET_WIDGET_FONT_COLOR:return v(v({},e),{},{widgetFontColor:a.widgetFontColor});case h.ActionType.SET_WIDGET_ORIENTATION:return v(v({},e),{},{widgetOrientation:a.widgetOrientation});case h.ActionType.SET_WIDGET_PADDING:return v(v({},e),{},{widgetPadding:a.widgetPadding});case h.ActionType.SET_ONLINE_WIDGET_LABEL:return v(v({},e),{},{onlineWidgetLabel:a.onlineWidgetLabel});case h.ActionType.SET_WIDGET_FONT_FAMILY:return v(v({},e),{},{fontFamily:a.fontFamily});case h.ActionType.SET_WIDGET_FONT_SIZE:return v(v({},e),{},{fontSize:a.fontSize});case h.ActionType.SET_WIDGET_FONT_TYPE:return v(v({},e),{},{fontType:a.fontType});case h.ActionType.SET_CALL_HEADER_TEXT:return v(v({},e),{},{callHeaderText:a.callHeaderText});case h.ActionType.SET_PATTERN:return v(v({},e),{},{pattern:a.pattern});default:return e}}},3433:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0,n=t.type,o=t.payload;switch(n){case a.ActionType.INIT_SOCIAL_STORE:return o?{vk:o.vk||null,fb:o.fb||null,mode:o.mode||null}:e;default:return e}};var a=n(54847),i={vk:null,fb:null,mode:null}},10466:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0,n=t.type,o=t.payload;switch(n){case a.ActionType.INIT_TRANSITION_STORE:return{currentScript:o&&o.currentScript||null};case a.ActionType.START_TRANSITION_SCRIPT:return{currentScript:o&&o.script||e.currentScript};default:return e}},t.initialState=void 0;var a=n(54847),i={currentScript:null};t.initialState=i},21589:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0,n=t.type,o=t.payload;switch(n){case a.ActionType.INIT_ZOOM_STORE:return o?{user:o.user||null,page:o.page||null,app:o.app||null}:e;default:return e}};var a=n(54847),i={user:null,page:null,app:null}},43472:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.reduxStore=void 0;var i=n(14890),o=a(n(40758)),r=n(78055),l=(a(n(75043)).default.name("ReduxStore"),(0,i.createStore)(o.default,(0,i.applyMiddleware)(r.logger)));t.reduxStore=l},44299:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i,o,r=a(n(23765)),l=a(n(33032)),u=a(n(54103)),s=a(n(51942)),c=a(n(62107)),d=n(56602),f=a(n(62904)),h=a(n(62652)),p=a(n(36216)),g=a(n(69961)),m=a(n(40695)),v=a(n(92234)),_=a(n(47321)),y=a(n(99357)),b=a(n(67966)),w=a(n(44992)),E=a(n(18750)),C=n(17674),T=n(85442),k=n(75245),S=n(81426),I=n(33367),A=n(63242),x=n(11470),M=n(99112),R=a(n(5972)),O=a(n(93268)),N=n(8565),D=n(23582),L=a(n(75043)).default.name("ruleManager"),P=new(0,n(89766).EventEmitter),j=(0,s.default)(P,{rules:[],canInvite:!0,init:function(){var e=c.default.defaults(this.rules,f.default.rules);f.default.botmode||((0,x.setRuleLocal)("pageEnterTime",(new Date).getTime()),(0,x.addPageView)(),g.default.agent_id&&h.default.chat_started&&h.default.is_online||(0===e.length&&c.default.isArray(f.default.proactive_rules)&&f.default.proactive_rules.length>0?(this.importLegacy(),this.ready()):this.ready()))},ready:function(){L.log("RULE MANAGER READY");var e=this.rules;this.rules=[];for(var t=0;t<e.length;t++)e[t].conditions?this.rules.push(new F(e[t])):L.warn("Remove rule without condition.")},importLegacy:function(){var e;L.log("importing from proactive_rules"),I.Monitoring.telemetry(A.TelemetryName.IMPORT_LEGACY);for(var t=["contain","equal","regexp"],n=0;n<f.default.proactive_rules.length;n++){e=f.default.proactive_rules[n],c.default.defaults(e,{name:e.invitationText,urlPrefix:[{url:"/",mm:0}],page_timeout:20,close_timeout:300,enter_timeout:0,pages_count:0});for(var a=0;a<e.urlPrefix.length;a++)this.rules.push({legacyId:e.id,name:e.name,type:"all",conditions:[{condition:"online",value:!0},{condition:"time_on_page",comparator:"greater_equal",value:e.page_timeout},{condition:"time_after_close",comparator:"greater_equal",value:e.close_timeout},{condition:"time_on_site",comparator:"greater_equal",value:e.enter_timeout},{condition:"pages_count",comparator:"greater_equal",value:e.pages_count},{condition:"page_url",comparator:t[e.urlPrefix[a].mm],value:e.urlPrefix[a].url}],commands:[{command:"proactive",params:{message:e.invitationText}}]})}},moveCloseButton:function(){c.default.each(this.rules,(function(e){(0,x.setRuleLocal)("movedToCloseButton",!0),e.tick()}),this)},mouseScroll:function(e){c.default.each(this.rules,(function(t){(0,x.setRuleLocal)("scrollPosition",e),t.tick()}),this)},cancelRule:function(e){L.log("canceling rule",e);for(var t=0;t<this.rules.length;t+=1)!this.rules[t].isTriggered&&this.rules[t].cancel&&this.rules[t].commands[0].command===e&&this.rules[t].cancel();"proactive"===e&&(this.canInvite=!1)},allRulesCancel:function(){L.log("allRulesCancel");for(var e=0;e<this.rules.length;e++)!this.rules[e].isTriggered&&this.rules[e].cancel&&this.rules[e].cancel()},handleOnceADay:function(e){L.log("handleOnceADay",e),e&&e.name&&O.default.set(e.name,e.value,86400)},showProactive:function(e,t,n,a){var i=this;L.log("showProactive");var o=y.default.getCurrentChatMessages();!this.canInvite||b.default.get("text")||y.default.getCurrentProactive()||"chat"==C.Router.getCurrentRoute()&&_.default.chatOpenByClient||h.default.chat_started&&o&&o.length?L.log("showProactive cant invite"):((0,M.pageVisible)()||p.default.reload(),t&&t!==p.default.department_id&&_.default.setDepartmentId(t),E.default.getActiveAgent((function(t){L.log("widget status",t),t&&(C.Router.getCurrentRoute()===T.Route.LABEL||(0,d.isChatPage)())?(t.bot_id||p.default.pa_id&&p.default.pa_id===t.agent_id||(p.default.pa_id=t.agent_id),v.default.proactive(e,t,n),(0,x.setInvitationTime)(),i.emit("show_proactive"),w.default.play("notification"),i.handleOnceADay(a),k.messageActions.addPrechatMessage(),m.default.trackProactiveInvitationShown(n)):L.log('invitation failed, no agent OR route != "label"')})))},showCallForm:function(e,t,n){var a=this;v.default.showCallForm(e,(function(){a.emit("show_proactive"),w.default.play("notification"),(0,x.setInvitationTime)(),m.default.trackCallWidgetInvitationShown(n),a.handleOnceADay(t)}))}}),B=(0,s.default)(P,{inited:!1,initialize:function(){this.inited||(this.initScroll(),this.initClose(),this.inited=!0)},initScroll:function(){var e;i=c.default.throttle((0,u.default)(e=this._scroll).call(e,this),150),(0,d.addListener)(window.parent,"scroll",i)},initClose:function(){this.last_position={},o=c.default.throttle((0,u.default)(c.default).call(c.default,this._mouse,this),100),(0,d.addListener)(window.parent,"mousemove",o)},_mouse:function(e){if(this.timerId&&clearTimeout(this.timerId),void 0!==this.last_position.x){var t=this.last_position.x-e.clientX,n=this.last_position.y-e.clientY,a=Math.abs(n)>Math.abs(t)&&n>0,i=e.clientY>>0==0,o=e.clientY<=30,r=e.clientY<=this.last_position.dY+30&&n>e.clientY&&n>25;a&&(i||o&&r)&&(this.timerId=(0,l.default)((function(){j.moveCloseButton()}),200))}this.last_position={x:e.clientX,y:e.clientY,dY:this.last_position.y-e.clientY}},_scroll:function(){var e=window.parent.document,t=e.documentElement.clientHeight;t===e.documentElement.scrollHeight&&(t=e.body.clientHeight),j.mouseScroll(Math.round((e.documentElement.scrollTop+e.body.scrollTop)/(e.documentElement.scrollHeight-t)*100))},removeEvents:function(){i&&(0,d.removeEvent)(window.parent,"scroll",i),o&&(0,d.removeEvent)(window.parent,"scroll",o)}}),F=function(e){var t={initialize:function(){c.default.defaults(this,e),c.default.each(this.conditions,(function(e){"week_day"===e.condition&&"0"===e.value&&(e.value="7")}));var t=[],n=!1,a=this.commands[0],i=O.default.get(a.command+"_onceADay");if(a.params&&a.params.onceADay&&i)L.log("is once a day rule",this.name);else{if(this.conditions)for(var o=0;o<this.conditions.length;o++){var r=this.conditions[o];if((0,x.isGoalCondition)(r.condition)&&B.initialize(),(0,x.isTimeCondition)(r)||(0,x.isGoalCondition)(r)){var l=(0,x.getValue)(r.condition);L.info(this.name+"; init condition "+r.condition+"; expected="+r.value+"; actual="+l),t.push(r)}else{if("page_url"===r.condition)r.value=r.value.replace(/http(|s):\/\//,"");else if("ab_test_group"===r.condition&&!R.default.get("ab_test_group")){var u=Math.round(Math.random()),s=r.group_name?r.group_name:"JivoSite A/B Group";R.default.set("ab_test_group",u?"group_a":"group_b"),m.default.setABTestGroupContacts(s,u?"Group A":"Group B")}if((0,x.checkCondition)(r,this.name))n=!0;else if("all"===this.type)return}}t.length>0?(this.conditions=t,(0,x.checkTimeConditions)(this.conditions,this.type,this.name)?this.triggered():this.timeWait()):n&&this.triggered()}},timeWait:function(){var e=this;clearTimeout(this.timeWaitTimeout),this.timeWaitTimeout=(0,l.default)((function(){e.tick()}),1e3)},tick:function(){!this.isTriggered&&(0,x.checkTimeConditions)(this.conditions,this.type,this.name)?this.triggered():this.timeWait()},cancel:function(){clearTimeout(this.timeWaitTimeout),this.isTriggered=!0},triggered:function(){L.log("triggered");var e=this.commands[0],t={};clearTimeout(this.timeWaitTimeout),this.isTriggered=!0,"object"===(0,r.default)(e.params)&&(t={name:e.command+"_onceADay",value:e.params.onceADay?1:null});var n=(0,x.isPopupCommand)(e.command);if(h.default.route!==T.Route.LABEL&&n&&_.default.chatOpenByClient)L.log("cant show proactive",h.default.route);else if(n&&(0,x.isYandexMarketClient)(p.default.utm))L.log("ignore proactive for YMarket");else{var a=y.default.getLastMessage();switch(e.command){case"proactive":j.showProactive(e.params.message,e.params.department,this.name,t);break;case"open_offline":if(f.default.chat_mode===S.ChatMode.ONLINE||"hidden"==h.default.route)return;if("ok"==h.default.cap_result||h.default.chat_started)return;(0,x.setInvitationTime)(),e.params&&(e.params.title&&(f.default.offline_form_title=e.params.title),e.params.message&&(k.messageActions.deleteOfflineSystemInvites(),f.default.offline_form_text=e.params.message)),j.handleOnceADay(t),v.default.openOffline(e),j.emit("show_proactive"),w.default.play("notification"),m.default.trackProactiveInvitationShown(this.name),j.cancelRule("open_offline"),I.Monitoring.telemetry(A.TelemetryName.OFFLINE_INVITE);break;case"hide":_.default.hideWidget();break;case"system_message":h.default.is_online&&(a&&a.get("type")===N.MessageType.SYSTEM&&a.get("text")===e.params.message&&a.destroy(),(0,x.setInvitationTime)(),v.default.systemMessage(e.params.message),k.messageActions.addPrechatMessage());break;case"system_message_email":if(!h.default.is_online)return;if(h.default.is_online&&3===f.default.contacts_ask)return void L.log("systemMessageEmail failed, contact settings is social");if(p.default.client_info.email)return void L.log("Client already has email. Rule ignored.");if((0,d.hasIntegration)(p.default.has_integration))return void L.log("systemMessageEmail failed, client has integration");if(D.FeatureManager.isEnabled(D.Feature.OLD_CAPTCHA))return void L.log("systemMessageEmail failed, captcha mode enabled");(0,x.setInvitationTime)(),v.default.systemMessageEmail(e.params.message),k.messageActions.addPrechatMessage();break;case"show_callform":j.showCallForm(e.params.title.replace("<br>","").replace("<span>","").replace("<span style='color: #40cd72'>","").replace("</span>",""),t,this.name)}}}};return t.initialize(),t};g.default.addListener((function(){g.default.agent_id&&h.default.chat_started&&h.default.is_online&&j.allRulesCancel()})),y.default.on("create",(function(){y.default.getCurrentClientMessages().length&&!(0,x.getRuleLocal)("firstMessageTime")&&(L.log("cancelRules, we have client messsages."),j.cancelRule("proactive"),j.cancelRule("show_callform"));var e=y.default.getLastMessage();e&&"proactive"===e.get("type")&&j.cancelRule("proactive"),y.default.getAgentTextMessages().length&&"client"!==e.get("from")&&(L.log("cancel system_message, we have agentMessage"),j.cancelRule("system_message"))})),(0,d.addListener)(window.parent,"jBeforeunload",B.removeEvents);var H=j;t.default=H},69961:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(92142)),o=(a(n(75043)).default.name("agent"),(0,i.default)({agent_id:0,bot_id:0,display_name:null,title:null,avatar_url:null,typing:0}));o.toReduxFormat=function(){return{avatarUrl:(e=o).avatar_url||null,id:e.agent_id||e.bot_id,name:e.display_name||null,title:e.title||null,isBot:!!e.bot_id};var e};var r=o;t.default=r},62652:function(e,t,n){"use strict";var a=n(87646),i=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(62904)),r=i(n(62107)),l=i(n(36216)),u=a(n(92142)),s=i(n(58061)),c=n(56602),d=n(11470),f=n(85442),h=n(24335),p=n(81426),g=i(n(93268)),m=(i(n(75043)).default.name("app"),{route:f.Route.LABEL,is_online:0,is_focused:0,chat_started:!1,chat_accepted:!1,widget_color:o.default.widget_color,widget_color2:o.default.widget_color2,widget_font_color:o.default.widget_font_color,cap_id:null,cap_result:null,proactiveName:!1,forcedOffline:!1,callText:null,proactive:!1,eula_accepted:!1,show_eula:!1,width:!1,height:!1,viReconnectTime:null,show_container:!1,lastMsgId:null,lastChatOpened:null,started:!1}),v=h.isDesignerEditor?null:"".concat(o.default.widget_id,"_app"),_=(0,u.default)(m,v);_.widget_color=o.default.widget_color,_.widget_color2=o.default.widget_color2,_.widget_font_color=o.default.widget_font_color,_.is_online=o.default.chat_mode===p.ChatMode.ONLINE?1:0,o.default.chat_mode===p.ChatMode.OFFLINE||null!==l.default.jv_sess_id||(_.chat_started=!1),(0,c.isWixEditor)()&&(_.chat_started=!1),_.chat_started?"cw_call_end"!=l.default.cw_call.status&&"cw_error"!=l.default.cw_call.status||(l.default.cw_call.status=!1):("col_old_page"!==window.parent.name&&(_.route=f.Route.LABEL),l.default.evaluate=!1,l.default.cw_call.status=!1,l.default.cw_call.error=!1),s.default.mobileOrTablet()&&(_.route=f.Route.LABEL),r.default.defaults(o.default,{contacts_settings:{name:{show:!1,required:!1},phone:{show:!1,required:!1},email:{show:!1,required:!1}}});var y=!0;r.default.each(["name","phone","email"],(function(e){o.default.contacts_settings[e].show&&(y=!1)}),void 0),y&&(o.default.contacts_ask=2),1!=o.default.hide_offline||512&o.default.options||(o.default.hide_offline=0),1!=o.default.show_rate_form||64&o.default.options||(o.default.show_rate_form=0);var b=!1;r.default.each(o.default.rules,(function(e){"hide"===e.commands[0].command&&(0,d.checkTimeConditions)(e.conditions,e.type,e.name)&&(b=!0)})),b&&(0,u.addSyncExclude)("route"),(!_.is_online&&o.default.hide_offline||g.default.get("is_blacklisted")||b||s.default.mobileOrTablet()&&o.default.disable_mobile||(0,c.isAppCobrowse)())&&(_.route=f.Route.HIDDEN),_.route==f.Route.INTRODUCE&&1!==o.default.contacts_ask&&(_.route=f.Route.CHAT),_.route==f.Route.INTRODUCE&&l.default.is_introduced&&(_.route=f.Route.CHAT),_.route==f.Route.CHAT_SOCIAL&&(_.route=f.Route.CHAT),_.route==f.Route.CHAT_EULA&&(_.route=f.Route.CHAT),_.route==f.Route.CALL_EULA&&(_.route=f.Route.CALL),!s.default.mobile()&&_.zoom&&(_.zoom=null),_.show_eula=!1,_.show_container=!1,h.isDesignerEditor&&(_.route=f.Route.CHAT),(0,c.isChatPage)()&&(1===o.default.contacts_ask&&_.is_online?_.route=f.Route.INTRODUCE:o.default.departments&&!_.chat_started?_.route=f.Route.DEPARTMENTS:_.route=f.Route.CHAT);var w=_;t.default=w},36216:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(62904)),o=a(n(92142)),r=n(24335),l=(a(n(75043)).default.name("client"),r.isDesignerEditor?null:"".concat(i.default.widget_id,"_client")),u=(0,o.default)({jv_sess_id:null,client_id:null,pa_id:null,is_introduced:!1,client_info:{client_name:null,phone:null,email:null,description:null},cw_call:{status:!1},cw_call_enabled:!1,cw_call_delayed:!1,cw_call_delayed_status:null,cw_call_delayed_periods:[],cw_call_delayed_tz:null,department_id:null,evaluate:!1,last_message:null,has_integration:!1,utm:{campaign:null,source:null,medium:null,keyword:null,content:null},visitorId:0,avatar_url:null,display_name:null,assigned_agent_id:null},l);i.default.callback_settings&&i.default.callback_settings.time||(u.cw_call_enabled=!1),i.default.joint||(u.has_integration=!1),u.client_id||(u.department_id=null);var s=u;t.default=s},82036:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(94198)),o=a(n(62904)),r=a(n(92142)),l=n(24335),u=(a(n(75043)).default.name("position"),l.isDesignerEditor?null:"".concat(o.default.widget_id,"_position")),s=(0,r.default)({height:null,left:null,right:null},u);s.height&&(0,i.default)(s.height)<402&&(s.height="410px");var c=s;t.default=c},67966:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(71093)),o=n(56602),r=(a(n(75043)).default.name("proactive"),new i.default({type:"memory",name:"proactive",keys:{private_id:function(){return(0,o.generateGUID)()},created_ts:function(){return(new Date).getTime()},text:null,status:null,body:{},proactiveName:null}}));t.default=r},56602:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.listenVisibility=M,t.default=t.omit=t.isPaidCustomer=t.getBundleSrc=t.getHostURL=t.isCdnProvider=t.isEmpty=t.isTextEmojiDisabled=t.hasIntegration=t.getUrlEmoji=t.getFileExtension=t.detectType=t.cdnLinkToEmoji=t.cdnPatternUrl=t.getGradientBg=t.isAppCobrowse=t.isChatPage=t.isCustomLabel=t.humanFileSize=t.trackCallLogo=t.hideOffline=t.isAnyRequired=t.isEmailOrPhoneRequired=t.getTextColor=t.getProtocol=t.chatServerHost=t.staticUrl=t.setSubstrTitle=t.stripBrackets=t.generateGUIDCount=t.generateGUID=t.getRandomString=t.getUtmLink=t.getCopyrightSiteByLocale=t.getUnicodeHref=t.removeQueryParam=t.setGetParam=t.getCurrentPage=t.getContactSettingsInfo=t.isWixEditor=t.isWixContext=t.isWixIframe=t.showAd=t.removeEvent=t.addListener=t.getPageWindow=void 0;var i=a(n(28032)),o=a(n(23765)),r=a(n(2991)),l=a(n(80122)),u=a(n(32366)),s=a(n(86902)),c=a(n(23054)),d=a(n(77766)),f=a(n(20116)),h=a(n(69301)),p=a(n(54103)),g=a(n(81643)),m=a(n(62904)),v=a(n(62107)),_=a(n(10505)),y=a(n(58061)),b=n(94515);function w(e){var t=function(e,t){if("object"!==(0,o.default)(e)||null===e)return e;var n=e[i.default];if(void 0!==n){var a=n.call(e,t||"default");if("object"!==(0,o.default)(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,o.default)(t)?t:String(t)}var E=a(n(75043)).default.name("utils","color: grey"),C=function(){return window.parent||window};t.getPageWindow=C;var T=function(e,t,n){var a,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.addEventListener?e.addEventListener(t,n,!!y.default.supportsPassiveListeners()&&{passive:i}):e.attachEvent&&(e.attachEvent("on"+t,(a=e,function(){n.call(a,window.event)})),e=null)};t.addListener=T;var k=function(e,t,n){if(window.removeEventListener)e.removeEventListener(t,n,!1);else{if(!window.detachEvent)return!1;e.detachEvent("on"+t,(function(){n.call(e)}))}};t.removeEvent=k;var S=function(){return!(m.default.unverified||m.default.options&&m.default.hide_ad)};t.showAd=S;var I=function(){return void 0!==C().jivo_in_wix_iframe};t.isWixIframe=I;var A=function(){var e=C().wix_context;return e&&e.Utils&&e.Utils.getViewMode()};t.isWixContext=A;var x=function(){var e=A();return!!e&&-1!==(0,g.default)(v.default).call(v.default,["preview","editor"],e)};function M(e){E.log("Installing visibility event handler");var t,n,a=v.default.debounce(e,50);void 0!==document.hidden?("hidden",n="visibilitychange",t="visibilityState"):void 0!==document.mozHidden?("mozHidden",n="mozvisibilitychange",t="mozVisibilityState"):void 0!==document.msHidden?("msHidden",n="msvisibilitychange",t="msVisibilityState"):void 0!==document.webkitHidden&&("webkitHidden",n="webkitvisibilitychange",t="webkitVisibilityState"),"addEventListener"in document&&void 0!==n&&(document.addEventListener(n,(0,p.default)(v.default).call(v.default,a,this,t),!1),parent.document.addEventListener(n,(0,p.default)(v.default).call(v.default,a,this,t),!1),parent.document.addEventListener("focus",(0,p.default)(v.default).call(v.default,a,this,t),!1),parent.document.addEventListener("blur",(0,p.default)(v.default).call(v.default,a,this,t),!1),parent.window.addEventListener("focus",(0,p.default)(v.default).call(v.default,a,this,t),!1),parent.window.addEventListener("blur",(0,p.default)(v.default).call(v.default,a,this,t),!1))}t.isWixEditor=x;var R=function(){if(!m.default.contacts_settings)return"";var e=m.default.contacts_settings,t=(0,h.default)(v.default).call(v.default,e),n={name:0,phone:1,email:2},a=[];return v.default.each(t,(function(t){var i=e[t].show&&e[t].required?"*":"";e[t].show&&(a[n[t]]=t+i)})),(0,f.default)(a).call(a,(function(e){return e})).join(";")};t.getContactSettingsInfo=R;var O=function(){var e=C(),t=e.location.href,n=e.document.title,a=-1!==(0,g.default)(t).call(t,"about:");return""==n&&a&&(n=e.parent.document.title),t=L(a?e.parent.location:e.location),A()&&(t=e.wix_url||t,n=e.wix_title||n),{url:t,title:n.substr(0,255)}};t.getCurrentPage=O;var N=function(e,t,n){e=encodeURI(e),t=encodeURI(t);for(var a,i=n.split("&"),o=i.length;o--;)if((a=i[o].split("="))[0]===e){a[1]=t,i[o]=a.join("=");break}return o<0&&(i[i.length]=[e,t].join("=")),i.join("&")};t.setGetParam=N;var D=function(e,t){t||(t=C().location.href);var n=t.split("#"),a=new RegExp("([?&])"+e+"=.*?(&|#|$)","i");return n[0].match(a)&&(t=(t=n[0].replace(a,"$1")).replace(/([?&])$/,""),void 0!==n[1]&&null!==n[1]&&(t+="#"+n[1])),t};t.removeQueryParam=D;var L=function(e){try{var t=e.hostname;return e.href.replace(t,_.default.toUnicode(t))}catch(t){return e.href}};t.getUnicodeHref=L;var P=function(){var e,t,n,a,i,o,r=m.default.locale,l="https://www.jivochat.com";-1!=(0,g.default)(e=["ru_RU","be","kk","uk"]).call(e,r)?l="https://www.jivo.ru":-1!=(0,g.default)(t=["pt","pt_BR"]).call(t,r)?l="https://www.jivochat.com.br":-1!=(0,g.default)(n=["es"]).call(n,r)?l="https://www.jivochat.es":-1!=(0,g.default)(a=["de"]).call(a,m.default.locale)?l="https://www.jivochat.de":-1!=(0,g.default)(i=["tr"]).call(i,m.default.locale)?l="https://www.jivochat.com.tr":-1!=(0,g.default)(o=["id"]).call(o,m.default.locale)&&(l="https://www.jivochat.co.id");var u=C().location.hostname.split("."),s=u[u.length-1];return"de"===s?l="https://www.jivochat.de":"cl"===s?l="https://www.jivochat.cl":"bo"===s?l="https://www.jivochat.com.bo":"co"===s?l="https://www.jivochat.com.co":"ve"===s?l="https://www.jivochat.com.ve":"pe"===s?l="https://www.jivochat.com.pe":"mx"===s?l="https://www.jivochat.mx":"ar"===s&&(l="https://www.jivochat.com.ar"),l};t.getCopyrightSiteByLocale=P;var j=function(e){return"chat"===e&&(e=y.default.mobile()?"chat_mobile":"chat_desktop"),P()+"/i_sa/?utm_source="+encodeURIComponent(C().location.hostname)+"&utm_medium=link&utm_content="+e+"&utm_campaign=from_widget"};t.getUtmLink=j;var B=function e(){var t=Math.floor(65536*Math.random()).toString(16);return 4===t.length?t:e()};t.getRandomString=B;var F=function(){var e=B;return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()};t.generateGUID=F;var H=function(e){for(var t="";e--;)t+=B();return t};t.generateGUIDCount=H;var W=function(e){return v.default.isUndefined(e)?"":e.replace(/</g,"&lt;").replace(/>/g,"&gt;")};t.stripBrackets=W;var U=function(e){return e.substr(0,255)};t.setSubstrTitle=U;var z=function(e,t){if(t||(e+="?rnd="+(new Date).getTime()),b.EnvironmentManager.isDevelopment())return e;var n=m.default.bundle_folder?m.default.bundle_folder:"";return V()+de()+n+e};t.staticUrl=z;var G=function(){var e=V(),t=e+"//";return"comet"in m.default?(t+=m.default.comet.host,"https:"==e?"secure_port"in m.default.comet&&(t+=":"+m.default.comet.secure_port):"plain_port"in m.default.comet&&(t+=":"+m.default.comet.plain_port)):t+="node.jivosite.com",t};t.chatServerHost=G;var V=function(){var e,t=C().location.protocol;return-1===(0,g.default)(e=["http","https"]).call(e,t)&&(t="https:"),t};t.getProtocol=V;var q=function(e){return"dark"==e?"#222222":"#F0F1F1"};t.getTextColor=q;var K=function(){var e=!1,t=m.default.contacts_settings;return!!t&&((t.phone.show&&t.phone.required||t.email.show&&t.email.required)&&(e=!0),e)};t.isEmailOrPhoneRequired=K;var Y=function(){var e=!1,t=m.default.contacts_settings;return!!t&&((t.phone.show&&t.phone.required||t.email.show&&t.email.required||t.name.show&&t.name.required)&&(e=!0),e)};t.isAnyRequired=Y;var Z=function(){return m.default.hide_offline>0};t.hideOffline=Z;var J=function(){return P()+"/calls?utm_source="+C().location.host+"&utm_medium=link&utm_content=callback_popup&utm_campaign=self_ad"};t.trackCallLogo=J;var X=function(e){if(!e||0==e)return"";var t=Math.floor(Math.log(e)/Math.log(1024));return 1*(e/Math.pow(1024,t)).toFixed(2)+["B","KB","MB","gB","tB"][t]};t.humanFileSize=X;var $=function(){try{return!(!(window&&window.parent)||"function"!=typeof window.parent.jivo_onLoadCallback)&&-1!=window.parent.jivo_onLoadCallback.toString().search(/jivo_custom_widget/gi)}catch(e){return!1}};t.isCustomLabel=$;var Q=function(){return C().jivo_chat_page||!1};t.isChatPage=Q;var ee=function(){return"cobrowser-iframe"===window.parent.name};t.isAppCobrowse=ee;var te=function(e,t){var n,a={};t?a.background=(0,d.default)(n="linear-gradient(95deg, ".concat(e," 20%, ")).call(n,t," 80%)"):a.background=e;return a};t.getGradientBg=te;var ne=function(){return"url(".concat(z((b.EnvironmentManager.isDevelopment()?"/public":"")+"/images/pattern/"+m.default.pattern+".svg",!0),")")};t.cdnPatternUrl=ne;var ae=function(e){return z((b.EnvironmentManager.isDevelopment()?"/public":"")+"/images/emoji/"+e+".svg",!0)};t.cdnLinkToEmoji=ae;var ie=function(e){return(0,g.default)(e).call(e,"image")>=0?"photo":(0,g.default)(e).call(e,"video")>=0?"video":(0,g.default)(e).call(e,"audio")>=0?"audio":"document"};t.detectType=ie;var oe=function(e){return e.substr((0,c.default)(e).call(e,".")+1)};t.getFileExtension=oe;var re=function(e,t){return((0,g.default)(e).call(e,"image")>=0?"📸":(0,g.default)(e).call(e,"video")>=0?"📽️":(0,g.default)(e).call(e,"audio")>=0?"🔉":"📄")+" "+t};t.getUrlEmoji=re;var le=function(e){var t;return-1!==(0,g.default)(t=["vk","fb"]).call(t,e)};t.hasIntegration=le;var ue=function(){return!!C()._wpemojiSettings};t.isTextEmojiDisabled=ue;var se=function(e){return null===e||""===e||void 0===e||(!(!e||0!==(0,s.default)(e).length||e.constructor!==Object&&e.constructor!==Array)||!e&&0!==e&&!1!==e&&void 0)};t.isEmpty=se;var ce=function(){return!(!m.default.static_host||!~m.default.static_host.search(/\/\/cdn(-\w+)?.jivosite.com(\/\w)?/)&&!~m.default.static_host.search(/\/\/code(-\w+)?.jivosite.com(\/\w)?/))};t.isCdnProvider=ce;var de=function(){return ce()?m.default.static_host:m.default.base_url};t.getHostURL=de;var fe=function(){var e=m.default.bundle_folder?m.default.bundle_folder:"";return(b.EnvironmentManager.isDevelopment()?"/public/js/bundle_":de()+e+"/js/bundle_")+m.default.locale+".js?rand="+m.default.build_number};t.getBundleSrc=fe;var he=function(){return 16&m.default.options};t.isPaidCustomer=he;var pe=function(e,t){return e&&e.length?(0,u.default)(e).call(e,(function(e,t){var n;e[t];return(0,l.default)(e,(0,r.default)(n=[t]).call(n,w))}),t):t};t.omit=pe;var ge={isEmpty:se,isTextEmojiDisabled:ue,hasIntegration:le,getUrlEmoji:re,getFileExtension:oe,detectType:ie,cdnLinkToEmoji:ae,cdnPatternUrl:ne,getGradientBg:te,isAppCobrowse:ee,isCustomLabel:$,humanFileSize:X,trackCallLogo:J,hideOffline:Z,isAnyRequired:Y,isEmailOrPhoneRequired:K,getTextColor:q,getProtocol:V,chatServerHost:G,staticUrl:z,setSubstrTitle:U,stripBrackets:W,generateGUIDCount:H,generateGUID:F,getRandomString:B,getUtmLink:j,getCopyrightSiteByLocale:P,getUnicodeHref:L,removeQueryParam:D,setGetParam:N,getCurrentPage:O,getContactSettingsInfo:R,listenVisibility:M,isWixEditor:x,isWixContext:A,isWixIframe:I,showAd:S,removeEvent:k,addListener:T,getPageWindow:C,isCdnProvider:ce,getHostURL:de,getBundleSrc:fe,isPaidCustomer:he,omit:pe,isChatPage:Q};t.default=ge},46849:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(47302)),o=a(n(31581)),r=a(n(81643)),l=a(n(33032)),u=a(n(23765));!function(e){var t={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3},n={1e3:"Normal Closure",1001:"Going away",1002:"Protocol error",1003:"Unsupported data",1004:"reserved",1005:null,1006:null,1007:"Invalid frame payload data",1008:"Policy violation",1009:"Message Too Big",1010:"Mandatory Ext.",1011:"Internal Error",1012:"Service Restart",1013:"Try Again Later",1014:"Unassigned",1015:"TLS handshake",3001:"Attempts have Ended",3333:"Spam detected",4e3:"Application Closure",4999:"Last Code"},a=function(){},s=function(){throw new Error("Not implemented")},c=Date,d=function(e,t){this.name="NetworkError",this.code=t<<0,this.message=String(e)};d.prototype.toString=function(){return this.name+":"+(this.code<<0||"")+" "+this.message};var f,h=function e(t,n,a){if(t&&"function"==typeof t[n])try{t[n](a)}catch(a){if("onerror"===String(n))throw a;try{e(t,"onerror",a)}catch(e){}}},p={};if(window&&("function"==typeof window.WebSocket||"object"===(0,u.default)(window.WebSocket))){var g=window.WebSocket;for(var m in f=function(e,a){var i,o,r,u=this;this.url=e,this.readyState=t.CONNECTING;var s=function(){if(i){i.onclose=null,i.onerror=null,i.onmessage=null,i.onopen=null;try{i.close()}catch(e){}}u.readyState=t.CLOSED,h(u,"onclose",{wasClean:!1,code:1006,reason:"Timeout"})},c=function(){try{i.send(".")}catch(e){}r=(0,l.default)(s,1e4)};this.close=function(e,n){if(clearTimeout(r),this.readyState===t.CONNECTING)this.readyState=t.CLOSING,clearTimeout(o),o=(0,l.default)((function(){u.readyState=t.CLOSED,h(u,"onclose",{wasClean:!1,code:1006,reason:""})}),20);else if(this.readyState===t.OPEN){this.readyState=t.CLOSING;try{n?i.close(e,n):e?i.close(e):i.close(1e3)}catch(e){h(u,"onerror",e),h(u,"onclose",{wasClean:!1,code:1006,reason:""})}}},this.send=function(e){if(!i||i.OPEN!==i.readyState)throw new Error("Socket is not open");i.send(e)},o=(0,l.default)((function(){try{(i=a?new g(e,a):new g(e)).onclose=function(e){if(clearTimeout(r),clearTimeout(o),u.readyState=t.CLOSED,/MSIE|Trident|Edge|Lumia/.test(window.navigator.userAgent)&&e.wasClean&&(1e3===e.code||1005===e.code)&&e.reason)for(var a in n)if(e.reason===n[a])return void h(u,"onclose",{wasClean:!0,code:a<<0,reason:e.reason});h(u,"onclose",e)},i.onerror=function(e){e.name||e.message||(e.name="WebSocketError",e.message="Unknown"),h(u,"onerror",e)},i.onmessage=function(e){clearTimeout(r),r=(0,l.default)(c,2e4),e&&e.data&&1<e.data.length&&h(u,"onmessage",e)},i.onopen=function(e){clearTimeout(r),r=(0,l.default)(c,2e4),u.readyState=t.OPEN,u.protocol=i.protocol,h(u,"onopen",e)}}catch(e){h(u,"onerror",e)}}),20)},t)f.prototype[m]=t[m]}if(window&&window.navigator){var v;if(/iP(hone|od|ad)/.test(window.navigator.platform))(v=/OS (\d+)_(\d+)_?(\d+)?/.exec(window.navigator.appVersion))&&6>v[1]&&(f=s);if(/apple/i.test(window.navigator.vendor))(v=/\bVersion\/(\d+)\./.exec(window.navigator.userAgent))&&6>v[1]&&(f=s)}p.ws=p.wss=f;var _=function e(){var t,n,i,o,u=window.document.getElementsByTagName("head")[0],s=this;this.withCredentials=!1,this.readyState=0,this.responseText="",this.status=0,this.statusText="",this.timeout=void 0;var c=function(){if(t){clearTimeout(o),t.onreadystatechange=a,t.onload=a,t.onerror=a,t.parentNode.removeChild(t),t=null,n=null,i=null,s.responseText="",s.status=0,s.statusText="",s.timeout=void 0,s.withCredentials=!1;try{delete window[i]}catch(e){window[i]=void 0}h(s,"onloadend")}},d=function(){t&&(h(s,"onerror"),c())};this.open=function(t,a){!n&&a&&(s.readyState=1,n=String(a).replace(/#.*$/,""),i="_jivo"+e._count++,n+=(-1===(0,r.default)(n).call(n,"?")?"?":"&")+"cb="+i)},this.send=function(a){n&&(a=a?"&msg="+encodeURIComponent(a):"",window[i]=function(t){s.readyState=4,e._statusBody.test(t)?(s.status=e._statusBody.exec(t)[1]<<0,s.statusText="",s.responseText="",h(s,"onerror"),c()):(s.status=200,s.statusText="OK",s.responseText=t,h(s,"onload"),c())},(t=document.createElement("script")).charset="utf-8",t.type="text/javascript",t.onreadystatechange=function(){"complete"!==this.readyState&&"loaded"!==this.readyState||(0,l.default)(d,0)},t.readyState||(t.onload=t.onerror=d),t.src=n+a,u.appendChild(t),s.timeout<<=0,0<s.timeout&&(o=(0,l.default)((function(){h(s,"ontimeout"),c()}),s.timeout)))},this.abort=function(){h(s,"onabort"),c()},this.setRequestHeader=a};_._statusBody=/^(\d{3})\n$/m,_._count=0,_.prototype={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4};var y=function e(){if(e._stack.length)return e._stack.pop();var t;try{"withCredentials"in(t=new XMLHttpRequest)||(t=null)}catch(e){}return(t=t||new _).release=function(){e._stack.push(t)},t};y._stack=[];var b=function(e){for(var t,n,i,o=3e3,r=a,l=1;l<arguments.length;l++)if(arguments[l])switch((0,u.default)(arguments[l])){case"object":n=arguments[l];break;case"string":i=arguments[l];break;case"number":o=arguments[l];break;case"function":r=arguments[l]}if("string"!=typeof e)return r(TypeError("Bad URL")),null;try{(t=y()).open(i?"POST":"GET",e,!0),i&&t.setRequestHeader("Content-Type","text/plain")}catch(e){return r(e),t.release(),null}if(0<(o<<=0))try{t.timeout=o}catch(e){}if(t.onloadend=function(){t.release()},t.onload=function(){200===t.status?r(null,t.responseText):r(new d(t.statusText,t.status))},t.onabort=function(){r(new d("Aborted"))},t.ontimeout=function(){r(new d("Timeout"))},t.onerror=function(){r(new d("Unknown"))},n)for(var l in n)t.setRequestHeader(l,n[l]);try{t.send(i||null)}catch(e){return r(e),t.release(),null}return function(){r=a}};e.request=b;var w=/([^\n]*)\n/gm,E=function(e,i){var o=/^([^\?]*)(?:\?+(.*))?$/.exec(e);e=o[1]||"/";var r=o[2]?"&"+o[2]:"";/[^\/]$/.test(e)&&(e+="/");var u,s,d,f,p=this,g=a,m="open",v=2e4,_=0;this.readyState=t.CONNECTING;var y=function(e,a,i){t.CLOSED!==p.readyState&&(clearTimeout(d),p.readyState=t.CLOSED,h(p,"onclose",{wasClean:!!i,code:a||1006,reason:n[a]||e||""}))},E=function(t,n){g(),g=b(e+m+(t?"/"+t:"")+"?"+(new c).getTime()+r,v,n,C)},C=function(e,n){var a=function(e){if("string"!=typeof e)return e;var t,n,a={};for(w.lastIndex=0;null!==(t=w.exec(e));){if(!t[1]){a.message=e.substring(t.index+1);break}(n=(t=t[1].split(/\t/))[0])&&(t.shift(),a[n]=t)}return a}(n);switch(p.readyState){case t.CONNECTING:if(e){h(p,"onerror",e),y("Open error");break}if(!(a&&a.open&&a.open[0])){y("No response in state open");break}m=a.open[0],p.protocol=a.open[1],p.readyState=t.OPEN,h(p,"onopen");case t.OPEN:var i="";if(a){if(a.timeout&&0<a.timeout[0]&&(v=Math.ceil(a.timeout[0])),a.etag&&a.etag[0]){var o=a.etag[0]<<0,r=o-_;_=o,0<r&&(1!==r&&h(p,"onerror",new Error("Missing "+r+" etags")),a.message&&(0,l.default)((function(){h(p,"onmessage",{data:a.message})}),20)),i="etag/"+o}a.close&&(p.readyState=t.CLOSING,i="close/"+(a.close[0]||"")+"/"+(a.close[1]||""))}else if(e&&204!==e.code&&(h(p,"onerror",e),!e.code||404===e.code))return void y();E(i);break;case t.CLOSING:if(a&&a.close){var c=a.close[0]<<0;y(a.close[1],c,!u||u===c)}else y(s,u,!1)}};this.close=function(e,n){t.CONNECTING===this.readyState?(clearTimeout(f),g(),d=(0,l.default)(y,20)):t.OPEN===this.readyState&&(u=e<<0||1e3,s=n||"",this.readyState=t.CLOSING,E("close/"+u+"/"+s))},this.send=function(e){if(t.OPEN!==this.readyState)throw new Error("Socket is not open");if(!e||"string"!=typeof e)throw new TypeError("Bad data type");E("send",e)};var T=[];if(i)if("string"==typeof i)T.push(i);else if(i instanceof Array)for(var k=0;k<i.length;k++)T.push(String(i[k]));f=(0,l.default)((function(){E(T.join("/"))}),20)};for(var m in t)E.prototype[m]=t[m];p.http=p.https=E;var C,T=/^\s*(?:([^\;\/\?\:\@\&\=\+\$\,\#\n\r\s]{1,8})\:\/\/)([^\s\n\r]+)\s*$/,k=function e(t,n){if(n||((n=[]).index=0,n.add=function(e){n.unshift({value:String(e),health:0}),n.index=0}),t)if("string"==typeof t||t instanceof String)n.push({value:String(t),health:0});else if(0<t.length)for(var a=0;a<t.length;a++)e(t[a],n);return n},S=function(e,t,n){var a=e[t]=n;return function(n){return arguments.length&&(a=e[t]=n),a}},I=(C=0,(0,o.default)((function(){0<C&&(0<=(C-=2)||(C=0))}),1e3),function(){return 60<++C}),A=function(e){var o=k(e),r=null,s=a,c={connecting:a,open:a,close:a,error:a,message:a},d=S(this,"state",t.CLOSED),f=S(this,"url",void 0),h=S(this,"health",void 0),g=function e(t,n){clearTimeout(e.value),t&&(e.value=(0,l.default)(t,n))},m=function(e){if(r){r.onclose=null,r.onerror=null,r.onmessage=null,r.onopen=null;try{e?r.close(e):r.close()}catch(e){}}},v=function(e){m(),r=null,s(),s=a,g(),d(t.CLOSED);try{c.close(e)}catch(e){b(e)}f(void 0),h(void 0)},_=function(){if(I()){if(s(),s=a,r){m(3333);for(var e=0;e<o.length;e++)o[e].health=-1}return!0}return!1},y=function(e){if(s(),s=a,g(),e||(e={wasClean:!1,code:1005,reason:"No Status Rcvd"}),e.wasClean||h(--o[o.index].health),1012===e.code){d(t.CONNECTING);try{c.connecting(o[o.index].health)}finally{return g(A,1e4+(2e4*Math.random()<<0))}}else 1013===e.code||1005===e.code||1e3===e.code||4e3<=e.code&&5e3>e.code?v(e):A()},b=function(e){try{c.error(e)}catch(e){throw e}},w=function(e){if(t.OPEN===d())try{c.message(e.data)}catch(e){b(e)}},E=function(){var e,n,a,i;g(),d(t.OPEN),e=o[o.index],n=h,i=1e3,a=(0,l.default)((function t(){e&&0<=e.health&&(n(++e.health),i<<=1,a=(0,l.default)(t,i))}),i),s=function(){clearTimeout(a)};try{c.open()}catch(e){b(e)}},C=function(){var e=o[o.index];try{r=function(e){if("string"!=typeof e)throw new TypeError("Bad URL type");var t=T.exec(e);if(null===t)throw new Error("Bad URL");if(!p[t[1]])throw new Error("Not supported URL scheme: "+t[1]);return new p[t[1]](e)}(e.value)}catch(t){return e.health=-1,++o.index,b(t),A()}r.onclose=y,r.onerror=b,r.onmessage=w,r.onopen=E},A=function e(a){if(g(),o.index>=o.length)f(void 0),h(void 0),v({wasClean:!1,code:3001,reason:n[3001]});else if(0>o[o.index].health)b(new Error("Sick URL")),++o.index,e();else{m(),d(t.CONNECTING);var i=o[o.index];f()!==i.value&&(f(i.value),h(i.health));try{c.connecting(i.health)}catch(e){}a||0===o[o.index].health?C():g(C,3e3)}};this.open=function(e){if(_())return v({wasClean:!1,code:3333,reason:n[3333]});if(t.CONNECTING!==d()&&t.OPEN!==d()){if(e){e=String(e);for(var a=0;a<o.length;a++)if(e===o[a].value)return o.index=a,A(!0);o.add(e)}A(!0)}},this.close=function(e,a){g(),t.CLOSING!==d()&&t.CLOSED!==d()&&(!r||r.CONNECTING!==r.readyState&&r.OPEN!==r.readyState?v({wasClean:!1,code:1011,reason:n[1011]}):(4e3>(e<<=0)||5e3<=e?r.close():a?r.close(e,String(a)):r.close(e),r.onclose=v,d(t.CLOSING)))},this.send=function(e){if(t.OPEN!==d())return new Error("Connection is not open");if(_())return v({wasClean:!1,code:3333,reason:n[3333]}),new Error("Spam detected");try{r.send(e)}catch(e){return e}return null};var x=function(e,t){return function(){t.apply(e,arguments)}};this.on=function(e,t){if(e&&"object"===(0,u.default)(e))for(var n in e)this.on(n,x(e,e[n]));else c[e]&&"function"==typeof t&&(c[e]=t)},this.off=function(){for(var e in c)c[e]=a},this.getHealthyURLs=function(){for(var e=[],t=0;t<o.length;t++)0<=o[t].health&&e.push(o[t]);(0,i.default)(e).call(e,(function(e,t){return t.health-e.health}));for(t=0;t<e.length;t++)e[t]=e[t].value;return e}};for(var m in A.prototype={valueOf:function(){return this.toString()},toString:function(){return t.OPEN===this.state?this.url:""},toJSON:function(e){switch(e){case"url":return'"'+this.url+'"';case"state":return this.state;case"health":return this.health}return arguments.length?"":'{"state":'+this.state+', "health":'+this.health+', "url":"'+this.url+'"}'}},t)A.prototype[m]=t[m];e.Connection=A}(window);var s=Connection;t.default=s},68415:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(54103)),o=a(n(33032)),r=a(n(62107)),l=a(n(10471)),u=a(n(75043)).default.name(!1);l.default.on("newfsm",(function(e){e.on("handling",(function(e){u.log(this.namespace+": handling "+e.inputType+" in state "+this.state)})),e.on("nohandler",(function(e){u.log(this.namespace+": unhandled "+e.inputType+" in state "+this.state)})),e.on("transition",(function(e){u.log([this.namespace+":","transition from:",e.fromState,"to:",e.toState,"action:",e.action].join(" "))}))}));var s=l.default.Fsm.extend({_fireEvent:function(e){delete this._scheduled_events[e],this.handle(e)},_scheduleEvent:function(e,t){e in this._scheduled_events?u.log(this.namespace+": attempt to re-schedule event"+e):(u.log(this.namespace+": scheduling "+e+" for "+t),this._scheduled_events[e]=(0,o.default)((0,i.default)(r.default).call(r.default,this._fireEvent,this,e),t))},_cancelEvent:function(e){e in this._scheduled_events?(clearTimeout(this._scheduled_events[e]),delete this._scheduled_events[e]):u.log(this.namespace+": attempt to cancel not scheduled event",e)},constructor:function(){this._scheduled_events={},l.default.Fsm.apply(this,arguments)}});t.default=s},45127:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i,o,r,l,u=a(n(3649)),s=(i=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,o=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,r=/[^-+\dA-Z]/g,l=function(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e},function(e,t,n){var a,c=s;if(1!=arguments.length||"[object String]"!=Object.prototype.toString.call(e)||/\d/.test(e)||(t=e,e=void 0),"string"==typeof e&&isNaN(new Date(e))&&(e=e.replace(/-/g,"/").replace("T"," ").split(".").shift()+"Z"),e=e?new Date(e):new Date,isNaN(e))throw SyntaxError("invalid date");t=String(c.masks[t]||t||c.masks.default),"UTC:"==(0,u.default)(t).call(t,0,4)&&(t=(0,u.default)(t).call(t,4),n=!0);var d=n?"getUTC":"get",f=e[d+"Date"](),h=e[d+"Day"](),p=e[d+"Month"](),g=e[d+"FullYear"](),m=e[d+"Hours"](),v=e[d+"Minutes"](),_=e[d+"Seconds"](),y=e[d+"Milliseconds"](),b=n?0:e.getTimezoneOffset(),w={d:f,dd:l(f),ddd:c.i18n.dayNames[h],dddd:c.i18n.dayNames[h+7],m:p+1,mm:l(p+1),mmm:c.i18n.monthNames[p],mmmm:c.i18n.monthNames[p+12],yy:(0,u.default)(a=String(g)).call(a,2),yyyy:g,h:m%12||12,hh:l(m%12||12),H:m,HH:l(m),M:v,MM:l(v),s:_,ss:l(_),l:l(y,3),L:l(y>99?Math.round(y/10):y),t:m<12?"a":"p",tt:m<12?"am":"pm",T:m<12?"A":"P",TT:m<12?"AM":"PM",Z:n?"UTC":(String(e).match(o)||[""]).pop().replace(r,""),o:(b>0?"-":"+")+l(100*Math.floor(Math.abs(b)/60)+Math.abs(b)%60,4),S:["th","st","nd","rd"][f%10>3?0:(f%100-f%10!=10)*f%10]};return t.replace(i,(function(e){return e in w?w[e]:(0,u.default)(e).call(e,1,e.length-1)}))});s.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},s.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]};var c=s;t.default=c},531:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=function(e,t){try{return f(e,t)}catch(e){if(e.message&&e.message.match(/stack|recursion/i)||-2146828260===e.number)return l.warn("Warning: react-fast-compare does not handle circular references.",e.name,e.message),!1;throw e}};var i=a(n(23765)),o=a(n(86902)),r=a(n(41511)),l=a(n(75043)).default.name("equal"),u=r.default,s=o.default,c=Object.prototype.hasOwnProperty,d="undefined"!=typeof Element;function f(e,t){if(e===t)return!0;if(e&&t&&"object"==(0,i.default)(e)&&"object"==(0,i.default)(t)){var n,a,o,r=u(e),l=u(t);if(r&&l){if((a=e.length)!=t.length)return!1;for(n=a;0!=n--;)if(!f(e[n],t[n]))return!1;return!0}if(r!=l)return!1;var h=e instanceof Date,p=t instanceof Date;if(h!=p)return!1;if(h&&p)return e.getTime()==t.getTime();var g=e instanceof RegExp,m=t instanceof RegExp;if(g!=m)return!1;if(g&&m)return e.toString()==t.toString();var v=s(e);if((a=v.length)!==s(t).length)return!1;for(n=a;0!=n--;)if(!c.call(t,v[n]))return!1;if(d&&e instanceof Element)return!1;for(n=a;0!=n--;)if(!("_owner"===(o=v[n])&&e.$$typeof||f(e[o],t[o])))return!1;return!0}return e!=e&&t!=t}},74721:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.escapeHTMLString=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,i.default)(t),a=void 0===n||n,o=e.replace(/[&<>'"]/g,(function(e){return{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"}[e]||e}));a&&(o=o.replace(/^\s+|\s+$/g,""));return o};var i=a(n(25843))},17889:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i,o,r,l,u,s,c=a(n(3649)),d=a(n(81643)),f=function e(t){return linkify(t,{callback:function(t,n){var a=(0,d.default)(t).call(t,"://");if(n&&a>0){var i,o=t.split("://"),r=-1!=(0,d.default)(i=["http","https"]).call(i,o[0]);t=e.getShortText(r?t.substring(a+3):t)}return n?'<a target="_blank" rel="noopener" href="'+n+'" title="'+n+'">'+t+"</a>":t}})};f.getShortText=function(e){return e.length>80?(0,c.default)(e).call(e,0,30)+"..."+(0,c.default)(e).call(e,-30):e},
/*!
 * linkify - v0.3 - 6/27/2009
 * http://benalman.com/code/test/js-linkify/
 *
 * Copyright (c) 2009 "Cowboy" Ben Alman
 * Licensed under the MIT license
 * http://benalman.com/about/license/
 *
 * Some regexps adapted from http://userscripts.org/scripts/review/7122
 */
window.linkify=(i="[a-z\\d.-]+://",o="mailto:",r=new RegExp("(?:\\b[a-z\\d.-]+://[^<>\\s]+|\\b(?:(?:(?:[^\\s!@#$%^&*()_=+[\\]{}\\\\|;:'\",.<>/?]+)\\.)+(?:ac|ad|aero|ae|af|ag|ai|al|am|an|ao|aq|arpa|ar|asia|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|biz|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|cat|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|coop|com|co|cr|cu|cv|cx|cy|cz|de|dj|dk|dm|do|dz|ec|edu|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gov|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|info|int|in|io|iq|ir|is|it|je|jm|jobs|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mil|mk|ml|mm|mn|mobi|mo|mp|mq|mr|ms|mt|museum|mu|mv|mw|mx|my|mz|name|na|nc|net|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|org|pa|pe|pf|pg|ph|pk|pl|pm|pn|pro|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sy|sz|tc|td|tel|tf|tg|th|tj|tk|tl|tm|tn|to|tp|travel|tr|tt|tv|tw|tz|ua|ug|uk|um|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|xn--0zwm56d|xn--11b5bs3a9aj6g|xn--80akhbyknj4f|xn--9t4b11yi5a|xn--deba0ad|xn--g6w251d|xn--hgbk6aj7f53bba|xn--hlcj6aya9esc7a|xn--jxalpdlp|xn--kgbechtv|xn--zckzah|ye|yt|yu|za|zm|zw|win)|(?:(?:[0-9]|[1-9]\\d|1\\d{2}|2[0-4]\\d|25[0-5])\\.){3}(?:[0-9]|[1-9]\\d|1\\d{2}|2[0-4]\\d|25[0-5]))(?:[;/][^#?<>\\s]*)?(?:\\?[^#<>\\s]*)?(?:#[^<>\\s]*)?(?!\\w)|(?:mailto:)?[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:(?:(?:[^\\s!@#$%^&*()_=+[\\]{}\\\\|;:'\",.<>/?]+)\\.)+(?:ac|ad|aero|ae|af|ag|ai|al|am|an|ao|aq|arpa|ar|asia|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|biz|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|cat|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|coop|com|co|cr|cu|cv|cx|cy|cz|de|dj|dk|dm|do|dz|ec|edu|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gov|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|info|int|in|io|iq|ir|is|it|je|jm|jobs|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mil|mk|ml|mm|mn|mobi|mo|mp|mq|mr|ms|mt|museum|mu|mv|mw|mx|my|mz|name|na|nc|net|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|org|pa|pe|pf|pg|ph|pk|pl|pm|pn|pro|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sy|sz|tc|td|tel|tf|tg|th|tj|tk|tl|tm|tn|to|tp|travel|tr|tt|tv|tw|tz|ua|ug|uk|um|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|xn--0zwm56d|xn--11b5bs3a9aj6g|xn--80akhbyknj4f|xn--9t4b11yi5a|xn--deba0ad|xn--g6w251d|xn--hgbk6aj7f53bba|xn--hlcj6aya9esc7a|xn--jxalpdlp|xn--kgbechtv|xn--zckzah|ye|yt|yu|za|zm|zw|win)|(?:(?:[0-9]|[1-9]\\d|1\\d{2}|2[0-4]\\d|25[0-5])\\.){3}(?:[0-9]|[1-9]\\d|1\\d{2}|2[0-4]\\d|25[0-5]))(?:\\?[^#<>\\s]*)?(?:#[^<>\\s]*)?(?!\\w))","ig"),l=new RegExp("^"+i,"i"),u={"'":"`",">":"<",")":"(","]":"[","}":"{","В»":"В«","вЂє":"вЂ№"},s={callback:function(e,t){return t?'<a href="'+t+'" title="'+t+'">'+e+"</a>":e},punct_regexp:/(?:[!?.,:;'"]|(?:&|&amp;)(?:lt|gt|quot|apos|raquo|laquo|rsaquo|lsaquo);)$/},function(e,t){t=t||{};var n,a,i,f,h,p,g,m,v,_,y,b,w="",E=[];for(a in s)void 0===t[a]&&(t[a]=s[a]);for(;n=r.exec(e);)if(i=n[0],g=(p=r.lastIndex)-i.length,!/[\/:]/.test(e.charAt(g-1))){do{m=i,b=i.substr(-1),(y=u[b])&&(v=i.match(new RegExp("\\"+y+"(?!$)","g")),_=i.match(new RegExp("\\"+b,"g")),(v?v.length:0)<(_?_.length:0)&&(i=i.substr(0,i.length-1),p--)),t.punct_regexp&&(i=i.replace(t.punct_regexp,(function(e){return p-=e.length,""})))}while(i.length&&i!==m);f=i,l.test(f)||(f=(/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/.test(f)?(0,d.default)(f).call(f,o)?o:"":(0,d.default)(f).call(f,"irc.")?(0,d.default)(f).call(f,"ftp.")?"http://":"ftp://":"irc://")+f),h!=g&&(E.push([(0,c.default)(e).call(e,h,g)]),h=p),E.push([i,f])}for(E.push([e.substr(h)]),a=0;a<E.length;a++)w+=t.callback.apply(window,E[a]);return w||e});var h=f;t.default=h},10471:function(e,t,n){"use strict";var a=n(60530);n(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(20116)),o=a(n(77766)),r=a(n(23765)),l=a(n(3649)),u=a(n(62107)),s=n(33367),c=n(94515),d=function(e,t){var n,a=(0,l.default)([]),u="transition",d="handler",f="handling",h="handled",p="nohandler",g="deferred",m="newfsm",v={makeFsmNamespace:(n=0,function(){return"fsm."+n++}),getDefaultOptions:function(){return{initialState:"uninitialized",eventListeners:{"*":[]},states:{},eventQueue:[],namespace:v.makeFsmNamespace(),targetReplayState:"",state:t,priorState:t,_priorAction:"",_currentAction:""}}};if(!e.deepExtend){var _={"*":function(e,t,n){e[t]=n},object:function(e,t,n){e[t]=b({},e[t]||{},n)},array:function(t,n,a){t[n]=[],e.each(a,(function(e,a){_[y(e)](t[n],a,e)}),this)}},y=function(t){var n=function(t){return e.isArray(t)?"array":e.isDate(t)?"date":e.isRegExp(t)?"regex":(0,r.default)(t)}(t);return _[n]?n:"*"},b=function(t){return e.each(a.call(arguments,1),(function(n){e.each(n,(function(e,n){_[y(e)](t,n,e)}))})),t};e.mixin({deepExtend:b})}var w=function(t){e.extend(this,t),e.defaults(this,v.getDefaultOptions()),this.initialize.apply(this,arguments),C.emit(m,this),this.initialState&&this.transition(this.initialState)};e.extend(w.prototype,{initialize:function(){},emit:function(t){var n=arguments;this.eventListeners["*"]&&e.each(this.eventListeners["*"],(function(e){if(c.EnvironmentManager.isProduction())try{e.apply(this,a.call(n,0))}catch(e){var i;e.message+=(0,o.default)(i=" machina.js * [".concat(this.namespace,"] ")).call(i,t),s.Monitoring.reportException(e)}else e.apply(this,a.call(n,0))}),this),this.eventListeners[t]&&e.each(this.eventListeners[t],(function(e){if(c.EnvironmentManager.isProduction())try{e.apply(this,a.call(n,1))}catch(e){var i;e.message+=(0,o.default)(i=" machina.js ev [".concat(this.namespace,"] ")).call(i,t),s.Monitoring.reportException(e)}else e.apply(this,a.call(n,1))}),this)},handle:function(n){if(!this.inExitHandler){var i,o,r,u,s=this.states,c=this.state,g=a.call(arguments,0);this.currentActionArgs=g,s[c][n]||s[c]["*"]||this["*"]?(r="*"===(i=s[c][n]?n:"*"),s[c][i]?(o=s[c][i],u=c+"."+i):(o=this["*"],u="*"),this._currentAction||(this._currentAction=u),this.emit.call(this,f,{inputType:n,args:(0,l.default)(g).call(g,1)}),e.isFunction(o)&&(o=o.apply(this,r?g:(0,l.default)(g).call(g,1))),e.isString(o)&&this.transition(o),this.emit.call(this,h,{inputType:n,args:(0,l.default)(g).call(g,1)}),this._priorAction=this._currentAction,this._currentAction="",this.processQueue(d)):this.emit.call(this,p,{inputType:n,args:(0,l.default)(g).call(g,1)}),this.currentActionArgs=t}},transition:function(e){if(!this.inExitHandler&&e!==this.state){var t;if(this.states[e]){if(this.targetReplayState=e,this.priorState=this.state,this.state=e,t=this.priorState,this.states[t]&&this.states[t]._onExit&&(this.inExitHandler=!0,this.states[t]._onExit.call(this),this.inExitHandler=!1),this.emit.call(this,"transition",{fromState:t,action:this._currentAction,toState:e}),this.states[e]._onEnter)if(c.EnvironmentManager.isProduction())try{this.states[e]._onEnter.call(this)}catch(t){var n;t.message+=(0,o.default)(n=" machina.js [".concat(this.namespace,"] ")).call(n,e),s.Monitoring.reportException(t)}else this.states[e]._onEnter.call(this);return void(this.targetReplayState===e&&this.processQueue(u))}this.emit.call(this,"invalidstate",{state:this.state,attemptedState:e})}},processQueue:function(t){var n=t===u?function(e){return e.type===u&&(!e.untilState||e.untilState===this.state)}:function(e){return e.type===d},a=(0,i.default)(e).call(e,this.eventQueue,n,this);this.eventQueue=e.difference(this.eventQueue,a),e.each(a,(function(e){this.handle.apply(this,e.args)}),this)},clearQueue:function(t,n){var a;t?(t===u?a=function(e){return e.type===u&&(!n||e.untilState===n)}:t===d&&(a=function(e){return e.type===d}),this.eventQueue=(0,i.default)(e).call(e,this.eventQueue,a)):this.eventQueue=[]},deferUntilTransition:function(e){if(this.currentActionArgs){var t={type:u,untilState:e,args:this.currentActionArgs};this.eventQueue.push(t),this.emit.call(this,g,{state:this.state,queuedArgs:t})}},deferUntilNextHandler:function(){if(this.currentActionArgs){var e={type:u,args:this.currentActionArgs};this.eventQueue.push(e),this.emit.call(this,g,{state:this.state,queuedArgs:e})}},on:function(e,t){var n=this;return n.eventListeners[e]||(n.eventListeners[e]=[]),n.eventListeners[e].push(t),{eventName:e,callback:t,off:function(){n.off(e,t)}}},off:function(t,n){t?this.eventListeners[t]&&(this.eventListeners[t]=n?e.without(this.eventListeners[t],n):[]):this.eventListeners={}}}),w.prototype.trigger=w.prototype.emit;var E=function(){};w.extend=function(t,n){var a=function(t,n,a){var i;return i=n&&n.hasOwnProperty("constructor")?n.constructor:function(){t.apply(this,arguments)},e.deepExtend(i,t),E.prototype=t.prototype,i.prototype=new E,n&&e.deepExtend(i.prototype,n),a&&e.deepExtend(i,a),i.prototype.constructor=i,i.__super__=t.prototype,i}(this,t,n);return a.extend=this.extend,a};var C={Fsm:w,utils:v,on:function(e,t){return this.eventListeners[e]||(this.eventListeners[e]=[]),this.eventListeners[e].push(t),t},off:function(t,n){this.eventListeners[t]&&(this.eventListeners[t]=e.without(this.eventListeners[t],n))},trigger:function(t){var n=arguments,i=this.eventListeners[t]||[];i&&i.length&&e.each(i,(function(e){e.apply(null,a.call(n,1))}))},eventListeners:{newFsm:[]}};return C.emit=C.trigger,C}(u.default);t.default=d},7886:function(e,t,n){"use strict";var a=n(60530),i=a(n(63978)),o=a(n(3649)),r=a(n(81643)),l=function(){return!0},u=function(e){for(var t="\\".charCodeAt(0),n=e.length,a=0;n&&e.charCodeAt(--n)===t;)a++;return a%2==1},s=function(e,t,n){for(var a=n-1;;){var i=a;if((a=(0,r.default)(e).call(e,t,a+1))<0)return-1;if(!u((0,o.default)(e).call(e,i,a)))return a}},c=function e(t){for(var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=[],r=function(e){return n&&"text"==n.type?(n.text+=e,n):c({type:"text",text:e})},c=function(e){var t=i.length;return(t?i[t-1].block:a).push(e),n=e},d=function(e){return"link"==e.type&&(e={type:"link",block:e.block,url:"",ref:""}),c(e)},f=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=i.length;--t>=0;){var n=i[t];if(!e(n))return n;d(i.pop())}},h=function(e){return p.lastIndex=g=e},p=/(^([*_-])\s*\2(?:\s*\2)+$)|(?:^(\s*)([>*+-]|\d+[.\)])\s+)|(?:^``` *(\w*)\n([\s\S]*?)```$)|(^(?:(?:\t|    )[^\n]*(?:\n|$))+)|(\!?\[)|(\](?:(\(|\[)|\:\s*(.+)$)?)|(?:^([^\s].*)\n(\-{3,}|={3,})$)|(?:^(#{1,6})(?:[ \t]+(.*))?$)|(?:`([^`].*?)`)|(  \n|\n\n)|(__|\*\*|[_*]|~~)/gm,g=0;;){var m=p.exec(t),v=m?m.index:t.length,_=(0,o.default)(t).call(t,g,v);if(_&&(r(_),m&&u(_)))h(m.index+1),r(m[0][0]);else{if(!m)break;var y=1;if(g=p.lastIndex,m[y])f(),c({type:"border",text:(0,o.default)(t).call(t,v,v+m[0].length)});else if(m[y+=3]){f();var b=m[y],w=">"==b,E=c(w?{type:"quote",block:[]}:{type:"list",block:[],indent:m[y-1],bullet:b}),C=w?/^\s{0,3}([*+-]|\d+[.\)])[ \t]/:/^\s*([>*+-]|\d+[.\)])[ \t]/,T=g;(g=s(t,"\n",T))<0&&(g=t.length);for(var k=(0,o.default)(t).call(t,T,g);g<t.length;){var S=g+1;if("\n"==t.charAt(S))break;(g=s(t,"\n",S))<0&&(g=t.length);var I=(0,o.default)(t).call(t,S,g);if(!I){g=S-1;break}if(I.match(C)){g=S;break}k+="\n"+I.match(w?/^\s*>?\s*(.*)$/:/^\s*(.*)$/)[1]}e(k,E.block),h(g)}else if(null!=m[y+=2]||m[y+1]){f();var A,x=m[y+1],M="",R="";if(x)R=/^(\t|    )/.exec(x)[0],x=x.replace(/^(\t|    )/gm,""),"\n"==(0,o.default)(x).call(x,-1)&&(x=(0,o.default)(x).call(x,0,-1),h(g-1));else x=(0,o.default)(A=m[y]).call(A,0,-1),M=m[y-1].toLowerCase();c({type:"codeBlock",code:x,syntax:M,indent:R})}else if(m[y+=2])if("!"==m[y][0]){var O=s(t,"]",g);if(O<0){r(m[0]);continue}n=null,i.push({type:"image",alt:(0,o.default)(t).call(t,m.index+2,O),url:"",ref:""}),h(O)}else n=null,i.push({type:"link",block:[],offset:g});else if(m[++y]){var N=function(){var e=/^(link|image)$/,n=f((function(t){return!e.test(t.type)}));if(n){if(i.pop(),m[y+2]){if("link"==n.type)return c({type:"linkDef",key:(0,o.default)(t).call(t,n.offset,v),url:m[y+2]}),"continue";h(m.index+1)}if(n=d(n),m[y+1]){var a=s(t,"("==m[y+1]?")":"]",g);if(a<0)r(m[y+1]);else{var l=m.index+2,u=(0,o.default)(t).call(t,l,a);h(a+1),"("==m[y+1]?n.url=u:n.ref=u}}}else r(m[0])}();if("continue"===N)continue}else if(m[y+=3]||m[y+2])f(),c({type:"title",block:e(m[y]||m[y+3]||""),rank:m[y+2]?m[y+2].length:"="==m[y+1][0]?1:2});else if(m[y+=4]){var D=v+1;c({type:"codeSpan",code:(0,o.default)(t).call(t,D,D+m[y].length)})}else if(m[++y])f(),c({type:"break",text:m[0]});else if(m[++y]){var L=m[y],P=L.length<2?"italic":"~~"==L?"strike":"bold",j=i[i.length-1];j&&j.type==P&&j.style==L?c(i.pop()):(n=null,i.push({type:P,block:[],style:L}))}}}return f(),a};(0,i.default)(c,"default",{value:c}),e.exports=c},10505:function(e,t,n){"use strict";var a=n(60530),i=a(n(16976)),o=a(n(41511)),r=a(n(19996)),l=a(n(65420)),u=a(n(66419)),s=a(n(3649)),c=a(n(92762)),d=a(n(23054)),f=a(n(72388)),h=a(n(59036));function p(e,t){var n;if(void 0===l.default||null==(0,r.default)(e)){if((0,o.default)(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return g(e,t);var a=(0,s.default)(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return(0,u.default)(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return g(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,c=function(){};return{s:c,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var d,f=!0,h=!1;return{s:function(){n=(0,i.default)(e)},n:function(){var e=n.next();return f=e.done,e},e:function(e){h=!0,d=e},f:function(){try{f||null==n.return||n.return()}finally{if(h)throw d}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var m=2147483647,v=36,_=/^xn--/,y=/[^\0-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},E=Math.floor,C=String.fromCharCode;function T(e){throw new RangeError(w[e])}function k(e,t){var n=e.split("@"),a="";n.length>1&&(a=n[0]+"@",e=n[1]);var i=function(e,t){for(var n=[],a=e.length;a--;)n[a]=t(e[a]);return n}((e=e.replace(b,".")).split("."),t).join(".");return a+i}function S(e){for(var t=[],n=0,a=e.length;n<a;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<a){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t}var I=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},A=function(e,t,n){var a=0;for(e=n?E(e/700):e>>1,e+=E(e/t);e>455;a+=v)e=E(e/35);return E(a+36*e/(e+38))},x=function(e){var t,n=[],a=e.length,i=0,o=128,r=72,l=(0,d.default)(e).call(e,"-");l<0&&(l=0);for(var u=0;u<l;++u)e.charCodeAt(u)>=128&&T("not-basic"),n.push(e.charCodeAt(u));for(var s=l>0?l+1:0;s<a;){for(var h=i,p=1,g=v;;g+=v){s>=a&&T("invalid-input");var _=(t=e.charCodeAt(s++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:v;(_>=v||_>E((m-i)/p))&&T("overflow"),i+=_*p;var y=g<=r?1:g>=r+26?26:g-r;if(_<y)break;var b=v-y;p>E(m/b)&&T("overflow"),p*=b}var w=n.length+1;r=A(i-h,w,0==h),E(i/w)>m-o&&T("overflow"),o+=E(i/w),i%=w,(0,c.default)(n).call(n,i++,0,o)}return f.default.apply(String,n)},M=function(e){var t,n=[],a=(e=S(e)).length,i=128,o=0,r=72,l=p(e);try{for(l.s();!(t=l.n()).done;){var u=t.value;u<128&&n.push(C(u))}}catch(e){l.e(e)}finally{l.f()}var s=n.length,c=s;for(s&&n.push("-");c<a;){var d,f=m,h=p(e);try{for(h.s();!(d=h.n()).done;){var g=d.value;g>=i&&g<f&&(f=g)}}catch(e){h.e(e)}finally{h.f()}var _=c+1;f-i>E((m-o)/_)&&T("overflow"),o+=(f-i)*_,i=f;var y,b=p(e);try{for(b.s();!(y=b.n()).done;){var w=y.value;if(w<i&&++o>m&&T("overflow"),w==i){for(var k=o,x=v;;x+=v){var M=x<=r?1:x>=r+26?26:x-r;if(k<M)break;var R=k-M,O=v-M;n.push(C(I(M+R%O,0))),k=E(R/O)}n.push(C(I(k,0))),r=A(o,_,c==s),o=0,++c}}}catch(e){b.e(e)}finally{b.f()}++o,++i}return n.join("")},R={version:"2.1.0",ucs2:{decode:S,encode:function(e){return f.default.apply(String,(0,h.default)(e))}},decode:x,encode:M,toASCII:function(e){return k(e,(function(e){return y.test(e)?"xn--"+M(e):e}))},toUnicode:function(e){return k(e,(function(e){return _.test(e)?x((0,s.default)(e).call(e,4).toLowerCase()):e}))}};e.exports=R},91151:function(e,t,n){"use strict";n(63978)(t,"__esModule",{value:!0}),t.default=void 0;t.default={unknown:{Google:[["support.google.com","developers.google.com","maps.google.com","accounts.google.com","drive.google.com","sites.google.com","groups.google.com","groups.google.co.uk","news.google.co.uk"]],"Yahoo!":[["finance.yahoo.com","news.yahoo.com","eurosport.yahoo.com","sports.yahoo.com","astrology.yahoo.com","travel.yahoo.com","answers.yahoo.com","screen.yahoo.com","weather.yahoo.com","messenger.yahoo.com","games.yahoo.com","shopping.yahoo.net","movies.yahoo.com","cars.yahoo.com","lifestyle.yahoo.com","omg.yahoo.com","match.yahoo.net"]]},search:{TalkTalk:[[/talktalk.co.uk$/gi],["query"]],"1.cz":[[/1.cz$/gi],["q"]],Softonic:[[/^search.softonic./gi],["q"]],GAIS:[[/gais.cs.ccu.edu.tw$/gi],["q"]],Freecause:[[/^search.freecause./gi],["p"]],"360.cn":[[/so.(com|360.cn)$/gi],["q"]],RPMFind:[[/(fr2.)?rpmfind.net$/gi],["query"]],Comcast:[[/^serach.comcast./gi],["q"]],Voila:[["search.ke.voila.fr",/lemoteur.fr$/gi],["rdata","kw"]],Nifty:[[/^search.nifty./gi],["q"]],Atlas:[[/^searchatlas.centrum./gi],["q"]],"Lo.st":[["lo.st"],["x_query"]],DasTelefonbuch:[[/dastelefonbuch.de$/gi],["kw"]],Fireball:[[/fireball.de$/gi],["q"]],"1und1":[[/^search.1und1./gi],["su"]],Virgilio:[[/\w+.virgilio.it$/gi],["qs"]],"Web.nl":[["www.web.nl"],["zoekwoord"]],Plazoo:[["www.plazoo.com"],["q"]],"Goyellow.de":[["www.goyellow.de"],["mdn"]],AOL:[[/\.aol.\w{2,4}(\w{2,4})?/gi,"aolsearch.com"],["q","query"]],Acoon:[["www.acoon.de"],["begriff"]],Free:[[/^search(1-(2|1))?.free.fr$/gi],["q"]],HighBeam:[["www.highbeam.com"],["q"]],"I-play":[["start.iplay.com"],["q"]],FriendFeed:[["friendfeed.com"],["q"]],Yasni:[[/.yasni.\w{2,4}(\w{2,4})?/gi],["query"]],Gigablast:[[/.gigablast.com$/gi],["q"]],arama:[["arama.com"],["q"]],Fixsuche:[["www.fixsuche.de"],["q"]],Apontador:[[/.apontador.com.$/gi],["q"]],"Search.com":[["www.search.com"],["q"]],Monstercrawler:[["www.monstercrawler.com"],["qry"]],"Google Images":[[/^images.google.\w{2,4}(.\w{2,4})?/gi,/google.\w{2,4}(.\w{2,4})?\/imgres$/gi],["q"]],"ABCsøk":[["abcsolk.no","verden.abcsok.no"],["q"]],"Google Product Search":[[/google.\w{2,4}(.\w{2,4})?\/products$/gi],["q"]],DasOertliche:[["www.dasoertliche.de"],["kw"]],InfoSpace:[["infospace.com","dogpile.com","www.dogpile.com","metacrawler.com","webfetch.com","webcrawler.com","search.kiwee.com","isearch.babylon.com","start.facemoods.com","search.magnetic.com","search.searchcompletion.com","clusty.com"],["q","s"]],Weborama:[["weborama.com"],["query"]],Bluewin:[["search.bluewin.ch"],["searchterm"]],Neti:[["www.neti.ee"],["query"]],Winamp:[["search.winamp.com"],["q"]],Nigma:[["nigma.ru"],["s"]],"Yahoo! Images":[["image.yahoo.cn","images.search.yahoo.com"],["p","q"]],Exalead:[["www.exalead.fr","www.exalead.com"],["q"]],Teoma:[["www.teoma.com"],["q"]],Needtofind:[["ko.search.need2find.com"],["searchfor"]],Looksmart:[["www.looksmart.com"],["key"]],"Wirtualna Polska":[["szukaj.wp.pl"],["szukaj"]],Toolbarhome:[["www.toolbarhome.com","vshare.toolbarhome.com"],["q"]],Searchalot:[["searchalot.com"],["q"]],Yandex:[["yandex.ru","yandex.ua","yandex.com","www.yandex.ru","www.yandex.ua","www.yandex.com"],["text"]],"canoe.ca":[["web.canoe.ca"],["q"]],Compuserve:[["websearch.cs.com"],["query"]],Blogdigger:[["www.blogdigger.com"],["q"]],Startpagina:[["startgoogle.startpagina.nl"],["q"]],eo:[["eo.st"],["x_query"]],Zhongsou:[["p.zhongsou.com"],["w"]],"La Toile Du Quebec Via Google":[["www.toile.com","web.toile.com"],["q"]],Paperball:[["www.paperball.de"],["q"]],"Jungle Spider":[["www.jungle-spider.de"],["q"]],PeoplePC:[["search.peoplepc.com"],["q"]],"MetaCrawler.de":[[/.metacrawler.de$/gi],["qry"]],Orange:[["busca.orange.es","search.orange.co.uk"],["q"]],"Gule Sider":[["www.gulesider.no"],["q"]],Francite:[["recherche.francite.com"],["name"]],"Ask Toolbar":[["search.tb.ask.com"],["searchfor"]],"Trusted-Search":[["www.trusted--search.com"],["w"]],goo:[["search.goo.ne.jp","ocnsearch.goo.ne.jp"],["mt"]],"Fast Browser Search":[["www.fastbrowsersearch.com"],["q"]],Blogpulse:[["www.blogpulse.com"],["query"]],Volny:[["web.volny.cz"],["search"]],Icerockeet:[["blogs.icerocket.com"],["q"]],Terra:[["buscador.terra.es","buscador.terra.cl","buscador.terra.com.br"],["query"]],Amazon:[["amazon.com","www.amazon.com"],["keywords"]],Onet:[["szukaj.onet.pl"],["qt"]],Digg:[["digg.com"],["s"]],Abacho:[["www.abacho.de","www.abacho.com","www.abacho.co.uk","www.se.abacho.com","www.tr.abacho.com","www.abacho.at","www.abacho.fr","www.abacho.es","www.abacho.ch","www.abacho.it"],["q"]],maailm:[["www.maailm.com"],["tekst"]],Flix:[["www.flix.de"],["keyword"]],Suchnase:[["www.suchnase.de"],["q"]],Freenet:[["suche.freenet.de"],["query","Keywords"]],DuckDuckGoL:[["duckduckgo.com"],["q"]],"Poisk.ru":[["www.plazoo.com"],["q"]],Sharelook:[["www.sharelook.fr"],["keyword"]],Najdi:[["www.najdi.si"],["q"]],Picsearch:[["www.picsearch.com"],["q"]],"Mail.ru":[["go.mail.ru"],["q"]],Alexa:[["alexa.com","search.toolbars.alexa.com"],["q"]],Metager:[["meta.rrzn.uni-hannover.de","www.metager.de"],["eingabe"]],Technorati:[["technorati.com"],["q"]],Globososo:[["searches.globososo.com","search.globososo.com"],["q"]],WWW:[["search.www.ee"],["query"]],"Trouvez.com":[["www.trouvez.com"],["query"]],IXquick:[[/.?ixquick./gi],["query"]],"Naver Images":[["image.search.naver.com","imagesearch.naver.com"],["query"]],Zapmeta:[["www.zapmeta.com","www.zapmeta.nl","www.zapmeta.de","uk.zapmeta.com"],["q","query"]],Yippy:[["search.yippy.com"],["q","query"]],Gomeo:[["www.gomeo.com"],["keywords"]],Walhello:[["www.walhello.info","www.walhello.com","www.walhello.de","www.walhello.nl"],["key"]],Meta:[["meta.ua"],["q"]],Skynet:[["www.skynet.be"],["q"]],Searchy:[["www.searchy.co.uk"],["q"]],Findwide:[["search.findwide.com"],["k"]],WebSearch:[["www.websearch.com"],["qkw","q"]],Rambler:[["nova.rambler.ru"],["query","words"]],Latne:[["www.latne.lv"],["q"]],MySearch:[[/(.mysearch)|(.myway).com$/gi,"search.mywebsearch.com"],["searchfor","searchFor"]],Cuil:[["www.cuil.com"],["q"]],Tixuma:[["www.tixuma.de"],["sc"]],Sapo:[["pesquisa.sapo.pt"],["q"]],Gnadenmeer:[["www.gnadenmeer.de"],["keyword"]],Arcor:[["www.arcor.de"],["Keywords"]],Naver:[["search.naver.com"],["query"]],Zoeken:[["www.zoeken.nl"],["q"]],Startsiden:[["www.startsiden.no"],["q"]],Yam:[["search.yam.com"],["k"]],Eniro:[["www.eniro.se"],["q","search_word"]],APOLL07:[["apollo7.de"],["query"]],Biglobe:[["cgi.search.biglobe.ne.jp"],["q"]],Mozbot:[["www.mozbot.fr","www.mozbot.co.uk","www.mozbot.com"],["q"]],ICQ:[["www.icq.com","search.icq.com"],["q"]],Baidu:[[/.baidu.com$/gi,"web.gougou.com"],["wd","word","kw","k"]],Conduit:[["search.conduit.com"],["q"]],Vindex:[["www.vindex.nl","search.vindex.nl"],["search_for"]],Babylon:[["search.babylon.com","searchassist.babylon.com"],["q"]],TrovaRapido:[["www.trovarapido.com"],["q"]],"Suchmaschine.com":[["www.suchmaschine.com"],["suchstr"]],Lycos:[["search.lycos.com","www.lycos.com","lycos.com"],["query"]],Vinden:[["www.vinden.nl"],["q"]],Altavista:[["www.altavista.com","search.altavista.com","listings.altavista.com","altavista.de","altavista.fr","be-nl.altavista.com","be-fr.altavista.com"],["q"]],dmoz:[["dmoz.org","editors.dmoz.org"],["q"]],Ecosia:[["ecosia.org"],["q"]],Maxwebsearch:[["maxwebsearch.com"],["query"]],Euroseek:[["www.euroseek.com"],["string"]],Bing:[["bing.com","www.bing.com","msnbc.msn.com","dizionario.it.msn.com","cc.bingj.com","m.bing.com"],["q"]],"X-recherche":[["www.x-recherche.com"],["mots"]],"Yandex Images":[["images.yandex.ru","images.yandex.ua","images.yandex.com"],["text"]],GMX:[["suche.gmx.net"],["su"]],"Daemon search":[["daemon-search.com","my.daemon-search.com"],["q"]],"Jungle Key":[["junglekey.com","junglekey.fr"],["query"]],Firstfind:[["www.firstsfind.com"],["qry"]],Crawler:[["www.crawler.com"],["q"]],Holmes:[["holmes.ge"],["q"]],Charter:[["www.charter.net"],["q"]],Ilse:[["www.ilse.nl"],["search_for"]],earthlink:[["search.earthlink.net"],["q"]],Qualigo:[["www.qualigo.at","www.qualigo.ch","www.qualigo.de","www.qualigo.nl"],["q"]],"El Mundo":[["ariadna.elmundo.es"],["q"]],Metager2:[["metager2.de"],["q"]],Forestle:[["forestle.org","www.forestle.org","forestle.mobi"],["q"]],"Search.ch":[["www.search.ch"],["q"]],Meinestadt:[["www.meinestadt.de"],["words"]],Freshweather:[["www.fresh-weather.com"],["q"]],AllTheWeb:[["www.alltheweb.com"],["q"]],Snapdo:[["search.snapdo.com"],["q"]],Zoek:[["www3.zoek.nl"],["q"]],Daum:[["search.daum.net"],["q"]],Marktplaats:[["www.marktplaats.nl"],["query"]],"suche.info":[["suche.info"],["q"]],"Google News":[[/news.google.\w{2,4}(.\w{2,4})?$/gi],["q"]],Zoohoo:[["zoohoo.cz"],["q"]],Seznam:[["search.seznam.cz"],["q"]],"Online.no":[["online.no"],["q"]],Eurip:[["www.eurip.com"],["q"]],"all.by":[["all.by"],["query"]],"Road Runner Search":[["search.rr.com"],["q"]],"Opplysningen 1881":[["www.1881.no"],["query"]],YouGoo:[["www.yougoo.fr"],["q"]],"Bing Images":[["bing.com/images/search","www.bing.com/images/search"],["q"]],Geona:[["geona.net"],["q"]],Nate:[["search.nate.com"],["q"]],"T-Online":[["suche.t-online.de","brisbane.t-online.de","navigationshilfe.t-online.de"],["q"]],Hotbot:[["www.hotbot.com"],["query"]],Kvasir:[["www.kvasir.no"],["q"]],Austronaut:[["www2.austronaut.at","www1.astronaut.at"],["q"]],Excite:[["search.excite.it","search.excite.fr","search.excite.de","search.excite.co.uk","serach.excite.es","search.excite.nl","msxml.excite.com","www.excite.co.jp"],["q","search"]],qip:[["search.qip.ru"],["query"]],"Certified-Toolbar":[["search.certified-toolbar.com"],["q"]],"Yahoo!":[[/.?yahoo./gi,"www.cercato.it","search.offerbox.com","ys.mirostart.com"],["q","p"]],"URL.ORGanizier":[["www.url.org"],["q"]],Witch:[["www.witch.de"],["search"]],"Mister Wong":[["www.mister-wong.com","www.mister-wong.de"],["keywords"]],Aport:[["sm.aport.ru"],["r"]],"Web.de":[["suche.web.de"],["su"]],Ask:[[/.ask.com$/gi,"ask.reference.com","www.askkids.com","www.ask.co.uk","www.qbyrd.com","search-results.com","uk.search-results.com","www.search-results.com","int.search-results.com"]],Centrum:[["serach.centrum.cz","morfeo.centrum.cz"],["q"]],Everyclick:[["www.everyclick.com"],["keyword"]],"Google Video":[["video.google.com"],["q"]],Delfi:[["otsing.delfi.ee"],["q"]],blekko:[["blekko.com"],["q"]],Jyxo:[["jyxo.1188.cz"],["q"]],Kataweb:[["www.kataweb.it"],["q"]],"uol.com.br":[["busca.uol.com.br"],["q"]],Arianna:[["arianna.libero.it","www.arianna.com"],["query"]],Mamma:[["www.mamma.com","mamma75.mamma.com"],["query"]],Yatedo:[["www.yatedo.com","www.yatedo.fr"],["q"]],Twingly:[["www.twingly.com"],["q"]],"Delfi latvia":[["smart.delfi.lv"],["q"]],PriceRunner:[["www.pricerunner.co.uk"],["q"]],Rakuten:[["websearch.rakuten.co.jp"],["qt"]],Google:[[/^(www.)?google.\w{2,4}(.\w{2,4})?$/gi,/^.incredimail.com$/gi,/.googleearth./gi,"isearch.avg.com","www.cnn.com","darkoogle.com","search.darkoogle.com","search.foxtab.com","www.gooofullsearch.com","search.hiyo.com","search.sweetim.com","www.fastweb.it","search.juno.com","find.tdc.dk","searchresults.verizon.com","search.walla.co.il","search.alot.com","webcache.googleusercontent.com","encrypted.google.com","googlesyndicatedsearch.com"],["q","query","keywords"]],"Google Blogsearch":[[/^(www.)?blogsearch.google.\w{2,4}(.\w{2,4})?$/gi],["q"]],"Hooseek.com":[["www.hooseek.com"],["recherche"]],Dalesearch:[["www.dalesearch.com"],["q"]],"Alice Adsl":[["rechercher.aliceadsl.fr"],["q"]],"soso.com":[["www.soso.com"],["w"]],Sogou:[["www.sougou.com"],["query"]],"Hit-Parade":[["req.-hit-parade.com","class.hit-parade.com","www.hit-parade.com"],["p7"]],SearchCanvas:[["www.searchcanvas.com"],["q"]],Interia:[["www.google.interia.pl"],["q"]],Genieo:[["search.genieo.com"],["q"]],Tiscali:[["search.tiscali.it","search-dyn.tiscali.it","hledani.tiscali.cz"],["q","key"]],Clix:[["pesquisa.clix.pt"],["question"]]},email:{Bigpond:[["webmail.bigpond.com","webmail2.bigpond.com"]],"Naver Mail":[["mail.naver.com"]],"Optus Zoo":[["webmail.optuszoo.com.au"]],"Seznam Mail":[["email.seznam.cz"]],"126 Mail":[["mail.126.com"]],"Outlook.com":[["mail.live.com"]],"AOL Mail":[["mail.aol.com"]],"Daum Mail":[["mail2.daum.net"]],"Yahoo! Mail":[["mail.yahoo.net","mail.yahoo.com","mail.yahoo.co.uk","mail.yahoo.co.jp"]],"163 Mail":[["mail.163.com"]],"Orange Webmail":[["orange.fr/webmail"]],"QQ Mail":[["mail.qq.com"]],Gmail:[["mail.google.com"]]},social:{hi5:[["hi5.com"]],Friendster:[["friendster.com"]],Weibo:[["weibo.com","t.cn"]],Xanga:[["xanga.com"]],Myspace:[["myspace.com"]],Buzznet:[["wayn.com"]],MyLife:[["mylife.ru"]],Flickr:[["flickr.com"]],"Sonico.com":[["sonico.com"]],Odnoklassniki:[["odnoklassniki.ru"]],GitHub:[["github.com"]],Classmates:[["classmates.com"]],"Friends Reunited":[["friendsreunited.com"]],Renren:[["renren.com"]],"vKruguDruzei.ru":[["vkrugudruzei.ru"]],"Gaia Online":[["gaiaonline.com"]],Netlog:[["netlog.com"]],Orkut:[["orkut.com"]],MyHeritage:[["myheritage.com"]],Multiply:[["multiply.com"]],myYearbook:[["myyearbook.com"]],WeeWorld:[["weeworld.com"]],Vimeo:[["vimeo.com"]],Geni:[["geni.com"]],SourceForge:[["sourceforge.net"]],Plaxo:[["plaxo.com"]],"Taringa!":[["taringa.net"]],Tagged:[["login.tagged.com"]],XING:[["xing.com"]],Instagram:[["instagram.com"]],Vkontakte:[["vk.com","vkontakte.ru"]],Twitter:[["twitter.com","t.co"]],WAYN:[["wayn.com"]],Tuenti:[["tuenti.com"]],"Mail.ru":[["my.mail.ru"]],Badoo:[["badoo.com"]],Habbo:[["habbo.com"]],Pinterest:[["pinterest.com"]],LinkedIn:[["linkedin.com"]],Foursquare:[["foursquare.com"]],Flixster:[["flixster.com"]],"Windows Live Spaces":[["login.live.com"]],BlackPlanet:[["blackplanet.com"]],Cyworld:[["global.cyworld.com"]],Pocket:[["getpocket.com"]],Skyrock:[["skyrock.com"]],Facebook:[["facebook.com","fb.me"]],StudiVZ:[["studivz.net"]],Fotolog:[["fotolog.com"]],"Google+":[["url.google.com","plus.google.com"]],"Nasza-klasa.pl":[["nk.pl"]],Qzone:[["qzone.qq.com"]],Douban:[["douban.com"]],Bebo:[["bebo.com"]],Youtube:[["youtube.com","youtu.be"]],Reddit:[["reddit.com"]],"Identi.ca":[["identi.ca"]],StackOverflow:[["stackoverflow.com"]],Mixi:[["mixi.jp"]],StumbleUpon:[["stumbleupon.com"]],Viadeo:[["viadeo.com"]],"Last.fm":[["lastfm.ru"]],LiveJournal:[["livejournal.ru"]],Tumblr:[["tumblr.com"]],"Hacker News":[["news.ycombinator.com"]],Delicious:[["delicious.com"]],Hyves:[["hyves.nl"]],"Paper.li":[["paper.li"]],"MoiKrug.ru":[["moikrug.ru"]]}}},94184:function(e,t){var n;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var a={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)&&n.length){var r=i.apply(null,n);r&&e.push(r)}else if("object"===o)for(var l in n)a.call(n,l)&&n[l]&&e.push(l)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},54493:function(e,t,n){n(77971),n(53242);var a=n(54058);e.exports=a.Array.from},24034:function(e,t,n){n(92737);var a=n(54058);e.exports=a.Array.isArray},15367:function(e,t,n){n(85906);var a=n(35703);e.exports=a("Array").concat},62383:function(e,t,n){n(21501);var a=n(35703);e.exports=a("Array").filter},60009:function(e,t,n){n(44929);var a=n(35703);e.exports=a("Array").findIndex},17671:function(e,t,n){n(80833);var a=n(35703);e.exports=a("Array").find},99324:function(e,t,n){n(2437);var a=n(35703);e.exports=a("Array").forEach},80991:function(e,t,n){n(97690);var a=n(35703);e.exports=a("Array").includes},8700:function(e,t,n){n(99076);var a=n(35703);e.exports=a("Array").indexOf},95909:function(e,t,n){n(66274);var a=n(35703);e.exports=a("Array").keys},6442:function(e,t,n){n(75915);var a=n(35703);e.exports=a("Array").lastIndexOf},23866:function(e,t,n){n(68787);var a=n(35703);e.exports=a("Array").map},52999:function(e,t,n){n(81876);var a=n(35703);e.exports=a("Array").reduce},24900:function(e,t,n){n(60186);var a=n(35703);e.exports=a("Array").slice},3824:function(e,t,n){n(36026);var a=n(35703);e.exports=a("Array").some},2948:function(e,t,n){n(4115);var a=n(35703);e.exports=a("Array").sort},78209:function(e,t,n){n(98611);var a=n(35703);e.exports=a("Array").splice},14423:function(e,t,n){n(66274);var a=n(35703);e.exports=a("Array").values},27700:function(e,t,n){n(73381);var a=n(35703);e.exports=a("Function").bind},16246:function(e,t,n){var a=n(27700),i=Function.prototype;e.exports=function(e){var t=e.bind;return e===i||e instanceof Function&&t===i.bind?a:t}},56043:function(e,t,n){var a=n(15367),i=Array.prototype;e.exports=function(e){var t=e.concat;return e===i||e instanceof Array&&t===i.concat?a:t}},2480:function(e,t,n){var a=n(62383),i=Array.prototype;e.exports=function(e){var t=e.filter;return e===i||e instanceof Array&&t===i.filter?a:t}},7147:function(e,t,n){var a=n(60009),i=Array.prototype;e.exports=function(e){var t=e.findIndex;return e===i||e instanceof Array&&t===i.findIndex?a:t}},32236:function(e,t,n){var a=n(17671),i=Array.prototype;e.exports=function(e){var t=e.find;return e===i||e instanceof Array&&t===i.find?a:t}},58557:function(e,t,n){var a=n(80991),i=n(21631),o=Array.prototype,r=String.prototype;e.exports=function(e){var t=e.includes;return e===o||e instanceof Array&&t===o.includes?a:"string"==typeof e||e===r||e instanceof String&&t===r.includes?i:t}},34570:function(e,t,n){var a=n(8700),i=Array.prototype;e.exports=function(e){var t=e.indexOf;return e===i||e instanceof Array&&t===i.indexOf?a:t}},57564:function(e,t,n){var a=n(6442),i=Array.prototype;e.exports=function(e){var t=e.lastIndexOf;return e===i||e instanceof Array&&t===i.lastIndexOf?a:t}},88287:function(e,t,n){var a=n(23866),i=Array.prototype;e.exports=function(e){var t=e.map;return e===i||e instanceof Array&&t===i.map?a:t}},68025:function(e,t,n){var a=n(52999),i=Array.prototype;e.exports=function(e){var t=e.reduce;return e===i||e instanceof Array&&t===i.reduce?a:t}},69601:function(e,t,n){var a=n(24900),i=Array.prototype;e.exports=function(e){var t=e.slice;return e===i||e instanceof Array&&t===i.slice?a:t}},28299:function(e,t,n){var a=n(3824),i=Array.prototype;e.exports=function(e){var t=e.some;return e===i||e instanceof Array&&t===i.some?a:t}},69355:function(e,t,n){var a=n(2948),i=Array.prototype;e.exports=function(e){var t=e.sort;return e===i||e instanceof Array&&t===i.sort?a:t}},18339:function(e,t,n){var a=n(78209),i=Array.prototype;e.exports=function(e){var t=e.splice;return e===i||e instanceof Array&&t===i.splice?a:t}},62774:function(e,t,n){var a=n(13348),i=String.prototype;e.exports=function(e){var t=e.trim;return"string"==typeof e||e===i||e instanceof String&&t===i.trim?a:t}},84426:function(e,t,n){n(32619);var a=n(54058);a.JSON||(a.JSON={stringify:JSON.stringify}),e.exports=function(e,t,n){return a.JSON.stringify.apply(null,arguments)}},45999:function(e,t,n){n(49221);var a=n(54058);e.exports=a.Object.assign},35254:function(e,t,n){n(53882);var a=n(54058).Object;e.exports=function(e,t){return a.create(e,t)}},7702:function(e,t,n){n(74979);var a=n(54058).Object,i=e.exports=function(e,t){return a.defineProperties(e,t)};a.defineProperties.sham&&(i.sham=!0)},48171:function(e,t,n){n(86450);var a=n(54058).Object,i=e.exports=function(e,t,n){return a.defineProperty(e,t,n)};a.defineProperty.sham&&(i.sham=!0)},286:function(e,t,n){n(46924);var a=n(54058).Object,i=e.exports=function(e,t){return a.getOwnPropertyDescriptor(e,t)};a.getOwnPropertyDescriptor.sham&&(i.sham=!0)},92766:function(e,t,n){n(88482);var a=n(54058);e.exports=a.Object.getOwnPropertyDescriptors},30498:function(e,t,n){n(35824);var a=n(54058);e.exports=a.Object.getOwnPropertySymbols},13966:function(e,t,n){n(17405);var a=n(54058);e.exports=a.Object.getPrototypeOf},48494:function(e,t,n){n(21724);var a=n(54058);e.exports=a.Object.keys},3065:function(e,t,n){n(90108);var a=n(54058);e.exports=a.Object.setPrototypeOf},7579:function(e,t,n){n(49718);var a=n(54058);e.exports=a.parseFloat},98524:function(e,t,n){n(14038);var a=n(54058);e.exports=a.parseInt},14983:function(e,t,n){n(7453);var a=n(54058);e.exports=a.Reflect.construct},37095:function(e,t,n){n(42355);var a=n(54058);e.exports=a.Reflect.get},76998:function(e,t,n){n(69008),n(55967),n(77971),n(7634);var a=n(54058);e.exports=a.Set},46614:function(e,t,n){n(23809);var a=n(54058);e.exports=a.String.fromCodePoint},21631:function(e,t,n){n(11035);var a=n(35703);e.exports=a("String").includes},13348:function(e,t,n){n(57398);var a=n(35703);e.exports=a("String").trim},57473:function(e,t,n){n(85906),n(55967),n(35824),n(8555),n(52615),n(21732),n(35903),n(1825),n(28394),n(45915),n(61766),n(62737),n(89911),n(74315),n(63131),n(64714),n(70659),n(79413),n(69120);var a=n(54058);e.exports=a.Symbol},24227:function(e,t,n){n(1825),n(77971),n(7634);var a=n(11477);e.exports=a.f("iterator")},62978:function(e,t,n){n(63131);var a=n(11477);e.exports=a.f("toPrimitive")},32304:function(e,t,n){n(55967),n(54334),n(7634);var a=n(54058);e.exports=a.WeakMap},27385:function(e,t,n){var a=n(54493);e.exports=a},81522:function(e,t,n){var a=n(24034);e.exports=a},32209:function(e,t,n){n(7634),n(77971);var a=n(22902);e.exports=a},1258:function(e,t,n){n(7634),n(77971);var a=n(53476);e.exports=a},69447:function(e,t,n){var a=n(34570);e.exports=a},81493:function(e,t,n){var a=n(69601);e.exports=a},54408:function(e,t,n){n(7634),n(77971);var a=n(80663);e.exports=a},60269:function(e,t,n){var a=n(45999);e.exports=a},76094:function(e,t,n){var a=n(35254);e.exports=a},73685:function(e,t,n){var a=n(48171);e.exports=a},27533:function(e,t,n){var a=n(286);e.exports=a},84710:function(e,t,n){var a=n(30498);e.exports=a},74303:function(e,t,n){var a=n(13966);e.exports=a},93799:function(e,t,n){var a=n(48494);e.exports=a},55122:function(e,t,n){var a=n(3065);e.exports=a},31524:function(e,t,n){var a=n(37095);e.exports=a},86600:function(e,t,n){var a=n(57473);n(28783),n(43975),n(46774),n(80620),n(36172),e.exports=a},9759:function(e,t,n){var a=n(24227);e.exports=a},58714:function(e,t,n){var a=n(32304);n(26207),n(13215),n(4629),n(4055),e.exports=a},33916:function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},11851:function(e,t,n){var a=n(10941);e.exports=function(e){if(!a(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},18479:function(e){e.exports=function(){}},5743:function(e){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},96059:function(e,t,n){var a=n(10941);e.exports=function(e){if(!a(e))throw TypeError(String(e)+" is not an object");return e}},56837:function(e,t,n){"use strict";var a=n(3610).forEach,i=n(34194),o=n(65486),r=i("forEach"),l=o("forEach");e.exports=r&&l?[].forEach:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}},11354:function(e,t,n){"use strict";var a=n(86843),i=n(89678),o=n(75196),r=n(6782),l=n(43057),u=n(55449),s=n(22902);e.exports=function(e){var t,n,c,d,f,h,p=i(e),g="function"==typeof this?this:Array,m=arguments.length,v=m>1?arguments[1]:void 0,_=void 0!==v,y=s(p),b=0;if(_&&(v=a(v,m>2?arguments[2]:void 0,2)),null==y||g==Array&&r(y))for(n=new g(t=l(p.length));t>b;b++)h=_?v(p[b],b):p[b],u(n,b,h);else for(f=(d=y.call(p)).next,n=new g;!(c=f.call(d)).done;b++)h=_?o(d,v,[c.value,b],!0):c.value,u(n,b,h);return n.length=b,n}},31692:function(e,t,n){var a=n(74529),i=n(43057),o=n(59413),r=function(e){return function(t,n,r){var l,u=a(t),s=i(u.length),c=o(r,s);if(e&&n!=n){for(;s>c;)if((l=u[c++])!=l)return!0}else for(;s>c;c++)if((e||c in u)&&u[c]===n)return e||c||0;return!e&&-1}};e.exports={includes:r(!0),indexOf:r(!1)}},3610:function(e,t,n){var a=n(86843),i=n(37026),o=n(89678),r=n(43057),l=n(64692),u=[].push,s=function(e){var t=1==e,n=2==e,s=3==e,c=4==e,d=6==e,f=5==e||d;return function(h,p,g,m){for(var v,_,y=o(h),b=i(y),w=a(p,g,3),E=r(b.length),C=0,T=m||l,k=t?T(h,E):n?T(h,0):void 0;E>C;C++)if((f||C in b)&&(_=w(v=b[C],C,y),e))if(t)k[C]=_;else if(_)switch(e){case 3:return!0;case 5:return v;case 6:return C;case 2:u.call(k,v)}else if(c)return!1;return d?-1:s||c?c:k}};e.exports={forEach:s(0),map:s(1),filter:s(2),some:s(3),every:s(4),find:s(5),findIndex:s(6)}},67145:function(e,t,n){"use strict";var a=n(74529),i=n(68459),o=n(43057),r=n(34194),l=n(65486),u=Math.min,s=[].lastIndexOf,c=!!s&&1/[1].lastIndexOf(1,-0)<0,d=r("lastIndexOf"),f=l("indexOf",{ACCESSORS:!0,1:0}),h=c||!d||!f;e.exports=h?function(e){if(c)return s.apply(this,arguments)||0;var t=a(this),n=o(t.length),r=n-1;for(arguments.length>1&&(r=u(r,i(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}:s},50568:function(e,t,n){var a=n(95981),i=n(99813),o=n(53385),r=i("species");e.exports=function(e){return o>=51||!a((function(){var t=[];return(t.constructor={})[r]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},34194:function(e,t,n){"use strict";var a=n(95981);e.exports=function(e,t){var n=[][e];return!!n&&a((function(){n.call(null,t||function(){throw 1},1)}))}},65486:function(e,t,n){var a=n(55746),i=n(95981),o=n(47457),r=Object.defineProperty,l={},u=function(e){throw e};e.exports=function(e,t){if(o(l,e))return l[e];t||(t={});var n=[][e],s=!!o(t,"ACCESSORS")&&t.ACCESSORS,c=o(t,0)?t[0]:u,d=o(t,1)?t[1]:void 0;return l[e]=!!n&&!i((function(){if(s&&!a)return!0;var e={length:-1};s?r(e,1,{enumerable:!0,get:u}):e[1]=1,n.call(e,c,d)}))}},46499:function(e,t,n){var a=n(33916),i=n(89678),o=n(37026),r=n(43057),l=function(e){return function(t,n,l,u){a(n);var s=i(t),c=o(s),d=r(s.length),f=e?d-1:0,h=e?-1:1;if(l<2)for(;;){if(f in c){u=c[f],f+=h;break}if(f+=h,e?f<0:d<=f)throw TypeError("Reduce of empty array with no initial value")}for(;e?f>=0:d>f;f+=h)f in c&&(u=n(u,c[f],f,s));return u}};e.exports={left:l(!1),right:l(!0)}},64692:function(e,t,n){var a=n(10941),i=n(1052),o=n(99813)("species");e.exports=function(e,t){var n;return i(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!i(n.prototype)?a(n)&&null===(n=n[o])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},75196:function(e,t,n){var a=n(96059);e.exports=function(e,t,n,i){try{return i?t(a(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&a(o.call(e)),t}}},21385:function(e,t,n){var a=n(99813)("iterator"),i=!1;try{var o=0,r={next:function(){return{done:!!o++}},return:function(){i=!0}};r[a]=function(){return this},Array.from(r,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o={};o[a]=function(){return{next:function(){return{done:n=!0}}}},e(o)}catch(e){}return n}},82532:function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},9697:function(e,t,n){var a=n(22885),i=n(82532),o=n(99813)("toStringTag"),r="Arguments"==i(function(){return arguments}());e.exports=a?i:function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:r?i(t):"Object"==(a=i(t))&&"function"==typeof t.callee?"Arguments":a}},28984:function(e,t,n){"use strict";var a=n(96059),i=n(33916);e.exports=function(){for(var e,t=a(this),n=i(t.delete),o=!0,r=0,l=arguments.length;r<l;r++)e=n.call(t,arguments[r]),o=o&&e;return!!o}},83590:function(e,t,n){"use strict";var a=n(33916),i=n(86843),o=n(80307);e.exports=function(e){var t,n,r,l,u=arguments.length,s=u>1?arguments[1]:void 0;return a(this),(t=void 0!==s)&&a(s),null==e?new this:(n=[],t?(r=0,l=i(s,u>2?arguments[2]:void 0,2),o(e,(function(e){n.push(l(e,r++))}))):o(e,n.push,n),new this(n))}},45226:function(e){"use strict";e.exports=function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}},85616:function(e,t,n){"use strict";var a=n(65988).f,i=n(29290),o=n(87524),r=n(86843),l=n(5743),u=n(80307),s=n(47771),c=n(94431),d=n(55746),f=n(21647).fastKey,h=n(45402),p=h.set,g=h.getterFor;e.exports={getConstructor:function(e,t,n,s){var c=e((function(e,a){l(e,c,t),p(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),d||(e.size=0),null!=a&&u(a,e[s],e,n)})),h=g(t),m=function(e,t,n){var a,i,o=h(e),r=v(e,t);return r?r.value=n:(o.last=r={index:i=f(t,!0),key:t,value:n,previous:a=o.last,next:void 0,removed:!1},o.first||(o.first=r),a&&(a.next=r),d?o.size++:e.size++,"F"!==i&&(o.index[i]=r)),e},v=function(e,t){var n,a=h(e),i=f(t);if("F"!==i)return a.index[i];for(n=a.first;n;n=n.next)if(n.key==t)return n};return o(c.prototype,{clear:function(){for(var e=h(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,d?e.size=0:this.size=0},delete:function(e){var t=this,n=h(t),a=v(t,e);if(a){var i=a.next,o=a.previous;delete n.index[a.index],a.removed=!0,o&&(o.next=i),i&&(i.previous=o),n.first==a&&(n.first=i),n.last==a&&(n.last=o),d?n.size--:t.size--}return!!a},forEach:function(e){for(var t,n=h(this),a=r(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(a(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!v(this,e)}}),o(c.prototype,n?{get:function(e){var t=v(this,e);return t&&t.value},set:function(e,t){return m(this,0===e?0:e,t)}}:{add:function(e){return m(this,e=0===e?0:e,e)}}),d&&a(c.prototype,"size",{get:function(){return h(this).size}}),c},setStrong:function(e,t,n){var a=t+" Iterator",i=g(t),o=g(a);s(e,t,(function(e,t){p(this,{type:a,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),c(t)}}},8850:function(e,t,n){"use strict";var a=n(87524),i=n(21647).getWeakData,o=n(96059),r=n(10941),l=n(5743),u=n(80307),s=n(3610),c=n(47457),d=n(45402),f=d.set,h=d.getterFor,p=s.find,g=s.findIndex,m=0,v=function(e){return e.frozen||(e.frozen=new _)},_=function(){this.entries=[]},y=function(e,t){return p(e.entries,(function(e){return e[0]===t}))};_.prototype={get:function(e){var t=y(this,e);if(t)return t[1]},has:function(e){return!!y(this,e)},set:function(e,t){var n=y(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=g(this.entries,(function(t){return t[0]===e}));return~t&&this.entries.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,s){var d=e((function(e,a){l(e,d,t),f(e,{type:t,id:m++,frozen:void 0}),null!=a&&u(a,e[s],e,n)})),p=h(t),g=function(e,t,n){var a=p(e),r=i(o(t),!0);return!0===r?v(a).set(t,n):r[a.id]=n,e};return a(d.prototype,{delete:function(e){var t=p(this);if(!r(e))return!1;var n=i(e);return!0===n?v(t).delete(e):n&&c(n,t.id)&&delete n[t.id]},has:function(e){var t=p(this);if(!r(e))return!1;var n=i(e);return!0===n?v(t).has(e):n&&c(n,t.id)}}),a(d.prototype,n?{get:function(e){var t=p(this);if(r(e)){var n=i(e);return!0===n?v(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return g(this,e,t)}}:{add:function(e){return g(this,e,!0)}}),d}}},24683:function(e,t,n){"use strict";var a=n(76887),i=n(21899),o=n(21647),r=n(95981),l=n(32029),u=n(80307),s=n(5743),c=n(10941),d=n(90904),f=n(65988).f,h=n(3610).forEach,p=n(55746),g=n(45402),m=g.set,v=g.getterFor;e.exports=function(e,t,n){var g,_=-1!==e.indexOf("Map"),y=-1!==e.indexOf("Weak"),b=_?"set":"add",w=i[e],E=w&&w.prototype,C={};if(p&&"function"==typeof w&&(y||E.forEach&&!r((function(){(new w).entries().next()})))){g=t((function(t,n){m(s(t,g,e),{type:e,collection:new w}),null!=n&&u(n,t[b],t,_)}));var T=v(e);h(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(e){var t="add"==e||"set"==e;!(e in E)||y&&"clear"==e||l(g.prototype,e,(function(n,a){var i=T(this).collection;if(!t&&y&&!c(n))return"get"==e&&void 0;var o=i[e](0===n?0:n,a);return t?this:o}))})),y||f(g.prototype,"size",{configurable:!0,get:function(){return T(this).collection.size}})}else g=n.getConstructor(t,e,_,b),o.REQUIRED=!0;return d(g,e,!1,!0),C[e]=g,a({global:!0,forced:!0},C),y||n.setStrong(g,e,_),g}},67772:function(e,t,n){var a=n(99813)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[a]=!1,"/./"[e](t)}catch(e){}}return!1}},64160:function(e,t,n){var a=n(95981);e.exports=!a((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},31046:function(e,t,n){"use strict";var a=n(35143).IteratorPrototype,i=n(29290),o=n(31887),r=n(90904),l=n(12077),u=function(){return this};e.exports=function(e,t,n){var s=t+" Iterator";return e.prototype=i(a,{next:o(1,n)}),r(e,s,!1,!0),l[s]=u,e}},32029:function(e,t,n){var a=n(55746),i=n(65988),o=n(31887);e.exports=a?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},31887:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},55449:function(e,t,n){"use strict";var a=n(46935),i=n(65988),o=n(31887);e.exports=function(e,t,n){var r=a(t);r in e?i.f(e,r,o(0,n)):e[r]=n}},47771:function(e,t,n){"use strict";var a=n(76887),i=n(31046),o=n(249),r=n(88929),l=n(90904),u=n(32029),s=n(99754),c=n(99813),d=n(82529),f=n(12077),h=n(35143),p=h.IteratorPrototype,g=h.BUGGY_SAFARI_ITERATORS,m=c("iterator"),v="keys",_="values",y="entries",b=function(){return this};e.exports=function(e,t,n,c,h,w,E){i(n,t,c);var C,T,k,S=function(e){if(e===h&&R)return R;if(!g&&e in x)return x[e];switch(e){case v:case _:case y:return function(){return new n(this,e)}}return function(){return new n(this)}},I=t+" Iterator",A=!1,x=e.prototype,M=x[m]||x["@@iterator"]||h&&x[h],R=!g&&M||S(h),O="Array"==t&&x.entries||M;if(O&&(C=o(O.call(new e)),p!==Object.prototype&&C.next&&(d||o(C)===p||(r?r(C,p):"function"!=typeof C[m]&&u(C,m,b)),l(C,I,!0,!0),d&&(f[I]=b))),h==_&&M&&M.name!==_&&(A=!0,R=function(){return M.call(this)}),d&&!E||x[m]===R||u(x,m,R),f[t]=R,h)if(T={values:S(_),keys:w?R:S(v),entries:S(y)},E)for(k in T)(g||A||!(k in x))&&s(x,k,T[k]);else a({target:t,proto:!0,forced:g||A},T);return T}},66349:function(e,t,n){var a=n(54058),i=n(47457),o=n(11477),r=n(65988).f;e.exports=function(e){var t=a.Symbol||(a.Symbol={});i(t,e)||r(t,e,{value:o.f(e)})}},55746:function(e,t,n){var a=n(95981);e.exports=!a((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},61333:function(e,t,n){var a=n(21899),i=n(10941),o=a.document,r=i(o)&&i(o.createElement);e.exports=function(e){return r?o.createElement(e):{}}},63281:function(e){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},2861:function(e,t,n){var a=n(626);e.exports=a("navigator","userAgent")||""},53385:function(e,t,n){var a,i,o=n(21899),r=n(2861),l=o.process,u=l&&l.versions,s=u&&u.v8;s?i=(a=s.split("."))[0]+a[1]:r&&(!(a=r.match(/Edge\/(\d+)/))||a[1]>=74)&&(a=r.match(/Chrome\/(\d+)/))&&(i=a[1]),e.exports=i&&+i},35703:function(e,t,n){var a=n(54058);e.exports=function(e){return a[e+"Prototype"]}},56759:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},76887:function(e,t,n){"use strict";var a=n(21899),i=n(49677).f,o=n(37252),r=n(54058),l=n(86843),u=n(32029),s=n(47457),c=function(e){var t=function(t,n,a){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,a)}return e.apply(this,arguments)};return t.prototype=e.prototype,t};e.exports=function(e,t){var n,d,f,h,p,g,m,v,_=e.target,y=e.global,b=e.stat,w=e.proto,E=y?a:b?a[_]:(a[_]||{}).prototype,C=y?r:r[_]||(r[_]={}),T=C.prototype;for(f in t)n=!o(y?f:_+(b?".":"#")+f,e.forced)&&E&&s(E,f),p=C[f],n&&(g=e.noTargetGet?(v=i(E,f))&&v.value:E[f]),h=n&&g?g:t[f],n&&typeof p==typeof h||(m=e.bind&&n?l(h,a):e.wrap&&n?c(h):w&&"function"==typeof h?l(Function.call,h):h,(e.sham||h&&h.sham||p&&p.sham)&&u(m,"sham",!0),C[f]=m,w&&(s(r,d=_+"Prototype")||u(r,d,{}),r[d][f]=h,e.real&&T&&!T[f]&&u(T,f,h)))}},95981:function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},45602:function(e,t,n){var a=n(95981);e.exports=!a((function(){return Object.isExtensible(Object.preventExtensions({}))}))},86843:function(e,t,n){var a=n(33916);e.exports=function(e,t,n){if(a(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,a){return e.call(t,n,a)};case 3:return function(n,a,i){return e.call(t,n,a,i)}}return function(){return e.apply(t,arguments)}}},98308:function(e,t,n){"use strict";var a=n(33916),i=n(10941),o=[].slice,r={},l=function(e,t,n){if(!(t in r)){for(var a=[],i=0;i<t;i++)a[i]="a["+i+"]";r[t]=Function("C,a","return new C("+a.join(",")+")")}return r[t](e,n)};e.exports=Function.bind||function(e){var t=a(this),n=o.call(arguments,1),r=function(){var a=n.concat(o.call(arguments));return this instanceof r?l(t,a.length,a):t.apply(e,a)};return i(t.prototype)&&(r.prototype=t.prototype),r}},626:function(e,t,n){var a=n(54058),i=n(21899),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(a[e])||o(i[e]):a[e]&&a[e][t]||i[e]&&i[e][t]}},22902:function(e,t,n){var a=n(9697),i=n(12077),o=n(99813)("iterator");e.exports=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[a(e)]}},53476:function(e,t,n){var a=n(96059),i=n(22902);e.exports=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return a(t.call(e))}},21899:function(e,t,n){var a=function(e){return e&&e.Math==Math&&e};e.exports=a("object"==typeof globalThis&&globalThis)||a("object"==typeof window&&window)||a("object"==typeof self&&self)||a("object"==typeof n.g&&n.g)||Function("return this")()},47457:function(e){var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},27748:function(e){e.exports={}},15463:function(e,t,n){var a=n(626);e.exports=a("document","documentElement")},2840:function(e,t,n){var a=n(55746),i=n(95981),o=n(61333);e.exports=!a&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},37026:function(e,t,n){var a=n(95981),i=n(82532),o="".split;e.exports=a((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},81302:function(e,t,n){var a=n(63030),i=Function.toString;"function"!=typeof a.inspectSource&&(a.inspectSource=function(e){return i.call(e)}),e.exports=a.inspectSource},21647:function(e,t,n){var a=n(27748),i=n(10941),o=n(47457),r=n(65988).f,l=n(99418),u=n(45602),s=l("meta"),c=0,d=Object.isExtensible||function(){return!0},f=function(e){r(e,s,{value:{objectID:"O"+ ++c,weakData:{}}})},h=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,s)){if(!d(e))return"F";if(!t)return"E";f(e)}return e[s].objectID},getWeakData:function(e,t){if(!o(e,s)){if(!d(e))return!0;if(!t)return!1;f(e)}return e[s].weakData},onFreeze:function(e){return u&&h.REQUIRED&&d(e)&&!o(e,s)&&f(e),e}};a[s]=!0},45402:function(e,t,n){var a,i,o,r=n(38019),l=n(21899),u=n(10941),s=n(32029),c=n(47457),d=n(44262),f=n(27748),h=l.WeakMap;if(r){var p=new h,g=p.get,m=p.has,v=p.set;a=function(e,t){return v.call(p,e,t),t},i=function(e){return g.call(p,e)||{}},o=function(e){return m.call(p,e)}}else{var _=d("state");f[_]=!0,a=function(e,t){return s(e,_,t),t},i=function(e){return c(e,_)?e[_]:{}},o=function(e){return c(e,_)}}e.exports={set:a,get:i,has:o,enforce:function(e){return o(e)?i(e):a(e,{})},getterFor:function(e){return function(t){var n;if(!u(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},6782:function(e,t,n){var a=n(99813),i=n(12077),o=a("iterator"),r=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||r[o]===e)}},1052:function(e,t,n){var a=n(82532);e.exports=Array.isArray||function(e){return"Array"==a(e)}},37252:function(e,t,n){var a=n(95981),i=/#|\.prototype\./,o=function(e,t){var n=l[r(e)];return n==s||n!=u&&("function"==typeof t?a(t):!!t)},r=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},l=o.data={},u=o.NATIVE="N",s=o.POLYFILL="P";e.exports=o},80663:function(e,t,n){var a=n(9697),i=n(99813),o=n(12077),r=i("iterator");e.exports=function(e){var t=Object(e);return void 0!==t[r]||"@@iterator"in t||o.hasOwnProperty(a(t))}},10941:function(e){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},82529:function(e){e.exports=!0},60685:function(e,t,n){var a=n(10941),i=n(82532),o=n(99813)("match");e.exports=function(e){var t;return a(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},80307:function(e,t,n){var a=n(96059),i=n(6782),o=n(43057),r=n(86843),l=n(22902),u=n(75196),s=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,t,n,c,d){var f,h,p,g,m,v,_,y=r(t,n,c?2:1);if(d)f=e;else{if("function"!=typeof(h=l(e)))throw TypeError("Target is not iterable");if(i(h)){for(p=0,g=o(e.length);g>p;p++)if((m=c?y(a(_=e[p])[0],_[1]):y(e[p]))&&m instanceof s)return m;return new s(!1)}f=h.call(e)}for(v=f.next;!(_=v.call(f)).done;)if("object"==typeof(m=u(f,y,_.value,c))&&m&&m instanceof s)return m;return new s(!1)}).stop=function(e){return new s(!0,e)}},35143:function(e,t,n){"use strict";var a,i,o,r=n(249),l=n(32029),u=n(47457),s=n(99813),c=n(82529),d=s("iterator"),f=!1;[].keys&&("next"in(o=[].keys())?(i=r(r(o)))!==Object.prototype&&(a=i):f=!0),null==a&&(a={}),c||u(a,d)||l(a,d,(function(){return this})),e.exports={IteratorPrototype:a,BUGGY_SAFARI_ITERATORS:f}},12077:function(e){e.exports={}},20716:function(e,t,n){"use strict";var a=n(96059);e.exports=function(e,t){var n,i=a(this),o=arguments.length>2?arguments[2]:void 0;if("function"!=typeof t&&"function"!=typeof o)throw TypeError("At least one callback required");return i.has(e)?(n=i.get(e),"function"==typeof t&&(n=t(n),i.set(e,n))):"function"==typeof o&&(n=o(),i.set(e,n)),n}},72497:function(e,t,n){var a=n(95981);e.exports=!!Object.getOwnPropertySymbols&&!a((function(){return!String(Symbol())}))},38019:function(e,t,n){var a=n(21899),i=n(81302),o=a.WeakMap;e.exports="function"==typeof o&&/native code/.test(i(o))},70344:function(e,t,n){var a=n(60685);e.exports=function(e){if(a(e))throw TypeError("The method doesn't accept regular expressions");return e}},81942:function(e,t,n){var a=n(21899),i=n(74853).trim,o=n(73483),r=a.parseFloat,l=1/r(o+"-0")!=-1/0;e.exports=l?function(e){var t=i(String(e)),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},29806:function(e,t,n){var a=n(21899),i=n(74853).trim,o=n(73483),r=a.parseInt,l=/^[+-]?0[Xx]/,u=8!==r(o+"08")||22!==r(o+"0x16");e.exports=u?function(e,t){var n=i(String(e));return r(n,t>>>0||(l.test(n)?16:10))}:r},24420:function(e,t,n){"use strict";var a=n(55746),i=n(95981),o=n(14771),r=n(87857),l=n(36760),u=n(89678),s=n(37026),c=Object.assign,d=Object.defineProperty;e.exports=!c||i((function(){if(a&&1!==c({b:1},c(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=c({},e)[n]||o(c({},t)).join("")!=i}))?function(e,t){for(var n=u(e),i=arguments.length,c=1,d=r.f,f=l.f;i>c;)for(var h,p=s(arguments[c++]),g=d?o(p).concat(d(p)):o(p),m=g.length,v=0;m>v;)h=g[v++],a&&!f.call(p,h)||(n[h]=p[h]);return n}:c},29290:function(e,t,n){var a,i=n(96059),o=n(59938),r=n(56759),l=n(27748),u=n(15463),s=n(61333),c=n(44262),d=c("IE_PROTO"),f=function(){},h=function(e){return"<script>"+e+"</"+"script>"},p=function(){try{a=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;p=a?function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t}(a):((t=s("iframe")).style.display="none",u.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(h("document.F=Object")),e.close(),e.F);for(var n=r.length;n--;)delete p.prototype[r[n]];return p()};l[d]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(f.prototype=i(e),n=new f,f.prototype=null,n[d]=e):n=p(),void 0===t?n:o(n,t)}},59938:function(e,t,n){var a=n(55746),i=n(65988),o=n(96059),r=n(14771);e.exports=a?Object.defineProperties:function(e,t){o(e);for(var n,a=r(t),l=a.length,u=0;l>u;)i.f(e,n=a[u++],t[n]);return e}},65988:function(e,t,n){var a=n(55746),i=n(2840),o=n(96059),r=n(46935),l=Object.defineProperty;t.f=a?l:function(e,t,n){if(o(e),t=r(t,!0),o(n),i)try{return l(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},49677:function(e,t,n){var a=n(55746),i=n(36760),o=n(31887),r=n(74529),l=n(46935),u=n(47457),s=n(2840),c=Object.getOwnPropertyDescriptor;t.f=a?c:function(e,t){if(e=r(e),t=l(t,!0),s)try{return c(e,t)}catch(e){}if(u(e,t))return o(!i.f.call(e,t),e[t])}},684:function(e,t,n){var a=n(74529),i=n(10946).f,o={}.toString,r="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return r&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return r.slice()}}(e):i(a(e))}},10946:function(e,t,n){var a=n(55629),i=n(56759).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return a(e,i)}},87857:function(e,t){t.f=Object.getOwnPropertySymbols},249:function(e,t,n){var a=n(47457),i=n(89678),o=n(44262),r=n(64160),l=o("IE_PROTO"),u=Object.prototype;e.exports=r?Object.getPrototypeOf:function(e){return e=i(e),a(e,l)?e[l]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?u:null}},55629:function(e,t,n){var a=n(47457),i=n(74529),o=n(31692).indexOf,r=n(27748);e.exports=function(e,t){var n,l=i(e),u=0,s=[];for(n in l)!a(r,n)&&a(l,n)&&s.push(n);for(;t.length>u;)a(l,n=t[u++])&&(~o(s,n)||s.push(n));return s}},14771:function(e,t,n){var a=n(55629),i=n(56759);e.exports=Object.keys||function(e){return a(e,i)}},36760:function(e,t){"use strict";var n={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,i=a&&!n.call({1:2},1);t.f=i?function(e){var t=a(this,e);return!!t&&t.enumerable}:n},88929:function(e,t,n){var a=n(96059),i=n(11851);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,o){return a(n),i(o),t?e.call(n,o):n.__proto__=o,n}}():void 0)},95623:function(e,t,n){"use strict";var a=n(22885),i=n(9697);e.exports=a?{}.toString:function(){return"[object "+i(this)+"]"}},31136:function(e,t,n){var a=n(626),i=n(10946),o=n(87857),r=n(96059);e.exports=a("Reflect","ownKeys")||function(e){var t=i.f(r(e)),n=o.f;return n?t.concat(n(e)):t}},54058:function(e){e.exports={}},87524:function(e,t,n){var a=n(99754);e.exports=function(e,t,n){for(var i in t)n&&n.unsafe&&e[i]?e[i]=t[i]:a(e,i,t[i],n);return e}},99754:function(e,t,n){var a=n(32029);e.exports=function(e,t,n,i){i&&i.enumerable?e[t]=n:a(e,t,n)}},48219:function(e){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},4911:function(e,t,n){var a=n(21899),i=n(32029);e.exports=function(e,t){try{i(a,e,t)}catch(n){a[e]=t}return t}},94431:function(e,t,n){"use strict";var a=n(626),i=n(65988),o=n(99813),r=n(55746),l=o("species");e.exports=function(e){var t=a(e),n=i.f;r&&t&&!t[l]&&n(t,l,{configurable:!0,get:function(){return this}})}},90904:function(e,t,n){var a=n(22885),i=n(65988).f,o=n(32029),r=n(47457),l=n(95623),u=n(99813)("toStringTag");e.exports=function(e,t,n,s){if(e){var c=n?e:e.prototype;r(c,u)||i(c,u,{configurable:!0,value:t}),s&&!a&&o(c,"toString",l)}}},44262:function(e,t,n){var a=n(68726),i=n(99418),o=a("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},63030:function(e,t,n){var a=n(21899),i=n(4911),o="__core-js_shared__",r=a[o]||i(o,{});e.exports=r},68726:function(e,t,n){var a=n(82529),i=n(63030);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.4",mode:a?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},64620:function(e,t,n){var a=n(68459),i=n(48219),o=function(e){return function(t,n){var o,r,l=String(i(t)),u=a(n),s=l.length;return u<0||u>=s?e?"":void 0:(o=l.charCodeAt(u))<55296||o>56319||u+1===s||(r=l.charCodeAt(u+1))<56320||r>57343?e?l.charAt(u):o:e?l.slice(u,u+2):r-56320+(o-55296<<10)+65536}};e.exports={codeAt:o(!1),charAt:o(!0)}},93093:function(e,t,n){var a=n(95981),i=n(73483);e.exports=function(e){return a((function(){return!!i[e]()||"​᠎"!="​᠎"[e]()||i[e].name!==e}))}},74853:function(e,t,n){var a=n(48219),i="["+n(73483)+"]",o=RegExp("^"+i+i+"*"),r=RegExp(i+i+"*$"),l=function(e){return function(t){var n=String(a(t));return 1&e&&(n=n.replace(o,"")),2&e&&(n=n.replace(r,"")),n}};e.exports={start:l(1),end:l(2),trim:l(3)}},59413:function(e,t,n){var a=n(68459),i=Math.max,o=Math.min;e.exports=function(e,t){var n=a(e);return n<0?i(n+t,0):o(n,t)}},74529:function(e,t,n){var a=n(37026),i=n(48219);e.exports=function(e){return a(i(e))}},68459:function(e){var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},43057:function(e,t,n){var a=n(68459),i=Math.min;e.exports=function(e){return e>0?i(a(e),9007199254740991):0}},89678:function(e,t,n){var a=n(48219);e.exports=function(e){return Object(a(e))}},46935:function(e,t,n){var a=n(10941);e.exports=function(e,t){if(!a(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!a(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!a(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!a(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},22885:function(e,t,n){var a={};a[n(99813)("toStringTag")]="z",e.exports="[object z]"===String(a)},99418:function(e){var t=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++t+n).toString(36)}},32302:function(e,t,n){var a=n(72497);e.exports=a&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},11477:function(e,t,n){var a=n(99813);t.f=a},99813:function(e,t,n){var a=n(21899),i=n(68726),o=n(47457),r=n(99418),l=n(72497),u=n(32302),s=i("wks"),c=a.Symbol,d=u?c:c&&c.withoutSetter||r;e.exports=function(e){return o(s,e)||(l&&o(c,e)?s[e]=c[e]:s[e]=d("Symbol."+e)),s[e]}},73483:function(e){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},85906:function(e,t,n){"use strict";var a=n(76887),i=n(95981),o=n(1052),r=n(10941),l=n(89678),u=n(43057),s=n(55449),c=n(64692),d=n(50568),f=n(99813),h=n(53385),p=f("isConcatSpreadable"),g=9007199254740991,m="Maximum allowed index exceeded",v=h>=51||!i((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),_=d("concat"),y=function(e){if(!r(e))return!1;var t=e[p];return void 0!==t?!!t:o(e)};a({target:"Array",proto:!0,forced:!v||!_},{concat:function(e){var t,n,a,i,o,r=l(this),d=c(r,0),f=0;for(t=-1,a=arguments.length;t<a;t++)if(y(o=-1===t?r:arguments[t])){if(f+(i=u(o.length))>g)throw TypeError(m);for(n=0;n<i;n++,f++)n in o&&s(d,f,o[n])}else{if(f>=g)throw TypeError(m);s(d,f++,o)}return d.length=f,d}})},21501:function(e,t,n){"use strict";var a=n(76887),i=n(3610).filter,o=n(50568),r=n(65486),l=o("filter"),u=r("filter");a({target:"Array",proto:!0,forced:!l||!u},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},44929:function(e,t,n){"use strict";var a=n(76887),i=n(3610).findIndex,o=n(18479),r=n(65486),l="findIndex",u=!0,s=r(l);l in[]&&Array(1).findIndex((function(){u=!1})),a({target:"Array",proto:!0,forced:u||!s},{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o(l)},80833:function(e,t,n){"use strict";var a=n(76887),i=n(3610).find,o=n(18479),r=n(65486),l="find",u=!0,s=r(l);l in[]&&Array(1).find((function(){u=!1})),a({target:"Array",proto:!0,forced:u||!s},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o(l)},2437:function(e,t,n){"use strict";var a=n(76887),i=n(56837);a({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},53242:function(e,t,n){var a=n(76887),i=n(11354);a({target:"Array",stat:!0,forced:!n(21385)((function(e){Array.from(e)}))},{from:i})},97690:function(e,t,n){"use strict";var a=n(76887),i=n(31692).includes,o=n(18479);a({target:"Array",proto:!0,forced:!n(65486)("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},99076:function(e,t,n){"use strict";var a=n(76887),i=n(31692).indexOf,o=n(34194),r=n(65486),l=[].indexOf,u=!!l&&1/[1].indexOf(1,-0)<0,s=o("indexOf"),c=r("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:u||!s||!c},{indexOf:function(e){return u?l.apply(this,arguments)||0:i(this,e,arguments.length>1?arguments[1]:void 0)}})},92737:function(e,t,n){n(76887)({target:"Array",stat:!0},{isArray:n(1052)})},66274:function(e,t,n){"use strict";var a=n(74529),i=n(18479),o=n(12077),r=n(45402),l=n(47771),u="Array Iterator",s=r.set,c=r.getterFor(u);e.exports=l(Array,"Array",(function(e,t){s(this,{type:u,target:a(e),index:0,kind:t})}),(function(){var e=c(this),t=e.target,n=e.kind,a=e.index++;return!t||a>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:a,done:!1}:"values"==n?{value:t[a],done:!1}:{value:[a,t[a]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},75915:function(e,t,n){var a=n(76887),i=n(67145);a({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},68787:function(e,t,n){"use strict";var a=n(76887),i=n(3610).map,o=n(50568),r=n(65486),l=o("map"),u=r("map");a({target:"Array",proto:!0,forced:!l||!u},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},81876:function(e,t,n){"use strict";var a=n(76887),i=n(46499).left,o=n(34194),r=n(65486),l=o("reduce"),u=r("reduce",{1:0});a({target:"Array",proto:!0,forced:!l||!u},{reduce:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},60186:function(e,t,n){"use strict";var a=n(76887),i=n(10941),o=n(1052),r=n(59413),l=n(43057),u=n(74529),s=n(55449),c=n(99813),d=n(50568),f=n(65486),h=d("slice"),p=f("slice",{ACCESSORS:!0,0:0,1:2}),g=c("species"),m=[].slice,v=Math.max;a({target:"Array",proto:!0,forced:!h||!p},{slice:function(e,t){var n,a,c,d=u(this),f=l(d.length),h=r(e,f),p=r(void 0===t?f:t,f);if(o(d)&&("function"!=typeof(n=d.constructor)||n!==Array&&!o(n.prototype)?i(n)&&null===(n=n[g])&&(n=void 0):n=void 0,n===Array||void 0===n))return m.call(d,h,p);for(a=new(void 0===n?Array:n)(v(p-h,0)),c=0;h<p;h++,c++)h in d&&s(a,c,d[h]);return a.length=c,a}})},36026:function(e,t,n){"use strict";var a=n(76887),i=n(3610).some,o=n(34194),r=n(65486),l=o("some"),u=r("some");a({target:"Array",proto:!0,forced:!l||!u},{some:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},4115:function(e,t,n){"use strict";var a=n(76887),i=n(33916),o=n(89678),r=n(95981),l=n(34194),u=[],s=u.sort,c=r((function(){u.sort(void 0)})),d=r((function(){u.sort(null)})),f=l("sort");a({target:"Array",proto:!0,forced:c||!d||!f},{sort:function(e){return void 0===e?s.call(o(this)):s.call(o(this),i(e))}})},98611:function(e,t,n){"use strict";var a=n(76887),i=n(59413),o=n(68459),r=n(43057),l=n(89678),u=n(64692),s=n(55449),c=n(50568),d=n(65486),f=c("splice"),h=d("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,g=Math.min,m=9007199254740991,v="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!f||!h},{splice:function(e,t){var n,a,c,d,f,h,_=l(this),y=r(_.length),b=i(e,y),w=arguments.length;if(0===w?n=a=0:1===w?(n=0,a=y-b):(n=w-2,a=g(p(o(t),0),y-b)),y+n-a>m)throw TypeError(v);for(c=u(_,a),d=0;d<a;d++)(f=b+d)in _&&s(c,d,_[f]);if(c.length=a,n<a){for(d=b;d<y-a;d++)h=d+n,(f=d+a)in _?_[h]=_[f]:delete _[h];for(d=y;d>y-a+n;d--)delete _[d-1]}else if(n>a)for(d=y-a;d>b;d--)h=d+n-1,(f=d+a-1)in _?_[h]=_[f]:delete _[h];for(d=0;d<n;d++)_[d+b]=arguments[d+2];return _.length=y-a+n,c}})},73381:function(e,t,n){n(76887)({target:"Function",proto:!0},{bind:n(98308)})},32619:function(e,t,n){var a=n(76887),i=n(626),o=n(95981),r=i("JSON","stringify"),l=/[\uD800-\uDFFF]/g,u=/^[\uD800-\uDBFF]$/,s=/^[\uDC00-\uDFFF]$/,c=function(e,t,n){var a=n.charAt(t-1),i=n.charAt(t+1);return u.test(e)&&!s.test(i)||s.test(e)&&!u.test(a)?"\\u"+e.charCodeAt(0).toString(16):e},d=o((function(){return'"\\udf06\\ud834"'!==r("\udf06\ud834")||'"\\udead"'!==r("\udead")}));r&&a({target:"JSON",stat:!0,forced:d},{stringify:function(e,t,n){var a=r.apply(null,arguments);return"string"==typeof a?a.replace(l,c):a}})},69120:function(e,t,n){var a=n(21899);n(90904)(a.JSON,"JSON",!0)},79413:function(e,t,n){n(90904)(Math,"Math",!0)},49221:function(e,t,n){var a=n(76887),i=n(24420);a({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},53882:function(e,t,n){n(76887)({target:"Object",stat:!0,sham:!n(55746)},{create:n(29290)})},74979:function(e,t,n){var a=n(76887),i=n(55746);a({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperties:n(59938)})},86450:function(e,t,n){var a=n(76887),i=n(55746);a({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperty:n(65988).f})},46924:function(e,t,n){var a=n(76887),i=n(95981),o=n(74529),r=n(49677).f,l=n(55746),u=i((function(){r(1)}));a({target:"Object",stat:!0,forced:!l||u,sham:!l},{getOwnPropertyDescriptor:function(e,t){return r(o(e),t)}})},88482:function(e,t,n){var a=n(76887),i=n(55746),o=n(31136),r=n(74529),l=n(49677),u=n(55449);a({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){for(var t,n,a=r(e),i=l.f,s=o(a),c={},d=0;s.length>d;)void 0!==(n=i(a,t=s[d++]))&&u(c,t,n);return c}})},17405:function(e,t,n){var a=n(76887),i=n(95981),o=n(89678),r=n(249),l=n(64160);a({target:"Object",stat:!0,forced:i((function(){r(1)})),sham:!l},{getPrototypeOf:function(e){return r(o(e))}})},21724:function(e,t,n){var a=n(76887),i=n(89678),o=n(14771);a({target:"Object",stat:!0,forced:n(95981)((function(){o(1)}))},{keys:function(e){return o(i(e))}})},90108:function(e,t,n){n(76887)({target:"Object",stat:!0},{setPrototypeOf:n(88929)})},55967:function(){},49718:function(e,t,n){var a=n(76887),i=n(81942);a({global:!0,forced:parseFloat!=i},{parseFloat:i})},14038:function(e,t,n){var a=n(76887),i=n(29806);a({global:!0,forced:parseInt!=i},{parseInt:i})},7453:function(e,t,n){var a=n(76887),i=n(626),o=n(33916),r=n(96059),l=n(10941),u=n(29290),s=n(98308),c=n(95981),d=i("Reflect","construct"),f=c((function(){function e(){}return!(d((function(){}),[],e)instanceof e)})),h=!c((function(){d((function(){}))})),p=f||h;a({target:"Reflect",stat:!0,forced:p,sham:p},{construct:function(e,t){o(e),r(t);var n=arguments.length<3?e:o(arguments[2]);if(h&&!f)return d(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var a=[null];return a.push.apply(a,t),new(s.apply(e,a))}var i=n.prototype,c=u(l(i)?i:Object.prototype),p=Function.apply.call(e,c,t);return l(p)?p:c}})},42355:function(e,t,n){var a=n(76887),i=n(10941),o=n(96059),r=n(47457),l=n(49677),u=n(249);a({target:"Reflect",stat:!0},{get:function e(t,n){var a,s,c=arguments.length<3?t:arguments[2];return o(t)===c?t[n]:(a=l.f(t,n))?r(a,"value")?a.value:void 0===a.get?void 0:a.get.call(c):i(s=u(t))?e(s,n,c):void 0}})},69008:function(e,t,n){"use strict";var a=n(24683),i=n(85616);e.exports=a("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},23809:function(e,t,n){var a=n(76887),i=n(59413),o=String.fromCharCode,r=String.fromCodePoint;a({target:"String",stat:!0,forced:!!r&&1!=r.length},{fromCodePoint:function(e){for(var t,n=[],a=arguments.length,r=0;a>r;){if(t=+arguments[r++],i(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?o(t):o(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},11035:function(e,t,n){"use strict";var a=n(76887),i=n(70344),o=n(48219);a({target:"String",proto:!0,forced:!n(67772)("includes")},{includes:function(e){return!!~String(o(this)).indexOf(i(e),arguments.length>1?arguments[1]:void 0)}})},77971:function(e,t,n){"use strict";var a=n(64620).charAt,i=n(45402),o=n(47771),r="String Iterator",l=i.set,u=i.getterFor(r);o(String,"String",(function(e){l(this,{type:r,string:String(e),index:0})}),(function(){var e,t=u(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=a(n,i),t.index+=e.length,{value:e,done:!1})}))},57398:function(e,t,n){"use strict";var a=n(76887),i=n(74853).trim;a({target:"String",proto:!0,forced:n(93093)("trim")},{trim:function(){return i(this)}})},8555:function(e,t,n){n(66349)("asyncIterator")},52615:function(){},21732:function(e,t,n){n(66349)("hasInstance")},35903:function(e,t,n){n(66349)("isConcatSpreadable")},1825:function(e,t,n){n(66349)("iterator")},35824:function(e,t,n){"use strict";var a=n(76887),i=n(21899),o=n(626),r=n(82529),l=n(55746),u=n(72497),s=n(32302),c=n(95981),d=n(47457),f=n(1052),h=n(10941),p=n(96059),g=n(89678),m=n(74529),v=n(46935),_=n(31887),y=n(29290),b=n(14771),w=n(10946),E=n(684),C=n(87857),T=n(49677),k=n(65988),S=n(36760),I=n(32029),A=n(99754),x=n(68726),M=n(44262),R=n(27748),O=n(99418),N=n(99813),D=n(11477),L=n(66349),P=n(90904),j=n(45402),B=n(3610).forEach,F=M("hidden"),H="Symbol",W=N("toPrimitive"),U=j.set,z=j.getterFor(H),G=Object.prototype,V=i.Symbol,q=o("JSON","stringify"),K=T.f,Y=k.f,Z=E.f,J=S.f,X=x("symbols"),$=x("op-symbols"),Q=x("string-to-symbol-registry"),ee=x("symbol-to-string-registry"),te=x("wks"),ne=i.QObject,ae=!ne||!ne.prototype||!ne.prototype.findChild,ie=l&&c((function(){return 7!=y(Y({},"a",{get:function(){return Y(this,"a",{value:7}).a}})).a}))?function(e,t,n){var a=K(G,t);a&&delete G[t],Y(e,t,n),a&&e!==G&&Y(G,t,a)}:Y,oe=function(e,t){var n=X[e]=y(V.prototype);return U(n,{type:H,tag:e,description:t}),l||(n.description=t),n},re=s?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof V},le=function(e,t,n){e===G&&le($,t,n),p(e);var a=v(t,!0);return p(n),d(X,a)?(n.enumerable?(d(e,F)&&e[F][a]&&(e[F][a]=!1),n=y(n,{enumerable:_(0,!1)})):(d(e,F)||Y(e,F,_(1,{})),e[F][a]=!0),ie(e,a,n)):Y(e,a,n)},ue=function(e,t){p(e);var n=m(t),a=b(n).concat(fe(n));return B(a,(function(t){l&&!se.call(n,t)||le(e,t,n[t])})),e},se=function(e){var t=v(e,!0),n=J.call(this,t);return!(this===G&&d(X,t)&&!d($,t))&&(!(n||!d(this,t)||!d(X,t)||d(this,F)&&this[F][t])||n)},ce=function(e,t){var n=m(e),a=v(t,!0);if(n!==G||!d(X,a)||d($,a)){var i=K(n,a);return!i||!d(X,a)||d(n,F)&&n[F][a]||(i.enumerable=!0),i}},de=function(e){var t=Z(m(e)),n=[];return B(t,(function(e){d(X,e)||d(R,e)||n.push(e)})),n},fe=function(e){var t=e===G,n=Z(t?$:m(e)),a=[];return B(n,(function(e){!d(X,e)||t&&!d(G,e)||a.push(X[e])})),a};(u||(A((V=function(){if(this instanceof V)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=O(e),n=function(e){this===G&&n.call($,e),d(this,F)&&d(this[F],t)&&(this[F][t]=!1),ie(this,t,_(1,e))};return l&&ae&&ie(G,t,{configurable:!0,set:n}),oe(t,e)}).prototype,"toString",(function(){return z(this).tag})),A(V,"withoutSetter",(function(e){return oe(O(e),e)})),S.f=se,k.f=le,T.f=ce,w.f=E.f=de,C.f=fe,D.f=function(e){return oe(N(e),e)},l&&(Y(V.prototype,"description",{configurable:!0,get:function(){return z(this).description}}),r||A(G,"propertyIsEnumerable",se,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:V}),B(b(te),(function(e){L(e)})),a({target:H,stat:!0,forced:!u},{for:function(e){var t=String(e);if(d(Q,t))return Q[t];var n=V(t);return Q[t]=n,ee[n]=t,n},keyFor:function(e){if(!re(e))throw TypeError(e+" is not a symbol");if(d(ee,e))return ee[e]},useSetter:function(){ae=!0},useSimple:function(){ae=!1}}),a({target:"Object",stat:!0,forced:!u,sham:!l},{create:function(e,t){return void 0===t?y(e):ue(y(e),t)},defineProperty:le,defineProperties:ue,getOwnPropertyDescriptor:ce}),a({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:de,getOwnPropertySymbols:fe}),a({target:"Object",stat:!0,forced:c((function(){C.f(1)}))},{getOwnPropertySymbols:function(e){return C.f(g(e))}}),q)&&a({target:"JSON",stat:!0,forced:!u||c((function(){var e=V();return"[null]"!=q([e])||"{}"!=q({a:e})||"{}"!=q(Object(e))}))},{stringify:function(e,t,n){for(var a,i=[e],o=1;arguments.length>o;)i.push(arguments[o++]);if(a=t,(h(t)||void 0!==e)&&!re(e))return f(t)||(t=function(e,t){if("function"==typeof a&&(t=a.call(this,e,t)),!re(t))return t}),i[1]=t,q.apply(null,i)}});V.prototype[W]||I(V.prototype,W,V.prototype.valueOf),P(V,H),R[F]=!0},45915:function(e,t,n){n(66349)("matchAll")},28394:function(e,t,n){n(66349)("match")},61766:function(e,t,n){n(66349)("replace")},62737:function(e,t,n){n(66349)("search")},89911:function(e,t,n){n(66349)("species")},74315:function(e,t,n){n(66349)("split")},63131:function(e,t,n){n(66349)("toPrimitive")},64714:function(e,t,n){n(66349)("toStringTag")},70659:function(e,t,n){n(66349)("unscopables")},54334:function(e,t,n){"use strict";var a,i=n(21899),o=n(87524),r=n(21647),l=n(24683),u=n(8850),s=n(10941),c=n(45402).enforce,d=n(38019),f=!i.ActiveXObject&&"ActiveXObject"in i,h=Object.isExtensible,p=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},g=e.exports=l("WeakMap",p,u);if(d&&f){a=u.getConstructor(p,"WeakMap",!0),r.REQUIRED=!0;var m=g.prototype,v=m.delete,_=m.has,y=m.get,b=m.set;o(m,{delete:function(e){if(s(e)&&!h(e)){var t=c(this);return t.frozen||(t.frozen=new a),v.call(this,e)||t.frozen.delete(e)}return v.call(this,e)},has:function(e){if(s(e)&&!h(e)){var t=c(this);return t.frozen||(t.frozen=new a),_.call(this,e)||t.frozen.has(e)}return _.call(this,e)},get:function(e){if(s(e)&&!h(e)){var t=c(this);return t.frozen||(t.frozen=new a),_.call(this,e)?y.call(this,e):t.frozen.get(e)}return y.call(this,e)},set:function(e,t){if(s(e)&&!h(e)){var n=c(this);n.frozen||(n.frozen=new a),_.call(this,e)?b.call(this,e,t):n.frozen.set(e,t)}else b.call(this,e,t);return this}})}},28783:function(e,t,n){n(66349)("asyncDispose")},43975:function(e,t,n){n(66349)("dispose")},46774:function(e,t,n){n(66349)("observable")},80620:function(e,t,n){n(66349)("patternMatch")},36172:function(e,t,n){n(66349)("replaceAll")},4629:function(e,t,n){"use strict";var a=n(76887),i=n(82529),o=n(28984);a({target:"WeakMap",proto:!0,real:!0,forced:i},{deleteAll:function(){return o.apply(this,arguments)}})},26207:function(e,t,n){n(76887)({target:"WeakMap",stat:!0},{from:n(83590)})},13215:function(e,t,n){n(76887)({target:"WeakMap",stat:!0},{of:n(45226)})},4055:function(e,t,n){"use strict";n(76887)({target:"WeakMap",proto:!0,real:!0,forced:n(82529)},{upsert:n(20716)})},7634:function(e,t,n){n(66274);var a=n(63281),i=n(21899),o=n(9697),r=n(32029),l=n(12077),u=n(99813)("toStringTag");for(var s in a){var c=i[s],d=c&&c.prototype;d&&o(d)!==u&&r(d,u,s),l[s]=l.Array}},71249:function(e,t,n){var a=n(76887),i=n(21899),o=n(2861),r=[].slice,l=function(e){return function(t,n){var a=arguments.length>2,i=a?r.call(arguments,2):void 0;return e(a?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,n)}};a({global:!0,bind:!0,forced:/MSIE .\./.test(o)},{setTimeout:l(i.setTimeout),setInterval:l(i.setInterval)})},27698:function(e,t,n){var a=n(54493);e.exports=a},83363:function(e,t,n){var a=n(24034);e.exports=a},49216:function(e,t,n){var a=n(99324);e.exports=a},56668:function(e,t,n){var a=n(95909);e.exports=a},74719:function(e,t,n){var a=n(14423);e.exports=a},28196:function(e,t,n){var a=n(16246);e.exports=a},8065:function(e,t,n){var a=n(56043);e.exports=a},11955:function(e,t,n){var a=n(2480);e.exports=a},96064:function(e,t,n){var a=n(7147);e.exports=a},61577:function(e,t,n){var a=n(32236);e.exports=a},46279:function(e,t,n){n(7634);var a=n(49216),i=n(9697),o=Array.prototype,r={DOMTokenList:!0,NodeList:!0};e.exports=function(e){var t=e.forEach;return e===o||e instanceof Array&&t===o.forEach||r.hasOwnProperty(i(e))?a:t}},33778:function(e,t,n){var a=n(58557);e.exports=a},19373:function(e,t,n){var a=n(34570);e.exports=a},73819:function(e,t,n){n(7634);var a=n(56668),i=n(9697),o=Array.prototype,r={DOMTokenList:!0,NodeList:!0};e.exports=function(e){var t=e.keys;return e===o||e instanceof Array&&t===o.keys||r.hasOwnProperty(i(e))?a:t}},11022:function(e,t,n){var a=n(57564);e.exports=a},61798:function(e,t,n){var a=n(88287);e.exports=a},52527:function(e,t,n){var a=n(68025);e.exports=a},82073:function(e,t,n){var a=n(69601);e.exports=a},45286:function(e,t,n){var a=n(28299);e.exports=a},62856:function(e,t,n){var a=n(69355);e.exports=a},2348:function(e,t,n){var a=n(18339);e.exports=a},76361:function(e,t,n){var a=n(62774);e.exports=a},62908:function(e,t,n){n(7634);var a=n(74719),i=n(9697),o=Array.prototype,r={DOMTokenList:!0,NodeList:!0};e.exports=function(e){var t=e.values;return e===o||e instanceof Array&&t===o.values||r.hasOwnProperty(i(e))?a:t}},8933:function(e,t,n){var a=n(84426);e.exports=a},63383:function(e,t,n){var a=n(45999);e.exports=a},14471:function(e,t,n){var a=n(35254);e.exports=a},57396:function(e,t,n){var a=n(7702);e.exports=a},41910:function(e,t,n){var a=n(48171);e.exports=a},79427:function(e,t,n){var a=n(286);e.exports=a},62857:function(e,t,n){var a=n(92766);e.exports=a},9534:function(e,t,n){var a=n(30498);e.exports=a},23059:function(e,t,n){var a=n(48494);e.exports=a},66877:function(e,t,n){var a=n(7579);e.exports=a},74888:function(e,t,n){var a=n(98524);e.exports=a},61895:function(e,t,n){var a=n(14983);e.exports=a},43474:function(e,t,n){n(71249);var a=n(54058);e.exports=a.setInterval},27989:function(e,t,n){n(71249);var a=n(54058);e.exports=a.setTimeout},5519:function(e,t,n){var a=n(76998);e.exports=a},21194:function(e,t,n){var a=n(46614);e.exports=a},92547:function(e,t,n){var a=n(57473);e.exports=a},35774:function(e,t,n){var a=n(62978);e.exports=a},53879:function(e,t,n){var a=n(87236),i=n(6189),o={float:"cssFloat"},r=n(93379);function l(e,t,n){var l=o[t];if(void 0===l&&(l=function(e){var t=i(e),n=a(t);return o[t]=o[e]=o[n]=n,n}(t)),l){if(void 0===n)return e.style[l];e.style[l]=r(l,n)}}function u(e,t){for(var n in t)t.hasOwnProperty(n)&&l(e,n,t[n])}function s(){2===arguments.length?"string"==typeof arguments[1]?arguments[0].style.cssText=arguments[1]:u(arguments[0],arguments[1]):l(arguments[0],arguments[1],arguments[2])}e.exports=s,e.exports.set=s,e.exports.get=function(e,t){return Array.isArray(t)?t.reduce((function(t,n){return t[n]=l(e,n||""),t}),{}):l(e,t||"")}},64063:function(e){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var a,i,o;if(Array.isArray(t)){if((a=t.length)!=n.length)return!1;for(i=a;0!=i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((a=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=a;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=a;0!=i--;){var r=o[i];if(!e(t[r],n[r]))return!1}return!0}return t!=t&&n!=n}},89766:function(e,t,n){var a={EventEmitter:n(47333),EmitterSubscription:n(86584)};e.exports=a},47333:function(e,t,n){"use strict";var a=n(86584),i=n(68231),o=n(60139),r=n(73759),l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._subscriber=new i,this._currentSubscription=null}return e.prototype.addListener=function(e,t,n){return this._subscriber.addSubscription(e,new a(this._subscriber,t,n))},e.prototype.once=function(e,t,n){var a=this;return this.addListener(e,(function(){a.removeCurrentListener(),t.apply(n,arguments)}))},e.prototype.removeAllListeners=function(e){this._subscriber.removeAllSubscriptions(e)},e.prototype.removeCurrentListener=function(){this._currentSubscription||r(!1),this._subscriber.removeSubscription(this._currentSubscription)},e.prototype.listeners=function(e){var t=this._subscriber.getSubscriptionsForType(e);return t?t.filter(o.thatReturnsTrue).map((function(e){return e.listener})):[]},e.prototype.emit=function(e){var t=this._subscriber.getSubscriptionsForType(e);if(t){for(var n=Object.keys(t),a=0;a<n.length;a++){var i=n[a],o=t[i];o&&(this._currentSubscription=o,this.__emitToSubscription.apply(this,[o].concat(Array.prototype.slice.call(arguments))))}this._currentSubscription=null}},e.prototype.__emitToSubscription=function(e,t){var n=Array.prototype.slice.call(arguments,2);e.listener.apply(e.context,n)},e}();e.exports=l},86584:function(e,t,n){"use strict";var a=function(e){function t(n,a,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,n),this.listener=a,this.context=i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(n(27024));e.exports=a},27024:function(e){"use strict";var t=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.subscriber=t}return e.prototype.remove=function(){this.subscriber&&(this.subscriber.removeSubscription(this),this.subscriber=null)},e}();e.exports=t},68231:function(e,t,n){"use strict";var a=n(73759),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._subscriptionsForType={},this._currentSubscription=null}return e.prototype.addSubscription=function(e,t){t.subscriber!==this&&a(!1),this._subscriptionsForType[e]||(this._subscriptionsForType[e]=[]);var n=this._subscriptionsForType[e].length;return this._subscriptionsForType[e].push(t),t.eventType=e,t.key=n,t},e.prototype.removeAllSubscriptions=function(e){void 0===e?this._subscriptionsForType={}:delete this._subscriptionsForType[e]},e.prototype.removeSubscription=function(e){var t=e.eventType,n=e.key,a=this._subscriptionsForType[t];a&&delete a[n]},e.prototype.getSubscriptionsForType=function(e){return this._subscriptionsForType[e]},e}();e.exports=i},60139:function(e){"use strict";function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},73759:function(e){"use strict";e.exports=function(e,t,n,a,i,o,r,l){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[n,a,i,o,r,l],c=0;(u=new Error(t.replace(/%s/g,(function(){return s[c++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},8679:function(e,t,n){"use strict";var a=n(59864),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};function u(e){return a.isMemo(e)?r:l[e.$$typeof]||i}l[a.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l[a.Memo]=r;var s=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,a){if("string"!=typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,a)}var r=c(n);d&&(r=r.concat(d(n)));for(var l=u(t),g=u(n),m=0;m<r.length;++m){var v=r[m];if(!(o[v]||a&&a[v]||g&&g[v]||l&&l[v])){var _=f(n,v);try{s(t,v,_)}catch(e){}}}}return t}},84470:function(e,t,n){"use strict";n.r(t),t.default={main:"main_f1ac",__mobile:"__mobile_1051",text:"text_a448"}},31386:function(e,t,n){"use strict";n.r(t),t.default={avatar:"avatar_1c9e",_chatStyle:"_chatStyle_04f5",avatarItem:"avatarItem_6707",avatarListImg:"avatarListImg_9a76",avatarImg:"avatarImg_c076",lightAvatar:"lightAvatar_c64f",darkAvatar:"darkAvatar_9cab",_width1:"_width1_c9cc",_width2:"_width2_f951",_width3:"_width3_44f0",_connected:"_connected_f7c7",_expanded:"_expanded_8bc7",_mobile:"_mobile_f3bb",_tablet:"_tablet_9199",avatarList:"avatarList_fc73",dotsItem:"dotsItem_e72d",_light:"_light_ec7f",_dark:"_dark_3454",botIcon:"botIcon_e452",__header:"__header_4efa",img:"img_b469"}},54782:function(e,t,n){"use strict";n.r(t),t.default={wrap:"wrap_8819",__minified:"__minified_8964",header:"header_b8a8",body:"body_65e4",__expanded:"__expanded_c9d3",__collapsed:"__collapsed_b7e0",popupContainer:"popupContainer_bc52"}},67752:function(e,t,n){"use strict";n.r(t),t.default={main:"main_360f",__animateToChat:"__animateToChat_cb5a",logoBox:"logoBox_e4e2",calltext:"calltext_9b76",_fade:"_fade_6afd",callText:"callText_c6ef",__dark:"__dark_8909",_connected:"_connected_cf03",_hidden:"_hidden_dba0",logoIcon:"logoIcon_d851",callEndIcon:"callEndIcon_27a3",callEndBox:"callEndBox_5560",time:"time_30b4",__nologo:"__nologo_a132",eulaHeaderText:"eulaHeaderText_37e8",pattern:"pattern_1dab"}},99249:function(e,t,n){"use strict";n.r(t),t.default={main:"main_d76d",text:"text_e97e",callBox:"callBox_91b9",waitBox:"waitBox_aec8",waitText:"waitText_ddb8",timerBox:"timerBox_cde0",count:"count_63c3",connectBox:"connectBox_e34a",connectIcon:"connectIcon_b199",pin:"pin_8a7e"}},97034:function(e,t,n){"use strict";n.r(t),t.default={wrap:"wrap_e180",container:"container_0291",_tablet:"_tablet_4388",_portrait:"_portrait_85be",header:"header_78f9",_cw_call_end:"_cw_call_end_fdd2",_cw_error:"_cw_error_4e33",_cw_wait:"_cw_wait_3afa",_cw_connecting:"_cw_connecting_7d9e",_cw_connected:"_cw_connected_a7ef",_show:"_show_29ec",button:"button_becb",phoneNumber:"phoneNumber_aff2",iconOk:"iconOk_1be6",connectingWrap:"connectingWrap_4627",connectingButton:"connectingButton_cead",connectingIconWrap:"connectingIconWrap_ffde",animationBtn:"animationBtn_c713",connectingLogo:"connectingLogo_45e5",clock:"clock_b3a8",ms:"ms_6dc6",fives:"fives_a611",seconds:"seconds_ad15",line:"line_9783",timer:"timer_f06e",copyContainer:"copyContainer_a7bd"}},55160:function(e,t,n){"use strict";n.r(t),t.default={main:"main_9afc",__animateToChat:"__animateToChat_a205",formBox:"formBox_ae64",inputBox:"inputBox_c921",bottomBox:"bottomBox_602f",link:"link_bfd1",waitBox:"waitBox_3ca4",timerTextTop:"timerTextTop_b952",_ad:"_ad_5e82",timerTextBottom:"timerTextBottom_fde4",logoBox:"logoBox_9fb7",logoIcon:"logoIcon_1fdf",timerBox:"timerBox_873a",_show:"_show_fb84",callLoader:"callLoader_c249",_gt50:"_gt50_98b3",callCircle:"callCircle_2e8f",_fill:"_fill_232c",callActionTimer:"callActionTimer_d3d8",callTime:"callTime_cc94",connectBox:"connectBox_7968",iconConnecting:"iconConnecting_14f1",buttonConnected:"buttonConnected_e643",iconSelect:"iconSelect_4122",headerBox:"headerBox_148a",iconConnectBox:"iconConnectBox_7a1a",connectIcon:"connectIcon_31f6"}},76969:function(e,t,n){"use strict";n.r(t),t.default={pinBox:"pinBox_eb7b",pinBoxBig:"pinBoxBig_6f47",pin2:"pin2_69d1",pin3:"pin3_2c7b",pin1:"pin1_735c",ochange:"ochange_cc79"}},60410:function(e,t,n){"use strict";n.r(t),t.default={header:"header_d1dc",body:"body_a836",bodyInfo:"bodyInfo_91ab",bodyInfoChat:"bodyInfoChat_804d",bodyInfoChatText:"bodyInfoChatText_5d5f",bodyInfoText:"bodyInfoText_882a",periodSelectWrap:"periodSelectWrap_cfbc",inputPhone:"inputPhone_0cba",successHeaderIcon:"successHeaderIcon_4f8e",tryAgainText:"tryAgainText_959f",tryAgainLink:"tryAgainLink_b11c"}},78066:function(e,t,n){"use strict";n.r(t),t.default={body:"body_2707",message:"message_ca32",classNameInputPhone:"classNameInputPhone_fe0b"}},74983:function(e,t,n){"use strict";n.r(t),t.default={titleMessage:"titleMessage_1b7d",statusInfo:"statusInfo_acdd",text:"text_9b58",statusInfoIcon:"statusInfoIcon_0356",successIcon:"successIcon_2c87",failIcon:"failIcon_a795",tryAgainLink:"tryAgainLink_087d"}},75676:function(e,t,n){"use strict";n.r(t),t.default={container:"container_3d2f",inputWrap:"inputWrap_3d3f",countryMobileWrap:"countryMobileWrap_e9c9",iconSelect:"iconSelect_e845",__alone:"__alone_45ba",flagIcon:"flagIcon_bcb0",flagWrap:"flagWrap_72e7",list:"list_4349",flagArrow:"flagArrow_8104",phoneCodeWrap:"phoneCodeWrap_8649",phoneInput:"phoneInput_0930",countryWrap:"countryWrap_9027",countrySelect:"countrySelect_3864",countryTabletSelect:"countryTabletSelect_1b8a",rail:"rail_55d9",_isScroll:"_isScroll_6c0f",listItem:"listItem_859d",countryName:"countryName_a0eb",countryCode:"countryCode_2a45",__singleMod:"__singleMod_f505",__error:"__error_d1ec",__focused:"__focused_36f8",_grey:"_grey_88d2",_blue:"_blue_f626",__mobile:"__mobile_e728",__inFormMod:"__inFormMod_10f6",__smallTextSize:"__smallTextSize_b9e8"}},16552:function(e,t,n){"use strict";n.r(t),t.default={wrap:"wrap_6572",_show:"_show_d1c6",button:"button_ba4e",iconWrap:"iconWrap_708f",animationBtn:"animationBtn_b729",logoCallback:"logoCallback_d029"}},20608:function(e,t,n){"use strict";n.r(t),t.default={main:"main_640a",__static:"__static_ef30",header:"header_d1d4",body:"body_9f38",noShadow:"noShadow_73de",mobile:"mobile_e02d",input:"input_89d6",popup:"popup_c50b",show:"show_1f4a",popupFull:"popupFull_c69d",hide:"hide_3c06",headerBox:"headerBox_1fe6",fadeIn:"fadeIn_ff32",fadeOut:"fadeOut_e6a4",loading:"loading_6be7"}},54291:function(e,t,n){"use strict";n.r(t),t.default={wrap:"wrap_b2ca",__call:"__call_4e2e",__show:"__show_acbf",closeButton:"closeButton_e165",closeIcon:"closeIcon_58aa"}},2090:function(e,t,n){"use strict";n.r(t),t.default={button:"button_45b6",_disabled:"_disabled_53d6",_medium:"_medium_2000",text:"text_7c9a",_blue:"_blue_df30",_grey:"_grey_5148",__ios:"__ios_bb7c",inputButton:"inputButton_bdfb",__mobileChat:"__mobileChat_d743",buttonIcon:"buttonIcon_2f32",_green:"_green_74ba",_error:"_error_fac5"}},97865:function(e,t,n){"use strict";n.r(t),t.default={closeButton:"closeButton_aaff",closeIcon:"closeIcon_12df",action:"action_f996",drag:"drag_f68b",__call:"__call_3b66",popupClose:"popupClose_7269"}},22259:function(e,t,n){"use strict";n.r(t),t.default={fieldWrap:"fieldWrap_b610",hint:"hint_6711",inputField:"inputField_9e00",__bluredEmpty:"__bluredEmpty_fcbf",_grey:"_grey_5daa",_blue:"_blue_d768",_error:"_error_30f3",__textarea:"__textarea_59d2",_disabled:"_disabled_ace0",__inputChat:"__inputChat_5740",__ios:"__ios_a8f2",__emailChat:"__emailChat_6009",__mobile:"__mobile_e310",__captcha:"__captcha_273e",__valid:"__valid_7f14",currentItem:"currentItem_a2fd",_open:"_open_f5f3",selectPopup:"selectPopup_6e28",itemSelected:"itemSelected_c624",item:"item_2603",__scroll:"__scroll_c1bc",iconSelect:"iconSelect_1dee",rail:"rail_302d",iconValid:"iconValid_07eb"}},31636:function(e,t,n){"use strict";n.r(t),t.default={scrollForm:"scrollForm_ede5",__ad:"__ad_c942",__hide:"__hide_bb57",__mobile:"__mobile_4a0b",textToForm:"textToForm_c7d4"}},71155:function(e,t,n){"use strict";n.r(t),t.default={copyright:"copyright_97ba",_bottom:"_bottom_bcfc",__ru:"__ru_8849",_right:"_right_d650",_left:"_left_3d9a",hide:"hide_51e6",logoIcon:"logoIcon_b614",link:"link_6139",__mobile:"__mobile_e20f",text:"text_fb63",corner:"corner_f733",chatCopyright:"chatCopyright_d76b",__tablet:"__tablet_a3fc",__call:"__call_d01a",__chat:"__chat_afd0",__offline:"__offline_31f2",__top:"__top_eede",__hidden:"__hidden_d0c1",customWrap:"customWrap_c6b4"}},11897:function(e,t,n){"use strict";n.r(t),t.default={main:"main_5091",__logo:"__logo_c4b6",__mobile:"__mobile_5799",department:"department_e8ea",circle:"circle_d584",_green:"_green_6d54",_grey:"_grey_7331",_blue:"_blue_2ba3",text:"text_bc64"}},50712:function(e,t,n){"use strict";n.r(t),t.default={wrap:"wrap_b75c",__short:"__short_4150",__active:"__active_adeb"}},16083:function(e,t,n){"use strict";n.r(t),t.default={emojiIcon:"emojiIcon_e4af",emojiMessages:"emojiMessages_31bf",__alone:"__alone_c41b",iconSuccess:"iconSuccess_6955",emojiIconWrap:"emojiIconWrap_5195",icon:"icon_ef15",botAvatar:"botAvatar_47d9"}},43013:function(e,t,n){"use strict";n.r(t),t.default={eulaPopup:"eulaPopup_b310",_mobile:"_mobile_639c",__static:"__static_cfd8",__call:"__call_2b23",_tablet:"_tablet_9b3d",text:"text_1e4b",title:"title_722f",formText:"formText_ff22",popupContent:"popupContent_68f6",popupCheckbox:"popupCheckbox_b1e5","show-popup":"show-popup_e385",__offlineForm:"__offlineForm_ec08",checkbox:"checkbox_1331",_checked:"_checked_8362",_grey:"_grey_3c53",_blue:"_blue_eaf9",cancel:"cancel_7cf0",scrollText:"scrollText_d05a",__hidden:"__hidden_63e3",textBlock:"textBlock_5498",rail:"rail_83f9"}},27816:function(e,t,n){"use strict";n.r(t),t.default={main:"main_3858",__fadeIn:"__fadeIn_58b2",buttonsBox:"buttonsBox_2ddb",button:"button_1502",iconUp:"iconUp_3500",iconDown:"iconDown_dcb3",text:"text_49be",positiveBox:"positiveBox_7062",cancelBox:"cancelBox_f265",cancel:"cancel_96b5",close:"close_5bb6",closeIcon:"closeIcon_d982"}},70692:function(e,t,n){"use strict";n.r(t),t.default={wrap:"wrap_27e6",__disabled:"__disabled_2acb",iconFile:"iconFile_fad1",iconAttach2:"iconAttach2_4fb2",uploadFwrap:"uploadFwrap_a59a",uploadButton:"uploadButton_cc35",__uploading:"__uploading_a437"}},22755:function(e,t,n){"use strict";n.r(t),t.default={main:"main_b44e"}},8126:function(e,t,n){"use strict";n.r(t),t.default={headerBox:"headerBox_4564",__mobile:"__mobile_a3b0",hideCorners:"hideCorners_25f6",header:"header_550a",_fadeOut:"_fadeOut_01f1",info:"info_f2ea",_expanded:"_expanded_f1dd",_light:"_light_b525",title:"title_0026",agentName:"agentName_b4ae",_dark:"_dark_384e",_offline:"_offline_cddc",callMe:"callMe_1616",_mobile:"_mobile_9b96",__ios:"__ios_85c2",headerContainer:"headerContainer_b7e4",_tablet:"_tablet_61b2",closeBox:"closeBox_a583",_callEnabled:"_callEnabled_9603",callIcon:"callIcon_d69e",showContent:"showContent_20c2","_fade-in":"_fade-in_3405","_fade-out":"_fade-out_6da5",__agents:"__agents_25ae",__call:"__call_0c6e",mobileBack:"mobileBack_2bdb",pattern:"pattern_1df4",visibilityHack:"visibilityHack_4eba",menuWrap:"menuWrap_1831",menuButtonWrap:"menuButtonWrap_868d",menuIcon:"menuIcon_4c99",corner:"corner_d480"}},90179:function(e,t,n){"use strict";n.r(t),t.default={header:"header_e10d",backButton:"backButton_7175",title:"title_d75d",logo:"logo_2c28",iconStartChat:"iconStartChat_fa02",__dark:"__dark_5f60",pattern:"pattern_7422"}},53401:function(e,t,n){"use strict";n.r(t),t.default={input:"input_c11d",__mobile:"__mobile_fbd6",tdTextarea:"tdTextarea_ccfa",inputField:"inputField_1cfd",sendButton:"sendButton_d289",__filedisabled:"__filedisabled_63e4",windowsPhone:"windowsPhone_4911","input-field":"input-field_ae67",socialPanel:"socialPanel_680b",iconEmoji:"iconEmoji_21ad"}},78162:function(e,t,n){"use strict";n.r(t),t.default={iconEmoji:"iconEmoji_162e",__disabled:"__disabled_6a53",emojiWrap:"emojiWrap_0e92"}},76645:function(e,t,n){"use strict";n.r(t),t.default={iconPanel:"iconPanel_f007",__mobile:"__mobile_a9c8"}},53597:function(e,t,n){"use strict";n.r(t),t.default={popup:"popup_1e67",hidePopup:"hidePopup_6dde",show:"show_17ef",showPopup:"showPopup_c246",childrenWrap:"childrenWrap_901e",pip:"pip_d7a0"}},48305:function(e,t,n){"use strict";n.r(t),t.default={iconMenu:"iconMenu_e15b",__disabled:"__disabled_c730",menuWrap:"menuWrap_da88",menu:"menu_f947",hidePopup:"hidePopup_63ae",menuItem:"menuItem_4821",pip:"pip_6646",show:"show_841e",showPopup:"showPopup_0873"}},30890:function(e,t,n){"use strict";n.r(t),t.default={main:"main_d8ae",avatarBox:"avatarBox_0222",iconAnonymous:"iconAnonymous_389e",caption:"caption_4fa3",introducePopup:"introducePopup_530c",introduceText:"introduceText_cd75",popupContent:"popupContent_561a",__mobile:"__mobile_6b5a",captchaWrap:"captchaWrap_c1e8",captchaImg:"captchaImg_a38d",reloadCaptcha:"reloadCaptcha_3093",refreshIcon:"refreshIcon_4a5a"}},71731:function(e,t,n){"use strict";n.r(t),t.default={label:"label_c78c",leafCont:"leafCont_41cd",_bottom:"_bottom_ad71",_designer:"_designer_990c",_right:"_right_6745",_left:"_left_1515",lbContainer:"lbContainer_8d02",copyContainer:"copyContainer_5d42",text:"text_f0fd",_noAd:"_noAd_7ef4",_offline:"_offline_d938",hoverl:"hoverl_db39",_custom:"_custom_c574",copy:"copy_22ca",leafBottom:"leafBottom_b8a1",labelStatus:"labelStatus_ea59",pattern:"pattern_5477",contentTransitionWrap:"contentTransitionWrap_4a2a",fadeIn:"fadeIn_ed95"}},48882:function(e,t,n){"use strict";n.r(t),t.default={leaf:"leaf_2fdc",_bottom:"_bottom_ab91",_right:"_right_68cc",_left:"_left_b8d2",cssLeaf:"cssLeaf_81f0",_offline:"_offline_0511"}},73525:function(e,t,n){"use strict";n.r(t),t.default={labelButton:"labelButton_e3a0",text:"text_af2f",title:"title_0c35",vk:"vk_435b",fb:"fb_c9cc",info:"info_e489",callback:"callback_5156",chat:"chat_0827",wa:"wa_0876"}},52156:function(e,t,n){"use strict";n.r(t),t.default={labelButtons:"labelButtons_22e6",_bottom:"_bottom_5c41",_right:"_right_061a",_left:"_left_3933",callme:"callme_b6e8",chat:"chat_c026",bottomCorner:"bottomCorner_56fb",rightCorner:"rightCorner_85fa",leftCorner:"leftCorner_d4df",buttonsCorner:"buttonsCorner_5cea"}},34197:function(e,t,n){"use strict";n.r(t),t.default={popupWrap:"popupWrap_d453",__show:"__show_4723",popupBlock:"popupBlock_a3aa",__short:"__short_9368",__longText:"__longText_3bd2",text:"text_8880",textBox:"textBox_dc4a",avatar:"avatar_e037",avatarImg:"avatarImg_2628",agentName:"agentName_ee87",closeBlock:"closeBlock_565f",closePopupIcon:"closePopupIcon_dd20"}},5711:function(e,t,n){"use strict";n.r(t),t.default={wrap:"wrap_acc4",_extraPadding:"_extraPadding_70cc",_aboveAll:"_aboveAll_3b8b",image:"image_f767"}},68691:function(e,t,n){"use strict";n.r(t),t.default={leaf:"leaf_7c9f",_bottom:"_bottom_9a39",_right:"_right_a4f5",_left:"_left_92b1",cssLeaf:"cssLeaf_8a4e",_offline:"_offline_697b"}},60284:function(e,t,n){"use strict";n.r(t),t.default={logo:"logo_9786",fallback:"fallback_f7c8","_no-copyright":"_no-copyright_9c0e",_bottom:"_bottom_a127",hoverBox:"hoverBox_dff6",_right:"_right_85ad",_left:"_left_1eb2",logoIcon:"logoIcon_17c4",__ru:"__ru_a65e"}},71168:function(e,t,n){"use strict";n.r(t),t.default={imageLink:"imageLink_ec29",image:"image_a2eb",mediaType:"mediaType_d7d3"}},8717:function(e,t,n){"use strict";n.r(t),t.default={main:"main_f769",_mobile:"_mobile_74af",_transparent:"_transparent_d559",content:"content_99dc",_noagent:"_noagent_149e",avatarBox:"avatarBox_0cde",__isAnimated:"__isAnimated_8d4e",time:"time_2542",_agentName:"_agentName_15d0",agentName:"agentName_3d8f",botBadge:"botBadge_df24"}},74336:function(e,t,n){"use strict";n.r(t),t.default={main:"main_ccd9",_mobile:"_mobile_952e",content:"content_0434",__green:"__green_8cfb",message:"message_67ad",__grey:"__grey_87cb",__blue:"__blue_15fc",time:"time_7d7e"}},96153:function(e,t,n){"use strict";n.r(t),t.default={main:"main_6e09",container:"container_57fe",__ad:"__ad_eb02",__mobile:"__mobile_8e65",wrap:"wrap_b247",__tablet:"__tablet_499c",scroll:"scroll_43f3",rail:"rail_5144",avatarShadow:"avatarShadow_eec6",__show:"__show_1f5a"}},45026:function(e,t,n){"use strict";n.r(t),t.default={main:"main_9b8c",__mobile:"__mobile_23e0",text:"text_0fb6",error:"error_76c4",showBtn:"showBtn_770d",__disabled:"__disabled_c401",__green:"__green_0c28",__blue:"__blue_40c9",__grey:"__grey_0fbb"}},42085:function(e,t,n){"use strict";n.r(t),t.default={wrap:"wrap_4e42",fieldWrap:"fieldWrap_6a28",emailBlock:"emailBlock_fbfa",emailButton:"emailButton_02c3",emailText:"emailText_15a6",emailOk:"emailOk_3b7f",emailError:"emailError_669f",_error:"_error_13b2",form:"form_3d1f",emailFinished:"emailFinished_2727",box:"box_5977",__mobile:"__mobile_b7e7",__ios:"__ios_b2d6",__finished:"__finished_162b",email:"email_0591",errorText:"errorText_6ca2"}},68853:function(e,t,n){"use strict";n.r(t),t.default={box:"box_89b1",__tablet:"__tablet_9fb7",__noanim:"__noanim_fa9d",successMessage:"successMessage_8a7e",introduceText:"introduceText_c1d5",socialText:"socialText_b9eb",content:"content_865b",mainWrap:"mainWrap_7f5e",main:"main_7a9d",overlay:"overlay_7562",__show:"__show_5b17",__focus:"__focus_78ec",__submited:"__submited_195f",__green:"__green_4699",__blue:"__blue_92c8",__grey:"__grey_db86",link:"link_fb3a",boxFb:"boxFb_3bbf",step:"step_6976",inputWrap:"inputWrap_df75",iconFb:"iconFb_90fa",iconVk:"iconVk_38e9",animateBlock:"animateBlock_1564",buttonWrapper:"buttonWrapper_7a86",__fadeOut:"__fadeOut_f5f6",submitSuccess:"submitSuccess_26af",fadeOut:"fadeOut_5f77"}},71297:function(e,t,n){"use strict";n.r(t),t.default={main:"main_cc1f",message:"message_4b9b",successIcon:"successIcon_9703",rubleIcon:"rubleIcon_e4ee",text:"text_a80a",info:"info_df0e",emailLabel:"emailLabel_cbe7",emailInput:"emailInput_ed1f",_error:"_error_570c",productName:"productName_9474",amountWrap:"amountWrap_88be",amount:"amount_9cb9",actionBtn:"actionBtn_e35a",__error:"__error_a12b",_tinkoff:"_tinkoff_8e58",actionText:"actionText_7cc7",byYandex:"byYandex_ccdf",successText:"successText_61eb",__success:"__success_cb79",__emailError:"__emailError_f752"}},96116:function(e,t,n){"use strict";n.r(t),t.default={wrap:"wrap_c6f2",text:"text_e0dd",buttonsWrap:"buttonsWrap_fce1",button:"button_016f",_disabled:"_disabled_2fb5"}},448:function(e,t,n){"use strict";n.r(t),t.default={main:"main_a280",_preview:"_preview_ae07",_client:"_client_b8a0",_green:"_green_8ec5",_grey:"_grey_2722",_blue:"_blue_f085",mediaIcon:"mediaIcon_aaba",uploading:"uploading_9f9f",iconMedia:"iconMedia_79d8",mediaComplete:"mediaComplete_7b3b",_agent:"_agent_249e",_mobile:"_mobile_3ab5",mediaText:"mediaText_be86",mediaFname:"mediaFname_e385",mediaPerc:"mediaPerc_c24b",iconError:"iconError_c17a",iconUpload:"iconUpload_9ad6",iconLoading:"iconLoading_193d",loaderCont:"loaderCont_8914",loaderBar:"loaderBar_ce9f",previewLink:"previewLink_3162",previewMediaPhoto:"previewMediaPhoto_da22",mediaWrapper:"mediaWrapper_01e9",overlayText:"overlayText_c6d7"}},95705:function(e,t,n){"use strict";n.r(t),t.default={main:"main_b7ea",message:"message_2596",showmessage:"showmessage_43b9",__mobile:"__mobile_e4cb",__alone:"__alone_a57b",text:"text_eb30",__client:"__client_9d4a",withEditText:"withEditText_2698",_green:"_green_ce4f",_grey:"_grey_1d7d",_blue:"_blue_58ef",__agent:"__agent_a978",__deleted:"__deleted_cf95",editedText:"editedText_47fe",sendErrorMessage:"sendErrorMessage_2d24"}},70602:function(e,t,n){"use strict";n.r(t),t.default={main:"main_9987",__hide:"__hide_bec5",button:"button_9c87",__bot:"__bot_c5d6"}},96586:function(e,t,n){"use strict";n.r(t),t.default={main:"main_14b7"}},61604:function(e,t,n){"use strict";n.r(t),t.default={main:"main_9dce",avatar:"avatar_ed42",img:"img_a84e",text:"text_dc50",_mobile:"_mobile_a2aa"}},68930:function(e,t,n){"use strict";n.r(t),t.default={main:"main_6eea",text:"text_798c",__mobile:"__mobile_1690",__callMessageStart:"__callMessageStart_6132",__callEnd:"__callEnd_961e",callIcon:"callIcon_3498"}},51407:function(e,t,n){"use strict";n.r(t),t.default={main:"main_43b3",__mobile:"__mobile_c160",text:"text_fa3b",__bot:"__bot_a05b",__social:"__social_d84b"}},48938:function(e,t,n){"use strict";n.r(t),t.default={mobileContainer:"mobileContainer_4df5",__tablet:"__tablet_5bfb"}},68927:function(e,t,n){"use strict";n.r(t),t.default={popup:"popup_3589",__show:"__show_6654",__left:"__left_af55",imOverlay:"imOverlay_877f",popupBlock:"popupBlock_cc01",__short:"__short_bf5e",__longText:"__longText_309f",moreIcon:"moreIcon_9ac0",text:"text_9c8d",textBox:"textBox_752d",avatar:"avatar_5874",avatarImg:"avatarImg_2645",agentName:"agentName_e55f",closeBlock:"closeBlock_3e56",closePopupIcon:"closePopupIcon_f99c"}},98513:function(e,t,n){"use strict";n.r(t),t.default={moreBox:"moreBox_d915",__show:"__show_dc49",__mobile:"__mobile_bd96",moreBtn:"moreBtn_8a96",moreBadge:"moreBadge_53c0"}},29947:function(e,t,n){"use strict";n.r(t),t.default={wrap:"wrap_5901",android:"android_76a3",menuWrap:"menuWrap_68b8",menu:"menu_9f96",menuTitle:"menuTitle_dd57",closeBtn:"closeBtn_104e",closeIcon:"closeIcon_3888",closeText:"closeText_5207",ios:"ios_018a",tablet:"tablet_d380"}},42173:function(e,t,n){"use strict";n.r(t),t.default={wrap:"wrap_e11f",android:"android_b178",icon:"icon_1cc5",title:"title_a827",ios:"ios_fd31",forceIcon:"forceIcon_841e",tablet:"tablet_e892",link:"link_e727"}},57415:function(e,t,n){"use strict";n.r(t),t.default={wrap:"wrap_5abe",android:"android_d4c8",icon:"icon_371a",text:"text_864d",ios:"ios_e200"}},26778:function(e,t,n){"use strict";n.r(t),t.default={wrap:"wrap_14cd",copyright:"copyright_c116",logoIcon:"logoIcon_de84",__ru:"__ru_15d5"}},42607:function(e,t,n){"use strict";n.r(t),t.default={wrap:"wrap_bbfd",_hidden:"_hidden_b274",overlay:"overlay_db39",button:"button_e68e",__inzoom:"__inzoom_efca",closeIconWrap:"closeIconWrap_0454",messagesLabel:"messagesLabel_442f",badge:"badge_feab",closeIcon:"closeIcon_9bd4",_show:"_show_35c5",_orientationRight:"_orientationRight_1d18",_orientationLeft:"_orientationLeft_409b",menuWrap:"menuWrap_3f09",buttonsCorner:"buttonsCorner_9ad6"}},40947:function(e,t,n){"use strict";n.r(t),t.default={icons:"icons_2c07",iconWrap:"iconWrap_4ed1",_showLogo:"_showLogo_4273",wrapAnimation:"wrapAnimation_d736",_isCallEnabled:"_isCallEnabled_3d08",firstWrapCallAnimation:"firstWrapCallAnimation_a87a",iconWrapClose:"iconWrapClose_7e93",iconWrap2:"iconWrap2_dd57",wrapCallNoLogoAnimation:"wrapCallNoLogoAnimation_f83d",secondWrapCallAnimation:"secondWrapCallAnimation_2bc8",iconWrap3:"iconWrap3_ecf6",thirdWrapCallAnimation:"thirdWrapCallAnimation_3ca8",jivoIcon:"jivoIcon_5f58",closeIcon:"closeIcon_ba56",logoIconCloud:"logoIconCloud_0d52",envelopeIcon:"envelopeIcon_63d1",callbackIcon:"callbackIcon_ee84",iconCallAnimation:"iconCallAnimation_9504"}},94350:function(e,t,n){"use strict";n.r(t),t.default={socialPanel:"socialPanel_b9a5",wrap:"wrap_e4ad",socialLink:"socialLink_861b",infoText:"infoText_1da4",iconVk:"iconVk_e2cc",iconFb:"iconFb_a4c8",box:"box_5723",iframe:"iframe_45a2",__vk:"__vk_ea5a"}},4897:function(e,t,n){"use strict";n.r(t),t.default={wrap:"wrap_85ca",text:"text_6407",iconHeader:"iconHeader_587e",__vk:"__vk_7d0e",__fb:"__fb_6c74",linkBox:"linkBox_08c4",link:"link_9512"}},24794:function(e,t,n){"use strict";n.r(t),t.default={player:"player_e96b"}},15852:function(e,t,n){"use strict";n.r(t),t.default={vkIcon:"vkIcon_cc01",fbIcon:"fbIcon_4294",telegramIcon:"telegramIcon_e00e",viberIcon:"viberIcon_6f17","message-textIcon":"message-textIcon_c6d0","phone-outgoingIcon":"phone-outgoingIcon_d5f2",phoneIcon:"phoneIcon_43cf",stand:"stand_be86",standBig:"standBig_9e11"}},43107:function(e,t,n){"use strict";n.r(t),t.default={button:"button_1eb3",disabled:"disabled_1f19",widthFixed:"widthFixed_c068",widthFluid:"widthFluid_4364",heightSmall:"heightSmall_c5f3",heightMiddle:"heightMiddle_5783",__green:"__green_4025",__blue:"__blue_0ac3",__grey:"__grey_8462",nativeButton:"nativeButton_dcbe"}},77843:function(e,t,n){"use strict";n.r(t),t.default={selectWrap:"selectWrap_1dc5",disabled:"disabled_0a0d",styledSelectWrap:"styledSelectWrap_e0bf",nativeSelectWrap:"nativeSelectWrap_a474",invalid:"invalid_cbc1",__green:"__green_5e3e",label:"label_7f59",__blue:"__blue_e5fb",__grey:"__grey_52f7",heightSmall:"heightSmall_7626",heightMiddle:"heightMiddle_8380",themeFlat:"themeFlat_40c4",themeInset:"themeInset_cb73",labelArrow:"labelArrow_28fb",iconSelect:"iconSelect_3644",selectIsOpen:"selectIsOpen_489a",nativeSelect:"nativeSelect_b3ee",items:"items_2dcf",scroll:"scroll_7ff0",item:"item_2053",rail:"rail_f9af"}},83821:function(e,t,n){"use strict";n.r(t),t.default={WidgetContainer_OPEN_WIDGET:"WidgetContainer_OPEN_WIDGET_25f5",WidgetContainer_CLOSE_WIDGET:"WidgetContainer_CLOSE_WIDGET_15dc",Label_MINIMIZE_WIDGET:"Label_MINIMIZE_WIDGET_f22b",Label_MAXIMIZE_WIDGET:"Label_MAXIMIZE_WIDGET_631a",Label_OPEN_WIDGET:"Label_OPEN_WIDGET_c271",Label_CLOSE_WIDGET:"Label_CLOSE_WIDGET_7fc1",WidgetContainer_MAXIMIZE_WIDGET:"WidgetContainer_MAXIMIZE_WIDGET_284f",WidgetContainer_MINIMIZE_WIDGET:"WidgetContainer_MINIMIZE_WIDGET_6645"}},71461:function(e,t,n){"use strict";n.r(t),t.default={WidgetContainer_OPEN_WIDGET:"WidgetContainer_OPEN_WIDGET_75ac",WidgetContainer_CLOSE_WIDGET:"WidgetContainer_CLOSE_WIDGET_87ba",Label_MINIMIZE_WIDGET:"Label_MINIMIZE_WIDGET_fa66",Label_MAXIMIZE_WIDGET:"Label_MAXIMIZE_WIDGET_1ae5",Label_OPEN_WIDGET:"Label_OPEN_WIDGET_f235",Label_CLOSE_WIDGET:"Label_CLOSE_WIDGET_6dff",WidgetContainer_MAXIMIZE_WIDGET:"WidgetContainer_MAXIMIZE_WIDGET_b453",WidgetContainer_MINIMIZE_WIDGET:"WidgetContainer_MINIMIZE_WIDGET_3738"}},6274:function(e,t,n){"use strict";n.r(t),t.default={WidgetContainer_OPEN_WIDGET:"WidgetContainer_OPEN_WIDGET_262c",WidgetContainer_CLOSE_WIDGET:"WidgetContainer_CLOSE_WIDGET_bb67",WidgetContainer_MAXIMIZE_WIDGET:"WidgetContainer_MAXIMIZE_WIDGET_6dba",WidgetContainer_MINIMIZE_WIDGET:"WidgetContainer_MINIMIZE_WIDGET_103d"}},92964:function(e,t,n){"use strict";n.r(t),t.default={WidgetContainer_OPEN_WIDGET:"WidgetContainer_OPEN_WIDGET_51de",WidgetContainer_CLOSE_WIDGET:"WidgetContainer_CLOSE_WIDGET_534e",WidgetContainer_MAXIMIZE_WIDGET:"WidgetContainer_MAXIMIZE_WIDGET_69b3",WidgetContainer_MINIMIZE_WIDGET:"WidgetContainer_MINIMIZE_WIDGET_cdfa",Label_OPEN_WIDGET:"Label_OPEN_WIDGET_86b2",Label_CLOSE_WIDGET:"Label_CLOSE_WIDGET_e227"}},8511:function(e,t,n){"use strict";n.r(t),t.default={Label_OPEN_WIDGET:"Label_OPEN_WIDGET_5e5a",Label_CLOSE_WIDGET:"Label_CLOSE_WIDGET_7274",Label_MINIMIZE_WIDGET:"Label_MINIMIZE_WIDGET_ac10",Label_MAXIMIZE_WIDGET:"Label_MAXIMIZE_WIDGET_dabf",WidgetContainer_OPEN_WIDGET:"WidgetContainer_OPEN_WIDGET_ef2e",WidgetContainer_CLOSE_WIDGET:"WidgetContainer_CLOSE_WIDGET_78b2",WidgetContainer_MAXIMIZE_WIDGET:"WidgetContainer_MAXIMIZE_WIDGET_3182",WidgetContainer_MINIMIZE_WIDGET:"WidgetContainer_MINIMIZE_WIDGET_645b"}},60855:function(e,t,n){"use strict";n.r(t),t.default={Label_OPEN_WIDGET:"Label_OPEN_WIDGET_3a96",Label_CLOSE_WIDGET:"Label_CLOSE_WIDGET_b5fa",Label_MINIMIZE_WIDGET:"Label_MINIMIZE_WIDGET_5a6e",Label_MAXIMIZE_WIDGET:"Label_MAXIMIZE_WIDGET_20f7",WidgetContainer_OPEN_WIDGET:"WidgetContainer_OPEN_WIDGET_9f94",WidgetContainer_CLOSE_WIDGET:"WidgetContainer_CLOSE_WIDGET_4cc8",WidgetContainer_MAXIMIZE_WIDGET:"WidgetContainer_MAXIMIZE_WIDGET_a51d",WidgetContainer_MINIMIZE_WIDGET:"WidgetContainer_MINIMIZE_WIDGET_c3ad"}},44334:function(e,t,n){"use strict";n.r(t),t.default={contentWrapper:"contentWrapper_2547"}},89953:function(e,t,n){"use strict";n.r(t),t.default={wrap:"wrap_b32a",substrate:"substrate_4ed4",iconContainer:"iconContainer_9854",iconWrap:"iconWrap_3439",iconWrapContainer:"iconWrapContainer_bba2",handIcon:"handIcon_e2d9",arrow1:"arrow1_601f",arrow2:"arrow2_344a",_tablet:"_tablet_1577",viewWrap:"viewWrap_1578",zoom:"zoom_ada2",box:"box_0482"}},59592:function(e,t,n){"use strict";n.r(t),t.default={globalClass:"globalClass_a81e",pseudoHeight:"pseudoHeight_f6e5",jivoMouseTrack:"jivoMouseTrack_7641"}},75:function(e){(function(){var t,n,a,i,o,r;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(e.exports=function(){return(t()-o)/1e6},n=process.hrtime,i=(t=function(){var e;return 1e9*(e=n())[0]+e[1]})(),r=1e9*process.uptime(),o=i-r):Date.now?(e.exports=function(){return Date.now()-a},a=Date.now()):(e.exports=function(){return(new Date).getTime()-a},a=(new Date).getTime())}).call(this)},59748:function(e,t,n){"use strict";n.r(t),n.d(t,{Children:function(){return F},Component:function(){return r.Component},Fragment:function(){return r.Fragment},PureComponent:function(){return N},StrictMode:function(){return _e},Suspense:function(){return z},SuspenseList:function(){return q},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:function(){return ce},cloneElement:function(){return pe},createContext:function(){return r.createContext},createElement:function(){return r.createElement},createFactory:function(){return fe},createPortal:function(){return J},createRef:function(){return r.createRef},default:function(){return ye},findDOMNode:function(){return me},forwardRef:function(){return j},hydrate:function(){return te},isValidElement:function(){return he},lazy:function(){return V},memo:function(){return D},render:function(){return ee},unmountComponentAtNode:function(){return ge},unstable_batchedUpdates:function(){return ve},useCallback:function(){return w},useContext:function(){return E},useDebugValue:function(){return C},useEffect:function(){return m},useErrorBoundary:function(){return T},useImperativeHandle:function(){return y},useLayoutEffect:function(){return v},useMemo:function(){return b},useReducer:function(){return g},useRef:function(){return _},useState:function(){return p},version:function(){return de}});var a,i,o,r=n(6400),l=0,u=[],s=r.options.__r,c=r.options.diffed,d=r.options.__c,f=r.options.unmount;function h(e,t){r.options.__h&&r.options.__h(i,e,l||t),l=0;var n=i.__H||(i.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function p(e){return l=1,g(M,e)}function g(e,t,n){var o=h(a++,2);return o.t=e,o.__c||(o.__=[n?n(t):M(void 0,t),function(e){var t=o.t(o.__[0],e);o.__[0]!==t&&(o.__=[t,o.__[1]],o.__c.setState({}))}],o.__c=i),o.__}function m(e,t){var n=h(a++,3);!r.options.__s&&x(n.__H,t)&&(n.__=e,n.__H=t,i.__H.__h.push(n))}function v(e,t){var n=h(a++,4);!r.options.__s&&x(n.__H,t)&&(n.__=e,n.__H=t,i.__h.push(n))}function _(e){return l=5,b((function(){return{current:e}}),[])}function y(e,t,n){l=6,v((function(){"function"==typeof e?e(t()):e&&(e.current=t())}),null==n?n:n.concat(e))}function b(e,t){var n=h(a++,7);return x(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function w(e,t){return l=8,b((function(){return e}),t)}function E(e){var t=i.context[e.__c],n=h(a++,9);return n.__c=e,t?(null==n.__&&(n.__=!0,t.sub(i)),t.props.value):e.__}function C(e,t){r.options.useDebugValue&&r.options.useDebugValue(t?t(e):e)}function T(e){var t=h(a++,10),n=p();return t.__=e,i.componentDidCatch||(i.componentDidCatch=function(e){t.__&&t.__(e),n[1](e)}),[n[0],function(){n[1](void 0)}]}function k(){u.forEach((function(e){if(e.__P)try{e.__H.__h.forEach(I),e.__H.__h.forEach(A),e.__H.__h=[]}catch(t){e.__H.__h=[],r.options.__e(t,e.__v)}})),u=[]}r.options.__r=function(e){s&&s(e),a=0;var t=(i=e.__c).__H;t&&(t.__h.forEach(I),t.__h.forEach(A),t.__h=[])},r.options.diffed=function(e){c&&c(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==u.push(t)&&o===r.options.requestAnimationFrame||((o=r.options.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(a),S&&cancelAnimationFrame(t),setTimeout(e)},a=setTimeout(n,100);S&&(t=requestAnimationFrame(n))})(k))},r.options.__c=function(e,t){t.some((function(e){try{e.__h.forEach(I),e.__h=e.__h.filter((function(e){return!e.__||A(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],r.options.__e(n,e.__v)}})),d&&d(e,t)},r.options.unmount=function(e){f&&f(e);var t=e.__c;if(t&&t.__H)try{t.__H.__.forEach(I)}catch(e){r.options.__e(e,t.__v)}};var S="function"==typeof requestAnimationFrame;function I(e){"function"==typeof e.__c&&e.__c()}function A(e){e.__c=e.__()}function x(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function M(e,t){return"function"==typeof t?t(e):t}function R(e,t){for(var n in t)e[n]=t[n];return e}function O(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var a in t)if("__source"!==a&&e[a]!==t[a])return!0;return!1}function N(e){this.props=e}function D(e,t){function n(e){var n=this.props.ref,a=n==e.ref;return!a&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!a:O(this.props,e)}function a(t){return this.shouldComponentUpdate=n,(0,r.createElement)(e,t)}return a.displayName="Memo("+(e.displayName||e.name)+")",a.prototype.isReactComponent=!0,a.__f=!0,a}(N.prototype=new r.Component).isPureReactComponent=!0,N.prototype.shouldComponentUpdate=function(e,t){return O(this.props,e)||O(this.state,t)};var L=r.options.__b;r.options.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),L&&L(e)};var P="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function j(e){function t(t,n){var a=R({},t);return delete a.ref,e(a,(n=t.ref||n)&&("object"!=typeof n||"current"in n)?n:null)}return t.$$typeof=P,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var B=function(e,t){return null==e?null:(0,r.toChildArray)((0,r.toChildArray)(e).map(t))},F={map:B,forEach:B,count:function(e){return e?(0,r.toChildArray)(e).length:0},only:function(e){var t=(0,r.toChildArray)(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:r.toChildArray},H=r.options.__e;function W(e){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),e.__c.__H=null),(e=R({},e)).__c=null,e.__k=e.__k&&e.__k.map(W)),e}function U(e){return e&&(e.__v=null,e.__k=e.__k&&e.__k.map(U)),e}function z(){this.__u=0,this.t=null,this.__b=null}function G(e){var t=e.__.__c;return t&&t.__e&&t.__e(e)}function V(e){var t,n,a;function i(i){if(t||(t=e()).then((function(e){n=e.default||e}),(function(e){a=e})),a)throw a;if(!n)throw t;return(0,r.createElement)(n,i)}return i.displayName="Lazy",i.__f=!0,i}function q(){this.u=null,this.o=null}r.options.__e=function(e,t,n){if(e.then)for(var a,i=t;i=i.__;)if((a=i.__c)&&a.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),a.__c(e,t.__c);H(e,t,n)},(z.prototype=new r.Component).__c=function(e,t){var n=this;null==n.t&&(n.t=[]),n.t.push(t);var a=G(n.__v),i=!1,o=function(){i||(i=!0,t.componentWillUnmount=t.__c,a?a(r):r())};t.__c=t.componentWillUnmount,t.componentWillUnmount=function(){o(),t.__c&&t.__c()};var r=function(){var e;if(!--n.__u)for(n.__v.__k[0]=U(n.state.__e),n.setState({__e:n.__b=null});e=n.t.pop();)e.forceUpdate()},l=n.__v;l&&!0===l.__h||n.__u++||n.setState({__e:n.__b=n.__v.__k[0]}),e.then(o,o)},z.prototype.componentWillUnmount=function(){this.t=[]},z.prototype.render=function(e,t){this.__b&&(this.__v.__k&&(this.__v.__k[0]=W(this.__b)),this.__b=null);var n=t.__e&&(0,r.createElement)(r.Fragment,null,e.fallback);return n&&(n.__h=null),[(0,r.createElement)(r.Fragment,null,t.__e?null:e.children),n]};var K=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function Y(e){return this.getChildContext=function(){return e.context},e.children}function Z(e){var t=this,n=e.i,a=(0,r.createElement)(Y,{context:t.context},e.__v);t.componentWillUnmount=function(){var e=t.l.parentNode;e&&e.removeChild(t.l),(0,r.__u)(t.s)},t.i&&t.i!==n&&(t.componentWillUnmount(),t.h=!1),e.__v?t.h?(n.__k=t.__k,(0,r.render)(a,n),t.__k=n.__k):(t.l=document.createTextNode(""),t.__k=n.__k,(0,r.hydrate)("",n),n.appendChild(t.l),t.h=!0,t.i=n,(0,r.render)(a,n,t.l),n.__k=t.__k,t.__k=t.l.__k):t.h&&t.componentWillUnmount(),t.s=a}function J(e,t){return(0,r.createElement)(Z,{__v:e,i:t})}(q.prototype=new r.Component).__e=function(e){var t=this,n=G(t.__v),a=t.o.get(e);return a[0]++,function(i){var o=function(){t.props.revealOrder?(a.push(i),K(t,e,a)):i()};n?n(o):o()}},q.prototype.render=function(e){this.u=null,this.o=new Map;var t=(0,r.toChildArray)(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},q.prototype.componentDidUpdate=q.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){K(e,n,t)}))};var X="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,$=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Q="undefined"!=typeof Symbol?/fil|che|rad/i:/fil|che|ra/i;function ee(e,t,n){return null==t.__k&&(t.textContent=""),(0,r.render)(e,t),"function"==typeof n&&n(),e?e.__c:null}function te(e,t,n){return(0,r.hydrate)(e,t),"function"==typeof n&&n(),e?e.__c:null}r.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(r.Component.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var ne=r.options.event;function ae(){}function ie(){return this.cancelBubble}function oe(){return this.defaultPrevented}r.options.event=function(e){return ne&&(e=ne(e)),e.persist=ae,e.isPropagationStopped=ie,e.isDefaultPrevented=oe,e.nativeEvent=e};var re,le={configurable:!0,get:function(){return this.class}},ue=r.options.vnode;r.options.vnode=function(e){var t=e.type,n=e.props,a=n;if("string"==typeof t){for(var i in a={},n){var o=n[i];"defaultValue"===i&&"value"in n&&null==n.value?i="value":"download"===i&&!0===o?o="":/ondoubleclick/i.test(i)?i="ondblclick":/^onchange(textarea|input)/i.test(i+t)&&!Q.test(n.type)?i="oninput":/^on(Ani|Tra|Tou|BeforeInp)/.test(i)?i=i.toLowerCase():$.test(i)?i=i.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===o&&(o=void 0),a[i]=o}"select"==t&&a.multiple&&Array.isArray(a.value)&&(a.value=(0,r.toChildArray)(n.children).forEach((function(e){e.props.selected=-1!=a.value.indexOf(e.props.value)}))),e.props=a}t&&n.class!=n.className&&(le.enumerable="className"in n,null!=n.className&&(a.class=n.className),Object.defineProperty(a,"className",le)),e.$$typeof=X,ue&&ue(e)};var se=r.options.__r;r.options.__r=function(e){se&&se(e),re=e.__c};var ce={ReactCurrentDispatcher:{current:{readContext:function(e){return re.__n[e.__c].props.value}}}},de="16.8.0";function fe(e){return r.createElement.bind(null,e)}function he(e){return!!e&&e.$$typeof===X}function pe(e){return he(e)?r.cloneElement.apply(null,arguments):e}function ge(e){return!!e.__k&&((0,r.render)(null,e),!0)}function me(e){return e&&(e.base||1===e.nodeType&&e)||null}var ve=function(e,t){return e(t)},_e=r.Fragment,ye={useState:p,useReducer:g,useEffect:m,useLayoutEffect:v,useRef:_,useImperativeHandle:y,useMemo:b,useCallback:w,useContext:E,useDebugValue:C,version:"16.8.0",Children:F,render:ee,hydrate:te,unmountComponentAtNode:ge,createPortal:J,createElement:r.createElement,createContext:r.createContext,createFactory:fe,cloneElement:pe,createRef:r.createRef,Fragment:r.Fragment,isValidElement:he,findDOMNode:me,Component:r.Component,PureComponent:N,memo:D,forwardRef:j,unstable_batchedUpdates:ve,StrictMode:r.Fragment,Suspense:z,SuspenseList:q,lazy:V,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:ce}},67665:function(e,t,n){"use strict";n.r(t),n.d(t,{resetPropWarnings:function(){return o}});var a=n(6400),i=(n(14369),{});function o(){i={}}function r(e){return e.type===a.Fragment?"Fragment":"function"==typeof e.type?e.type.displayName||e.type.name:"string"==typeof e.type?e.type:"#text"}var l=[],u=[];function s(){return l.length>0?l[l.length-1]:null}var c=!1;function d(e){return"function"==typeof e.type&&e.type!=a.Fragment}function f(e){for(var t=[e],n=e;null!=n.__o;)t.push(n.__o),n=n.__o;return t.reduce((function(e,t){e+="  in "+r(t);var n=t.__source;return n?e+=" (at "+n.fileName+":"+n.lineNumber+")":c||(c=!0,console.warn("Add @babel/plugin-transform-react-jsx-source to get a more detailed component stack. Note that you should not add it to production builds of your App for bundle size reasons.")),e+"\n"}),"")}var h="function"==typeof WeakMap,p=a.Component.prototype.setState;a.Component.prototype.setState=function(e,t){return null==this.__v?null==this.state&&console.warn('Calling "this.setState" inside the constructor of a component is a no-op and might be a bug in your application. Instead, set "this.state = {}" directly.\n\n'+f(s())):null==this.__P&&console.warn('Can\'t call "this.setState" on an unmounted component. This is a no-op, but it indicates a memory leak in your application. To fix, cancel all subscriptions and asynchronous tasks in the componentWillUnmount method.\n\n'+f(this.__v)),p.call(this,e,t)};var g=a.Component.prototype.forceUpdate;function m(e){var t=e.props,n=r(e),a="";for(var i in t)if(t.hasOwnProperty(i)&&"children"!==i){var o=t[i];"function"==typeof o&&(o="function "+(o.displayName||o.name)+"() {}"),o=Object(o)!==o||o.toString?o+"":Object.prototype.toString.call(o),a+=" "+i+"="+JSON.stringify(o)}var l=t.children;return"<"+n+a+(l&&l.length?">..</"+n+">":" />")}a.Component.prototype.forceUpdate=function(e){return null==this.__v?console.warn('Calling "this.forceUpdate" inside the constructor of a component is a no-op and might be a bug in your application.\n\n'+f(s())):null==this.__P&&console.warn('Can\'t call "this.forceUpdate" on an unmounted component. This is a no-op, but it indicates a memory leak in your application. To fix, cancel all subscriptions and asynchronous tasks in the componentWillUnmount method.\n\n'+f(this.__v)),g.call(this,e)},function(){!function(){var e=a.options.__b,t=a.options.diffed,n=a.options.__,i=a.options.vnode,o=a.options.__r;a.options.diffed=function(e){d(e)&&u.pop(),l.pop(),t&&t(e)},a.options.__b=function(t){d(t)&&l.push(t),e&&e(t)},a.options.__=function(e,t){u=[],n&&n(e,t)},a.options.vnode=function(e){e.__o=u.length>0?u[u.length-1]:null,i&&i(e)},a.options.__r=function(e){d(e)&&u.push(e),o&&o(e)}}();var e=!1,t=a.options.__b,n=a.options.diffed,o=a.options.vnode,s=a.options.__e,c=a.options.__,p=a.options.__h,g=h?{useEffect:new WeakMap,useLayoutEffect:new WeakMap,lazyPropTypes:new WeakMap}:null,v=[];a.options.__e=function(e,t,n){if(t&&t.__c&&"function"==typeof e.then){var a=e;e=new Error("Missing Suspense. The throwing component was: "+r(t));for(var i=t;i;i=i.__)if(i.__c&&i.__c.__c){e=a;break}if(e instanceof Error)throw e}try{s(e,t,n),"function"!=typeof e.then&&setTimeout((function(){throw e}))}catch(e){throw e}},a.options.__=function(e,t){if(!t)throw new Error("Undefined parent passed to render(), this is the second argument.\nCheck if the element is available in the DOM/has the correct id.");var n;switch(t.nodeType){case 1:case 11:case 9:n=!0;break;default:n=!1}if(!n){var a=r(e);throw new Error("Expected a valid HTML node as a second argument to render.\tReceived "+t+" instead: render(<"+a+" />, "+t+");")}c&&c(e,t)},a.options.__b=function(n){var a=n.type,o=function e(t){return t?"function"==typeof t.type?e(t.__):t:{}}(n.__);if(e=!0,void 0===a)throw new Error("Undefined component passed to createElement()\n\nYou likely forgot to export your component or might have mixed up default and named imports"+m(n)+"\n\n"+f(n));if(null!=a&&"object"==typeof a){if(void 0!==a.__k&&void 0!==a.__e)throw new Error("Invalid type passed to createElement(): "+a+"\n\nDid you accidentally pass a JSX literal as JSX twice?\n\n  let My"+r(n)+" = "+m(a)+";\n  let vnode = <My"+r(n)+" />;\n\nThis usually happens when you export a JSX literal and not the component.\n\n"+f(n));throw new Error("Invalid type passed to createElement(): "+(Array.isArray(a)?"array":a))}if("thead"!==a&&"tfoot"!==a&&"tbody"!==a||"table"===o.type?"tr"===a&&"thead"!==o.type&&"tfoot"!==o.type&&"tbody"!==o.type&&"table"!==o.type?console.error("Improper nesting of table. Your <tr> should have a <thead/tbody/tfoot/table> parent."+m(n)+"\n\n"+f(n)):"td"===a&&"tr"!==o.type?console.error("Improper nesting of table. Your <td> should have a <tr> parent."+m(n)+"\n\n"+f(n)):"th"===a&&"tr"!==o.type&&console.error("Improper nesting of table. Your <th> should have a <tr>."+m(n)+"\n\n"+f(n)):console.error("Improper nesting of table. Your <thead/tbody/tfoot> should have a <table> parent."+m(n)+"\n\n"+f(n)),void 0!==n.ref&&"function"!=typeof n.ref&&"object"!=typeof n.ref&&!("$$typeof"in n))throw new Error('Component\'s "ref" property should be a function, or an object created by createRef(), but got ['+typeof n.ref+"] instead\n"+m(n)+"\n\n"+f(n));if("string"==typeof n.type)for(var l in n.props)if("o"===l[0]&&"n"===l[1]&&"function"!=typeof n.props[l]&&null!=n.props[l])throw new Error("Component's \""+l+'" property should be a function, but got ['+typeof n.props[l]+"] instead\n"+m(n)+"\n\n"+f(n));if("function"==typeof n.type&&n.type.propTypes){if("Lazy"===n.type.displayName&&g&&!g.lazyPropTypes.has(n.type)){var u="PropTypes are not supported on lazy(). Use propTypes on the wrapped component itself. ";try{var s=n.type();g.lazyPropTypes.set(n.type,!0),console.warn(u+"Component wrapped in lazy() is "+r(s))}catch(n){console.warn(u+"We will log the wrapped component's name once it is loaded.")}}var c=n.props;n.type.__f&&delete(c=function(e,t){for(var n in t)e[n]=t[n];return e}({},c)).ref,function(e,t,n,a,o){Object.keys(e).forEach((function(n){var r;try{r=e[n](t,n,a,"prop",null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(e){r=e}!r||r.message in i||(i[r.message]=!0,console.error("Failed prop type: "+r.message+(o&&"\n"+o()||"")))}))}(n.type.propTypes,c,0,r(n),(function(){return f(n)}))}t&&t(n)},a.options.__h=function(t,n,a){if(!t||!e)throw new Error("Hook can only be invoked from render methods.");p&&p(t,n,a)};var _=function(e,t){return{get:function(){var n="get"+e+t;v&&v.indexOf(n)<0&&(v.push(n),console.warn("getting vnode."+e+" is deprecated, "+t))},set:function(){var n="set"+e+t;v&&v.indexOf(n)<0&&(v.push(n),console.warn("setting vnode."+e+" is not allowed, "+t))}}},y={nodeName:_("nodeName","use vnode.type"),attributes:_("attributes","use vnode.props"),children:_("children","use vnode.props.children")},b=Object.create({},y);a.options.vnode=function(e){var t=e.props;if(null!==e.type&&null!=t&&("__source"in t||"__self"in t)){var n=e.props={};for(var a in t){var i=t[a];"__source"===a?e.__source=i:"__self"===a?e.__self=i:n[a]=i}}e.__proto__=b,o&&o(e)},a.options.diffed=function(t){t.__k&&t.__k.forEach((function(e){if(e&&void 0===e.type){delete e.__,delete e.__b;var n=Object.keys(e).join(",");throw new Error("Objects are not valid as a child. Encountered an object with the keys {"+n+"}.\n\n"+f(t))}}));var a=t.__c;if(a&&a.__H){var i=a.__H;Array.isArray(i.__)&&i.__.forEach((function(e){if(e.__h&&(!e.__H||!Array.isArray(e.__H))){var n=r(t);console.warn("In "+n+" you are calling useMemo/useCallback without passing arguments.\nThis is a noop since it will not be able to memoize, it will execute it every render.\n\n"+f(t))}}))}if(e=!1,n&&n(t),null!=t.__k)for(var o=[],l=0;l<t.__k.length;l++){var u=t.__k[l];if(u&&null!=u.key){var s=u.key;if(-1!==o.indexOf(s)){console.error('Following component has two or more children with the same key attribute: "'+s+'". This may cause glitches and misbehavior in rendering process. Component: \n\n'+m(t)+"\n\n"+f(t));break}o.push(s)}}}}()},14369:function(e,t,n){"use strict";n.r(t);var a=n(6400);"undefined"!=typeof window&&window.__PREACT_DEVTOOLS__&&window.__PREACT_DEVTOOLS__.attachPreact("10.5.5",a.options,{Fragment:a.Fragment,Component:a.Component})},6400:function(e,t,n){"use strict";n.r(t),n.d(t,{render:function(){return B},hydrate:function(){return F},createElement:function(){return g},h:function(){return g},Fragment:function(){return _},createRef:function(){return v},isValidElement:function(){return i},Component:function(){return y},cloneElement:function(){return H},createContext:function(){return W},toChildArray:function(){return k},__u:function(){return P},options:function(){return a}});var a,i,o,r,l,u,s,c={},d=[],f=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function h(e,t){for(var n in t)e[n]=t[n];return e}function p(e){var t=e.parentNode;t&&t.removeChild(e)}function g(e,t,n){var a,i,o,r=arguments,l={};for(o in t)"key"==o?a=t[o]:"ref"==o?i=t[o]:l[o]=t[o];if(arguments.length>3)for(n=[n],o=3;o<arguments.length;o++)n.push(r[o]);if(null!=n&&(l.children=n),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===l[o]&&(l[o]=e.defaultProps[o]);return m(e,l,a,i,null)}function m(e,t,n,i,o){var r={type:e,props:t,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:o};return null==o&&(r.__v=r),null!=a.vnode&&a.vnode(r),r}function v(){return{current:null}}function _(e){return e.children}function y(e,t){this.props=e,this.context=t}function b(e,t){if(null==t)return e.__?b(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?b(e):null}function w(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return w(e)}}function E(e){(!e.__d&&(e.__d=!0)&&o.push(e)&&!C.__r++||l!==a.debounceRendering)&&((l=a.debounceRendering)||r)(C)}function C(){for(var e;C.__r=o.length;)e=o.sort((function(e,t){return e.__v.__b-t.__v.__b})),o=[],e.some((function(e){var t,n,a,i,o,r,l;e.__d&&(r=(o=(t=e).__v).__e,(l=t.__P)&&(n=[],(a=h({},o)).__v=a,i=O(l,o,a,t.__n,void 0!==l.ownerSVGElement,null!=o.__h?[r]:null,n,null==r?b(o):r,o.__h),N(n,o),i!=r&&w(o)))}))}function T(e,t,n,a,i,o,r,l,u,s){var f,h,g,v,y,w,E,C=a&&a.__k||d,T=C.length;for(u==c&&(u=null!=r?r[0]:T?b(a,0):null),n.__k=[],f=0;f<t.length;f++)if(null!=(v=n.__k[f]=null==(v=t[f])||"boolean"==typeof v?null:"string"==typeof v||"number"==typeof v?m(null,v,null,null,v):Array.isArray(v)?m(_,{children:v},null,null,null):null!=v.__e||null!=v.__c?m(v.type,v.props,v.key,null,v.__v):v)){if(v.__=n,v.__b=n.__b+1,null===(g=C[f])||g&&v.key==g.key&&v.type===g.type)C[f]=void 0;else for(h=0;h<T;h++){if((g=C[h])&&v.key==g.key&&v.type===g.type){C[h]=void 0;break}g=null}y=O(e,v,g=g||c,i,o,r,l,u,s),(h=v.ref)&&g.ref!=h&&(E||(E=[]),g.ref&&E.push(g.ref,null,v),E.push(h,v.__c||y,v)),null!=y?(null==w&&(w=y),u=S(e,v,g,C,r,y,u),s||"option"!=n.type?"function"==typeof n.type&&(n.__d=u):e.value=""):u&&g.__e==u&&u.parentNode!=e&&(u=b(g))}if(n.__e=w,null!=r&&"function"!=typeof n.type)for(f=r.length;f--;)null!=r[f]&&p(r[f]);for(f=T;f--;)null!=C[f]&&P(C[f],C[f]);if(E)for(f=0;f<E.length;f++)L(E[f],E[++f],E[++f])}function k(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){k(e,t)})):t.push(e)),t}function S(e,t,n,a,i,o,r){var l,u,s;if(void 0!==t.__d)l=t.__d,t.__d=void 0;else if(i==n||o!=r||null==o.parentNode)e:if(null==r||r.parentNode!==e)e.appendChild(o),l=null;else{for(u=r,s=0;(u=u.nextSibling)&&s<a.length;s+=2)if(u==o)break e;e.insertBefore(o,r),l=r}return void 0!==l?l:o.nextSibling}function I(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]=null==n?"":"number"!=typeof n||f.test(t)?n:n+"px"}function A(e,t,n,a,i){var o,r,l;if(i&&"className"==t&&(t="class"),"style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof a&&(e.style.cssText=a=""),a)for(t in a)n&&t in n||I(e.style,t,"");if(n)for(t in n)a&&n[t]===a[t]||I(e.style,t,n[t])}else"o"===t[0]&&"n"===t[1]?(o=t!==(t=t.replace(/Capture$/,"")),(r=t.toLowerCase())in e&&(t=r),t=t.slice(2),e.l||(e.l={}),e.l[t+o]=n,l=o?M:x,n?a||e.addEventListener(t,l,o):e.removeEventListener(t,l,o)):"list"!==t&&"tagName"!==t&&"form"!==t&&"type"!==t&&"size"!==t&&"download"!==t&&"href"!==t&&!i&&t in e?e[t]=null==n?"":n:"function"!=typeof n&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/xlink:?/,""))?null==n||!1===n?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),n):null==n||!1===n&&!/^ar/.test(t)?e.removeAttribute(t):e.setAttribute(t,n))}function x(e){this.l[e.type+!1](a.event?a.event(e):e)}function M(e){this.l[e.type+!0](a.event?a.event(e):e)}function R(e,t,n){var a,i;for(a=0;a<e.__k.length;a++)(i=e.__k[a])&&(i.__=e,i.__e&&("function"==typeof i.type&&i.__k.length>1&&R(i,t,n),t=S(n,i,i,e.__k,null,i.__e,t),"function"==typeof e.type&&(e.__d=t)))}function O(e,t,n,i,o,r,l,u,s){var c,d,f,p,g,m,v,b,w,E,C,k=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(s=n.__h,u=t.__e=n.__e,t.__h=null,r=[u]),(c=a.__b)&&c(t);try{e:if("function"==typeof k){if(b=t.props,w=(c=k.contextType)&&i[c.__c],E=c?w?w.props.value:c.__:i,n.__c?v=(d=t.__c=n.__c).__=d.__E:("prototype"in k&&k.prototype.render?t.__c=d=new k(b,E):(t.__c=d=new y(b,E),d.constructor=k,d.render=j),w&&w.sub(d),d.props=b,d.state||(d.state={}),d.context=E,d.__n=i,f=d.__d=!0,d.__h=[]),null==d.__s&&(d.__s=d.state),null!=k.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=h({},d.__s)),h(d.__s,k.getDerivedStateFromProps(b,d.__s))),p=d.props,g=d.state,f)null==k.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==k.getDerivedStateFromProps&&b!==p&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(b,E),!d.__e&&null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(b,d.__s,E)||t.__v===n.__v){d.props=b,d.state=d.__s,t.__v!==n.__v&&(d.__d=!1),d.__v=t,t.__e=n.__e,t.__k=n.__k,d.__h.length&&l.push(d),R(t,u,e);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(b,d.__s,E),null!=d.componentDidUpdate&&d.__h.push((function(){d.componentDidUpdate(p,g,m)}))}d.context=E,d.props=b,d.state=d.__s,(c=a.__r)&&c(t),d.__d=!1,d.__v=t,d.__P=e,c=d.render(d.props,d.state,d.context),d.state=d.__s,null!=d.getChildContext&&(i=h(h({},i),d.getChildContext())),f||null==d.getSnapshotBeforeUpdate||(m=d.getSnapshotBeforeUpdate(p,g)),C=null!=c&&c.type==_&&null==c.key?c.props.children:c,T(e,Array.isArray(C)?C:[C],t,n,i,o,r,l,u,s),d.base=t.__e,t.__h=null,d.__h.length&&l.push(d),v&&(d.__E=d.__=null),d.__e=!1}else null==r&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=D(n.__e,t,n,i,o,r,l,s);(c=a.diffed)&&c(t)}catch(e){t.__v=null,(s||null!=r)&&(t.__e=u,t.__h=!!s,r[r.indexOf(u)]=null),a.__e(e,t,n)}return t.__e}function N(e,t){a.__c&&a.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){a.__e(e,t.__v)}}))}function D(e,t,n,a,i,o,r,l){var u,s,f,h,p,g=n.props,m=t.props;if(i="svg"===t.type||i,null!=o)for(u=0;u<o.length;u++)if(null!=(s=o[u])&&((null===t.type?3===s.nodeType:s.localName===t.type)||e==s)){e=s,o[u]=null;break}if(null==e){if(null===t.type)return document.createTextNode(m);e=i?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,m.is&&{is:m.is}),o=null,l=!1}if(null===t.type)g===m||l&&e.data===m||(e.data=m);else{if(null!=o&&(o=d.slice.call(e.childNodes)),f=(g=n.props||c).dangerouslySetInnerHTML,h=m.dangerouslySetInnerHTML,!l){if(null!=o)for(g={},p=0;p<e.attributes.length;p++)g[e.attributes[p].name]=e.attributes[p].value;(h||f)&&(h&&(f&&h.__html==f.__html||h.__html===e.innerHTML)||(e.innerHTML=h&&h.__html||""))}(function(e,t,n,a,i){var o;for(o in n)"children"===o||"key"===o||o in t||A(e,o,null,n[o],a);for(o in t)i&&"function"!=typeof t[o]||"children"===o||"key"===o||"value"===o||"checked"===o||n[o]===t[o]||A(e,o,t[o],n[o],a)})(e,m,g,i,l),h?t.__k=[]:(u=t.props.children,T(e,Array.isArray(u)?u:[u],t,n,a,"foreignObject"!==t.type&&i,o,r,c,l)),l||("value"in m&&void 0!==(u=m.value)&&(u!==e.value||"progress"===t.type&&!u)&&A(e,"value",u,g.value,!1),"checked"in m&&void 0!==(u=m.checked)&&u!==e.checked&&A(e,"checked",u,g.checked,!1))}return e}function L(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){a.__e(e,n)}}function P(e,t,n){var i,o,r;if(a.unmount&&a.unmount(e),(i=e.ref)&&(i.current&&i.current!==e.__e||L(i,null,t)),n||"function"==typeof e.type||(n=null!=(o=e.__e)),e.__e=e.__d=void 0,null!=(i=e.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(e){a.__e(e,t)}i.base=i.__P=null}if(i=e.__k)for(r=0;r<i.length;r++)i[r]&&P(i[r],t,n);null!=o&&p(o)}function j(e,t,n){return this.constructor(e,n)}function B(e,t,n){var i,o,r;a.__&&a.__(e,t),o=(i=n===u)?null:n&&n.__k||t.__k,e=g(_,null,[e]),r=[],O(t,(i?t:n||t).__k=e,o||c,c,void 0!==t.ownerSVGElement,n&&!i?[n]:o?null:t.childNodes.length?d.slice.call(t.childNodes):null,r,n||c,i),N(r,e)}function F(e,t){B(e,t,u)}function H(e,t,n){var a,i,o,r=arguments,l=h({},e.props);for(o in t)"key"==o?a=t[o]:"ref"==o?i=t[o]:l[o]=t[o];if(arguments.length>3)for(n=[n],o=3;o<arguments.length;o++)n.push(r[o]);return null!=n&&(l.children=n),m(e.type,l,a||e.key,i||e.ref,null)}function W(e,t){var n={__c:t="__cC"+s++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e,n,a){return this.getChildContext||(n=[],(a={})[t]=this,this.getChildContext=function(){return a},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some(E)},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n}a={__e:function(e,t){for(var n,a,i,o=t.__h;t=t.__;)if((n=t.__c)&&!n.__)try{if((a=n.constructor)&&null!=a.getDerivedStateFromError&&(n.setState(a.getDerivedStateFromError(e)),i=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(e),i=n.__d),i)return t.__h=o,n.__E=n}catch(t){e=t}throw e}},i=function(e){return null!=e&&void 0===e.constructor},y.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=h({},this.state),"function"==typeof e&&(e=e(h({},n),this.props)),e&&h(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),E(this))},y.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),E(this))},y.prototype.render=_,o=[],r="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,C.__r=0,u=c,s=0},87236:function(e){var t=null,n=["Webkit","Moz","O","ms"];e.exports=function(e){t||(t=document.createElement("div"));var a=t.style;if(e in a)return e;for(var i=e.charAt(0).toUpperCase()+e.slice(1),o=n.length;o>=0;o--){var r=n[o]+i;if(r in a)return r}return!1}},92703:function(e,t,n){"use strict";var a=n(50414);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,r){if(r!==a){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},45697:function(e,t,n){e.exports=n(92703)()},50414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},74971:function(e,t,n){var a;/*! https://mths.be/punycode v1.3.2 by @mathias */e=n.nmd(e),function(i){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof n.g&&n.g;o.global!==o&&o.window!==o&&o.self;var r,l=2147483647,u=36,s=/^xn--/,c=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=Math.floor,p=String.fromCharCode;function g(e){throw RangeError(f[e])}function m(e,t){for(var n=e.length,a=[];n--;)a[n]=t(e[n]);return a}function v(e,t){var n=e.split("@"),a="";return n.length>1&&(a=n[0]+"@",e=n[1]),a+m((e=e.replace(d,".")).split("."),t).join(".")}function _(e){for(var t,n,a=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?a.push(((1023&t)<<10)+(1023&n)+65536):(a.push(t),i--):a.push(t);return a}function y(e){return m(e,(function(e){var t="";return e>65535&&(t+=p((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=p(e)})).join("")}function b(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function w(e,t,n){var a=0;for(e=n?h(e/700):e>>1,e+=h(e/t);e>455;a+=u)e=h(e/35);return h(a+36*e/(e+38))}function E(e){var t,n,a,i,o,r,s,c,d,f,p,m=[],v=e.length,_=0,b=128,E=72;for((n=e.lastIndexOf("-"))<0&&(n=0),a=0;a<n;++a)e.charCodeAt(a)>=128&&g("not-basic"),m.push(e.charCodeAt(a));for(i=n>0?n+1:0;i<v;){for(o=_,r=1,s=u;i>=v&&g("invalid-input"),((c=(p=e.charCodeAt(i++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:u)>=u||c>h((l-_)/r))&&g("overflow"),_+=c*r,!(c<(d=s<=E?1:s>=E+26?26:s-E));s+=u)r>h(l/(f=u-d))&&g("overflow"),r*=f;E=w(_-o,t=m.length+1,0==o),h(_/t)>l-b&&g("overflow"),b+=h(_/t),_%=t,m.splice(_++,0,b)}return y(m)}function C(e){var t,n,a,i,o,r,s,c,d,f,m,v,y,E,C,T=[];for(v=(e=_(e)).length,t=128,n=0,o=72,r=0;r<v;++r)(m=e[r])<128&&T.push(p(m));for(a=i=T.length,i&&T.push("-");a<v;){for(s=l,r=0;r<v;++r)(m=e[r])>=t&&m<s&&(s=m);for(s-t>h((l-n)/(y=a+1))&&g("overflow"),n+=(s-t)*y,t=s,r=0;r<v;++r)if((m=e[r])<t&&++n>l&&g("overflow"),m==t){for(c=n,d=u;!(c<(f=d<=o?1:d>=o+26?26:d-o));d+=u)C=c-f,E=u-f,T.push(p(b(f+C%E,0))),c=h(C/E);T.push(p(b(c,0))),o=w(n,y,a==i),n=0,++a}++n,++t}return T.join("")}r={version:"1.3.2",ucs2:{decode:_,encode:y},decode:E,encode:C,toASCII:function(e){return v(e,(function(e){return c.test(e)?"xn--"+C(e):e}))},toUnicode:function(e){return v(e,(function(e){return s.test(e)?E(e.slice(4).toLowerCase()):e}))}},void 0===(a=function(){return r}.call(t,n,t,e))||(e.exports=a)}()},62587:function(e){"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,a,i){n=n||"&",a=a||"=";var o={};if("string"!=typeof e||0===e.length)return o;var r=/\+/g;e=e.split(n);var l=1e3;i&&"number"==typeof i.maxKeys&&(l=i.maxKeys);var u=e.length;l>0&&u>l&&(u=l);for(var s=0;s<u;++s){var c,d,f,h,p=e[s].replace(r,"%20"),g=p.indexOf(a);g>=0?(c=p.substr(0,g),d=p.substr(g+1)):(c=p,d=""),f=decodeURIComponent(c),h=decodeURIComponent(d),t(o,f)?Array.isArray(o[f])?o[f].push(h):o[f]=[o[f],h]:o[f]=h}return o}},12361:function(e){"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,a,i){return n=n||"&",a=a||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(i){var o=encodeURIComponent(t(i))+a;return Array.isArray(e[i])?e[i].map((function(e){return o+encodeURIComponent(t(e))})).join(n):o+encodeURIComponent(t(e[i]))})).join(n):i?encodeURIComponent(t(i))+a+encodeURIComponent(t(e)):""}},17673:function(e,t,n){"use strict";t.decode=t.parse=n(62587),t.encode=t.stringify=n(12361)},54087:function(e,t,n){for(var a=n(75),i="undefined"==typeof window?n.g:window,o=["moz","webkit"],r="AnimationFrame",l=i["request"+r],u=i["cancel"+r]||i["cancelRequest"+r],s=0;!l&&s<o.length;s++)l=i[o[s]+"Request"+r],u=i[o[s]+"Cancel"+r]||i[o[s]+"CancelRequest"+r];if(!l||!u){var c=0,d=0,f=[];l=function(e){if(0===f.length){var t=a(),n=Math.max(0,16.666666666666668-(t-c));c=n+t,setTimeout((function(){var e=f.slice(0);f.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(c)}catch(e){setTimeout((function(){throw e}),0)}}),Math.round(n))}return f.push({handle:++d,callback:e,cancelled:!1}),d},u=function(e){for(var t=0;t<f.length;t++)f[t].handle===e&&(f[t].cancelled=!0)}}e.exports=function(e){return l.call(i,e)},e.exports.cancel=function(){u.apply(i,arguments)},e.exports.polyfill=function(e){e||(e=i),e.requestAnimationFrame=l,e.cancelAnimationFrame=u}},36599:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="9" height="16" viewBox="0 0 9 16">\n    <path fill="none" fill-rule="evenodd" stroke="#FFF" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\n          d="M8.012 1L1 7.975l7.053 7.03"/>\n</svg>\n'},28843:function(e,t,n){"use strict";n.r(t),t.default='<svg width="33" height="33" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path fill="_COLOR1_" d="M24.2 33.433c2.411 4.823 6.544 8.784 11.367 11.367l3.789-3.789c.516-.517 1.205-.689 1.722-.344 1.894.689 3.96 1.033 6.2 1.033 1.033 0 1.722.689 1.722 1.722v5.856C49 50.31 48.311 51 47.278 51 31.088 51 18 37.911 18 21.722 18 20.69 18.689 20 19.722 20h6.028c1.033 0 1.722.689 1.722 1.722 0 2.067.345 4.134 1.034 6.2.172.517 0 1.206-.345 1.722l-3.961 3.79z" id="a"/></defs><use fill="#FFF" xlink:href="#a" transform="translate(-17 -20)" fill-rule="evenodd"/></svg>\n'},97126:function(e,t,n){"use strict";n.r(t),t.default='<svg width="59" height="71" viewBox="0 0 59 71" xmlns="http://www.w3.org/2000/svg"><title>Arrow1</title><g transform="rotate(163 27.277 33.133)" fill="#00A355" fill-rule="evenodd"><rect y="12" width="8" height="48" rx="4"/><rect y="52" width="48" height="8" rx="4"/><rect transform="rotate(-45 30.523 29.475)" x="-6.477" y="25.475" width="74" height="8" rx="4"/></g></svg>'},27684:function(e,t,n){"use strict";n.r(t),t.default='<svg width="59" height="71" viewBox="0 0 59 71" xmlns="http://www.w3.org/2000/svg"><title>Arrow2</title><g transform="rotate(-17 45.338 20.625)" fill="#00A355" fill-rule="evenodd"><rect y="12" width="8" height="48" rx="4"/><rect y="52" width="48" height="8" rx="4"/><rect transform="rotate(-45 30.523 29.475)" x="-6.477" y="25.475" width="74" height="8" rx="4"/></g></svg>'},2482:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path fill="_COLOR1_" fill-rule="nonzero" d="M16.5 8v9.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V7a2.5 2.5 0 0 1 5 0v8.5c0 .55-.45 1-1 1s-1-.45-1-1V8H10v7.5a2.5 2.5 0 0 0 5 0V7c0-2.21-1.79-4-4-4S7 4.79 7 7v10.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V8h-1.5z"/>\n</svg>\n'},92809:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"><g fill="none" fill-rule="evenodd"><path d="M.941 0h15v15h-15z"/><path fill="#697582" fill-rule="nonzero" d="M3.497 9.624c.36.002.694-.14.954-.401.266-.266.425-.627.428-1.014.009-.36-.069-.72-.227-1.04.352-.288 2.063-.67 3.357-.665 1.258.01 2.972.401 3.335.688-.18.319-.274.68-.283 1.04-.009.381.117.735.367 1.007.25.271.588.424.948.426l1.396.01c.328.002.635-.124.874-.363.244-.243.381-.572.39-.922l.001-.215a1.932 1.932 0 0 0-.132-.804c-.016-.038-.378-1.007-.993-1.394-.096-.053-2.626-1.367-5.876-1.279-3.25.088-5.796 1.165-5.904 1.22a1.718 1.718 0 0 0-.319.255c-.439.439-.719 1.091-.73 1.113-.11.259-.165.528-.178.808l-.002.214c-.017.71.52 1.301 1.197 1.306l1.397.01z"/></g></svg>'},87409:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"><g fill="none" fill-rule="evenodd"><path d="M0 0h16v16H0z"/><path fill="#18C139" fill-rule="nonzero" d="M12.603 10.143a1.408 1.408 0 0 0-1.018-.417c-.4 0-.79.152-1.083.44a2.377 2.377 0 0 0-.611.953c-.48-.048-2.053-1.046-3.022-2.023-.937-.952-1.931-2.534-1.988-3.022.374-.104.716-.305.993-.569.293-.28.465-.64.48-1.032a1.372 1.372 0 0 0-.39-1.032L4.92 2.384A1.285 1.285 0 0 0 3.993 2c-.367 0-.717.144-.986.4l-.162.16c-.22.2-.391.44-.505.704-.017.04-.473 1.04-.302 1.793.033.112.946 3 3.454 5.376 2.508 2.376 5.23 3.479 5.352 3.519.13.032.277.048.431.048.66 0 1.36-.28 1.385-.288.277-.112.521-.272.741-.472l.163-.16c.546-.52.586-1.369.081-1.881l-1.042-1.056z"/></g></svg>'},93867:function(e,t,n){"use strict";n.r(t),t.default='<svg id="jivo-icon-closewidget" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><style>.jivo-st0{opacity:.8;fill:#FFF;stroke:#000;enable-background:new}.jivo-st0,.jivo-st1{stroke-width:1.5;stroke-linecap:round}.jivo-st1{fill:none;stroke:#383d45}</style><circle class="jivo-st0" cx="12" cy="12" r="11"/><path class="jivo-st1" d="M7.5 16.5l9-9M16.5 16.5l-9-9"/></svg>'},85972:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n  <g fill="none" fill-rule="evenodd" transform="translate(3 4)">\n    <circle cx="8.5" cy="8.5" r="9.3" stroke="_COLOR1_" stroke-width="1.6"/>\n    <circle cx="5.375" cy="6.375" r="1.375" fill="_COLOR1_"/>\n    <circle cx="11.875" cy="6.375" r="1.375" fill="_COLOR1_" transform="matrix(-1 0 0 1 23.75 0)"/>\n    <path stroke="_COLOR1_" stroke-linecap="round" stroke-width="1.6" d="M4.25 10.5S4.5 13 8.5 13s4.25-2.5 4.25-2.5"/>\n  </g>\n</svg>'},28336:function(e,t,n){"use strict";n.r(t),t.default='<svg width="25" height="20" viewBox="0 0 25 20" xmlns="http://www.w3.org/2000/svg"><path fill=\'_COLOR1_\' d="M22.5 5l-10 6.25L2.5 5V2.5l10 6.25 10-6.25V5zm0-5h-20A2.49 2.49 0 0 0 0 2.5v15A2.5 2.5 0 0 0 2.5 20h20a2.5 2.5 0 0 0 2.5-2.5v-15A2.5 2.5 0 0 0 22.5 0z"/></svg>\n'},69527:function(e,t,n){"use strict";n.r(t),t.default='<svg width="160" height="173" viewBox="0 0 160 173" xmlns="http://www.w3.org/2000/svg"><title>hand</title><path d="M56.31 169.5S8.685 109 5.968 106.25c-2.717-2.75-5.84-12.663 0-20.05C11.807 78.816 21.295 82.95 24 85c2.705 2.05 13.06 10.5 13.06 10.5s7.646 6.35 14.5 2.093c6.857-4.256 6.42-11.392 6.42-11.392s1.93-16.115-1.67-35.2C52.714 31.915 49 25.25 46.75 20c-2.25-5.25-1.124-11.59 5.938-16.045C59.75-.5 67 6.5 68.5 9.25s6.396 9.49 12.12 27.253c5.722 17.763 7.69 41.372 7.69 41.372l-2-23.25c5.576 0 13.464-2.994 24.017 9.168 4.736 5.457 6.86 24.332 6.86 24.332s-1.874-15.188-5.25-21.75c4.5-1.25 12.583-4.006 21.376 4.875 6.31 6.375 5.375 23.25 5.375 23.25s1.25-13.063-4.25-21.938c13.68-1.527 19.937 11.313 21.937 19.563 2 8.25-.875 26.75-.875 26.75l-14.19 51.875" stroke="#A3AFB8" fill-rule="nonzero" stroke-width="4" fill="#FFF" stroke-linecap="round" stroke-linejoin="round"/></svg>'},70099:function(e,t,n){"use strict";n.r(t),t.default='<svg width="76.5" height="76.5" viewBox="0 0 45 45" xmlns="http://www.w3.org/2000/svg">\n  <path fill="#0076ff" d="M22.5 45C10.0736 45 0 34.9264 0 22.5S10.0736 0 22.5 0 45 10.0736 45 22.5 34.9264 45 22.5 45zm-.038-14.2213c6.3812 0 11.5542-4.177 11.5542-9.3295 0-5.1526-5.173-9.3295-11.5543-9.3295-6.3812 0-11.5542 4.177-11.5542 9.3295 0 3.1476 1.9304 5.931 4.8874 7.6207l.0752.0424a.1523.1523 0 0 1 .0745.1016c.2544 1.2152-1.4097 2.3051-2.5218 3.0324 3.6862.232 5.546-1.2438 6.0782-1.7276.9024.1827 1.9882.26 2.9607.26z"/>\n  <path fill="#ffffff" stroke="#ffffff" stroke-width="2" d="M22.462 30.7787c6.3812 0 11.5542-4.177 11.5542-9.3295 0-5.1526-5.173-9.3295-11.5543-9.3295-6.3812 0-11.5542 4.177-11.5542 9.3295 0 3.1476 1.9304 5.931 4.8874 7.6207l.0752.0424a.1524.1524 0 0 1 .0745.1016c.2544 1.2152-1.4097 2.3051-2.5218 3.0324 3.6862.232 5.546-1.2438 6.0782-1.7276.9024.1827 1.9882.26 2.9607.26z"/>\n</svg>'},86227:function(e,t,n){"use strict";n.r(t),t.default='<svg width="26px" height="26px" viewBox="0 0 26 26" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="Popup" transform="translate(-257.000000, -293.000000)" fill="#0084FF">\n            <g id="popup-big" transform="translate(231.000000, 195.000000)">\n                <path d="M39,98 C31.8202857,98 26,103.389142 26,110.037037 C26,113.825093 27.8904099,117.203969 30.8447205,119.410438 L30.8447205,124 L35.2710994,121.570685 C36.4524037,121.897611 37.7038758,122.074074 39,122.074074 C46.1797143,122.074074 52,116.684932 52,110.037037 C52,103.389142 46.1797143,98 39,98 Z M40.2919255,114.209877 L36.9813665,110.679012 L30.5217391,114.209877 L37.6273292,106.666667 L41.0186335,110.197531 L47.3975155,106.666667 L40.2919255,114.209877 Z" id="iconMessenger"></path>\n            </g>\n        </g>\n    </g>\n</svg>'},34886:function(e,t,n){"use strict";n.r(t),t.default='<svg width="19" height="19" viewBox="0 0 19 19" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M17.1 0H1.9C.85 0 0 .85 0 1.9V19l3.8-3.8h13.3c1.05 0 1.9-.85 1.9-1.9V1.9C19 .85 18.15 0 17.1 0M3.8 6.65h11.4v1.9H3.8m7.6 2.85H3.8V9.5h7.6m3.8-3.8H3.8V3.8h11.4" fill="#05B24B"/></g></svg>\n'},38353:function(e,t,n){"use strict";n.r(t),t.default='<svg width="30" height="31" viewBox="0 0 30 31" xmlns="http://www.w3.org/2000/svg"><path fill="_COLOR1_" d="M2.967 22.226l-.025.008s7.698 13.9 26.975 5.546c0 0-1.495-1.752-4.384-3.52a14.067 14.067 0 0 0 2.588-14.047c-2.655-7.297-10.7-11.07-17.964-8.425C2.89 4.433-.847 12.492 1.81 19.79c.313.863.703 1.677 1.157 2.436z" fill-rule="evenodd"/></svg>\n'},81483:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">\n    <g fill="none" fill-rule="evenodd">\n        <path d="M0 0h20v20H0z"/>\n        <path stroke="_COLOR1_" stroke-width="1.5" d="M3 3h14a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"/>\n        <path stroke="_COLOR1_" stroke-width="1.5" d="M16.074 7.064l-6.01 4.01-6.01-4.01"/>\n    </g>\n</svg>\n'},29428:function(e,t,n){"use strict";n.r(t),t.default='<svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 16"><style>.st0{fill:none;stroke:#49bb6f;stroke-width:2}</style><path id="icon_thanks" class="st0" d="M2.5 6.5l6 6 11-11"/></svg>'},50109:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21 15"><path fill="none" stroke="#fff" stroke-linecap="round" stroke-width="2" d="M1 6.3l7 7 12-12"/></svg>'},22764:function(e,t,n){"use strict";n.r(t),t.default='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: sketchtool 41 (35326) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>ABB53DC4-C95A-47C0-BDA2-177372AC59FA</title>\n    <desc>Created with sketchtool.</desc>\n    <defs></defs>\n    <g id="3" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="ios-Full" transform="translate(-64.000000, -499.000000)" fill="#0076FF">\n            <g id="popup" transform="translate(0.000000, 190.000000)">\n                <path d="M65.0702042,309.547272 C63.6395848,310.838212 63.3600869,312.442576 66.0124393,316.105342 C68.6644642,319.767967 72.3286805,322.837952 74.9458442,324.128565 C77.5634291,325.418898 78.6800637,324.72144 79.4127573,323.709857 C80.1457784,322.697899 80.1457784,321.895624 79.0291437,321.058674 C77.9121815,320.22121 76.3420236,318.616705 74.9110766,319.802641 C73.4804572,320.988905 72.5381753,319.73334 72.1194665,319.279396 C71.8161507,318.951279 69.6064185,316.733031 69.1531761,316.279648 C68.6992786,315.825984 68.3153375,314.710145 69.1180342,313.837773 C69.9210116,312.965822 68.8470059,311.39805 68.5596934,311.04752 C68.2457086,310.663579 66.9719412,307.831492 65.0702042,309.547272" id="Page-1"></path>\n            </g>\n        </g>\n    </g>\n</svg>'},18317:function(e,t,n){"use strict";n.r(t),t.default='<svg width="17" height="17" viewBox="0 0 17 17" xmlns="http://www.w3.org/2000/svg"><path d="M.937 0C.42 0 0 .42 0 .937 0 9.73 7.13 16.86 15.922 16.86c.25 0 .487-.1.663-.275.175-.176.274-.414.274-.663v-3.278c0-.517-.42-.936-.938-.936-1.17 0-2.294-.188-3.343-.534-.33-.103-.694-.028-.957.225l-2.06 2.06C6.913 12.11 4.74 9.946 3.39 7.286l2.06-2.07c.263-.244.338-.61.235-.937C5.34 3.23 5.15 2.107 5.15.937 5.15.42 4.733 0 4.216 0H.937zM11.24 0v1.405h3.278l-5.152 5.15.937.938 5.15-5.15V5.62h1.406V0h-5.62z" fill="#4185F2"/></svg>\n'},18079:function(e,t,n){"use strict";n.r(t),t.default='<svg width="34" height="34" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><circle fill="_COLOR1_" cx="17" cy="17" r="17"/><g transform="translate(10 9)" fill="#FFF"><rect x="6" y="2" width="2" height="14" rx="1"/><rect transform="rotate(-45 9.879 4.879)" x="8.879" y="-.121" width="2" height="10" rx="1"/><rect transform="scale(-1 1) rotate(-45 0 15.243)" x="3.293" y="-.121" width="2" height="10" rx="1"/></g></g></svg>\n'},63899:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n  <g fill="none" fill-rule="evenodd">\n    <path d="M0 0h24v24H0z"/>\n    <path d="M0 0h24v24H0z"/>\n    <path fill="#02A95F" fill-rule="nonzero" d="M18.904 15.214a2.113 2.113 0 0 0-1.527-.624c-.598 0-1.185.228-1.624.66a3.566 3.566 0 0 0-.917 1.428c-.72-.072-3.08-1.569-4.533-3.033C8.898 12.216 7.407 9.843 7.32 9.11a3.547 3.547 0 0 0 1.49-.852c.44-.42.697-.96.721-1.549a2.058 2.058 0 0 0-.586-1.548L7.382 3.576A1.927 1.927 0 0 0 5.99 3a2.14 2.14 0 0 0-1.478.6l-.244.24c-.33.3-.586.66-.758 1.057-.024.06-.708 1.56-.452 2.689.05.168 1.42 4.5 5.181 8.063 3.762 3.564 7.844 5.219 8.028 5.279.195.048.415.072.647.072.99 0 2.04-.42 2.077-.432a3.711 3.711 0 0 0 1.112-.708l.244-.24c.818-.78.88-2.053.122-2.822l-1.564-1.584z"/>\n  </g>\n</svg>'},99652:function(e,t,n){"use strict";n.r(t),t.default='<svg width="23" height="23" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M1 14.7V21l4.176-3H21c.56 0 .999-.448.999-1V2c0-.545-.447-1-.999-1H2A.994.994 0 0 0 1 2v12.7z" stroke="#00BE64" stroke-width="2"/><path fill="#00BE64" d="M5 6h14v2H5zM5 11h11v2H5z"/></g></svg>\n'},2427:function(e,t,n){"use strict";n.r(t),t.default='<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="a" d="M0 0h24v24H0z"/></defs><g transform="rotate(-180 12 12)" fill="none" fill-rule="evenodd"><mask id="b" fill="#fff"><use xlink:href="#a"/></mask><g mask="url(#b)" stroke="#FFF" stroke-linecap="round" stroke-width="2"><path d="M14.458 17.911l-6.364-6.364 6.364-6.364"/></g></g></svg>'},34948:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 10 10"><path fill="_COLOR1_" d="M.813.006l9.18 9.18-.806.807L.007.813z"/><path fill="_COLOR1_" d="M9.994.813l-9.18 9.18-.808-.806 9.18-9.18z"/></svg>\n'},12298:function(e,t,n){"use strict";n.r(t),t.default='<svg width="10" height="35" viewBox="0 0 9 35" xmlns="http://www.w3.org/2000/svg"><path fill="_COLOR1_" d="M1.31 34.966H.975c-.295 0-.53-.09-.71-.27C.09 34.516 0 34.3 0 34.05v-2.33c0-.25.097-.465.288-.645.193-.18.42-.27.687-.27H1.3c1.776 0 3.223-1.37 3.238-3.06v-8.94H.975c-.236 0-.458-.09-.665-.27-.206-.18-.31-.395-.31-.645v-2.33c0-.223.104-.43.31-.625.207-.194.43-.292.665-.292h7.019c.266 0 .494.09.687.27.192.182.29.396.29.646V27.77c0 .032-.008.058-.01.09-.08 3.937-3.477 7.098-7.65 7.104zM.318 0C-.25 11.117 8.62 12.702 8.62 12.702 8.17.522.318 0 .318 0z"/></svg>\n'},82632:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="108" height="36" viewBox="0 0 108 36">\n    <g>\n        <path id="text" d="M6.342 11.967H.957c-.2 0-.4 0-.6.2 0 .2-.198.2-.198.4v1.993c0 .2 0 .4.198.6.2.198.4.198.6.198h2.79v14.36c0 1.397-1.196 2.594-2.392 2.594h-.4c-.2 0-.398 0-.598.2-.2.2-.2.398-.2.598v1.994c0 .2 0 .4.2.6.2.198.4.198.6.198h.198c3.192 0 5.785-2.792 5.785-5.984V12.566c0-.2 0-.4-.2-.6h-.398m6.98 0H11.33c-.2 0-.2 0-.4.2s-.2.2-.2.4v14.76c0 .2 0 .398.2.598.2.2.4.2.598.2h1.795c.2 0 .4 0 .598-.2.2-.2.2-.4.2-.598v-14.76c0-.2 0-.4-.198-.6h-.6m17.154 0H28.88c-.598 0-.997.2-.997.4l-4.388 9.973-4.188-9.974c0-.4-.4-.4-.6-.4h-1.993c-.4 0-.598 0-.598.2-.2.2-.2.4 0 .6l6.78 15.357c.2.2.4.4.6.4h.2c.198 0 .597-.2.597-.4l6.782-15.358c.2-.2.2-.4 0-.598-.2-.2-.4-.2-.6-.2m9.176-.4c-2.193.002-3.988.8-5.584 2.594-1.595 1.597-2.393 3.592-2.393 5.985 0 2.393.798 4.388 2.393 5.984 1.596 1.794 3.39 2.592 5.585 2.592s3.99-.798 5.586-2.593c1.596-1.796 2.394-3.79 2.394-5.985 0-2.393-.798-4.388-2.394-5.984-1.596-1.794-3.59-2.591-5.585-2.591m3.193 12.165c-.798.998-1.995 1.596-3.192 1.596-1.395 0-2.392-.398-3.39-1.395-.797-.998-1.396-2.194-1.396-3.79 0-1.396.4-2.792 1.397-3.59.798-.997 1.995-1.396 3.39-1.396 1.398 0 2.395.398 3.193 1.395.797.997 1.396 2.194 1.396 3.59s-.6 2.593-1.397 3.59m19.147-.598c-.398-.4-.797-.2-.997 0l-.4.4-.597.597c-.2.2-.4.2-.6.4-.198.2-.597.398-.796.398-.4 0-.6.2-.998.2-1.396 0-2.393-.6-3.19-1.596-.8-.998-1.397-2.194-1.397-3.79 0-1.396.4-2.792 1.396-3.79.998-.997 1.996-1.396 3.392-1.396 1.197 0 2.194.6 3.19 1.596.4.4.8.4.998.2l1.197-1.197s0-.4-.4-.8c-1.395-1.794-3.39-2.79-5.584-2.79-2.194-.002-3.99.796-5.584 2.59-1.597 1.597-2.395 3.592-2.395 5.985 0 2.393.798 4.388 2.394 6.183 1.594 1.596 3.39 2.394 5.583 2.394 2.593 0 4.588-1.197 5.984-3.39.2-.4.2-.8-.2-1.198l-.997-.997m11.57-11.569c-1.597 0-2.993.6-4.59 1.796V4.986c0-.2 0-.4-.198-.598-.2-.2-.4-.2-.6-.2H66.38c-.2 0-.398 0-.598.2-.2.2-.2.4-.2.598v22.54c0 .198 0 .398.2.597.2.2.4.2.598.2h1.796c.598 0 .797-.2.797-.798V17.353c.2-.6.8-.998 1.398-1.596.797-.598 1.795-.798 2.792-.798.997 0 1.795.398 2.393 1.196.6.798.798 1.795.798 3.19v8.378c0 .2 0 .4.2.6.2.198.4.198.6.198h1.794c.2 0 .4 0 .6-.2.198-.2.198-.398.198-.598v-8.177c-.2-5.386-2.194-7.979-6.183-7.979m20.144 1.995c-.4-.798-.997-1.197-1.596-1.596-.798-.4-1.795-.598-2.992-.598-1.994 0-3.79.398-5.385.996-.398.2-.597.4-.597.998l.4 1.396c.198.598.398.798.796.598a12.823 12.823 0 0 1 4.388-.798c.997 0 1.595.2 1.994.798.4.598.598 1.596.4 2.793l-.4-.2c-.2 0-.598-.198-1.197-.198-.4.2-.797.2-1.396.2-1.995 0-3.392.398-4.588 1.395-1.197.997-1.596 2.194-1.596 3.79s.4 2.992 1.396 3.99c.998.996 2.194 1.395 3.59 1.395 1.796 0 3.39-.598 4.787-1.994l.398 1.196c.2.4.4.6.6.6h1.195c.2 0 .4 0 .6-.2.198-.2.198-.4.198-.6V18.75c0-1.198 0-2.195-.198-2.993-.2-.598-.4-1.396-.798-2.194M91.31 23.735c-.2.4-.797.998-1.396 1.396-.798.4-1.396.6-2.194.6s-1.396-.2-1.795-.798c-.4-.4-.598-1.197-.598-1.795 0-.798.2-1.396.798-1.995.598-.4 1.396-.797 2.393-.797.598 0 1.197 0 1.795.2.6.198.997.198.997.398v2.792m16.555 2.793l-.598-1.596c-.2-.4-.4-.598-.997-.4a3.834 3.834 0 0 1-2.394.8c-.4 0-.798-.2-.997-.4-.2-.2-.4-.598-.4-1.396V14.96h4.19c.198 0 .397 0 .597-.2.2-.2.2-.4.2-.6v-1.594c0-.2 0-.4-.2-.6h-4.788V7.38c0-.2 0-.4-.2-.598-.2-.2-.398-.2-.598-.2h-1.994c-.2 0-.4 0-.6.2-.198.2-.198.398-.198.598v4.587h-1.795c-.4 0-.798.2-.798.798v1.396c0 .2 0 .4.2.6.2.2.398.2.598.2h1.795v8.975c0 1.595.2 2.792.798 3.59.598.798 1.595 1.197 2.99 1.197.8 0 1.597-.2 2.395-.4s1.396-.598 1.795-.797c.997-.2 1.197-.598.997-.997z" fill-rule="evenodd" fill="#3e414f"/>\n        <path id="leaf" d="M6.94 10.77C6.543.4.16 0 .16 0c-.4 9.374 6.78 10.77 6.78 10.77z" fill-rule="evenodd" fill="#44bb6e"/>\n    </g>\n</svg>'},93091:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="108" height="36" viewBox="0 0 108 36">\n    <g>\n        <path fill="_COLOR1_" fill-rule="evenodd" d="M6.342 11.967H.957c-.2 0-.4 0-.6.2 0 .2-.198.2-.198.4v1.993c0 .2 0 .4.198.6.2.198.4.198.6.198h2.79v14.36c0 1.397-1.196 2.594-2.392 2.594h-.4c-.2 0-.398 0-.598.2-.2.2-.2.398-.2.598v1.994c0 .2 0 .4.2.6.2.198.4.198.6.198h.198c3.192 0 5.785-2.792 5.785-5.984V12.566c0-.2 0-.4-.2-.6h-.398m6.98 0H11.33c-.2 0-.2 0-.4.2s-.2.2-.2.4v14.76c0 .2 0 .398.2.598.2.2.4.2.598.2h1.795c.2 0 .4 0 .598-.2.2-.2.2-.4.2-.598v-14.76c0-.2 0-.4-.198-.6h-.6m17.154 0H28.88c-.598 0-.997.2-.997.4l-4.388 9.973-4.188-9.974c0-.4-.4-.4-.6-.4h-1.993c-.4 0-.598 0-.598.2-.2.2-.2.4 0 .6l6.78 15.357c.2.2.4.4.6.4h.2c.198 0 .597-.2.597-.4l6.782-15.358c.2-.2.2-.4 0-.598-.2-.2-.4-.2-.6-.2m9.176-.4c-2.193.002-3.988.8-5.584 2.594-1.595 1.597-2.393 3.592-2.393 5.985 0 2.393.798 4.388 2.393 5.984 1.596 1.794 3.39 2.592 5.585 2.592s3.99-.798 5.586-2.593c1.596-1.796 2.394-3.79 2.394-5.985 0-2.393-.798-4.388-2.394-5.984-1.596-1.794-3.59-2.591-5.585-2.591m3.193 12.165c-.798.998-1.995 1.596-3.192 1.596-1.395 0-2.392-.398-3.39-1.395-.797-.998-1.396-2.194-1.396-3.79 0-1.396.4-2.792 1.397-3.59.798-.997 1.995-1.396 3.39-1.396 1.398 0 2.395.398 3.193 1.395.797.997 1.396 2.194 1.396 3.59s-.6 2.593-1.397 3.59m19.147-.598c-.398-.4-.797-.2-.997 0l-.4.4-.597.597c-.2.2-.4.2-.6.4-.198.2-.597.398-.796.398-.4 0-.6.2-.998.2-1.396 0-2.393-.6-3.19-1.596-.8-.998-1.397-2.194-1.397-3.79 0-1.396.4-2.792 1.396-3.79.998-.997 1.996-1.396 3.392-1.396 1.197 0 2.194.6 3.19 1.596.4.4.8.4.998.2l1.197-1.197s0-.4-.4-.8c-1.395-1.794-3.39-2.79-5.584-2.79-2.194-.002-3.99.796-5.584 2.59-1.597 1.597-2.395 3.592-2.395 5.985 0 2.393.798 4.388 2.394 6.183 1.594 1.596 3.39 2.394 5.583 2.394 2.593 0 4.588-1.197 5.984-3.39.2-.4.2-.8-.2-1.198l-.997-.997m11.57-11.569c-1.597 0-2.993.6-4.59 1.796V4.986c0-.2 0-.4-.198-.598-.2-.2-.4-.2-.6-.2H66.38c-.2 0-.398 0-.598.2-.2.2-.2.4-.2.598v22.54c0 .198 0 .398.2.597.2.2.4.2.598.2h1.796c.598 0 .797-.2.797-.798V17.353c.2-.6.8-.998 1.398-1.596.797-.598 1.795-.798 2.792-.798.997 0 1.795.398 2.393 1.196.6.798.798 1.795.798 3.19v8.378c0 .2 0 .4.2.6.2.198.4.198.6.198h1.794c.2 0 .4 0 .6-.2.198-.2.198-.398.198-.598v-8.177c-.2-5.386-2.194-7.979-6.183-7.979m20.144 1.995c-.4-.798-.997-1.197-1.596-1.596-.798-.4-1.795-.598-2.992-.598-1.994 0-3.79.398-5.385.996-.398.2-.597.4-.597.998l.4 1.396c.198.598.398.798.796.598a12.823 12.823 0 0 1 4.388-.798c.997 0 1.595.2 1.994.798.4.598.598 1.596.4 2.793l-.4-.2c-.2 0-.598-.198-1.197-.198-.4.2-.797.2-1.396.2-1.995 0-3.392.398-4.588 1.395-1.197.997-1.596 2.194-1.596 3.79s.4 2.992 1.396 3.99c.998.996 2.194 1.395 3.59 1.395 1.796 0 3.39-.598 4.787-1.994l.398 1.196c.2.4.4.6.6.6h1.195c.2 0 .4 0 .6-.2.198-.2.198-.4.198-.6V18.75c0-1.198 0-2.195-.198-2.993-.2-.598-.4-1.396-.798-2.194M91.31 23.735c-.2.4-.797.998-1.396 1.396-.798.4-1.396.6-2.194.6s-1.396-.2-1.795-.798c-.4-.4-.598-1.197-.598-1.795 0-.798.2-1.396.798-1.995.598-.4 1.396-.797 2.393-.797.598 0 1.197 0 1.795.2.6.198.997.198.997.398v2.792m16.555 2.793l-.598-1.596c-.2-.4-.4-.598-.997-.4a3.834 3.834 0 0 1-2.394.8c-.4 0-.798-.2-.997-.4-.2-.2-.4-.598-.4-1.396V14.96h4.19c.198 0 .397 0 .597-.2.2-.2.2-.4.2-.6v-1.594c0-.2 0-.4-.2-.6h-4.788V7.38c0-.2 0-.4-.2-.598-.2-.2-.398-.2-.598-.2h-1.994c-.2 0-.4 0-.6.2-.198.2-.198.398-.198.598v4.587h-1.795c-.4 0-.798.2-.798.798v1.396c0 .2 0 .4.2.6.2.2.398.2.598.2h1.795v8.975c0 1.595.2 2.792.798 3.59.598.798 1.595 1.197 2.99 1.197.8 0 1.597-.2 2.395-.4s1.396-.598 1.795-.797c.997-.2 1.197-.598.997-.997z"/>\n        <path fill="_COLOR2_" fill-rule="evenodd" d="M6.94 10.77C6.543.4.16 0 .16 0c-.4 9.374 6.78 10.77 6.78 10.77z"/>\n    </g>\n</svg>\n'},22722:function(e,t,n){"use strict";n.r(t),t.default='<svg width="46" height="15" preserveAspectRatio="xMinYMin meet" xmlns="http://www.w3.org/2000/svg"><path d="M.048 0c-.2 3.774 2.893 4.31 2.893 4.31C2.78.178.05 0 .05 0zm2.587 4.784H.35c-.08 0-.15.04-.215.103-.07.07-.103.136-.103.217v.803c0 .088.04.162.103.226.07.065.136.097.216.097h1.16v5.795c0 .542-.405.994-.924 1.06H.35c-.086 0-.16.03-.224.095a.303.303 0 0 0-.097.226v.804c0 .087.03.162.086.226a.303.303 0 0 0 .232.097H.46c1.318 0 2.397-1.04 2.478-2.35a.675.675 0 0 0 .013-.145V5.104a.307.307 0 0 0-.096-.226.29.29 0 0 0-.22-.094zm3.012 0h-.802c-.087 0-.16.04-.226.103-.065.07-.097.136-.097.217v6.01c0 .088.022.162.096.226a.3.3 0 0 0 .225.097h.802a.3.3 0 0 0 .216-.097.289.289 0 0 0 .103-.226v-6.01c0-.08-.04-.152-.103-.217-.07-.07-.136-.103-.216-.103zm7.313.016h-.648c-.242 0-.393.055-.448.184l-1.85 4.068h-.03L8.22 4.984a.294.294 0 0 0-.29-.184h-.875c-.12 0-.21.032-.258.113-.048.07-.04.162.016.258l2.867 6.254c.055.113.15.168.29.168h.087c.12 0 .216-.055.274-.168L13.2 5.17c.054-.095.064-.176.016-.257-.05-.074-.13-.113-.255-.113zm3.874-.152c-.927 0-1.723.336-2.387 1.02-.663.682-.992 1.492-.992 2.43 0 .947.335 1.774.986 2.458.665.69 1.457 1.036 2.388 1.036.93 0 1.723-.345 2.377-1.036.664-.69.992-1.508.992-2.457 0-.94-.328-1.75-.992-2.43-.663-.686-1.45-1.022-2.37-1.022zm1.41 4.965c-.382.41-.85.61-1.4.61-.56 0-1.034-.2-1.41-.6-.378-.4-.57-.914-.57-1.524 0-.595.183-1.092.57-1.486a1.88 1.88 0 0 1 1.41-.594c.56 0 1.024.194 1.4.594.378.394.572.89.572 1.485-.004.6-.197 1.107-.57 1.513zm8.576.123l-.447-.362c-.16-.12-.303-.113-.448.033-.016.016-.087.087-.21.2-.12.12-.21.2-.264.242-.053.038-.144.096-.263.177-.112.08-.24.13-.377.16-.135.024-.29.04-.447.04-.56 0-1.025-.2-1.402-.61a2.141 2.141 0 0 1-.57-1.502c0-.593.2-1.09.584-1.49.384-.4.867-.6 1.427-.6.507 0 .96.215 1.364.657.167.162.303.184.432.07l.512-.473c.167-.153.193-.314.054-.476-.624-.762-1.427-1.15-2.41-1.15-.927 0-1.722.337-2.392 1.01-.664.676-1.002 1.493-1.002 2.464 0 .988.328 1.815 1.002 2.463.657.666 1.456.996 2.393.996 1.105 0 1.97-.46 2.58-1.382.103-.148.07-.31-.113-.468zm4.542-5.088c-.647 0-1.288.233-1.923.69V2c0-.08-.04-.152-.104-.216-.07-.07-.135-.103-.216-.103h-.802a.31.31 0 0 0-.225.102c-.065.07-.097.136-.097.216v9.116c0 .088.032.162.097.217a.3.3 0 0 0 .225.098h.786c.216 0 .33-.104.33-.314v-4.14c.102-.218.302-.427.608-.644.303-.216.68-.32 1.13-.32.432 0 .76.146.986.45.226.296.335.73.335 1.284v3.364c0 .087.032.16.097.226a.303.303 0 0 0 .225.097h.802c.08 0 .152-.032.216-.096a.291.291 0 0 0 .103-.226v-3.33c-.003-2.087-.86-3.13-2.574-3.13zm8.601.859a1.341 1.341 0 0 0-.712-.65c-.327-.134-.743-.21-1.248-.21-.867 0-1.627.13-2.284.38-.184.064-.258.193-.216.383l.13.546c.047.216.176.313.376.274.72-.21 1.336-.313 1.85-.313.414 0 .694.12.855.362.162.24.226.625.21 1.16l-.184-.054a4.651 4.651 0 0 0-.513-.097 4.44 4.44 0 0 0-.64-.05c-.835 0-1.49.194-1.956.595-.473.4-.705.913-.705 1.55 0 .674.2 1.22.593 1.613.4.394.912.594 1.546.594.786 0 1.456-.28 2.033-.836l.16.45c.065.15.162.23.275.23h.48c.08 0 .15-.03.215-.096a.29.29 0 0 0 .104-.226V7.576c0-.48-.022-.868-.07-1.17a3.256 3.256 0 0 0-.297-.9zm-1.056 4.106c-.113.194-.32.378-.625.546-.303.167-.61.257-.912.257-.335 0-.593-.103-.77-.297-.177-.194-.264-.45-.264-.755 0-.336.12-.6.383-.804.257-.2.583-.296.985-.296.264 0 .522.032.754.087.23.056.382.104.447.146v1.117zm7.048 1.127l-.258-.675c-.07-.2-.2-.248-.383-.145-.36.21-.712.313-1.066.313-.168 0-.303-.048-.393-.145-.087-.097-.136-.275-.136-.53V6.02h1.745c.087 0 .16-.038.226-.103a.294.294 0 0 0 .097-.216v-.583a.295.295 0 0 0-.096-.233.331.331 0 0 0-.225-.087H43.72v-1.86a.34.34 0 0 0-.088-.225.268.268 0 0 0-.215-.097h-.82a.303.303 0 0 0-.224.097.3.3 0 0 0-.097.226V4.79h-.76c-.21 0-.312.104-.312.314v.584c0 .087.032.16.096.226a.305.305 0 0 0 .226.097h.76v3.597c0 .642.12 1.14.36 1.475.25.346.68.513 1.305.513.362 0 .707-.054 1.058-.16.35-.104.615-.21.786-.314.177-.1.225-.228.16-.38z" fill="#FFF" fill-rule="evenodd"/></svg>'},88603:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="108" height="36" viewBox="0 0 108 36">\n  <g>\n    <path id="text" d="M14.118 11.775h-1.985c-.198 0-.397 0-.595.2-.2.2-.2.398-.2.598V27.34c0 .2 0 .4.2.6.198.2.397.2.595.2h1.985c.2 0 .397 0 .596-.2.198-.2.198-.4.198-.6V12.574c0-.2 0-.4-.198-.6-.2 0-.397-.198-.596-.198m18.262 0h-1.587c-.596 0-.993.2-1.19.4l-4.567 9.977-4.367-9.978c-.2-.4-.398-.4-.795-.4H17.69c-.396 0-.594 0-.594.2-.2.2-.2.4 0 .6l7.146 15.366c.198.2.397.4.794.4h.198c.397 0 .596-.2.596-.4l7.146-15.367c.2-.2.2-.4 0-.6 0 0-.198-.198-.596-.198m9.727-.4c-2.382 0-4.367.8-5.955 2.595-1.588 1.596-2.58 3.592-2.58 5.987s.793 4.39 2.58 5.987c1.588 1.796 3.573 2.594 5.955 2.594s4.367-.798 5.955-2.594c1.588-1.796 2.382-3.792 2.382-5.987 0-2.395-.794-4.39-2.58-5.987-1.588-1.597-3.573-2.595-5.757-2.595m3.375 12.374c-.993.997-2.184 1.595-3.573 1.595-1.39 0-2.582-.4-3.574-1.397-.993-.998-1.39-2.195-1.39-3.792 0-1.396.397-2.793 1.39-3.592.992-.998 2.183-1.397 3.573-1.397 1.388 0 2.58.4 3.572 1.397.992.998 1.39 2.195 1.39 3.592 0 1.398-.398 2.595-1.39 3.593m16.873-3.394c-.596-.4-1.19-.798-1.59-.998-.594-.2-1.19-.6-2.182-.998-.993-.4-1.588-.798-2.183-1.197-.398-.4-.795-.798-.795-1.197 0-.4.2-.8.596-.998.398-.2.795-.4 1.59-.4 1.19 0 2.182.2 3.572.8.595.198.794.198.992-.4l.596-1.198c.198-.4.198-.798-.397-1.197-1.19-.798-2.78-1.198-4.764-1.198-1.788 0-3.177.4-4.17 1.397-.992.998-1.39 1.996-1.39 3.194 0 1.197.398 2.195 1.192 2.993.794.797 1.787 1.396 3.374 2.194 1.19.6 2.184.998 2.78 1.397.595.4.794.8.794 1.398 0 .4-.2.8-.596 1.198-.397.2-.993.4-1.588.4-1.19 0-2.58-.4-4.17-1.2-.594-.198-.793-.198-.99.2l-.795 1.597c-.198.4 0 .6.2.8 1.587 1.196 3.374 1.595 5.36 1.595 1.785 0 3.175-.4 4.366-1.397.992-.997 1.588-1.994 1.588-3.39 0-.8-.198-1.398-.397-1.997 0-.4-.397-.998-.992-1.397m7.146-8.58h-1.984c-.2 0-.398 0-.596.198-.198.2-.198.4-.198.6V27.34c0 .2 0 .4.198.6.198.2.397.2.596.2H69.5c.2 0 .397 0 .596-.2.2-.2.2-.4.2-.6V12.574c0-.2 0-.4-.2-.6-.2 0-.397-.198-.595-.198m14.293 12.972c-.2-.4-.596-.6-.993-.4-.794.6-1.786.8-2.58.8-.397 0-.794-.2-.993-.4-.198-.2-.397-.6-.397-1.398v-8.782h4.367c.2 0 .397 0 .596-.2.198 0 .198-.2.198-.398v-1.397c0-.2 0-.4-.197-.6-.2-.198-.397-.198-.596-.198H78.83v-4.59c0-.2 0-.4-.198-.6-.2 0-.2-.2-.596-.2H76.05c-.197 0-.396 0-.594.2-.2.2-.2.4-.2.6v4.59h-1.984c-.595 0-.794.2-.794.798v1.397c0 .2 0 .4.2.598.197.2.395.2.594.2h1.985v8.98c0 1.597.397 2.795.993 3.593.595.8 1.786 1.198 3.176 1.198.794 0 1.786-.2 2.58-.4.794-.198 1.588-.598 1.985-.797.398-.2.597-.598.398-.997l-.595-1.596M99.276 13.57c-1.39-1.396-3.176-2.195-5.36-2.195-2.382 0-4.367.8-5.955 2.595-1.587 1.596-2.38 3.592-2.38 5.987s.793 4.39 2.38 6.186c1.59 1.597 3.574 2.395 5.957 2.395 2.58 0 4.565-.598 6.153-1.995.397-.4.397-.8 0-1.198l-.992-1.397c-.2-.4-.596-.4-.993 0-1.39.998-2.58 1.397-3.97 1.397-1.39 0-2.58-.4-3.573-1.397-.993-.998-1.39-1.996-1.39-3.193h11.315c.397 0 .794-.2.794-.798V18.76c.2-1.996-.595-3.792-1.984-5.19m-9.925 4.59c.2-.997.596-1.995 1.39-2.594.794-.798 1.787-.998 2.978-.998 1.19 0 2.183.4 2.78.998.793.8 1.19 1.597 1.19 2.595H89.35M6.576 11.776H1.017c-.198 0-.397 0-.595.2-.2.2-.2.398-.2.598v1.995c0 .2 0 .4.2.6.198.2.397.2.595.2h2.78v14.368c0 1.397-1.192 2.594-2.58 2.594h-.2c-.198 0-.397 0-.595.2-.2.2-.2.4-.2.598v1.996c0 .2 0 .4.2.6.198.198.397.198.595.198h.2c3.373 0 6.152-2.794 6.152-5.987V12.772c0-.2 0-.4-.2-.598-.198-.2-.198-.4-.595-.4z" fill-rule="evenodd" fill="#3e414f"/>\n    <path id="leaf" d="M7.37 10.577C6.97.4.222 0 .222 0-.174 9.18 7.37 10.577 7.37 10.577z" fill-rule="evenodd" fill="#44bb6e"/>\n  </g>\n</svg>'},30349:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="25.688" height="18">\n    <path fill="_COLOR1_" d="M7.155 5.93H6.134a.4.4 0 00-.287.128.378.378 0 00-.123.268v7.448a.377.377 0 00.123.28.389.389 0 00.287.12h1.021a.382.382 0 00.274-.12.353.353 0 00.131-.28V6.33a.375.375 0 00-.131-.268.353.353 0 00-.274-.132zm9.313.02h-.824a.557.557 0 00-.57.228l-2.353 5.04h-.041l-2.242-5.04a.379.379 0 00-.369-.228H8.958a.356.356 0 00-.328.14.289.289 0 00.021.32l3.648 7.748a.376.376 0 00.369.208h.111a.373.373 0 00.348-.208l3.648-7.748a.288.288 0 00.021-.32.368.368 0 00-.328-.14zm4.935-.188a4.312 4.312 0 00-4.3 4.276 4.212 4.212 0 001.254 3.044 4.11 4.11 0 003.038 1.284 4.069 4.069 0 003.025-1.284 4.181 4.181 0 001.262-3.044 4.313 4.313 0 00-4.279-4.276zm1.783 6.156a2.379 2.379 0 01-1.783.756 2.4 2.4 0 01-1.8-.744 2.623 2.623 0 01-.725-1.888 2.529 2.529 0 01.725-1.84 2.427 2.427 0 011.8-.736 2.368 2.368 0 011.783.736 2.525 2.525 0 01.725 1.84 2.669 2.669 0 01-.725 1.876zM3.322 5.93H.416a.392.392 0 00-.275.128.373.373 0 00-.131.272v1a.386.386 0 00.131.28.4.4 0 00.275.12h1.475v7.17a1.331 1.331 0 01-1.18 1.312H.416a.4.4 0 00-.287.12.371.371 0 00-.123.28v1a.415.415 0 00.111.28.394.394 0 00.295.12h.143a3.13 3.13 0 003.152-2.9.848.848 0 00.017-.188V6.33a.377.377 0 00-.123-.28.365.365 0 00-.279-.12z" fill-rule="evenodd"/>\n    <path fill="_COLOR2_" d="M.03-.006c-.254 4.676 3.681 5.34 3.681 5.34C3.515.214.03-.006.03-.006z" fill-rule="evenodd"/>\n</svg>'},15504:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="25.688" height="18"><path d="M7.155 5.93H6.134a.4.4 0 00-.287.128.378.378 0 00-.123.268v7.448a.377.377 0 00.123.28.389.389 0 00.287.12h1.021a.382.382 0 00.274-.12.353.353 0 00.131-.28V6.33a.375.375 0 00-.131-.268.353.353 0 00-.274-.132zm9.313.02h-.824a.557.557 0 00-.57.228l-2.353 5.04h-.041l-2.242-5.04a.379.379 0 00-.369-.228H8.958a.356.356 0 00-.328.14.289.289 0 00.021.32l3.648 7.748a.376.376 0 00.369.208h.111a.373.373 0 00.348-.208l3.648-7.748a.288.288 0 00.021-.32.368.368 0 00-.328-.14zm4.935-.188a4.312 4.312 0 00-4.3 4.276 4.212 4.212 0 001.254 3.044 4.11 4.11 0 003.038 1.284 4.069 4.069 0 003.025-1.284 4.181 4.181 0 001.262-3.044 4.313 4.313 0 00-4.279-4.276zm1.783 6.156a2.379 2.379 0 01-1.783.756 2.4 2.4 0 01-1.8-.744 2.623 2.623 0 01-.725-1.888 2.529 2.529 0 01.725-1.84 2.427 2.427 0 011.8-.736 2.368 2.368 0 011.783.736 2.525 2.525 0 01.725 1.84 2.669 2.669 0 01-.725 1.876zM3.322 5.93H.416a.392.392 0 00-.275.128.373.373 0 00-.131.272v1a.386.386 0 00.131.28.4.4 0 00.275.12h1.475v7.17a1.331 1.331 0 01-1.18 1.312H.416a.4.4 0 00-.287.12.371.371 0 00-.123.28v1a.415.415 0 00.111.28.394.394 0 00.295.12h.143a3.13 3.13 0 003.152-2.9.848.848 0 00.017-.188V6.33a.377.377 0 00-.123-.28.365.365 0 00-.279-.12z" fill-rule="evenodd" fill="#fff"/><path data-name="Фигура 13 копия 3" d="M.03-.006c-.254 4.676 3.681 5.34 3.681 5.34C3.515.214.03-.006.03-.006z" fill="#00c151" fill-rule="evenodd"/></svg>'},36683:function(e,t,n){"use strict";n.r(t),t.default='<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient x1="50%" y1="3.556%" x2="50%" y2="97.988%" id="a"><stop stop-color="#00C6FF" offset="0%"/><stop stop-color="#0371FF" offset="100%"/></linearGradient></defs><path d="M7.5 0C3.375 0 0 3.105 0 6.938c0 2.16 1.065 4.087 2.737 5.362l.046 2.7 2.587-1.41-.022-.008a8.106 8.106 0 0 0 2.152.293c4.125 0 7.5-3.105 7.5-6.938C15 3.106 11.625 0 7.5 0zm.773 9.307L6.405 7.335l-3.78 1.972L6.66 5.085l1.935 1.853 3.637-1.853-3.96 4.222z" transform="translate(1)" fill-rule="nonzero" fill="url(#a)"/></svg>'},33825:function(e,t,n){"use strict";n.r(t),t.default='<svg width="18" height="17" viewBox="0 0 18 17" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M.318 8.043L4.465 9.59l1.606 5.164c.104.33.508.452.776.233l2.312-1.885c.243-.197.588-.207.84-.023l4.17 3.026c.288.21.695.052.767-.295L17.99 1.118c.078-.38-.294-.695-.655-.555L.313 7.128c-.42.162-.416.757.005.915zm5.494.724l8.106-4.993c.146-.09.296.108.17.224l-6.69 6.218c-.234.22-.386.512-.43.83l-.227 1.69c-.03.224-.346.247-.408.028l-.876-3.08c-.1-.35.045-.726.356-.917z" fill="_COLOR1_"/></g></svg>\n'},75001:function(e,t,n){"use strict";n.r(t),t.default='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><g><rect fill="#7B519D" width="20" height="20" rx="3"/><g fill="#FFF"><path d="M15.892 13.177c-.433-.35-.896-.662-1.352-.982-.91-.638-1.74-.688-2.418.34-.38.576-.914.6-1.47.348-1.538-.697-2.724-1.77-3.42-3.332-.307-.69-.303-1.31.417-1.798.38-.26.763-.564.733-1.13-.04-.735-1.828-3.196-2.534-3.456-.294-.108-.584-.1-.882 0-1.655.556-2.34 1.918-1.684 3.53 1.96 4.81 5.407 8.158 10.153 10.202.27.116.57.162.723.204 1.08.01 2.347-1.03 2.712-2.063.352-.995-.392-1.39-.98-1.863zM10.57 3.66c3.47.533 5.07 2.182 5.512 5.677.04.323-.08.81.38.818.483.01.367-.47.37-.793.04-3.29-2.828-6.342-6.16-6.455-.253.036-.773-.173-.806.39-.02.38.417.318.704.362z"/><path d="M11.25 4.617c-.335-.04-.775-.197-.853.266-.082.486.41.437.725.507 2.143.48 2.89 1.26 3.242 3.385.05.31-.05.792.476.712.39-.06.25-.473.282-.714.017-2.04-1.732-3.9-3.873-4.156z"/><path d="M11.446 6.286c-.223.006-.442.03-.524.268-.122.356.136.44.4.483.88.14 1.34.66 1.43 1.536.023.238.174.43.404.403.318-.038.347-.32.337-.59.016-.985-1.097-2.124-2.047-2.1z"/></g></g></g></svg>\n'},74783:function(e,t,n){"use strict";n.r(t),t.default='<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M2.556 1C1.696 1 1 1.696 1 2.556v10.888C1 14.304 1.696 15 2.556 15h10.888c.86 0 1.556-.696 1.556-1.556V2.556C15 1.696 14.304 1 13.444 1H2.556zm.388 4.278h1.167c.28 0 .389.124.498.443.56 1.633 1.501 3.057 1.89 3.057.148 0 .218-.062.218-.428V6.662c-.047-.778-.46-.848-.46-1.12 0-.132.11-.264.296-.264H8.35c.249 0 .327.132.327.42v2.27c0 .242.1.328.179.328.147 0 .272-.086.536-.35.825-.926 1.408-2.342 1.408-2.342.078-.17.21-.326.498-.326h1.143c.35 0 .428.179.35.42-.148.669-1.54 2.636-1.54 2.636-.14.195-.171.288 0 .514.117.163.521.505.786.824.497.552.863 1.02.972 1.338.093.327-.07.49-.397.49h-1.15c-.436 0-.56-.35-1.339-1.128-.684-.653-.956-.739-1.143-.739-.233 0-.303.063-.303.397v1.027c0 .28-.086.443-.817.443-1.213 0-2.551-.739-3.492-2.1-1.424-1.991-1.812-3.492-1.812-3.796 0-.17.062-.326.388-.326z" fill-rule="nonzero" fill="#4A84C7"/></svg>'},64924:function(e,t,n){"use strict";n.r(t),t.default='<svg width="21" height="21" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M.12775 10.39923c-.00065 1.82864.4794 3.6137 1.3919 5.18715L.0402 20.96268 5.5684 19.52c1.5231.82671 3.238 1.26239 4.9832 1.26303h.0045c5.74725 0 10.42575-4.65498 10.4282-10.37539.00095-2.7725-1.0828-5.37933-3.05155-7.34045-1.969-1.96106-4.5872-3.04156-7.37665-3.0428C4.8079.02438.13005 4.67861.12775 10.39922z" fill="#34BC48" fill-rule="nonzero"/><path d="M7.94975 6.06198c-.1952-.43184-.40065-.4405-.58635-.44806-.15185-.00647-.32575-.00607-.49935-.00607-.1737 0-.45605.06494-.69475.32445-.2389.25951-.9121.88683-.9121 2.1627 0 1.27603.9338 2.5089 1.06395 2.68208.1303.17293 1.8026 2.87486 4.45105 3.91436 2.2011.86384 2.649.692 3.12675.64881.47775-.04324 1.5416-.62721 1.75875-1.23278.21715-.60547.21715-1.12444.152-1.23293-.06515-.10808-.23885-.17292-.49945-.3026-.2606-.12969-1.5416-.75715-1.7805-.84359-.23885-.08644-.4126-.12968-.5863.12993-.17375.25937-.6728.84334-.82485 1.01626-.152.17333-.304.19492-.5646.06524-.2606-.13008-1.0998-.40363-2.09535-1.28707-.7746-.68733-1.29755-1.53618-1.4496-1.7958-.152-.25936-.01625-.39984.11445-.52913.117-.1162.2606-.3027.3909-.45414.13-.15142.17345-.25951.2603-.43244.08685-.17317.04345-.3246-.0217-.45428-.06515-.12969-.57155-1.41218-.80325-1.92494" fill="#FFF"/></g></svg>'},39186:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="89" height="72">\n    <style>\n        @-webkit-keyframes ochange {\n        0%   {opacity: 0}\n        50%  {opacity: 1}\n        100% {opacity: 0}\n        }\n        @keyframes ochange {\n        0%   {opacity: 0}\n        50%  {opacity: 1}\n        100% {opacity: 0}\n        }\n        #dot-1 {\n        opacity: 0;\n        animation-duration: 1.5s;\n        animation-name: ochange;\n        animation-iteration-count: infinite;\n        animation-delay: 0s;\n        }\n        #dot-2 {\n        opacity: 0;\n        animation-duration: 1.5s;\n        animation-name: ochange;\n        animation-iteration-count: infinite;\n        animation-delay: .3s;\n        }\n        #dot-3 {\n        opacity: 0;\n        animation-duration: 1.5s;\n        animation-name: ochange;\n        animation-iteration-count: infinite;\n        animation-delay: 0.6s;\n        }\n    </style>\n  <g fill="#18c139" fill-rule="evenodd">\n    <path fill-rule="nonzero" d="M73.237 53.784L60.17 46.72c-4.356-2.38-4.504-.818-9.081 4.09-1.108 1.19-3.175 4.313-5.611 3.718-5.095-1.264-14.618-8.774-17.72-12.195-1.476-1.636-7.825-9.443-7.899-11.972-.148-3.866 8.269-5.8 5.537-13.161L19.564 4.038C14.1-8.602-1.182 11.623.073 21.066c3.248 23.275 43.78 60.9 66.372 48.482 5.02-2.825 11.813-12.715 6.792-15.764z"/>\n    <g transform="translate(43 14)">\n      <circle id=\'dot-1\' cx="5" cy="5" r="5"/>\n      <circle id=\'dot-2\' cx="23" cy="5" r="5"/>\n      <circle id=\'dot-3\' cx="41" cy="5" r="5"/>\n    </g>\n  </g>\n</svg>'},1900:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="89" height="72">\n  <g fill="#18C139" fill-rule="evenodd">\n    <path fill-rule="nonzero" d="M73.237 53.784L60.17 46.72c-4.356-2.38-4.504-.818-9.081 4.09-1.108 1.19-3.175 4.313-5.611 3.718-5.095-1.264-14.618-8.774-17.72-12.195-1.476-1.636-7.825-9.443-7.899-11.972-.148-3.866 8.269-5.8 5.537-13.161L19.564 4.038C14.1-8.602-1.182 11.623.073 21.066c3.248 23.275 43.78 60.9 66.372 48.482 5.02-2.825 11.813-12.715 6.792-15.764z"/>\n  </g>\n</svg>'},75630:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 119 119"><path fill="#e8ecf1" d="M60.4 117.6c-13.7.3-27.3-5.2-37.8-14 7.8-7 17.1-11.9 27-14.5 2-.3 2.3-6.4 2.3-6.4-3.8-4.1-6.7-9.3-7.8-14.8-3.8 0-6.1-9-2.3-12.2-.3-3.5-4.7-26.2 18.6-26.2S79 52.5 79 55.6c3.8 3.2 1.5 12.2-2.3 12.2-1.2 5.5-3.8 10.8-7.8 14.8 0 0 0 6.1 2.3 6.4 9.9 2.6 19.2 7.6 27 14.5-7.9 6.8-20.6 14.1-37.8 14.1z"/><circle cx="59.5" cy="59.5" r="58" fill="none" stroke="#e8ecf1" stroke-miterlimit="10" stroke-width="3.5"/></svg>'},96955:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <g fill="none" fill-rule="evenodd">\n        <path d="M0 0h24v24H0z"/>\n        <path fill="_COLOR1_" d="M15.4 7.4L14 6l-6 6 6 6 1.4-1.4-4.6-4.6z"/>\n    </g>\n</svg>\n'},68611:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40">\n  <circle cx="20" cy="20" r="20" fill="#f1f0f0"/>\n  <path stroke="#181818" stroke-width="2" fill="#fff" d="M147.1 161.893h-20.178a4.87 4.87 0 01-4.862-4.879v-2.928c0-5.744 3.757-11.833 13.37-12.686l1.7-.182v.087l1.459.155c9.613.851 13.37 6.921 13.37 12.649v2.919a4.864 4.864 0 01-4.859 4.865z" transform="translate(-117 -129)"/>\n  <rect width="17" height="5" x="12" y="19" fill="#181818" rx="2.5" ry="2.5"/>\n  <path d="M137.993 132.009L138 141" stroke="#181818" stroke-width="2" fill="#fff" transform="translate(-117 -129)"/>\n  <path d="M147.083 153.872h.037a1.927 1.927 0 011.927 1.927v.021a1.927 1.927 0 01-1.927 1.927h-.037a1.927 1.927 0 01-1.927-1.927v-.02a1.927 1.927 0 011.927-1.928z" fill="#00d45c" transform="translate(-117 -129)"/>\n  <path d="M128.122 153.872h.037a1.927 1.927 0 011.927 1.927v.021a1.927 1.927 0 01-1.927 1.927h-.037a1.927 1.927 0 01-1.927-1.927v-.02a1.927 1.927 0 011.927-1.928z" fill="#00d45c" transform="translate(-117 -129)"/>\n  <path fill="#181818" fill-rule="evenodd" stroke="#000" stroke-width="1" d="M11.823 14.649a14.289 14.289 0 00-3.127 5 15.473 15.473 0 00-1 7.1c.3 2.649.232 4.854 10.3 4.249 11.756-.706 12.748 1.076 14.2.35s.971.242.971.242.495 1.181-3.882 1.21c-2.018.014-7.347-.08-10.016-.118-10.313-.145-10.392-.019-12.549-1.334-2.414-1.472-1.7-7.019-.97-9.2s2.305-5.325 3.639-6.051 2.434-1.448 2.434-1.448z"/>\n  <path fill="none" fill-rule="evenodd" stroke="#181818" stroke-width=".829" d="M20.258 12.467c2.213 0 4.008.487 4.008 1.087s-1.795 1.087-4.008 1.087-4.008-.487-4.008-1.087 1.794-1.087 4.008-1.087z"/>\n  <path fill="none" fill-rule="evenodd" stroke="#000" stroke-width="1" d="M17.881 26s.856 2 2.617 2c1.718 0 2.617-2 2.617-2"/>\n  <circle cx="20" cy="6" r="4" fill="#fff" stroke="#000" stroke-width="1"/>\n</svg>\n'},13339:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="97" height="79">\n  <g fill-rule="evenodd" fill="_COLOR1_">\n    <circle cx="3.282" cy="2.5" r="2.5"/>\n    <circle cx="93.782" cy="45" r="3"/>\n    <path d="M3.2 72.411l-.526-.512.526-.511a15 15 0 0 0 3.806-6.11l.09-.278.09.278a15 15 0 0 0 3.807 6.11l.526.511-.526.512a15 15 0 0 0-3.806 6.11l-.09.278-.091-.278A15 15 0 0 0 3.2 72.41zM78.946 9.46l-1.179-1.146 1.179-1.146a15 15 0 0 0 3.806-6.11L83.096 0l.345 1.058a15 15 0 0 0 3.806 6.11l1.178 1.146-1.178 1.146a15 15 0 0 0-3.806 6.11l-.345 1.057-.344-1.057a15 15 0 0 0-3.806-6.11z"/>\n    <g fill-rule="nonzero">\n      <path d="M47 69.25c14.497 0 26.25-11.753 26.25-26.25S61.497 16.75 47 16.75 20.75 28.503 20.75 43 32.503 69.25 47 69.25zM47 73c-16.569 0-30-13.431-30-30 0-16.569 13.431-30 30-30 16.569 0 30 13.431 30 30 0 16.569-13.431 30-30 30z"/>\n      <path d="M56.63 30.805a1.875 1.875 0 0 1 3.24 1.89l-13.125 22.5a1.875 1.875 0 0 1-2.946.38l-9.375-9.374a1.875 1.875 0 1 1 2.652-2.652l7.655 7.655 11.9-20.399z"/>\n    </g>\n  </g>\n</svg>'},54389:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21 15"><path fill="none" stroke="_COLOR1_" stroke-linecap="round" stroke-width="2" d="M1 6.3l7 7 12-12"/></svg>'},80441:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28">\n    <g fill="none" fill-rule="evenodd" transform="translate(2 2)">\n        <circle cx="12" cy="12" r="12" fill="#FFF" opacity="1"/>\n        <circle cx="12" cy="12" r="12.75" stroke="#222D38" stroke-width="1.5" opacity="1"/>\n        <g fill="#222D38" opacity="1" transform="translate(6 6)">\n            <rect width="1.611" height="13.9" x="5.435" y="-.941" rx=".806" transform="rotate(45 6.24 6.01)"/>\n            <rect width="1.611" height="13.9" x="5.435" y="-.941" rx=".806" transform="scale(-1 1) rotate(45 0 -9.058)"/>\n        </g>\n    </g>\n</svg>\n'},799:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\n    <g fill="none" fill-rule="evenodd">\n        <g fill="#fff">\n            <g>\n                <g>\n                    <path d="M11 10v1.5H0V10h11zm0-5v1.5H0V5h11zm0-5v1.5H0V0h11z" transform="translate(-856 -1718) translate(856 1718) translate(3 2)"/>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>\n'},66574:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="12" height="24"><defs/><g fill="none" fill-rule="evenodd"><path d="M0 0h12v24H0z"/><circle cx="6" cy="5" r="2" fill="_COLOR1_"/><circle cx="6" cy="12" r="2" fill="_COLOR1_"/><circle cx="6" cy="19" r="2" fill="_COLOR1_"/></g></svg>'},88921:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n  <g fill="_COLOR1_" fill-rule="evenodd" transform="translate(7 7)">\n    <rect width="1.5" height="12.941" x="5.06" y="-.876" rx=".75" transform="rotate(45 5.81 5.595)"/>\n    <rect width="1.5" height="12.941" x="5.06" y="-.876" rx=".75" transform="scale(-1 1) rotate(45 0 -8.433)"/>\n  </g>\n</svg>'},12320:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n  <path fill="_COLOR1_" fill-rule="nonzero" d="M19 14h4V2h-4v12zM15 2H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v2a2 2 0 0 0 2 2h6.31l-.95 4.57c-.02.1-.03.2-.03.31 0 .42.17.79.44 1.06L9.83 22l6.58-6.59c.37-.36.59-.86.59-1.41V4a2 2 0 0 0-2-2z"/>\n</svg>'},58915:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n  <path fill="_COLOR1_" fill-rule="nonzero" d="M23 11a2 2 0 0 0-2-2h-6.32l.96-4.57c.02-.1.03-.21.03-.32 0-.41-.17-.79-.44-1.06L14.17 2 7.59 8.58C7.22 8.95 7 9.45 7 10v10a2 2 0 0 0 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-2zM1 22h4V10H1v12z"/>\n</svg>'},31617:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="34"><path fill="_COLOR1_" d="M81.9 6.6h3.2v.8h-3.2zM9.2 20.2c.6.1 1.3.1 2 .1 3.9 0 7.3-1.2 9.4-3.6 1.6-1.7 2.4-4.1 2.4-7 0-2.9-1-5.3-2.7-6.9C18.4 1 15.5 0 11.6 0 8.4 0 5.9.3 4 .6v16.2H0v3.3h4V25H.1v3.3H4v5.4h4v-5.4h6.6V25H8v-4.8h1.2zM8 16.5V3.7c.7-.2 2-.3 3.7-.3 4.4 0 7.3 2.1 7.3 6.5 0 4.5-2.9 7-7.7 7-1.4 0-2.5-.1-3.3-.4z"/></svg>'},12103:function(e,t,n){"use strict";n.r(t),t.default='\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n  <g fill="none" fill-rule="evenodd">\n    <path d="M0 0h24v24H0z"/>\n    <path d="M0 0h24v24H0z"/>\n    <path fill="_COLOR1_" fill-rule="nonzero" d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"/>\n  </g>\n</svg>'},28122:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n  <g fill="none" fill-rule="evenodd">\n    <path d="M0 0h24v24H0z"/>\n    <path d="M0 0h24v24H0z"/>\n    <path fill="_COLOR1_" fill-rule="nonzero" d="M18.904 15.214a2.113 2.113 0 0 0-1.527-.624c-.598 0-1.185.228-1.624.66a3.566 3.566 0 0 0-.917 1.428c-.72-.072-3.08-1.569-4.533-3.033C8.898 12.216 7.407 9.843 7.32 9.11a3.547 3.547 0 0 0 1.49-.852c.44-.42.697-.96.721-1.549a2.058 2.058 0 0 0-.586-1.548L7.382 3.576A1.927 1.927 0 0 0 5.99 3a2.14 2.14 0 0 0-1.478.6l-.244.24c-.33.3-.586.66-.758 1.057-.024.06-.708 1.56-.452 2.689.05.168 1.42 4.5 5.181 8.063 3.762 3.564 7.844 5.219 8.028 5.279.195.048.415.072.647.072.99 0 2.04-.42 2.077-.432a3.711 3.711 0 0 0 1.112-.708l.244-.24c.818-.78.88-2.053.122-2.822l-1.564-1.584z"/>\n  </g>\n</svg>'},36972:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24"><defs><path id="a" d="M0 0h24v24H0z"/></defs><g fill="none" fill-rule="evenodd" transform="rotate(-90 12 12)"><mask id="b" fill="#fff"><use xlink:href="#a"/></mask><g stroke="_COLOR1_" stroke-linecap="round" stroke-width="1.5" mask="url(#b)"><path d="M13.343 16.814l-4.657-4.657L13.343 7.5"/></g></g></svg>'},62842:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="40" viewBox="0 0 32 40">\n    <g fill="none" fill-rule="evenodd">\n        <path fill="_COLOR1_" d="M0 0h9.02L32 33.196V40H0z"/>\n        <path fill="_COLOR2_" d="M9 0c3.581.05 23 5.426 23 33.08v.03C18.922 30.751 9 19.311 9 5.554V0z"/>\n    </g>\n</svg>\n'},93759:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="40" viewBox="0 0 32 40">\n    <g fill="none" fill-rule="evenodd">\n        <path fill="_COLOR1_" d="M0 0h9.02L32 33.196V40H0z"/>\n        <path fill="_COLOR1_" d="M9 0c3.581.05 23 5.426 23 33.08v.03C18.922 30.751 9 19.311 9 5.554V0z" fill-opacity="1"/>\n        <path fill="#5e5f61" d="M9 0c3.581.05 23 5.426 23 33.08v.03C18.922 30.751 9 19.311 9 5.554V0z" fill-opacity="0.7"/>\n    </g>\n</svg>\n'},39581:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"/><path fill="_COLOR1_" fill-rule="nonzero" d="M21 3v12.5a3.5 3.5 0 1 1-2-3.16V6.47L9 8.6v8.9a3.5 3.5 0 1 1-2-3.16V6l14-3z"/></g></svg>'},54304:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"/><path fill="_COLOR1_" fill-rule="nonzero" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></g></svg>\n'},28149:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"/><path fill="_COLOR1_" fill-rule="nonzero" d="M13 9V3.5L18.5 9H13zM6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6H6z"/></g></svg>'},28372:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"/><path fill="_COLOR1_" fill-rule="nonzero" d="M11 15h2v2h-2v-2zm0-8h2v6h-2V7zm1-5C6.47 2 2 6.5 2 12a10 10 0 0 0 10 10c5.523 0 10-4.477 10-10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 0-16 8 8 0 0 1 0 16z"/></g></svg>'},69357:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"/><path fill="_COLOR1_" fill-rule="nonzero" d="M21 18V4c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 12.5l2.5 3.01L14.5 11l4.5 6H5l3.5-4.5z"/></g></svg>'},43055:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"/><path fill="_COLOR1_" fill-rule="nonzero" d="M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"/></g></svg>'},42899:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32">\n  <g fill="none" fill-rule="evenodd">    \n    <path d="M0 0h32v32H0z"/>\n    <circle cx="16" cy="16" r="16" fill="_COLOR1_"/>\n    <path fill="_COLOR2_" fill-rule="nonzero" d="M11.35 22.482l.697-4.32 8.84-2.16-8.84-2.16-.697-4.32 13.355 6.48-13.355 6.48zm.301.65c-.513.25-1.087-.194-.995-.768l.697-4.32a.713.713 0 0 1 .53-.583l8.841-2.16v1.4l-8.84-2.16a.713.713 0 0 1-.531-.582l-.697-4.32c-.092-.574.482-1.017.995-.768l13.355 6.48c.537.26.537 1.041 0 1.301l-13.355 6.48z"/>\n  </g>\n</svg>'},99350:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M493.815 70.629c-11.001-1.003-20.73 7.102-21.733 18.102l-2.65 29.069C424.473 47.194 346.429 0 256 0 158.719 0 72.988 55.522 30.43 138.854c-5.024 9.837-1.122 21.884 8.715 26.908 9.839 5.024 21.884 1.123 26.908-8.715C102.07 86.523 174.397 40 256 40c74.377 0 141.499 38.731 179.953 99.408l-28.517-20.367c-8.989-6.419-21.48-4.337-27.899 4.651-6.419 8.989-4.337 21.479 4.651 27.899l86.475 61.761c12.674 9.035 30.155.764 31.541-14.459l9.711-106.53c1.004-11.001-7.1-20.731-18.1-21.734zM472.855 346.238c-9.838-5.023-21.884-1.122-26.908 8.715C409.93 425.477 337.603 472 256 472c-74.377 0-141.499-38.731-179.953-99.408l28.517 20.367c8.989 6.419 21.479 4.337 27.899-4.651 6.419-8.989 4.337-21.479-4.651-27.899l-86.475-61.761c-12.519-8.944-30.141-.921-31.541 14.459L.085 419.637c-1.003 11 7.102 20.73 18.101 21.733 11.014 1.001 20.731-7.112 21.733-18.102l2.65-29.069C87.527 464.806 165.571 512 256 512c97.281 0 183.012-55.522 225.57-138.854 5.024-9.837 1.122-21.884-8.715-26.908z"/></svg>'},23791:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#DD2E44" d="M11.626 7.488c-.112.112-.197.247-.268.395l-.008-.008L.134 33.141l.011.011c-.208.403.14 1.223.853 1.937.713.713 1.533 1.061 1.936.853l.01.01L28.21 24.735l-.008-.009c.147-.07.282-.155.395-.269 1.562-1.562-.971-6.627-5.656-11.313-4.687-4.686-9.752-7.218-11.315-5.656z"/><path fill="#EA596E" d="M13 12L.416 32.506l-.282.635.011.011c-.208.403.14 1.223.853 1.937.232.232.473.408.709.557L17 17l-4-5z"/><path fill="#A0041E" d="M23.012 13.066c4.67 4.672 7.263 9.652 5.789 11.124-1.473 1.474-6.453-1.118-11.126-5.788-4.671-4.672-7.263-9.654-5.79-11.127 1.474-1.473 6.454 1.119 11.127 5.791z"/><path fill="#AA8DD8" d="M18.59 13.609c-.199.161-.459.245-.734.215-.868-.094-1.598-.396-2.109-.873-.541-.505-.808-1.183-.735-1.862.128-1.192 1.324-2.286 3.363-2.066.793.085 1.147-.17 1.159-.292.014-.121-.277-.446-1.07-.532-.868-.094-1.598-.396-2.11-.873-.541-.505-.809-1.183-.735-1.862.13-1.192 1.325-2.286 3.362-2.065.578.062.883-.057 1.012-.134.103-.063.144-.123.148-.158.012-.121-.275-.446-1.07-.532-.549-.06-.947-.552-.886-1.102.059-.549.55-.946 1.101-.886 2.037.219 2.973 1.542 2.844 2.735-.13 1.194-1.325 2.286-3.364 2.067-.578-.063-.88.057-1.01.134-.103.062-.145.123-.149.157-.013.122.276.446 1.071.532 2.037.22 2.973 1.542 2.844 2.735-.129 1.192-1.324 2.286-3.362 2.065-.578-.062-.882.058-1.012.134-.104.064-.144.124-.148.158-.013.121.276.446 1.07.532.548.06.947.553.886 1.102-.028.274-.167.511-.366.671z"/><path fill="#77B255" d="M30.661 22.857c1.973-.557 3.334.323 3.658 1.478.324 1.154-.378 2.615-2.35 3.17-.77.216-1.001.584-.97.701.034.118.425.312 1.193.095 1.972-.555 3.333.325 3.657 1.479.326 1.155-.378 2.614-2.351 3.17-.769.216-1.001.585-.967.702.033.117.423.311 1.192.095.53-.149 1.084.16 1.233.691.148.532-.161 1.084-.693 1.234-1.971.555-3.333-.323-3.659-1.479-.324-1.154.379-2.613 2.353-3.169.77-.217 1.001-.584.967-.702-.032-.117-.422-.312-1.19-.096-1.974.556-3.334-.322-3.659-1.479-.325-1.154.378-2.613 2.351-3.17.768-.215.999-.585.967-.701-.034-.118-.423-.312-1.192-.096-.532.15-1.083-.16-1.233-.691-.149-.53.161-1.082.693-1.232z"/><path fill="#AA8DD8" d="M23.001 20.16c-.294 0-.584-.129-.782-.375-.345-.432-.274-1.061.156-1.406.218-.175 5.418-4.259 12.767-3.208.547.078.927.584.849 1.131-.078.546-.58.93-1.132.848-6.493-.922-11.187 2.754-11.233 2.791-.186.148-.406.219-.625.219z"/><path fill="#77B255" d="M5.754 16c-.095 0-.192-.014-.288-.042-.529-.159-.829-.716-.67-1.245 1.133-3.773 2.16-9.794.898-11.364-.141-.178-.354-.353-.842-.316-.938.072-.849 2.051-.848 2.071.042.551-.372 1.031-.922 1.072-.559.034-1.031-.372-1.072-.923-.103-1.379.326-4.035 2.692-4.214 1.056-.08 1.933.287 2.552 1.057 2.371 2.951-.036 11.506-.542 13.192-.13.433-.528.712-.958.712z"/><circle fill="#5C913B" cx="25.5" cy="9.5" r="1.5"/><circle fill="#9266CC" cx="2" cy="18" r="2"/><circle fill="#5C913B" cx="32.5" cy="19.5" r="1.5"/><circle fill="#5C913B" cx="23.5" cy="31.5" r="1.5"/><circle fill="#FFCC4D" cx="28" cy="4" r="2"/><circle fill="#FFCC4D" cx="32.5" cy="8.5" r="1.5"/><circle fill="#FFCC4D" cx="29.5" cy="12.5" r="1.5"/><circle fill="#FFCC4D" cx="7.5" cy="23.5" r="1.5"/></svg>'},56482:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFDB5E" d="M34.956 17.916c0-.503-.12-.975-.321-1.404-1.341-4.326-7.619-4.01-16.549-4.221-1.493-.035-.639-1.798-.115-5.668.341-2.517-1.282-6.382-4.01-6.382-4.498 0-.171 3.548-4.148 12.322-2.125 4.688-6.875 2.062-6.875 6.771v10.719c0 1.833.18 3.595 2.758 3.885C8.195 34.219 7.633 36 11.238 36h18.044c1.838 0 3.333-1.496 3.333-3.334 0-.762-.267-1.456-.698-2.018 1.02-.571 1.72-1.649 1.72-2.899 0-.76-.266-1.454-.696-2.015 1.023-.57 1.725-1.649 1.725-2.901 0-.909-.368-1.733-.961-2.336.757-.611 1.251-1.535 1.251-2.581z"/><path fill="#EE9547" d="M23.02 21.249h8.604c1.17 0 2.268-.626 2.866-1.633.246-.415.109-.952-.307-1.199-.415-.247-.952-.108-1.199.307-.283.479-.806.775-1.361.775h-8.81c-.873 0-1.583-.71-1.583-1.583s.71-1.583 1.583-1.583H28.7c.483 0 .875-.392.875-.875s-.392-.875-.875-.875h-5.888c-1.838 0-3.333 1.495-3.333 3.333 0 1.025.475 1.932 1.205 2.544-.615.605-.998 1.445-.998 2.373 0 1.028.478 1.938 1.212 2.549-.611.604-.99 1.441-.99 2.367 0 1.12.559 2.108 1.409 2.713-.524.589-.852 1.356-.852 2.204 0 1.838 1.495 3.333 3.333 3.333h5.484c1.17 0 2.269-.625 2.867-1.632.247-.415.11-.952-.305-1.199-.416-.245-.953-.11-1.199.305-.285.479-.808.776-1.363.776h-5.484c-.873 0-1.583-.71-1.583-1.583s.71-1.583 1.583-1.583h6.506c1.17 0 2.27-.626 2.867-1.633.247-.416.11-.953-.305-1.199-.419-.251-.954-.11-1.199.305-.289.487-.799.777-1.363.777h-7.063c-.873 0-1.583-.711-1.583-1.584s.71-1.583 1.583-1.583h8.091c1.17 0 2.269-.625 2.867-1.632.247-.415.11-.952-.305-1.199-.417-.246-.953-.11-1.199.305-.289.486-.799.776-1.363.776H23.02c-.873 0-1.583-.71-1.583-1.583s.709-1.584 1.583-1.584z"/></svg>'},63365:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFDB5E" d="M34.956 18.084c0 .503-.12.975-.321 1.404-1.341 4.326-7.619 4.01-16.549 4.221-1.493.035-.639 1.798-.115 5.668.341 2.517-1.282 6.382-4.01 6.382-4.498 0-.171-3.548-4.148-12.322-2.125-4.688-6.875-2.062-6.875-6.771V5.948c0-1.833.18-3.595 2.758-3.885C8.195 1.781 7.633 0 11.238 0h18.044c1.838 0 3.333 1.496 3.333 3.334 0 .762-.267 1.456-.698 2.018 1.02.571 1.72 1.649 1.72 2.899 0 .76-.266 1.454-.696 2.015 1.023.57 1.725 1.649 1.725 2.901 0 .909-.368 1.733-.961 2.336.757.611 1.251 1.535 1.251 2.581z"/><path fill="#EE9547" d="M23.02 14.751h8.604c1.17 0 2.268.626 2.866 1.633.246.415.109.952-.307 1.199-.415.247-.952.108-1.199-.307-.283-.479-.806-.775-1.361-.775h-8.81c-.873 0-1.583.71-1.583 1.583s.71 1.583 1.583 1.583H28.7c.483 0 .875.392.875.875s-.392.875-.875.875h-5.888c-1.838 0-3.333-1.495-3.333-3.333 0-1.025.475-1.932 1.205-2.544-.615-.605-.998-1.445-.998-2.373 0-1.028.478-1.938 1.212-2.549-.611-.604-.99-1.441-.99-2.367 0-1.12.559-2.108 1.409-2.713-.524-.589-.852-1.356-.852-2.204 0-1.838 1.495-3.333 3.333-3.333h5.484c1.17 0 2.269.625 2.867 1.632.247.415.11.952-.305 1.199-.416.245-.953.11-1.199-.305-.285-.479-.808-.776-1.363-.776h-5.484c-.873 0-1.583.71-1.583 1.583s.71 1.583 1.583 1.583h6.506c1.17 0 2.27.626 2.867 1.633.247.416.11.953-.305 1.199-.419.251-.954.11-1.199-.305-.289-.487-.799-.777-1.363-.777h-7.063c-.873 0-1.583.711-1.583 1.584s.71 1.583 1.583 1.583h8.091c1.17 0 2.269.625 2.867 1.632.247.415.11.952-.305 1.199-.417.246-.953.11-1.199-.305-.289-.486-.799-.776-1.363-.776H23.02c-.873 0-1.583.71-1.583 1.583s.709 1.584 1.583 1.584z"/></svg>'},14534:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><path fill="#664500" d="M16 18c-.419 0-.809-.265-.949-.684C14.848 16.717 14.034 15 13 15c-1.062 0-1.888 1.827-2.051 2.316-.175.523-.738.808-1.265.632-.524-.174-.807-.741-.632-1.265C9.177 16.307 10.356 13 13 13s3.823 3.307 3.949 3.684c.175.524-.108 1.091-.632 1.265-.106.034-.213.051-.317.051zm10 0c-.419 0-.809-.265-.948-.684C24.849 16.717 24.033 15 23 15c-1.062 0-1.889 1.827-2.052 2.316-.175.523-.736.808-1.265.632-.523-.174-.807-.741-.632-1.265C19.177 16.307 20.355 13 23 13s3.823 3.307 3.948 3.684c.175.524-.108 1.091-.632 1.265-.105.034-.212.051-.316.051zm-8 4c-3.623 0-6.027-.422-9-1-.679-.131-2 0-2 2 0 4 4.595 9 11 9 6.404 0 11-5 11-9 0-2-1.321-2.132-2-2-2.973.578-5.377 1-9 1z"/><path fill="#FFF" d="M9 23s3 1 9 1 9-1 9-1-1.344 6.75-9 6.75S9 23 9 23z"/><path fill="#664500" d="M18 27.594c-3.596 0-6.272-.372-7.937-.745l-.825-1.871c.823.312 3.889.897 8.763.897 4.954 0 8.037-.616 8.864-.938l-.701 1.842c-1.634.38-4.419.815-8.164.815z"/></svg>'},22426:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><ellipse fill="#664500" cx="11.5" cy="12.5" rx="2.5" ry="5.5"/><ellipse fill="#664500" cx="24.5" cy="12.5" rx="2.5" ry="5.5"/><path fill="#664500" d="M18 22c-3.623 0-6.027-.422-9-1-.679-.131-2 0-2 2 0 4 4.595 9 11 9 6.404 0 11-5 11-9 0-2-1.321-2.132-2-2-2.973.578-5.377 1-9 1z"/><path fill="#FFF" d="M9 23s3 1 9 1 9-1 9-1-2 4-9 4-9-4-9-4z"/></svg>'},78393:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><path fill="#664500" d="M18 22c-3.623 0-6.027-.422-9-1-.679-.131-2 0-2 2 0 4 4.595 9 11 9 6.404 0 11-5 11-9 0-2-1.321-2.132-2-2-2.973.578-5.377 1-9 1z"/><path fill="#FFF" d="M9 23s3 1 9 1 9-1 9-1-2 4-9 4-9-4-9-4z"/><path fill="#664500" d="M30.6 18.2c-.114-.085-1.931-1.426-4.646-2.344.026-.115.046-.233.046-.356 0-.369-.139-.703-.359-.964 1.802-.52 3.334-.536 3.361-.536.551-.002.998-.45.997-1.002-.001-.551-.447-.998-.999-.998-.221 0-5.451.038-8.707 3.293-.286.286-.372.716-.217 1.09.154.373.52.617.924.617 4.59 0 8.363 2.772 8.401 2.801.18.134.39.198.598.198.305 0 .605-.139.802-.4.33-.443.24-1.068-.201-1.399zm-14.893-2.907C12.452 12.038 7.221 12 7 12c-.552 0-.999.447-.999.998-.001.552.446 1 .998 1.002.026 0 1.558.016 3.361.536-.221.261-.36.595-.36.964 0 .123.019.241.047.356-2.716.918-4.533 2.259-4.647 2.344-.442.331-.531.958-.2 1.399.196.263.497.401.801.401.208 0 .419-.065.599-.2.037-.028 3.787-2.8 8.4-2.8.404 0 .769-.244.924-.617.155-.374.069-.804-.217-1.09z"/></svg>'},69861:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><circle fill="#FFCC4D" cx="18" cy="18" r="18"/><path fill="#664500" d="M27.335 22.629c-.178-.161-.444-.171-.635-.029-.039.029-3.922 2.9-8.7 2.9-4.766 0-8.662-2.871-8.7-2.9-.191-.142-.457-.13-.635.029-.177.16-.217.424-.094.628C8.7 23.472 11.788 28.5 18 28.5s9.301-5.028 9.429-5.243c.123-.205.084-.468-.094-.628zM26 19c-.419 0-.809-.265-.948-.684C24.849 17.717 24.033 16 23 16c-1.062 0-1.889 1.827-2.052 2.316-.175.523-.736.808-1.265.632-.523-.174-.807-.74-.632-1.265C19.177 17.307 20.355 14 23 14s3.823 3.307 3.948 3.684c.175.524-.108 1.091-.632 1.265-.105.034-.212.051-.316.051zm-10 0c-.419 0-.809-.265-.949-.684C14.848 17.717 14.034 16 13 16c-1.062 0-1.888 1.827-2.051 2.316-.175.523-.738.808-1.265.632-.524-.174-.807-.74-.632-1.265C9.177 17.307 10.355 14 13 14s3.823 3.307 3.949 3.684c.175.524-.108 1.091-.632 1.265-.106.034-.213.051-.317.051z"/><path fill="#FFAC33" d="M33.175 8.316s-9.042.161-15.175.161c-3.905 0-15.206-.118-15.206-.118l-.521.876c3.043 1.856 9.064 2.917 15.727 2.917 6.596 0 12.576-1.04 15.652-2.86l.078-.047s-.374-.664-.555-.929z"/><path fill="#5DADEC" d="M23.777.345c-1.212-.094-2.473-.159-3.773-.19C19.343.139 18.676.129 18 .129c-.672 0-1.336.01-1.993.025-1.302.031-2.564.096-3.777.19C5.34.88.169 2.451.169 5.287c0 3.588 8.264 5.771 17.831 5.771s17.831-2.183 17.831-5.771c0-2.835-5.168-4.405-12.054-4.942zM18 7.383c-6.861 0-12.91-.833-12.91-2.736 0-.536.494-1.023 1.339-1.449 1.153-.581 2.978-1.044 5.189-1.349 1.911-.262 4.098-.41 6.382-.41 2.291 0 4.485.148 6.4.413 2.242.31 4.086.783 5.232 1.377.807.418 1.278.894 1.278 1.418 0 1.903-6.049 2.736-12.91 2.736z"/><path fill="#3B94D9" d="M24.4 1.853c2.242.31 4.086.783 5.232 1.377l.062.017c-2.285-1.674-4.57-2.56-5.917-2.902-1.212-.094-2.473-.159-3.773-.19l.018.007L24.4 1.853zM6.429 3.199c1.153-.581 2.978-1.044 5.189-1.349L15.984.162l.023-.008c-1.302.031-2.564.096-3.777.19-1.347.342-3.633 1.227-5.919 2.902l.118-.047z"/><path fill="#FFCC4D" d="M28.472 3.375c-.66-.443-1.346-.91-2.001-1.26C23.947.765 21.063 0 18 0c-2.929 0-5.695.7-8.14 1.941-1.089.553-1.881.999-2.17 1.434h20.782z"/></svg>'},12239:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><circle fill="#AA8DD8" cx="18" cy="18" r="18"/><path fill="#AA8DD8" d="M10 4C7.42 4 4.369 1.534 3.414.586 2.843.014 1.981-.157 1.235.153.487.462 0 1.191 0 2c0 3.459 1.672 10 8 10 .757 0 1.45-.428 1.789-1.106l2-4c.31-.62.277-1.356-.088-1.946C11.337 4.359 10.693 4 10 4zM34.766.153c-.75-.311-1.607-.139-2.18.434C31.7 1.472 28.589 4 26 4c-.693 0-1.337.359-1.701.949-.364.589-.397 1.326-.088 1.946l2 4C26.55 11.572 27.242 12 28 12c6.328 0 8-6.541 8-10 0-.809-.487-1.538-1.234-1.847z"/><path fill="#553986" d="M27.335 25.629c-.178-.161-.444-.171-.635-.029-.039.029-3.922 2.9-8.7 2.9-4.766 0-8.662-2.871-8.7-2.9-.191-.142-.457-.13-.635.029-.177.16-.217.424-.094.628C8.7 26.472 11.788 31.5 18 31.5s9.301-5.028 9.429-5.243c.123-.205.084-.468-.094-.628zm-11.628-7.336C12.452 15.038 7.221 15 7 15c-.552 0-.999.447-.999.998-.001.552.446 1.001.998 1.002.029 0 1.925.022 3.983.737-.593.64-.982 1.634-.982 2.763 0 1.934 1.119 3.5 2.5 3.5s2.5-1.566 2.5-3.5c0-.174-.019-.34-.037-.507.013 0 .025.007.037.007.256 0 .512-.098.707-.293.391-.391.391-1.023 0-1.414zM29 15c-.221 0-5.451.038-8.707 3.293-.391.391-.391 1.023 0 1.414.195.195.451.293.707.293.013 0 .024-.007.036-.007-.016.167-.036.333-.036.507 0 1.934 1.119 3.5 2.5 3.5s2.5-1.566 2.5-3.5c0-1.129-.389-2.123-.982-2.763 2.058-.715 3.954-.737 3.984-.737.551-.001.998-.45.997-1.002-.001-.551-.447-.998-.999-.998z"/></svg>'},79378:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><ellipse fill="#664500" cx="11.5" cy="16.5" rx="2.5" ry="3.5"/><path fill="#664500" d="M28.457 17.797c-.06-.135-1.499-3.297-4.457-3.297-2.957 0-4.397 3.162-4.457 3.297-.092.207-.032.449.145.591.175.142.426.147.61.014.012-.009 1.262-.902 3.702-.902 2.426 0 3.674.881 3.702.901.088.066.194.099.298.099.11 0 .221-.037.312-.109.177-.142.238-.386.145-.594zM5.999 12.458c-.208 0-.419-.065-.599-.2-.442-.331-.531-.958-.2-1.4 3.262-4.35 7.616-4.4 7.8-4.4.552 0 1 .448 1 1 0 .551-.445.998-.996 1-.156.002-3.569.086-6.205 3.6-.195.262-.496.4-.8.4zm23.002 2.125c-.305 0-.604-.138-.801-.4-2.592-3.457-6.961-2.627-7.004-2.62-.547.108-1.068-.243-1.177-.784-.108-.542.243-1.068.784-1.177.231-.047 5.657-1.072 8.996 3.38.332.442.242 1.069-.2 1.4-.179.137-.389.201-.598.201zm-5.747 8.994c-.188-.11-.432-.087-.597.06-.01.008-1.013.863-4.657.863-3.641 0-4.646-.854-4.646-.854-.159-.16-.404-.19-.6-.082-.195.111-.293.339-.238.557.01.044 1.144 4.379 5.484 4.379s5.474-4.335 5.485-4.379c.053-.213-.044-.431-.231-.544z"/></svg>'},74373:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><circle fill="#FFCC4D" cx="18" cy="18" r="18"/><path fill="#FFAC33" d="M32.093 29.177c-.218-.631-.559-1.217-1.044-1.702l-3.671-3.789c-.814 1.885-2.858 5.337-7.189 6.795l3.685 3.685c.214.214.453.406.709.573 2.973-1.169 5.556-3.1 7.51-5.562z"/><path fill="#664500" d="M6.999 17c-.15 0-.303-.034-.446-.105-.494-.247-.694-.848-.447-1.342C6.158 15.448 7.424 13 11 13c3.577 0 4.842 2.449 4.894 2.553.247.494.046 1.095-.447 1.342-.491.247-1.085.049-1.336-.436C14.067 16.378 13.28 15 11 15c-2.317 0-3.099 1.433-3.106 1.447-.175.351-.528.553-.895.553zM29 17c.15 0 .303-.034.446-.105.494-.247.694-.848.447-1.342-.052-.105-1.318-2.553-4.894-2.553-3.577 0-4.842 2.449-4.894 2.553-.247.494-.046 1.095.447 1.342.491.247 1.085.049 1.336-.436.044-.081.831-1.459 3.111-1.459 2.317 0 3.099 1.433 3.106 1.447.175.351.528.553.895.553zm.503 6.52c.323-.749.461-1.257.466-1.277.134-.534-.19-1.075-.725-1.21-.536-.136-1.077.188-1.215.723C27.955 22.051 26.081 29 18 29s-9.955-6.949-10.03-7.245c-.138-.534-.679-.858-1.215-.723-.534.135-.858.676-.725 1.21C6.052 22.33 8.331 31 18 31c1.65 0 3.07-.266 4.315-.685 4.33-1.458 6.374-4.91 7.188-6.795z"/><path fill="#E75A70" d="M33.175 27.309l-3.671-3.789c-.814 1.885-2.858 5.337-7.189 6.795L26 34c1.728 1.728 5 2 7 0s1.903-4.962.175-6.691z"/></svg>'},5541:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18S0 27.941 0 18 8.059 0 18 0s18 8.059 18 18"/><path fill-rule="evenodd" clip-rule="evenodd" fill="#292F33" d="M1.24 11.018c.24.239 1.438.957 1.677 1.675.24.717.72 4.784 2.158 5.981 1.483 1.232 7.077.774 8.148.24 2.397-1.195 2.691-4.531 3.115-6.221.239-.957 1.677-.957 1.677-.957s1.438 0 1.678.956c.424 1.691.72 5.027 3.115 6.221 1.072.535 6.666.994 8.151-.238 1.436-1.197 1.915-5.264 2.155-5.982.238-.717 1.438-1.435 1.677-1.674.241-.239.241-1.196 0-1.436-.479-.478-6.134-.904-12.223-.239-1.215.133-1.677.478-4.554.478-2.875 0-3.339-.346-4.553-.478-6.085-.666-11.741-.24-12.221.238-.239.239-.239 1.197 0 1.436z"/><path fill="#664500" d="M27.335 23.629c-.178-.161-.444-.171-.635-.029-.039.029-3.922 2.9-8.7 2.9-4.766 0-8.662-2.871-8.7-2.9-.191-.142-.457-.13-.635.029-.177.16-.217.424-.094.628C8.7 24.472 11.788 29.5 18 29.5s9.301-5.028 9.429-5.243c.123-.205.084-.468-.094-.628z"/></svg>'},87966:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><ellipse fill="#664500" cx="11.5" cy="16.5" rx="2.5" ry="3.5"/><ellipse fill="#664500" cx="24.5" cy="16.5" rx="2.5" ry="3.5"/><path fill="#664500" d="M25 26H11c-.552 0-1-.447-1-1s.448-1 1-1h14c.553 0 1 .447 1 1s-.447 1-1 1z"/></svg>'},69860:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><ellipse fill="#664500" cx="11.5" cy="16.5" rx="2.5" ry="3.5"/><ellipse fill="#664500" cx="24.5" cy="16.5" rx="2.5" ry="3.5"/><path fill="#664500" d="M12 28c2-5 13-5 13-3 0 1-8-1-13 3z"/></svg>'},92380:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><circle fill="#FFCC4D" cx="18" cy="18" r="18"/><ellipse fill="#664500" cx="11.5" cy="15.5" rx="2.5" ry="3.5"/><path fill="#664500" d="M28.457 17.797c-.06-.135-1.499-3.297-4.457-3.297-2.957 0-4.397 3.162-4.457 3.297-.092.207-.032.449.145.591.175.142.426.147.61.014.012-.009 1.262-.902 3.702-.902 2.426 0 3.674.881 3.702.901.088.066.194.099.298.099.11 0 .221-.037.312-.109.177-.142.238-.386.145-.594zM5.999 11c-.208 0-.419-.065-.599-.2-.442-.331-.531-.958-.2-1.4C8.462 5.05 12.816 5 13 5c.552 0 1 .448 1 1 0 .551-.445.998-.996 1-.155.002-3.568.086-6.204 3.6-.196.262-.497.4-.801.4zm23.002 3c-.305 0-.604-.138-.801-.4-2.592-3.456-6.961-2.628-7.004-2.62-.547.11-1.068-.244-1.177-.784-.108-.541.243-1.068.784-1.177.231-.047 5.657-1.072 8.996 3.38.332.442.242 1.069-.2 1.4-.179.136-.389.201-.598.201zm-8.922 13.042c1.335-.412 2.629-1.156 2.629-2.5 0-2.619-4.912-2.968-5.472-2.999-.274-.026-.509.193-.527.468-.017.274.19.511.464.53.035.002 3.535.299 3.535 2.001s-3.5 1.999-3.535 2.001c-.014.001-.024.009-.037.011-.052.006-.101.018-.146.04l-.019.011c-.047.026-.088.057-.125.098-.014.015-.024.031-.036.048-.023.032-.044.063-.059.102-.012.029-.018.061-.024.092-.004.023-.016.044-.018.067 0 .011.004.021.004.031s-.005.021-.004.031c.001.024.013.045.018.068.006.031.011.061.023.09.013.03.031.057.049.084.017.024.032.05.052.071.023.023.05.041.078.061.024.017.046.034.074.047.032.015.066.021.101.027.024.006.044.018.069.02.035.002 3.535.299 3.535 2.001s-3.5 1.999-3.535 2.001c-.274.02-.481.257-.464.53.017.265.237.469.499.469l.028-.001c.56-.031 5.472-.38 5.472-2.999 0-1.345-1.294-2.089-2.629-2.501z"/><path fill="#FFAC33" d="M34.202 25.803c-.236-.79-.779-1.486-1.578-1.875-.922-.449-1.956-.391-2.793.06-.16-.936-.75-1.789-1.67-2.237-1.517-.74-3.348-.11-4.087 1.406-.105.215-.18.437-.23.659-.775 2.556.64 6.341 2.192 7.948 1.23.13 2.953-.198 4.513-.873 1.5-1.46 2.733-3.183 3.653-5.088z"/><path fill="#DD2E44" d="M35.654 27.222c.739-1.516.11-3.347-1.405-4.086-.922-.449-1.956-.391-2.793.06-.16-.936-.75-1.789-1.67-2.237-1.517-.74-3.348-.109-4.087 1.406-.105.215-.18.437-.23.659-.774 2.556.64 6.341 2.192 7.948 2.223.234 6.077-.979 7.615-3.161.145-.179.273-.374.378-.589z"/></svg>'},94475:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCB4C" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><path fill="#65471B" d="M15.457 15.815c-.06-.135-1.499-3.297-4.457-3.297-2.957 0-4.397 3.162-4.457 3.297-.092.207-.032.449.144.591.177.143.427.147.61.014.013-.009 1.262-.902 3.703-.902 2.426 0 3.674.881 3.702.901.088.066.193.099.298.099.11 0 .221-.037.311-.109.179-.142.238-.386.146-.594z"/><path fill="#F4F7F9" d="M31 13.5c0 3.59-2.91 6.5-6.5 6.5S18 17.09 18 13.5 20.91 7 24.5 7 31 9.91 31 13.5z"/><circle fill="#292F33" cx="24.5" cy="13.5" r="2.5"/><path fill="#65471B" d="M7 21.262c0 3.964 4.596 9 11 9s11-5 11-9c0 0-10.333 2.756-22 0z"/><path fill="#E8596E" d="M18.545 23.604l-1.091-.005c-3.216-.074-5.454-.596-5.454-.596v6.961c0 3 2 6 6 6s6-3 6-6v-6.92c-1.922.394-3.787.542-5.455.56z"/><path fill="#DD2F45" d="M18 31.843c.301 0 .545-.244.545-.545v-7.694l-1.091-.005v7.699c.001.301.245.545.546.545z"/></svg>'},70881:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><circle fill="#FFCC4D" cx="18" cy="18" r="18"/><path fill="#664500" d="M23.485 28.879C23.474 28.835 22.34 24.5 18 24.5s-5.474 4.335-5.485 4.379c-.053.213.044.431.232.544.188.112.433.086.596-.06.009-.008 1.013-.863 4.657-.863 3.59 0 4.617.83 4.656.863.095.09.219.137.344.137.084 0 .169-.021.246-.064.196-.112.294-.339.239-.557zM11.226 15.512c-.317 0-.636.039-.947.116-2.87.707-3.513 4.121-3.539 4.267-.04.223.076.443.281.54.067.031.14.047.211.047.145 0 .287-.063.385-.18.01-.012 1.01-1.178 3.379-1.761.714-.176 1.412-.265 2.073-.265 1.104 0 1.732.253 1.735.254.067.028.131.04.207.04.272.012.509-.221.509-.5 0-.165-.08-.311-.203-.402-.367-.435-1.953-2.156-4.091-2.156zm13.548 0c.317 0 .636.039.947.116 2.87.707 3.513 4.121 3.539 4.267.04.223-.076.443-.281.54-.067.031-.14.047-.211.047-.145 0-.287-.063-.385-.18-.01-.012-1.01-1.178-3.379-1.761-.714-.176-1.412-.265-2.073-.265-1.104 0-1.731.253-1.735.254-.067.028-.131.04-.206.04-.272.012-.509-.221-.509-.5 0-.165.08-.311.203-.402.366-.435 1.952-2.156 4.09-2.156z"/></svg>'},44544:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#DA2F47" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><path fill="#292F33" d="M25.485 29.879C25.44 29.7 24.317 25.5 18 25.5c-6.318 0-7.44 4.2-7.485 4.379-.055.217.043.442.237.554.195.109.439.079.6-.077.019-.019 1.954-1.856 6.648-1.856s6.63 1.837 6.648 1.855c.096.095.224.145.352.145.084 0 .169-.021.246-.064.196-.112.294-.339.239-.557zm-9.778-12.586C12.452 14.038 7.221 14 7 14c-.552 0-.999.447-.999.998-.001.552.446 1 .998 1.002.029 0 1.925.022 3.983.737-.593.64-.982 1.634-.982 2.763 0 1.934 1.119 3.5 2.5 3.5s2.5-1.566 2.5-3.5c0-.174-.019-.34-.037-.507.013 0 .025.007.037.007.256 0 .512-.098.707-.293.391-.391.391-1.023 0-1.414zM29 14c-.221 0-5.451.038-8.707 3.293-.391.391-.391 1.023 0 1.414.195.195.451.293.707.293.013 0 .024-.007.036-.007-.016.167-.036.333-.036.507 0 1.934 1.119 3.5 2.5 3.5s2.5-1.566 2.5-3.5c0-1.129-.389-2.123-.982-2.763 2.058-.715 3.954-.737 3.984-.737.551-.002.998-.45.997-1.002-.001-.551-.447-.998-.999-.998z"/></svg>'},67567:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><ellipse fill="#664500" cx="11.5" cy="16.5" rx="2.5" ry="3.5"/><ellipse fill="#664500" cx="24.5" cy="16.5" rx="2.5" ry="3.5"/><path fill="#664500" d="M23.485 27.879C23.474 27.835 22.34 23.5 18 23.5s-5.474 4.335-5.485 4.379c-.053.213.044.431.232.544.188.112.433.086.596-.06.009-.007 1.013-.863 4.657-.863 3.59 0 4.617.83 4.656.863.095.091.219.137.344.137.084 0 .169-.021.246-.064.196-.111.294-.339.239-.557z"/><path fill="#5DADEC" d="M10 30c0 2.762-2.238 5-5 5s-5-2.238-5-5 4-10 5-10 5 7.238 5 10z"/><path fill="#664500" d="M30 13c-5.554 0-7.802-4.367-7.895-4.553-.247-.494-.047-1.095.447-1.342.492-.247 1.092-.048 1.34.443C23.967 7.694 25.713 11 30 11c.553 0 1 .448 1 1 0 .553-.447 1-1 1zM6 13c-.552 0-1-.448-1-1s.448-1 1-1c5.083 0 5.996-3.12 6.033-3.253.145-.528.69-.848 1.219-.709.53.139.851.673.718 1.205C13.921 8.437 12.704 13 6 13z"/></svg>'},57737:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><path fill="#664500" d="M16.664 10.543c-.207-.09-.451-.03-.592.148-.009.012-.979 1.202-3.335 1.844-.775.212-1.531.319-2.245.319-.992 0-1.559-.212-1.562-.213-.21-.085-.453-.014-.587.169-.135.184-.128.435.016.612.071.087 1.78 2.147 4.125 2.147.351 0 .702-.047 1.043-.14 2.854-.778 3.41-4.208 3.432-4.354.034-.223-.087-.441-.295-.532zm10.975 2.155c-.138-.181-.38-.245-.59-.159-.006.003-.633.256-1.737.256-.661 0-1.358-.089-2.073-.265-2.369-.583-3.369-1.749-3.377-1.758-.146-.176-.388-.233-.596-.137-.207.095-.323.318-.283.542.026.145.668 3.56 3.539 4.267.311.077.629.116.946.116 2.396 0 4.099-2.16 4.17-2.252.138-.181.137-.43.001-.61zM9.998 10c-.448 0-.855-.303-.969-.757-.133-.535.191-1.077.724-1.212.036-.009 3.593-.961 5.352-4.478.247-.494.846-.695 1.342-.447.494.247.694.848.447 1.342-2.181 4.361-6.471 5.477-6.652 5.523-.081.02-.163.029-.244.029zM26 10c-.08 0-.161-.01-.242-.03-.182-.045-4.472-1.162-6.652-5.523-.247-.494-.047-1.095.447-1.342.493-.247 1.094-.047 1.342.447 1.758 3.517 5.315 4.469 5.352 4.478.533.137.857.681.722 1.215-.116.453-.522.755-.969.755zm-8 18.965c-3.623 0-6.027.422-9 1-.679.131-2 0-2-2 0-4 4.595-9 11-9 6.404 0 11 5 11 9 0 2-1.321 2.132-2 2-2.973-.578-5.377-1-9-1z"/><path fill="#FFF" d="M10 25s3-1 8-1 8 1 8 1-2-4-8-4-8 4-8 4z"/></svg>'},45152:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18S0 27.941 0 18 8.059 0 18 0s18 8.059 18 18"/><ellipse fill="#664500" cx="18" cy="25" rx="4" ry="5"/><ellipse fill="#664500" cx="12" cy="13.5" rx="2.5" ry="3.5"/><ellipse fill="#664500" cx="24" cy="13.5" rx="2.5" ry="3.5"/></svg>'},22783:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#C1CDD5" d="M36 19.854C33.518 9.923 25.006 1.909 16.031 6.832c0 0-4.522-1.496-5.174-1.948-.635-.44-1.635-.904-.912.436.423.782.875 1.672 2.403 3.317C8 12.958 9.279 18.262 7.743 21.75c-1.304 2.962-2.577 4.733-1.31 6.976 1.317 2.33 4.729 3.462 7.018 1.06 1.244-1.307.471-1.937 3.132-4.202 2.723-.543 4.394-1.791 4.394-4.375 0 0 .795-.382 1.826 6.009.456 2.818-.157 5.632-.039 8.783H36V19.854z"/><path fill="#60379A" d="M31.906 6.062c.531 1.312.848 3.71.595 5.318-.15-3.923-3.188-6.581-4.376-7.193-2.202-1.137-4.372-.979-6.799-.772.111.168.403.814.32 1.547-.479-.875-1.604-1.42-2.333-1.271-1.36.277-2.561.677-3.475 1.156-.504.102-1.249.413-2.372 1.101-1.911 1.171-4.175 4.338-6.737 3.511 1.042 2.5 3.631 1.845 3.631 1.845 1.207-1.95 4.067-3.779 6.168-4.452 7.619-1.745 12.614 3.439 15.431 9.398.768 1.625 2.611 7.132 4.041 10.292V10.956c-.749-1.038-1.281-3.018-4.094-4.894z"/><path fill="#C1CDD5" d="M13.789 3.662c.573.788 3.236.794 4.596 3.82 1.359 3.026-1.943 2.63-3.14 1.23-1.334-1.561-1.931-2.863-2.165-3.992-.124-.596-.451-2.649.709-1.058z"/><path fill="#758795" d="M14.209 4.962c.956.573 2.164 1.515 2.517 2.596.351 1.081-.707.891-1.349-.042-.641-.934-.94-1.975-1.285-2.263-.346-.289.117-.291.117-.291z"/><circle fill="#292F33" cx="15.255" cy="14.565" r=".946"/><path fill="#53626C" d="M8.63 26.877c.119.658-.181 1.263-.67 1.351-.49.089-.984-.372-1.104-1.03-.119-.659.182-1.265.671-1.354.49-.088.984.373 1.103 1.033z"/><path fill="#EE7C0E" d="M13.844 8.124l.003-.002-.005-.007-.016-.014c-.008-.007-.011-.019-.019-.025-.009-.007-.021-.011-.031-.018C12.621 7.078.933-.495.219.219-.51.948 10.443 9.742 11.149 10.28l.011.006.541.439c.008.007.01.018.018.024.013.01.028.015.042.024l.047.038-.009-.016c.565.361 1.427.114 1.979-.592.559-.715.577-1.625.066-2.079z"/><path fill="#C43512" d="M4.677 2.25l.009-.025c-.301-.174-.594-.341-.878-.5-.016.038-.022.069-.041.11-.112.243-.256.484-.429.716-.166.224-.349.424-.541.595-.02.018-.036.026-.056.043.238.22.489.446.745.676.234-.21.456-.449.654-.717.214-.287.395-.589.537-.898zm2.275 2.945c.306-.41.521-.822.66-1.212-.292-.181-.584-.36-.876-.538-.076.298-.247.699-.586 1.152-.31.417-.613.681-.864.845.259.223.52.445.779.665.314-.244.619-.552.887-.912zM9.87 7.32c.365-.49.609-.983.734-1.437l-.906-.586c-.023.296-.172.81-.631 1.425-.412.554-.821.847-1.1.978l.814.671c.381-.256.761-.611 1.089-1.051z"/></svg>'},69921:function(e,t){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n="function"==typeof Symbol&&Symbol.for,a=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,r=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,s=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,_=n?Symbol.for("react.fundamental"):60117,y=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case a:switch(e=e.type){case c:case d:case o:case l:case r:case h:return e;default:switch(e=e&&e.$$typeof){case s:case f:case m:case g:case u:return e;default:return t}}case i:return t}}}function E(e){return w(e)===d}t.AsyncMode=c,t.ConcurrentMode=d,t.ContextConsumer=s,t.ContextProvider=u,t.Element=a,t.ForwardRef=f,t.Fragment=o,t.Lazy=m,t.Memo=g,t.Portal=i,t.Profiler=l,t.StrictMode=r,t.Suspense=h,t.isAsyncMode=function(e){return E(e)||w(e)===c},t.isConcurrentMode=E,t.isContextConsumer=function(e){return w(e)===s},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===a},t.isForwardRef=function(e){return w(e)===f},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===g},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===l},t.isStrictMode=function(e){return w(e)===r},t.isSuspense=function(e){return w(e)===h},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===d||e===l||e===r||e===h||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===g||e.$$typeof===u||e.$$typeof===s||e.$$typeof===f||e.$$typeof===_||e.$$typeof===y||e.$$typeof===b||e.$$typeof===v)},t.typeOf=w},59864:function(e,t,n){"use strict";e.exports=n(69921)},26213:function(e,t,n){"use strict";n.r(t),n.d(t,{Provider:function(){return s},ReactReduxContext:function(){return i},batch:function(){return a.unstable_batchedUpdates},connect:function(){return H},connectAdvanced:function(){return C},createDispatchHook:function(){return G},createSelectorHook:function(){return K},createStoreHook:function(){return U},shallowEqual:function(){return k},useDispatch:function(){return V},useSelector:function(){return Z},useStore:function(){return z}});var a=n(59748),i=(n(45697),a.default.createContext(null));var o=function(e){e()},r=function(){return o},l={notify:function(){}};var u=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=l,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=function(){var e=r(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var a=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){a&&null!==t&&(a=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=l)},e}();var s=function(e){var t=e.store,n=e.context,o=e.children,r=(0,a.useMemo)((function(){var e=new u(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),l=(0,a.useMemo)((function(){return t.getState()}),[t]);(0,a.useEffect)((function(){var e=r.subscription;return e.trySubscribe(),l!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[r,l]);var s=n||i;return a.default.createElement(s.Provider,{value:r},o)};function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}var f=n(8679),h=n.n(f),p=n(59864),g="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?a.useLayoutEffect:a.useEffect,m=[],v=[null,null];function _(e,t){var n=e[1];return[t.payload,n+1]}function y(e,t,n){g((function(){return e.apply(void 0,t)}),n)}function b(e,t,n,a,i,o,r){e.current=a,t.current=i,n.current=!1,o.current&&(o.current=null,r())}function w(e,t,n,a,i,o,r,l,u,s){if(e){var c=!1,d=null,f=function(){if(!c){var e,n,f=t.getState();try{e=a(f,i.current)}catch(e){n=e,d=e}n||(d=null),e===o.current?r.current||u():(o.current=e,l.current=e,r.current=!0,s({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=f,n.trySubscribe(),f();return function(){if(c=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}}var E=function(){return[null,0]};function C(e,t){void 0===t&&(t={});var n=t,o=n.getDisplayName,r=void 0===o?function(e){return"ConnectAdvanced("+e+")"}:o,l=n.methodName,s=void 0===l?"connectAdvanced":l,f=n.renderCountProp,g=void 0===f?void 0:f,C=n.shouldHandleStateChanges,T=void 0===C||C,k=n.storeKey,S=void 0===k?"store":k,I=(n.withRef,n.forwardRef),A=void 0!==I&&I,x=n.context,M=void 0===x?i:x,R=d(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]),O=M;return function(t){var n=t.displayName||t.name||"Component",i=r(n),o=c({},R,{getDisplayName:r,methodName:s,renderCountProp:g,shouldHandleStateChanges:T,storeKey:S,displayName:i,wrappedComponentName:n,WrappedComponent:t}),l=R.pure;var f=l?a.useMemo:function(e){return e()};function C(n){var i=(0,a.useMemo)((function(){var e=n.reactReduxForwardedRef,t=d(n,["reactReduxForwardedRef"]);return[n.context,e,t]}),[n]),r=i[0],l=i[1],s=i[2],h=(0,a.useMemo)((function(){return r&&r.Consumer&&(0,p.isContextConsumer)(a.default.createElement(r.Consumer,null))?r:O}),[r,O]),g=(0,a.useContext)(h),C=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(g)&&Boolean(g.store);var k=C?n.store:g.store,S=(0,a.useMemo)((function(){return function(t){return e(t.dispatch,o)}(k)}),[k]),I=(0,a.useMemo)((function(){if(!T)return v;var e=new u(k,C?null:g.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[k,C,g]),A=I[0],x=I[1],M=(0,a.useMemo)((function(){return C?g:c({},g,{subscription:A})}),[C,g,A]),R=(0,a.useReducer)(_,m,E),N=R[0][0],D=R[1];if(N&&N.error)throw N.error;var L=(0,a.useRef)(),P=(0,a.useRef)(s),j=(0,a.useRef)(),B=(0,a.useRef)(!1),F=f((function(){return j.current&&s===P.current?j.current:S(k.getState(),s)}),[k,N,s]);y(b,[P,L,B,s,F,j,x]),y(w,[T,k,A,S,P,L,B,j,x,D],[k,A,S]);var H=(0,a.useMemo)((function(){return a.default.createElement(t,c({},F,{ref:l}))}),[l,t,F]);return(0,a.useMemo)((function(){return T?a.default.createElement(h.Provider,{value:M},H):H}),[h,H,M])}var k=l?a.default.memo(C):C;if(k.WrappedComponent=t,k.displayName=i,A){var I=a.default.forwardRef((function(e,t){return a.default.createElement(k,c({},e,{reactReduxForwardedRef:t}))}));return I.displayName=i,I.WrappedComponent=t,h()(I,t)}return h()(k,t)}}function T(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function k(e,t){if(T(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!T(e[n[i]],t[n[i]]))return!1;return!0}var S=n(14890);function I(e){return function(t,n){var a=e(t,n);function i(){return a}return i.dependsOnOwnProps=!1,i}}function A(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function x(e,t){return function(t,n){n.displayName;var a=function(e,t){return a.dependsOnOwnProps?a.mapToProps(e,t):a.mapToProps(e)};return a.dependsOnOwnProps=!0,a.mapToProps=function(t,n){a.mapToProps=e,a.dependsOnOwnProps=A(e);var i=a(t,n);return"function"==typeof i&&(a.mapToProps=i,a.dependsOnOwnProps=A(i),i=a(t,n)),i},a}}var M=[function(e){return"function"==typeof e?x(e):void 0},function(e){return e?void 0:I((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?I((function(t){return(0,S.bindActionCreators)(e,t)})):void 0}];var R=[function(e){return"function"==typeof e?x(e):void 0},function(e){return e?void 0:I((function(){return{}}))}];function O(e,t,n){return c({},n,{},e,{},t)}var N=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var a,i=n.pure,o=n.areMergedPropsEqual,r=!1;return function(t,n,l){var u=e(t,n,l);return r?i&&o(u,a)||(a=u):(r=!0,a=u),a}}}(e):void 0},function(e){return e?void 0:function(){return O}}];function D(e,t,n,a){return function(i,o){return n(e(i,o),t(a,o),o)}}function L(e,t,n,a,i){var o,r,l,u,s,c=i.areStatesEqual,d=i.areOwnPropsEqual,f=i.areStatePropsEqual,h=!1;function p(i,h){var p,g,m=!d(h,r),v=!c(i,o);return o=i,r=h,m&&v?(l=e(o,r),t.dependsOnOwnProps&&(u=t(a,r)),s=n(l,u,r)):m?(e.dependsOnOwnProps&&(l=e(o,r)),t.dependsOnOwnProps&&(u=t(a,r)),s=n(l,u,r)):v?(p=e(o,r),g=!f(p,l),l=p,g&&(s=n(l,u,r)),s):s}return function(i,c){return h?p(i,c):(l=e(o=i,r=c),u=t(a,r),s=n(l,u,r),h=!0,s)}}function P(e,t){var n=t.initMapStateToProps,a=t.initMapDispatchToProps,i=t.initMergeProps,o=d(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),r=n(e,o),l=a(e,o),u=i(e,o);return(o.pure?L:D)(r,l,u,e,o)}function j(e,t,n){for(var a=t.length-1;a>=0;a--){var i=t[a](e);if(i)return i}return function(t,a){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+a.wrappedComponentName+".")}}function B(e,t){return e===t}function F(e){var t=void 0===e?{}:e,n=t.connectHOC,a=void 0===n?C:n,i=t.mapStateToPropsFactories,o=void 0===i?R:i,r=t.mapDispatchToPropsFactories,l=void 0===r?M:r,u=t.mergePropsFactories,s=void 0===u?N:u,f=t.selectorFactory,h=void 0===f?P:f;return function(e,t,n,i){void 0===i&&(i={});var r=i,u=r.pure,f=void 0===u||u,p=r.areStatesEqual,g=void 0===p?B:p,m=r.areOwnPropsEqual,v=void 0===m?k:m,_=r.areStatePropsEqual,y=void 0===_?k:_,b=r.areMergedPropsEqual,w=void 0===b?k:b,E=d(r,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),C=j(e,o,"mapStateToProps"),T=j(t,l,"mapDispatchToProps"),S=j(n,s,"mergeProps");return a(h,c({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:C,initMapDispatchToProps:T,initMergeProps:S,pure:f,areStatesEqual:g,areOwnPropsEqual:v,areStatePropsEqual:y,areMergedPropsEqual:w},E))}}var H=F();function W(){return(0,a.useContext)(i)}function U(e){void 0===e&&(e=i);var t=e===i?W:function(){return(0,a.useContext)(e)};return function(){return t().store}}var z=U();function G(e){void 0===e&&(e=i);var t=e===i?z:U(e);return function(){return t().dispatch}}var V=G(),q=function(e,t){return e===t};function K(e){void 0===e&&(e=i);var t=e===i?W:function(){return(0,a.useContext)(e)};return function(e,n){void 0===n&&(n=q);var i=t(),o=function(e,t,n,i){var o,r=(0,a.useReducer)((function(e){return e+1}),0)[1],l=(0,a.useMemo)((function(){return new u(n,i)}),[n,i]),s=(0,a.useRef)(),c=(0,a.useRef)(),d=(0,a.useRef)(),f=(0,a.useRef)(),h=n.getState();try{o=e!==c.current||h!==d.current||s.current?e(h):f.current}catch(e){throw s.current&&(e.message+="\nThe error may be correlated with this previous error:\n"+s.current.stack+"\n\n"),e}return g((function(){c.current=e,d.current=h,f.current=o,s.current=void 0})),g((function(){function e(){try{var e=c.current(n.getState());if(t(e,f.current))return;f.current=e}catch(e){s.current=e}r()}return l.onStateChange=e,l.trySubscribe(),e(),function(){return l.tryUnsubscribe()}}),[n,l]),o}(e,n,i.store,i.subscription);return(0,a.useDebugValue)(o),o}}var Y,Z=K();Y=a.unstable_batchedUpdates,o=Y},14890:function(e,t,n){"use strict";n.r(t),n.d(t,{__DO_NOT_USE__ActionTypes:function(){return o},applyMiddleware:function(){return m},bindActionCreators:function(){return d},combineReducers:function(){return s},compose:function(){return g},createStore:function(){return l}});var a=n(67121),i=function(){return Math.random().toString(36).substring(7).split("").join(".")},o={INIT:"@@redux/INIT"+i(),REPLACE:"@@redux/REPLACE"+i(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+i()}};function r(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function l(e,t,n){var i;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(l)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var u=e,s=t,c=[],d=c,f=!1;function h(){d===c&&(d=c.slice())}function p(){if(f)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return s}function g(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(f)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return h(),d.push(e),function(){if(t){if(f)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,h();var n=d.indexOf(e);d.splice(n,1),c=null}}}function m(e){if(!r(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(f)throw new Error("Reducers may not dispatch actions.");try{f=!0,s=u(s,e)}finally{f=!1}for(var t=c=d,n=0;n<t.length;n++){(0,t[n])()}return e}function v(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");u=e,m({type:o.REPLACE})}function _(){var e,t=g;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(p())}return n(),{unsubscribe:t(n)}}})[a.Z]=function(){return this},e}return m({type:o.INIT}),(i={dispatch:m,subscribe:g,getState:p,replaceReducer:v})[a.Z]=_,i}function u(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function s(e){for(var t=Object.keys(e),n={},a=0;a<t.length;a++){var i=t[a];0,"function"==typeof e[i]&&(n[i]=e[i])}var r,l=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:o.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:o.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+o.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(e){r=e}return function(e,t){if(void 0===e&&(e={}),r)throw r;for(var a=!1,i={},o=0;o<l.length;o++){var s=l[o],c=n[s],d=e[s],f=c(d,t);if(void 0===f){var h=u(s,t);throw new Error(h)}i[s]=f,a=a||f!==d}return(a=a||l.length!==Object.keys(e).length)?i:e}}function c(e,t){return function(){return t(e.apply(this,arguments))}}function d(e,t){if("function"==typeof e)return c(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var a in e){var i=e[a];"function"==typeof i&&(n[a]=c(i,t))}return n}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(n,!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function m(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),a=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},i={getState:n.getState,dispatch:function(){return a.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return p({},n,{dispatch:a=g.apply(void 0,o)(n.dispatch)})}}}},67121:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}}),e=n.hmd(e);var a=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:e)},6189:function(e,t,n){var a=n(7966);e.exports=function(e){return a(e).replace(/\s(\w)/g,(function(e,t){return t.toUpperCase()}))}},71788:function(e){e.exports=function(e){return t.test(e)?e.toLowerCase():n.test(e)?(function(e){return e.replace(i,(function(e,t){return t?" "+t:""}))}(e)||e).toLowerCase():a.test(e)?function(e){return e.replace(o,(function(e,t,n){return t+" "+n.toLowerCase().split("").join(" ")}))}(e).toLowerCase():e.toLowerCase()};var t=/\s/,n=/(_|-|\.|:)/,a=/([a-z][A-Z]|[A-Z][a-z])/;var i=/[\W_]+(.|$)/g;var o=/(.)([A-Z]+)/g},7966:function(e,t,n){var a=n(71788);e.exports=function(e){return a(e).replace(/[\W_]+(.|$)/g,(function(e,t){return t?" "+t:""})).trim()}},62107:function(e,t,n){"use strict";n.r(t),n.d(t,{VERSION:function(){return i},after:function(){return mt},all:function(){return Pt},allKeys:function(){return pe},any:function(){return jt},assign:function(){return we},before:function(){return vt},bind:function(){return ot},bindAll:function(){return lt},chain:function(){return tt},chunk:function(){return bn},clone:function(){return ke},collect:function(){return Mt},compact:function(){return sn},compose:function(){return gt},constant:function(){return X},contains:function(){return Bt},countBy:function(){return Jt},create:function(){return Te},debounce:function(){return ft},default:function(){return kn},defaults:function(){return Ee},defer:function(){return ct},delay:function(){return st},detect:function(){return It},difference:function(){return dn},drop:function(){return ln},each:function(){return xt},escape:function(){return Ge},every:function(){return Pt},extend:function(){return be},extendOwn:function(){return we},filter:function(){return Dt},find:function(){return It},findIndex:function(){return wt},findKey:function(){return yt},findLastIndex:function(){return Et},findWhere:function(){return At},first:function(){return rn},flatten:function(){return cn},foldl:function(){return Ot},foldr:function(){return Nt},forEach:function(){return xt},functions:function(){return _e},groupBy:function(){return Yt},has:function(){return Ie},head:function(){return rn},identity:function(){return Ae},include:function(){return Bt},includes:function(){return Bt},indexBy:function(){return Zt},indexOf:function(){return kt},initial:function(){return on},inject:function(){return Ot},intersection:function(){return gn},invert:function(){return ve},invoke:function(){return Ft},isArguments:function(){return Y},isArray:function(){return U},isArrayBuffer:function(){return H},isBoolean:function(){return I},isDataView:function(){return W},isDate:function(){return O},isElement:function(){return A},isEmpty:function(){return ue},isEqual:function(){return he},isError:function(){return D},isFinite:function(){return Z},isFunction:function(){return V},isMap:function(){return P},isMatch:function(){return se},isNaN:function(){return J},isNull:function(){return k},isNumber:function(){return R},isObject:function(){return T},isRegExp:function(){return N},isSet:function(){return B},isString:function(){return M},isSymbol:function(){return L},isTypedArray:function(){return ae},isUndefined:function(){return S},isWeakMap:function(){return j},isWeakSet:function(){return F},iteratee:function(){return De},keys:function(){return le},last:function(){return un},lastIndexOf:function(){return St},map:function(){return Mt},mapObject:function(){return Pe},matcher:function(){return xe},matches:function(){return xe},max:function(){return Ut},memoize:function(){return ut},methods:function(){return _e},min:function(){return zt},mixin:function(){return En},negate:function(){return pt},noop:function(){return je},now:function(){return We},object:function(){return _n},omit:function(){return an},once:function(){return _t},pairs:function(){return me},partial:function(){return it},partition:function(){return Xt},pick:function(){return nn},pluck:function(){return Ht},property:function(){return Re},propertyOf:function(){return Be},random:function(){return He},range:function(){return yn},reduce:function(){return Ot},reduceRight:function(){return Nt},reject:function(){return Lt},rest:function(){return ln},restArguments:function(){return C},result:function(){return $e},sample:function(){return Gt},select:function(){return Dt},shuffle:function(){return Vt},size:function(){return en},some:function(){return jt},sortBy:function(){return qt},sortedIndex:function(){return Ct},tail:function(){return ln},take:function(){return rn},tap:function(){return Se},template:function(){return Xe},templateSettings:function(){return qe},throttle:function(){return dt},times:function(){return Fe},toArray:function(){return Qt},transpose:function(){return mn},unescape:function(){return Ve},union:function(){return pn},uniq:function(){return hn},unique:function(){return hn},uniqueId:function(){return et},unzip:function(){return mn},values:function(){return ge},where:function(){return Wt},without:function(){return fn},wrap:function(){return ht},zip:function(){return vn}});var a={};n.r(a),n.d(a,{VERSION:function(){return i},after:function(){return mt},all:function(){return Pt},allKeys:function(){return pe},any:function(){return jt},assign:function(){return we},before:function(){return vt},bind:function(){return ot},bindAll:function(){return lt},chain:function(){return tt},chunk:function(){return bn},clone:function(){return ke},collect:function(){return Mt},compact:function(){return sn},compose:function(){return gt},constant:function(){return X},contains:function(){return Bt},countBy:function(){return Jt},create:function(){return Te},debounce:function(){return ft},default:function(){return Cn},defaults:function(){return Ee},defer:function(){return ct},delay:function(){return st},detect:function(){return It},difference:function(){return dn},drop:function(){return ln},each:function(){return xt},escape:function(){return Ge},every:function(){return Pt},extend:function(){return be},extendOwn:function(){return we},filter:function(){return Dt},find:function(){return It},findIndex:function(){return wt},findKey:function(){return yt},findLastIndex:function(){return Et},findWhere:function(){return At},first:function(){return rn},flatten:function(){return cn},foldl:function(){return Ot},foldr:function(){return Nt},forEach:function(){return xt},functions:function(){return _e},groupBy:function(){return Yt},has:function(){return Ie},head:function(){return rn},identity:function(){return Ae},include:function(){return Bt},includes:function(){return Bt},indexBy:function(){return Zt},indexOf:function(){return kt},initial:function(){return on},inject:function(){return Ot},intersection:function(){return gn},invert:function(){return ve},invoke:function(){return Ft},isArguments:function(){return Y},isArray:function(){return U},isArrayBuffer:function(){return H},isBoolean:function(){return I},isDataView:function(){return W},isDate:function(){return O},isElement:function(){return A},isEmpty:function(){return ue},isEqual:function(){return he},isError:function(){return D},isFinite:function(){return Z},isFunction:function(){return V},isMap:function(){return P},isMatch:function(){return se},isNaN:function(){return J},isNull:function(){return k},isNumber:function(){return R},isObject:function(){return T},isRegExp:function(){return N},isSet:function(){return B},isString:function(){return M},isSymbol:function(){return L},isTypedArray:function(){return ae},isUndefined:function(){return S},isWeakMap:function(){return j},isWeakSet:function(){return F},iteratee:function(){return De},keys:function(){return le},last:function(){return un},lastIndexOf:function(){return St},map:function(){return Mt},mapObject:function(){return Pe},matcher:function(){return xe},matches:function(){return xe},max:function(){return Ut},memoize:function(){return ut},methods:function(){return _e},min:function(){return zt},mixin:function(){return En},negate:function(){return pt},noop:function(){return je},now:function(){return We},object:function(){return _n},omit:function(){return an},once:function(){return _t},pairs:function(){return me},partial:function(){return it},partition:function(){return Xt},pick:function(){return nn},pluck:function(){return Ht},property:function(){return Re},propertyOf:function(){return Be},random:function(){return He},range:function(){return yn},reduce:function(){return Ot},reduceRight:function(){return Nt},reject:function(){return Lt},rest:function(){return ln},restArguments:function(){return C},result:function(){return $e},sample:function(){return Gt},select:function(){return Dt},shuffle:function(){return Vt},size:function(){return en},some:function(){return jt},sortBy:function(){return qt},sortedIndex:function(){return Ct},tail:function(){return ln},take:function(){return rn},tap:function(){return Se},template:function(){return Xe},templateSettings:function(){return qe},throttle:function(){return dt},times:function(){return Fe},toArray:function(){return Qt},transpose:function(){return mn},unescape:function(){return Ve},union:function(){return pn},uniq:function(){return hn},unique:function(){return hn},uniqueId:function(){return et},unzip:function(){return mn},values:function(){return ge},where:function(){return Wt},without:function(){return fn},wrap:function(){return ht},zip:function(){return vn}});var i="1.11.0",o="object"==typeof self&&self.self===self&&self||"object"==typeof n.g&&n.g.global===n.g&&n.g||Function("return this")()||{},r=Array.prototype,l=Object.prototype,u="undefined"!=typeof Symbol?Symbol.prototype:null,s=r.push,c=r.slice,d=l.toString,f=l.hasOwnProperty,h="undefined"!=typeof ArrayBuffer,p=Array.isArray,g=Object.keys,m=Object.create,v=h&&ArrayBuffer.isView,_=isNaN,y=isFinite,b=!{toString:null}.propertyIsEnumerable("toString"),w=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],E=Math.pow(2,53)-1;function C(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),a=Array(n),i=0;i<n;i++)a[i]=arguments[i+t];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,arguments[0],a);case 2:return e.call(this,arguments[0],arguments[1],a)}var o=Array(t+1);for(i=0;i<t;i++)o[i]=arguments[i];return o[t]=a,e.apply(this,o)}}function T(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function k(e){return null===e}function S(e){return void 0===e}function I(e){return!0===e||!1===e||"[object Boolean]"===d.call(e)}function A(e){return!(!e||1!==e.nodeType)}function x(e){return function(t){return d.call(t)==="[object "+e+"]"}}var M=x("String"),R=x("Number"),O=x("Date"),N=x("RegExp"),D=x("Error"),L=x("Symbol"),P=x("Map"),j=x("WeakMap"),B=x("Set"),F=x("WeakSet"),H=x("ArrayBuffer"),W=x("DataView"),U=p||x("Array"),z=x("Function"),G=o.document&&o.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof G&&(z=function(e){return"function"==typeof e||!1});var V=z;function q(e,t){return null!=e&&f.call(e,t)}var K=x("Arguments");!function(){K(arguments)||(K=function(e){return q(e,"callee")})}();var Y=K;function Z(e){return!L(e)&&y(e)&&!isNaN(parseFloat(e))}function J(e){return R(e)&&_(e)}function X(e){return function(){return e}}function $(e){return function(t){var n=e(t);return"number"==typeof n&&n>=0&&n<=E}}function Q(e){return function(t){return null==t?void 0:t[e]}}var ee=Q("byteLength"),te=$(ee),ne=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;var ae=h?function(e){return v?v(e)&&!W(e):te(e)&&ne.test(d.call(e))}:X(!1),ie=Q("length"),oe=$(ie);function re(e,t){t=function(e){for(var t={},n=e.length,a=0;a<n;++a)t[e[a]]=!0;return{contains:function(e){return t[e]},push:function(n){return t[n]=!0,e.push(n)}}}(t);var n=w.length,a=e.constructor,i=V(a)&&a.prototype||l,o="constructor";for(q(e,o)&&!t.contains(o)&&t.push(o);n--;)(o=w[n])in e&&e[o]!==i[o]&&!t.contains(o)&&t.push(o)}function le(e){if(!T(e))return[];if(g)return g(e);var t=[];for(var n in e)q(e,n)&&t.push(n);return b&&re(e,t),t}function ue(e){return null==e||(oe(e)&&(U(e)||M(e)||Y(e))?0===e.length:0===le(e).length)}function se(e,t){var n=le(t),a=n.length;if(null==e)return!a;for(var i=Object(e),o=0;o<a;o++){var r=n[o];if(t[r]!==i[r]||!(r in i))return!1}return!0}function ce(e){return e instanceof ce?e:this instanceof ce?void(this._wrapped=e):new ce(e)}function de(e,t,n,a){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var i=typeof e;return("function"===i||"object"===i||"object"==typeof t)&&fe(e,t,n,a)}function fe(e,t,n,a){e instanceof ce&&(e=e._wrapped),t instanceof ce&&(t=t._wrapped);var i=d.call(e);if(i!==d.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return u.valueOf.call(e)===u.valueOf.call(t);case"[object ArrayBuffer]":return fe(new DataView(e),new DataView(t),n,a);case"[object DataView]":var o=ee(e);if(o!==ee(t))return!1;for(;o--;)if(e.getUint8(o)!==t.getUint8(o))return!1;return!0}if(ae(e))return fe(new DataView(e.buffer),new DataView(t.buffer),n,a);var r="[object Array]"===i;if(!r){if("object"!=typeof e||"object"!=typeof t)return!1;var l=e.constructor,s=t.constructor;if(l!==s&&!(V(l)&&l instanceof l&&V(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}a=a||[];for(var c=(n=n||[]).length;c--;)if(n[c]===e)return a[c]===t;if(n.push(e),a.push(t),r){if((c=e.length)!==t.length)return!1;for(;c--;)if(!de(e[c],t[c],n,a))return!1}else{var f,h=le(e);if(c=h.length,le(t).length!==c)return!1;for(;c--;)if(!q(t,f=h[c])||!de(e[f],t[f],n,a))return!1}return n.pop(),a.pop(),!0}function he(e,t){return de(e,t)}function pe(e){if(!T(e))return[];var t=[];for(var n in e)t.push(n);return b&&re(e,t),t}function ge(e){for(var t=le(e),n=t.length,a=Array(n),i=0;i<n;i++)a[i]=e[t[i]];return a}function me(e){for(var t=le(e),n=t.length,a=Array(n),i=0;i<n;i++)a[i]=[t[i],e[t[i]]];return a}function ve(e){for(var t={},n=le(e),a=0,i=n.length;a<i;a++)t[e[n[a]]]=n[a];return t}function _e(e){var t=[];for(var n in e)V(e[n])&&t.push(n);return t.sort()}function ye(e,t){return function(n){var a=arguments.length;if(t&&(n=Object(n)),a<2||null==n)return n;for(var i=1;i<a;i++)for(var o=arguments[i],r=e(o),l=r.length,u=0;u<l;u++){var s=r[u];t&&void 0!==n[s]||(n[s]=o[s])}return n}}ce.VERSION=i,ce.prototype.value=function(){return this._wrapped},ce.prototype.valueOf=ce.prototype.toJSON=ce.prototype.value,ce.prototype.toString=function(){return String(this._wrapped)};var be=ye(pe),we=ye(le),Ee=ye(pe,!0);function Ce(e){if(!T(e))return{};if(m)return m(e);var t=function(){};t.prototype=e;var n=new t;return t.prototype=null,n}function Te(e,t){var n=Ce(e);return t&&we(n,t),n}function ke(e){return T(e)?U(e)?e.slice():be({},e):e}function Se(e,t){return t(e),e}function Ie(e,t){if(!U(t))return q(e,t);for(var n=t.length,a=0;a<n;a++){var i=t[a];if(null==e||!f.call(e,i))return!1;e=e[i]}return!!n}function Ae(e){return e}function xe(e){return e=we({},e),function(t){return se(t,e)}}function Me(e,t){for(var n=t.length,a=0;a<n;a++){if(null==e)return;e=e[t[a]]}return n?e:void 0}function Re(e){return U(e)?function(t){return Me(t,e)}:Q(e)}function Oe(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,a,i){return e.call(t,n,a,i)};case 4:return function(n,a,i,o){return e.call(t,n,a,i,o)}}return function(){return e.apply(t,arguments)}}function Ne(e,t,n){return null==e?Ae:V(e)?Oe(e,t,n):T(e)&&!U(e)?xe(e):Re(e)}function De(e,t){return Ne(e,t,1/0)}function Le(e,t,n){return ce.iteratee!==De?ce.iteratee(e,t):Ne(e,t,n)}function Pe(e,t,n){t=Le(t,n);for(var a=le(e),i=a.length,o={},r=0;r<i;r++){var l=a[r];o[l]=t(e[l],l,e)}return o}function je(){}function Be(e){return null==e?function(){}:function(t){return U(t)?Me(e,t):e[t]}}function Fe(e,t,n){var a=Array(Math.max(0,e));t=Oe(t,n,1);for(var i=0;i<e;i++)a[i]=t(i);return a}function He(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}ce.iteratee=De;var We=Date.now||function(){return(new Date).getTime()};function Ue(e){var t=function(t){return e[t]},n="(?:"+le(e).join("|")+")",a=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,a.test(e)?e.replace(i,t):e}}var ze={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Ge=Ue(ze),Ve=Ue(ve(ze)),qe=ce.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},Ke=/(.)^/,Ye={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Ze=/\\|'|\r|\n|\u2028|\u2029/g;function Je(e){return"\\"+Ye[e]}function Xe(e,t,n){!t&&n&&(t=n),t=Ee({},t,ce.templateSettings);var a,i=RegExp([(t.escape||Ke).source,(t.interpolate||Ke).source,(t.evaluate||Ke).source].join("|")+"|$","g"),o=0,r="__p+='";e.replace(i,(function(t,n,a,i,l){return r+=e.slice(o,l).replace(Ze,Je),o=l+t.length,n?r+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":a?r+="'+\n((__t=("+a+"))==null?'':__t)+\n'":i&&(r+="';\n"+i+"\n__p+='"),t})),r+="';\n",t.variable||(r="with(obj||{}){\n"+r+"}\n"),r="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";try{a=new Function(t.variable||"obj","_",r)}catch(e){throw e.source=r,e}var l=function(e){return a.call(this,e,ce)},u=t.variable||"obj";return l.source="function("+u+"){\n"+r+"}",l}function $e(e,t,n){U(t)||(t=[t]);var a=t.length;if(!a)return V(n)?n.call(e):n;for(var i=0;i<a;i++){var o=null==e?void 0:e[t[i]];void 0===o&&(o=n,i=a),e=V(o)?o.call(e):o}return e}var Qe=0;function et(e){var t=++Qe+"";return e?e+t:t}function tt(e){var t=ce(e);return t._chain=!0,t}function nt(e,t,n,a,i){if(!(a instanceof t))return e.apply(n,i);var o=Ce(e.prototype),r=e.apply(o,i);return T(r)?r:o}var at=C((function(e,t){var n=at.placeholder,a=function(){for(var i=0,o=t.length,r=Array(o),l=0;l<o;l++)r[l]=t[l]===n?arguments[i++]:t[l];for(;i<arguments.length;)r.push(arguments[i++]);return nt(e,a,this,this,r)};return a}));at.placeholder=ce;var it=at,ot=C((function(e,t,n){if(!V(e))throw new TypeError("Bind must be called on a function");var a=C((function(i){return nt(e,a,t,this,n.concat(i))}));return a}));function rt(e,t,n,a){if(a=a||[],t||0===t){if(t<=0)return a.concat(e)}else t=1/0;for(var i=a.length,o=0,r=ie(e);o<r;o++){var l=e[o];if(oe(l)&&(U(l)||Y(l)))if(t>1)rt(l,t-1,n,a),i=a.length;else for(var u=0,s=l.length;u<s;)a[i++]=l[u++];else n||(a[i++]=l)}return a}var lt=C((function(e,t){var n=(t=rt(t,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var a=t[n];e[a]=ot(e[a],e)}return e}));function ut(e,t){var n=function(a){var i=n.cache,o=""+(t?t.apply(this,arguments):a);return q(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n}var st=C((function(e,t,n){return setTimeout((function(){return e.apply(null,n)}),t)})),ct=it(st,ce,1);function dt(e,t,n){var a,i,o,r,l=0;n||(n={});var u=function(){l=!1===n.leading?0:We(),a=null,r=e.apply(i,o),a||(i=o=null)},s=function(){var s=We();l||!1!==n.leading||(l=s);var c=t-(s-l);return i=this,o=arguments,c<=0||c>t?(a&&(clearTimeout(a),a=null),l=s,r=e.apply(i,o),a||(i=o=null)):a||!1===n.trailing||(a=setTimeout(u,c)),r};return s.cancel=function(){clearTimeout(a),l=0,a=i=o=null},s}function ft(e,t,n){var a,i,o=function(t,n){a=null,n&&(i=e.apply(t,n))},r=C((function(r){if(a&&clearTimeout(a),n){var l=!a;a=setTimeout(o,t),l&&(i=e.apply(this,r))}else a=st(o,t,this,r);return i}));return r.cancel=function(){clearTimeout(a),a=null},r}function ht(e,t){return it(t,e)}function pt(e){return function(){return!e.apply(this,arguments)}}function gt(){var e=arguments,t=e.length-1;return function(){for(var n=t,a=e[t].apply(this,arguments);n--;)a=e[n].call(this,a);return a}}function mt(e,t){return function(){if(--e<1)return t.apply(this,arguments)}}function vt(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}}var _t=it(vt,2);function yt(e,t,n){t=Le(t,n);for(var a,i=le(e),o=0,r=i.length;o<r;o++)if(t(e[a=i[o]],a,e))return a}function bt(e){return function(t,n,a){n=Le(n,a);for(var i=ie(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(n(t[o],o,t))return o;return-1}}var wt=bt(1),Et=bt(-1);function Ct(e,t,n,a){for(var i=(n=Le(n,a,1))(t),o=0,r=ie(e);o<r;){var l=Math.floor((o+r)/2);n(e[l])<i?o=l+1:r=l}return o}function Tt(e,t,n){return function(a,i,o){var r=0,l=ie(a);if("number"==typeof o)e>0?r=o>=0?o:Math.max(o+l,r):l=o>=0?Math.min(o+1,l):o+l+1;else if(n&&o&&l)return a[o=n(a,i)]===i?o:-1;if(i!=i)return(o=t(c.call(a,r,l),J))>=0?o+r:-1;for(o=e>0?r:l-1;o>=0&&o<l;o+=e)if(a[o]===i)return o;return-1}}var kt=Tt(1,wt,Ct),St=Tt(-1,Et);function It(e,t,n){var a=(oe(e)?wt:yt)(e,t,n);if(void 0!==a&&-1!==a)return e[a]}function At(e,t){return It(e,xe(t))}function xt(e,t,n){var a,i;if(t=Oe(t,n),oe(e))for(a=0,i=e.length;a<i;a++)t(e[a],a,e);else{var o=le(e);for(a=0,i=o.length;a<i;a++)t(e[o[a]],o[a],e)}return e}function Mt(e,t,n){t=Le(t,n);for(var a=!oe(e)&&le(e),i=(a||e).length,o=Array(i),r=0;r<i;r++){var l=a?a[r]:r;o[r]=t(e[l],l,e)}return o}function Rt(e){var t=function(t,n,a,i){var o=!oe(t)&&le(t),r=(o||t).length,l=e>0?0:r-1;for(i||(a=t[o?o[l]:l],l+=e);l>=0&&l<r;l+=e){var u=o?o[l]:l;a=n(a,t[u],u,t)}return a};return function(e,n,a,i){var o=arguments.length>=3;return t(e,Oe(n,i,4),a,o)}}var Ot=Rt(1),Nt=Rt(-1);function Dt(e,t,n){var a=[];return t=Le(t,n),xt(e,(function(e,n,i){t(e,n,i)&&a.push(e)})),a}function Lt(e,t,n){return Dt(e,pt(Le(t)),n)}function Pt(e,t,n){t=Le(t,n);for(var a=!oe(e)&&le(e),i=(a||e).length,o=0;o<i;o++){var r=a?a[o]:o;if(!t(e[r],r,e))return!1}return!0}function jt(e,t,n){t=Le(t,n);for(var a=!oe(e)&&le(e),i=(a||e).length,o=0;o<i;o++){var r=a?a[o]:o;if(t(e[r],r,e))return!0}return!1}function Bt(e,t,n,a){return oe(e)||(e=ge(e)),("number"!=typeof n||a)&&(n=0),kt(e,t,n)>=0}var Ft=C((function(e,t,n){var a,i;return V(t)?i=t:U(t)&&(a=t.slice(0,-1),t=t[t.length-1]),Mt(e,(function(e){var o=i;if(!o){if(a&&a.length&&(e=Me(e,a)),null==e)return;o=e[t]}return null==o?o:o.apply(e,n)}))}));function Ht(e,t){return Mt(e,Re(t))}function Wt(e,t){return Dt(e,xe(t))}function Ut(e,t,n){var a,i,o=-1/0,r=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var l=0,u=(e=oe(e)?e:ge(e)).length;l<u;l++)null!=(a=e[l])&&a>o&&(o=a);else t=Le(t,n),xt(e,(function(e,n,a){((i=t(e,n,a))>r||i===-1/0&&o===-1/0)&&(o=e,r=i)}));return o}function zt(e,t,n){var a,i,o=1/0,r=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var l=0,u=(e=oe(e)?e:ge(e)).length;l<u;l++)null!=(a=e[l])&&a<o&&(o=a);else t=Le(t,n),xt(e,(function(e,n,a){((i=t(e,n,a))<r||i===1/0&&o===1/0)&&(o=e,r=i)}));return o}function Gt(e,t,n){if(null==t||n)return oe(e)||(e=ge(e)),e[He(e.length-1)];var a=oe(e)?ke(e):ge(e),i=ie(a);t=Math.max(Math.min(t,i),0);for(var o=i-1,r=0;r<t;r++){var l=He(r,o),u=a[r];a[r]=a[l],a[l]=u}return a.slice(0,t)}function Vt(e){return Gt(e,1/0)}function qt(e,t,n){var a=0;return t=Le(t,n),Ht(Mt(e,(function(e,n,i){return{value:e,index:a++,criteria:t(e,n,i)}})).sort((function(e,t){var n=e.criteria,a=t.criteria;if(n!==a){if(n>a||void 0===n)return 1;if(n<a||void 0===a)return-1}return e.index-t.index})),"value")}function Kt(e,t){return function(n,a,i){var o=t?[[],[]]:{};return a=Le(a,i),xt(n,(function(t,i){var r=a(t,i,n);e(o,t,r)})),o}}var Yt=Kt((function(e,t,n){q(e,n)?e[n].push(t):e[n]=[t]})),Zt=Kt((function(e,t,n){e[n]=t})),Jt=Kt((function(e,t,n){q(e,n)?e[n]++:e[n]=1})),Xt=Kt((function(e,t,n){e[n?0:1].push(t)}),!0),$t=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Qt(e){return e?U(e)?c.call(e):M(e)?e.match($t):oe(e)?Mt(e,Ae):ge(e):[]}function en(e){return null==e?0:oe(e)?e.length:le(e).length}function tn(e,t,n){return t in n}var nn=C((function(e,t){var n={},a=t[0];if(null==e)return n;V(a)?(t.length>1&&(a=Oe(a,t[1])),t=pe(e)):(a=tn,t=rt(t,!1,!1),e=Object(e));for(var i=0,o=t.length;i<o;i++){var r=t[i],l=e[r];a(l,r,e)&&(n[r]=l)}return n})),an=C((function(e,t){var n,a=t[0];return V(a)?(a=pt(a),t.length>1&&(n=t[1])):(t=Mt(rt(t,!1,!1),String),a=function(e,n){return!Bt(t,n)}),nn(e,a,n)}));function on(e,t,n){return c.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))}function rn(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[0]:on(e,e.length-t)}function ln(e,t,n){return c.call(e,null==t||n?1:t)}function un(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[e.length-1]:ln(e,Math.max(0,e.length-t))}function sn(e){return Dt(e,Boolean)}function cn(e,t){return rt(e,t,!1)}var dn=C((function(e,t){return t=rt(t,!0,!0),Dt(e,(function(e){return!Bt(t,e)}))})),fn=C((function(e,t){return dn(e,t)}));function hn(e,t,n,a){I(t)||(a=n,n=t,t=!1),null!=n&&(n=Le(n,a));for(var i=[],o=[],r=0,l=ie(e);r<l;r++){var u=e[r],s=n?n(u,r,e):u;t&&!n?(r&&o===s||i.push(u),o=s):n?Bt(o,s)||(o.push(s),i.push(u)):Bt(i,u)||i.push(u)}return i}var pn=C((function(e){return hn(rt(e,!0,!0))}));function gn(e){for(var t=[],n=arguments.length,a=0,i=ie(e);a<i;a++){var o=e[a];if(!Bt(t,o)){var r;for(r=1;r<n&&Bt(arguments[r],o);r++);r===n&&t.push(o)}}return t}function mn(e){for(var t=e&&Ut(e,ie).length||0,n=Array(t),a=0;a<t;a++)n[a]=Ht(e,a);return n}var vn=C(mn);function _n(e,t){for(var n={},a=0,i=ie(e);a<i;a++)t?n[e[a]]=t[a]:n[e[a][0]]=e[a][1];return n}function yn(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var a=Math.max(Math.ceil((t-e)/n),0),i=Array(a),o=0;o<a;o++,e+=n)i[o]=e;return i}function bn(e,t){if(null==t||t<1)return[];for(var n=[],a=0,i=e.length;a<i;)n.push(c.call(e,a,a+=t));return n}function wn(e,t){return e._chain?ce(t).chain():t}function En(e){return xt(_e(e),(function(t){var n=ce[t]=e[t];ce.prototype[t]=function(){var e=[this._wrapped];return s.apply(e,arguments),wn(this,n.apply(ce,e))}})),ce}xt(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=r[e];ce.prototype[e]=function(){var n=this._wrapped;return null!=n&&(t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0]),wn(this,n)}})),xt(["concat","join","slice"],(function(e){var t=r[e];ce.prototype[e]=function(){var e=this._wrapped;return null!=e&&(e=t.apply(e,arguments)),wn(this,e)}}));var Cn=ce,Tn=En(a);Tn._=Tn;var kn=Tn},8575:function(e,t,n){"use strict";var a=n(74971),i=n(62502);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=y,t.resolve=function(e,t){return y(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?y(e,!1,!0).resolveObject(t):t},t.format=function(e){i.isString(e)&&(e=y(e));return e instanceof o?e.format():o.prototype.format.call(e)},t.Url=o;var r=/^([a-z0-9.+-]+:)/i,l=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,s=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(s),d=["%","/","?",";","#"].concat(c),f=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},_=n(17673);function y(e,t,n){if(e&&i.isObject(e)&&e instanceof o)return e;var a=new o;return a.parse(e,t,n),a}o.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),l=-1!==o&&o<e.indexOf("#")?"?":"#",s=e.split(l);s[0]=s[0].replace(/\\/g,"/");var y=e=s.join(l);if(y=y.trim(),!n&&1===e.split("#").length){var b=u.exec(y);if(b)return this.path=y,this.href=y,this.pathname=b[1],b[2]?(this.search=b[2],this.query=t?_.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var w=r.exec(y);if(w){var E=(w=w[0]).toLowerCase();this.protocol=E,y=y.substr(w.length)}if(n||w||y.match(/^\/\/[^@\/]+@[^@\/]+/)){var C="//"===y.substr(0,2);!C||w&&m[w]||(y=y.substr(2),this.slashes=!0)}if(!m[w]&&(C||w&&!v[w])){for(var T,k,S=-1,I=0;I<f.length;I++){-1!==(A=y.indexOf(f[I]))&&(-1===S||A<S)&&(S=A)}-1!==(k=-1===S?y.lastIndexOf("@"):y.lastIndexOf("@",S))&&(T=y.slice(0,k),y=y.slice(k+1),this.auth=decodeURIComponent(T)),S=-1;for(I=0;I<d.length;I++){var A;-1!==(A=y.indexOf(d[I]))&&(-1===S||A<S)&&(S=A)}-1===S&&(S=y.length),this.host=y.slice(0,S),y=y.slice(S),this.parseHost(),this.hostname=this.hostname||"";var x="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!x)for(var M=this.hostname.split(/\./),R=(I=0,M.length);I<R;I++){var O=M[I];if(O&&!O.match(h)){for(var N="",D=0,L=O.length;D<L;D++)O.charCodeAt(D)>127?N+="x":N+=O[D];if(!N.match(h)){var P=M.slice(0,I),j=M.slice(I+1),B=O.match(p);B&&(P.push(B[1]),j.unshift(B[2])),j.length&&(y="/"+j.join(".")+y),this.hostname=P.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),x||(this.hostname=a.toASCII(this.hostname));var F=this.port?":"+this.port:"",H=this.hostname||"";this.host=H+F,this.href+=this.host,x&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==y[0]&&(y="/"+y))}if(!g[E])for(I=0,R=c.length;I<R;I++){var W=c[I];if(-1!==y.indexOf(W)){var U=encodeURIComponent(W);U===W&&(U=escape(W)),y=y.split(W).join(U)}}var z=y.indexOf("#");-1!==z&&(this.hash=y.substr(z),y=y.slice(0,z));var G=y.indexOf("?");if(-1!==G?(this.search=y.substr(G),this.query=y.substr(G+1),t&&(this.query=_.parse(this.query)),y=y.slice(0,G)):t&&(this.search="",this.query={}),y&&(this.pathname=y),v[E]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){F=this.pathname||"";var V=this.search||"";this.path=F+V}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",a=this.hash||"",o=!1,r="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(r=_.stringify(this.query));var l=this.search||r&&"?"+r||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||v[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),a&&"#"!==a.charAt(0)&&(a="#"+a),l&&"?"!==l.charAt(0)&&(l="?"+l),t+o+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(l=l.replace("#","%23"))+a},o.prototype.resolve=function(e){return this.resolveObject(y(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var n=new o,a=Object.keys(this),r=0;r<a.length;r++){var l=a[r];n[l]=this[l]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),s=0;s<u.length;s++){var c=u[s];"protocol"!==c&&(n[c]=e[c])}return v[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!v[e.protocol]){for(var d=Object.keys(e),f=0;f<d.length;f++){var h=d[f];n[h]=e[h]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||m[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var g=n.pathname||"",_=n.search||"";n.path=g+_}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var y=n.pathname&&"/"===n.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),w=b||y||n.host&&e.pathname,E=w,C=n.pathname&&n.pathname.split("/")||[],T=(p=e.pathname&&e.pathname.split("/")||[],n.protocol&&!v[n.protocol]);if(T&&(n.hostname="",n.port=null,n.host&&(""===C[0]?C[0]=n.host:C.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),w=w&&(""===p[0]||""===C[0])),b)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,C=p;else if(p.length)C||(C=[]),C.pop(),C=C.concat(p),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(T)n.hostname=n.host=C.shift(),(x=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=x.shift(),n.host=n.hostname=x.shift());return n.search=e.search,n.query=e.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!C.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var k=C.slice(-1)[0],S=(n.host||e.host||C.length>1)&&("."===k||".."===k)||""===k,I=0,A=C.length;A>=0;A--)"."===(k=C[A])?C.splice(A,1):".."===k?(C.splice(A,1),I++):I&&(C.splice(A,1),I--);if(!w&&!E)for(;I--;I)C.unshift("..");!w||""===C[0]||C[0]&&"/"===C[0].charAt(0)||C.unshift(""),S&&"/"!==C.join("/").substr(-1)&&C.push("");var x,M=""===C[0]||C[0]&&"/"===C[0].charAt(0);T&&(n.hostname=n.host=M?"":C.length?C.shift():"",(x=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=x.shift(),n.host=n.hostname=x.shift()));return(w=w||n.host&&C.length)&&!M&&C.unshift(""),C.length?n.pathname=C.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var e=this.host,t=l.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},62502:function(e){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},90842:function(e,t,n){(function(){"use strict";var e=this;function t(e){return"string"==typeof e}function n(e,t,n){return e.call.apply(e.bind,arguments)}function a(e,t,n){if(!e)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,a),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function i(e,t,o){return(i=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?n:a).apply(null,arguments)}function o(e){var t=re;function n(){}n.prototype=t.prototype,e.G=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.F=function(e,n,a){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}var r=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function l(e,t){return-1!=e.indexOf(t)}function u(e,t){return e<t?-1:e>t?1:0}var s,c=Array.prototype.indexOf?function(e,t,n){return Array.prototype.indexOf.call(e,t,n)}:function(e,n,a){if(a=null==a?0:0>a?Math.max(0,e.length+a):a,t(e))return t(n)&&1==n.length?e.indexOf(n,a):-1;for(;a<e.length;a++)if(a in e&&e[a]===n)return a;return-1},d=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,n,a){for(var i=e.length,o=t(e)?e.split(""):e,r=0;r<i;r++)r in o&&n.call(a,o[r],r,e)},f=Array.prototype.filter?function(e,t,n){return Array.prototype.filter.call(e,t,n)}:function(e,n,a){for(var i=e.length,o=[],r=0,l=t(e)?e.split(""):e,u=0;u<i;u++)if(u in l){var s=l[u];n.call(a,s,u,e)&&(o[r++]=s)}return o},h=Array.prototype.reduce?function(e,t,n,a){return a&&(t=i(t,a)),Array.prototype.reduce.call(e,t,n)}:function(e,t,n,a){var i=n;return d(e,(function(n,o){i=t.call(a,i,n,o,e)})),i},p=Array.prototype.some?function(e,t,n){return Array.prototype.some.call(e,t,n)}:function(e,n,a){for(var i=e.length,o=t(e)?e.split(""):e,r=0;r<i;r++)if(r in o&&n.call(a,o[r],r,e))return!0;return!1};function g(e,t,n){return 2>=arguments.length?Array.prototype.slice.call(e,t):Array.prototype.slice.call(e,t,n)}e:{var m=e.navigator;if(m){var v=m.userAgent;if(v){s=v;break e}}s=""}var _,y,b=l(s,"Opera")||l(s,"OPR"),w=l(s,"Trident")||l(s,"MSIE"),E=l(s,"Edge"),C=l(s,"Gecko")&&!(l(s.toLowerCase(),"webkit")&&!l(s,"Edge"))&&!(l(s,"Trident")||l(s,"MSIE"))&&!l(s,"Edge"),T=l(s.toLowerCase(),"webkit")&&!l(s,"Edge");function k(){var t=e.document;return t?t.documentMode:void 0}e:{var S="",I=(y=s,C?/rv\:([^\);]+)(\)|;)/.exec(y):E?/Edge\/([\d\.]+)/.exec(y):w?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(y):T?/WebKit\/(\S+)/.exec(y):b?/(?:Version)[ \/]?(\S+)/.exec(y):void 0);if(I&&(S=I?I[1]:""),w){var A=k();if(null!=A&&A>parseFloat(S)){_=String(A);break e}}_=S}var x={};function M(e){if(!x[e]){for(var t=0,n=r(String(_)).split("."),a=r(String(e)).split("."),i=Math.max(n.length,a.length),o=0;0==t&&o<i;o++){var l=n[o]||"",s=a[o]||"",c=/(\d*)(\D*)/g,d=/(\d*)(\D*)/g;do{var f=c.exec(l)||["","",""],h=d.exec(s)||["","",""];if(0==f[0].length&&0==h[0].length)break;t=u(0==f[1].length?0:parseInt(f[1],10),0==h[1].length?0:parseInt(h[1],10))||u(0==f[2].length,0==h[2].length)||u(f[2],h[2])}while(0==t)}x[e]=0<=t}}var R=e.document,O=R&&w?k()||("CSS1Compat"==R.compatMode?parseInt(_,10):5):void 0,N=w&&!(9<=Number(O)),D=w&&!(8<=Number(O));function L(e,t,n,a){this.a=e,this.nodeName=n,this.nodeValue=a,this.nodeType=2,this.parentNode=this.ownerElement=t}function P(e,t){var n=D&&"href"==t.nodeName?e.getAttribute(t.nodeName,2):t.nodeValue;return new L(t,e,t.nodeName,n)}function j(e){var t=null;if(1==(n=e.nodeType)&&(t=null==(t=null==(t=e.textContent)||null==t?e.innerText:t)||null==t?"":t),"string"!=typeof t)if(N&&"title"==e.nodeName.toLowerCase()&&1==n)t=e.text;else if(9==n||1==n){e=9==n?e.documentElement:e.firstChild;var n=0,a=[];for(t="";e;){do{1!=e.nodeType&&(t+=e.nodeValue),N&&"title"==e.nodeName.toLowerCase()&&(t+=e.text),a[n++]=e}while(e=e.firstChild);for(;n&&!(e=a[--n].nextSibling););}}else t=e.nodeValue;return""+t}function B(e,t,n){if(null===t)return!0;try{if(!e.getAttribute)return!1}catch(e){return!1}return D&&"class"==t&&(t="className"),null==n?!!e.getAttribute(t):e.getAttribute(t,2)==n}function F(e,n,a,i,o){return(N?H:W).call(null,e,n,t(a)?a:null,t(i)?i:null,o||new J)}function H(e,t,n,a,i){if(e instanceof De||8==e.b||n&&null===e.b){var o=t.all;if(!o)return i;if("*"!=(e=V(e))&&!(o=t.getElementsByTagName(e)))return i;if(n){for(var r=[],l=0;t=o[l++];)B(t,n,a)&&r.push(t);o=r}for(l=0;t=o[l++];)"*"==e&&"!"==t.tagName||ee(i,t);return i}return G(e,t,n,a,i),i}function W(e,t,n,a,i){return t.getElementsByName&&a&&"name"==n&&!w?(t=t.getElementsByName(a),d(t,(function(t){e.a(t)&&ee(i,t)}))):t.getElementsByClassName&&a&&"class"==n?(t=t.getElementsByClassName(a),d(t,(function(t){t.className==a&&e.a(t)&&ee(i,t)}))):e instanceof ke?G(e,t,n,a,i):t.getElementsByTagName&&(t=t.getElementsByTagName(e.f()),d(t,(function(e){B(e,n,a)&&ee(i,e)}))),i}function U(e,t,n,a,i){var o;if((e instanceof De||8==e.b||n&&null===e.b)&&(o=t.childNodes)){var r=V(e);return"*"==r||(o=f(o,(function(e){return e.tagName&&e.tagName.toLowerCase()==r})))?(n&&(o=f(o,(function(e){return B(e,n,a)}))),d(o,(function(e){"*"==r&&("!"==e.tagName||"*"==r&&1!=e.nodeType)||ee(i,e)})),i):i}return z(e,t,n,a,i)}function z(e,t,n,a,i){for(t=t.firstChild;t;t=t.nextSibling)B(t,n,a)&&e.a(t)&&ee(i,t);return i}function G(e,t,n,a,i){for(t=t.firstChild;t;t=t.nextSibling)B(t,n,a)&&e.a(t)&&ee(i,t),G(e,t,n,a,i)}function V(e){if(e instanceof ke){if(8==e.b)return"!";if(null===e.b)return"*"}return e.f()}function q(e,t){if(!e||!t)return!1;if(e.contains&&1==t.nodeType)return e==t||e.contains(t);if(void 0!==e.compareDocumentPosition)return e==t||!!(16&e.compareDocumentPosition(t));for(;t&&e!=t;)t=t.parentNode;return t==e}function K(t,n){if(t==n)return 0;if(t.compareDocumentPosition)return 2&t.compareDocumentPosition(n)?1:-1;if(w&&!(9<=Number(O))){if(9==t.nodeType)return-1;if(9==n.nodeType)return 1}if("sourceIndex"in t||t.parentNode&&"sourceIndex"in t.parentNode){var a=1==t.nodeType,i=1==n.nodeType;if(a&&i)return t.sourceIndex-n.sourceIndex;var o=t.parentNode,r=n.parentNode;return o==r?Z(t,n):!a&&q(o,n)?-1*Y(t,n):!i&&q(r,t)?Y(n,t):(a?t.sourceIndex:o.sourceIndex)-(i?n.sourceIndex:r.sourceIndex)}return(a=(i=9==t.nodeType?t:t.ownerDocument||t.document).createRange()).selectNode(t),a.collapse(!0),(i=i.createRange()).selectNode(n),i.collapse(!0),a.compareBoundaryPoints(e.Range.START_TO_END,i)}function Y(e,t){var n=e.parentNode;if(n==t)return-1;for(var a=t;a.parentNode!=n;)a=a.parentNode;return Z(a,e)}function Z(e,t){for(var n=t;n=n.previousSibling;)if(n==e)return-1;return 1}function J(){this.b=this.a=null,this.l=0}function X(e){this.node=e,this.a=this.b=null}function $(e,t){if(!e.a)return t;if(!t.a)return e;for(var n=e.a,a=t.a,i=null,o=null,r=0;n&&a;){o=n.node;var l=a.node;o==l||o instanceof L&&l instanceof L&&o.a==l.a?(o=n,n=n.a,a=a.a):0<K(n.node,a.node)?(o=a,a=a.a):(o=n,n=n.a),(o.b=i)?i.a=o:e.a=o,i=o,r++}for(o=n||a;o;)o.b=i,i=i.a=o,r++,o=o.a;return e.b=i,e.l=r,e}function Q(e,t){var n=new X(t);n.a=e.a,e.b?e.a.b=n:e.a=e.b=n,e.a=n,e.l++}function ee(e,t){var n=new X(t);n.b=e.b,e.a?e.b.a=n:e.a=e.b=n,e.b=n,e.l++}function te(e){return(e=e.a)?e.node:null}function ne(e){return(e=te(e))?j(e):""}function ae(e,t){return new ie(e,!!t)}function ie(e,t){this.f=e,this.b=(this.c=t)?e.b:e.a,this.a=null}function oe(e){var t=e.b;if(null==t)return null;var n=e.a=t;return e.b=e.c?t.b:t.a,n.node}function re(e){this.i=e,this.b=this.g=!1,this.f=null}function le(e){return"\n  "+e.toString().split("\n").join("\n  ")}function ue(e,t){e.g=t}function se(e,t){e.b=t}function ce(e,t){var n=e.a(t);return n instanceof J?+ne(n):+n}function de(e,t){var n=e.a(t);return n instanceof J?ne(n):""+n}function fe(e,t){var n=e.a(t);return n instanceof J?!!n.l:!!n}function he(e,t,n){re.call(this,e.i),this.c=e,this.h=t,this.o=n,this.g=t.g||n.g,this.b=t.b||n.b,this.c==_e&&(n.b||n.g||4==n.i||0==n.i||!t.f?t.b||t.g||4==t.i||0==t.i||!n.f||(this.f={name:n.f.name,s:t}):this.f={name:t.f.name,s:n})}function pe(e,t,n,a,i){var o;if(t=t.a(a),n=n.a(a),t instanceof J&&n instanceof J){for(a=oe(t=ae(t));a;a=oe(t))for(o=oe(i=ae(n));o;o=oe(i))if(e(j(a),j(o)))return!0;return!1}if(t instanceof J||n instanceof J){t instanceof J?(i=t,a=n):(i=n,a=t);for(var r=typeof a,l=oe(o=ae(i));l;l=oe(o)){switch(r){case"number":l=+j(l);break;case"boolean":l=!!j(l);break;case"string":l=j(l);break;default:throw Error("Illegal primitive type for comparison.")}if(i==t&&e(l,a)||i==n&&e(a,l))return!0}return!1}return i?"boolean"==typeof t||"boolean"==typeof n?e(!!t,!!n):"number"==typeof t||"number"==typeof n?e(+t,+n):e(t,n):e(+t,+n)}function ge(e,t,n,a){this.a=e,this.w=t,this.i=n,this.m=a}!C&&!w||w&&9<=Number(O)||C&&M("1.9.1"),w&&M("9"),o(he),he.prototype.a=function(e){return this.c.m(this.h,this.o,e)},he.prototype.toString=function(){return"Binary Expression: "+this.c+le(this.h)+le(this.o)},ge.prototype.toString=function(){return this.a};var me={};function ve(e,t,n,a){if(me.hasOwnProperty(e))throw Error("Binary operator already created: "+e);return e=new ge(e,t,n,a),me[e.toString()]=e}ve("div",6,1,(function(e,t,n){return ce(e,n)/ce(t,n)})),ve("mod",6,1,(function(e,t,n){return ce(e,n)%ce(t,n)})),ve("*",6,1,(function(e,t,n){return ce(e,n)*ce(t,n)})),ve("+",5,1,(function(e,t,n){return ce(e,n)+ce(t,n)})),ve("-",5,1,(function(e,t,n){return ce(e,n)-ce(t,n)})),ve("<",4,2,(function(e,t,n){return pe((function(e,t){return e<t}),e,t,n)})),ve(">",4,2,(function(e,t,n){return pe((function(e,t){return e>t}),e,t,n)})),ve("<=",4,2,(function(e,t,n){return pe((function(e,t){return e<=t}),e,t,n)})),ve(">=",4,2,(function(e,t,n){return pe((function(e,t){return e>=t}),e,t,n)}));var _e=ve("=",3,2,(function(e,t,n){return pe((function(e,t){return e==t}),e,t,n,!0)}));function ye(e,t,n){this.a=e,this.b=t||1,this.f=n||1}function be(e,t){if(t.a.length&&4!=e.i)throw Error("Primary expression must evaluate to nodeset if filter has predicate(s).");re.call(this,e.i),this.c=e,this.h=t,this.g=e.g,this.b=e.b}function we(e,t){if(t.length<e.A)throw Error("Function "+e.j+" expects at least"+e.A+" arguments, "+t.length+" given");if(null!==e.v&&t.length>e.v)throw Error("Function "+e.j+" expects at most "+e.v+" arguments, "+t.length+" given");e.B&&d(t,(function(t,n){if(4!=t.i)throw Error("Argument "+n+" to function "+e.j+" is not of type Nodeset: "+t)})),re.call(this,e.i),this.h=e,this.c=t,ue(this,e.g||p(t,(function(e){return e.g}))),se(this,e.D&&!t.length||e.C&&!!t.length||p(t,(function(e){return e.b})))}function Ee(e,t,n,a,i,o,r,l,u){this.j=e,this.i=t,this.g=n,this.D=a,this.C=i,this.m=o,this.A=r,this.v=void 0!==l?l:r,this.B=!!u}ve("!=",3,2,(function(e,t,n){return pe((function(e,t){return e!=t}),e,t,n,!0)})),ve("and",2,2,(function(e,t,n){return fe(e,n)&&fe(t,n)})),ve("or",1,2,(function(e,t,n){return fe(e,n)||fe(t,n)})),o(be),be.prototype.a=function(e){return e=this.c.a(e),Ve(this.h,e)},be.prototype.toString=function(){return"Filter:"+le(this.c)+le(this.h)},o(we),we.prototype.a=function(e){return this.h.m.apply(null,function(e){return Array.prototype.concat.apply(Array.prototype,arguments)}(e,this.c))},we.prototype.toString=function(){var e="Function: "+this.h;if(this.c.length){var t=h(this.c,(function(e,t){return e+le(t)}),"Arguments:");e=e+le(t)}return e},Ee.prototype.toString=function(){return this.j};var Ce={};function Te(e,t,n,a,i,o,r,l){if(Ce.hasOwnProperty(e))throw Error("Function already created: "+e+".");Ce[e]=new Ee(e,t,n,a,!1,i,o,r,l)}function ke(e,t){switch(this.h=e,this.c=void 0!==t?t:null,this.b=null,e){case"comment":this.b=8;break;case"text":this.b=3;break;case"processing-instruction":this.b=7;break;case"node":break;default:throw Error("Unexpected argument")}}function Se(e){return"comment"==e||"text"==e||"processing-instruction"==e||"node"==e}function Ie(e){this.b=e,this.a=0}Te("boolean",2,!1,!1,(function(e,t){return fe(t,e)}),1),Te("ceiling",1,!1,!1,(function(e,t){return Math.ceil(ce(t,e))}),1),Te("concat",3,!1,!1,(function(e,t){return h(g(arguments,1),(function(t,n){return t+de(n,e)}),"")}),2,null),Te("contains",2,!1,!1,(function(e,t,n){return l(de(t,e),de(n,e))}),2),Te("count",1,!1,!1,(function(e,t){return t.a(e).l}),1,1,!0),Te("false",2,!1,!1,(function(){return!1}),0),Te("floor",1,!1,!1,(function(e,t){return Math.floor(ce(t,e))}),1),Te("id",4,!1,!1,(function(e,n){function a(e){if(N){var n=i.all[e];if(n){if(n.nodeType&&e==n.id)return n;if(n.length)return function(e,n){var a;e:{a=e.length;for(var i=t(e)?e.split(""):e,o=0;o<a;o++)if(o in i&&n.call(void 0,i[o],o,e)){a=o;break e}a=-1}return 0>a?null:t(e)?e.charAt(a):e[a]}(n,(function(t){return e==t.id}))}return null}return i.getElementById(e)}var i=9==(o=e.a).nodeType?o:o.ownerDocument,o=de(n,e).split(/\s+/),r=[];d(o,(function(e){!(e=a(e))||0<=c(r,e)||r.push(e)})),r.sort(K);var l=new J;return d(r,(function(e){ee(l,e)})),l}),1),Te("lang",2,!1,!1,(function(){return!1}),1),Te("last",1,!0,!1,(function(e){if(1!=arguments.length)throw Error("Function last expects ()");return e.f}),0),Te("local-name",3,!1,!0,(function(e,t){var n=t?te(t.a(e)):e.a;return n?n.localName||n.nodeName.toLowerCase():""}),0,1,!0),Te("name",3,!1,!0,(function(e,t){var n=t?te(t.a(e)):e.a;return n?n.nodeName.toLowerCase():""}),0,1,!0),Te("namespace-uri",3,!0,!1,(function(){return""}),0,1,!0),Te("normalize-space",3,!1,!0,(function(e,t){return(t?de(t,e):j(e.a)).replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")}),0,1),Te("not",2,!1,!1,(function(e,t){return!fe(t,e)}),1),Te("number",1,!1,!0,(function(e,t){return t?ce(t,e):+j(e.a)}),0,1),Te("position",1,!0,!1,(function(e){return e.b}),0),Te("round",1,!1,!1,(function(e,t){return Math.round(ce(t,e))}),1),Te("starts-with",2,!1,!1,(function(e,t,n){return t=de(t,e),e=de(n,e),0==t.lastIndexOf(e,0)}),2),Te("string",3,!1,!0,(function(e,t){return t?de(t,e):j(e.a)}),0,1),Te("string-length",1,!1,!0,(function(e,t){return(t?de(t,e):j(e.a)).length}),0,1),Te("substring",3,!1,!1,(function(e,t,n,a){if(n=ce(n,e),isNaN(n)||1/0==n||-1/0==n)return"";if(a=a?ce(a,e):1/0,isNaN(a)||-1/0===a)return"";n=Math.round(n)-1;var i=Math.max(n,0);return e=de(t,e),1/0==a?e.substring(i):e.substring(i,n+Math.round(a))}),2,3),Te("substring-after",3,!1,!1,(function(e,t,n){return t=de(t,e),e=de(n,e),-1==(n=t.indexOf(e))?"":t.substring(n+e.length)}),2),Te("substring-before",3,!1,!1,(function(e,t,n){return t=de(t,e),e=de(n,e),-1==(e=t.indexOf(e))?"":t.substring(0,e)}),2),Te("sum",1,!1,!1,(function(e,t){for(var n=ae(t.a(e)),a=0,i=oe(n);i;i=oe(n))a+=+j(i);return a}),1,1,!0),Te("translate",3,!1,!1,(function(e,t,n,a){t=de(t,e),n=de(n,e);var i=de(a,e);for(e={},a=0;a<n.length;a++){var o=n.charAt(a);o in e||(e[o]=i.charAt(a))}for(n="",a=0;a<t.length;a++)n+=(o=t.charAt(a))in e?e[o]:o;return n}),3),Te("true",2,!1,!1,(function(){return!0}),0),ke.prototype.a=function(e){return null===this.b||this.b==e.nodeType},ke.prototype.f=function(){return this.h},ke.prototype.toString=function(){var e="Kind Test: "+this.h;return null===this.c||(e+=le(this.c)),e};var Ae=/\$?(?:(?![0-9-\.])(?:\*|[\w-\.]+):)?(?![0-9-\.])(?:\*|[\w-\.]+)|\/\/|\.\.|::|\d+(?:\.\d*)?|\.\d+|"[^"]*"|'[^']*'|[!<>]=|\s+|./g,xe=/^\s/;function Me(e,t){return e.b[e.a+(t||0)]}function Re(e){return e.b[e.a++]}function Oe(e){return e.b.length<=e.a}function Ne(e){re.call(this,3),this.c=e.substring(1,e.length-1)}function De(e,t){var n;this.j=e.toLowerCase(),n="*"==this.j?"*":"http://www.w3.org/1999/xhtml",this.c=t?t.toLowerCase():n}function Le(e){switch(e.nodeType){case 1:return function(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}(je,e);case 9:return Le(e.documentElement);case 11:case 10:case 6:case 12:return Pe;default:return e.parentNode?Le(e.parentNode):Pe}}function Pe(){return null}function je(e,t){if(e.prefix==t)return e.namespaceURI||"http://www.w3.org/1999/xhtml";var n=e.getAttributeNode("xmlns:"+t);return n&&n.specified?n.value||null:e.parentNode&&9!=e.parentNode.nodeType?je(e.parentNode,t):null}function Be(e){re.call(this,1),this.c=e}function Fe(e,t){if(re.call(this,e.i),this.h=e,this.c=t,this.g=e.g,this.b=e.b,1==this.c.length){var n=this.c[0];n.u||n.c!=Je||"*"!=(n=n.o).f()&&(this.f={name:n.f(),s:null})}}function He(){re.call(this,4)}function We(){re.call(this,4)}function Ue(e){return"/"==e||"//"==e}function ze(e){re.call(this,4),this.c=e,ue(this,p(this.c,(function(e){return e.g}))),se(this,p(this.c,(function(e){return e.b})))}function Ge(e,t){this.a=e,this.b=!!t}function Ve(e,t,n){for(n=n||0;n<e.a.length;n++)for(var a,i=e.a[n],o=ae(t),r=t.l,l=0;a=oe(o);l++){var u=e.b?r-l:l+1;if("number"==typeof(a=i.a(new ye(a,u,r))))u=u==a;else if("string"==typeof a||"boolean"==typeof a)u=!!a;else{if(!(a instanceof J))throw Error("Predicate.evaluate returned an unexpected type.");u=0<a.l}if(!u){if(a=(u=o).f,!(c=u.a))throw Error("Next must be called at least once before remove.");var s=c.b,c=c.a;s?s.a=c:a.a=c,c?c.b=s:a.b=s,a.l--,u.a=null}}return t}function qe(e,t,n,a){re.call(this,4),this.c=e,this.o=t,this.h=n||new Ge([]),this.u=!!a,t=0<(t=this.h).a.length?t.a[0].f:null,e.b&&t&&(e=t.name,e=N?e.toLowerCase():e,this.f={name:e,s:t.s});e:{for(e=this.h,t=0;t<e.a.length;t++)if((n=e.a[t]).g||1==n.i||0==n.i){e=!0;break e}e=!1}this.g=e}function Ke(e,t,n,a){this.j=e,this.f=t,this.a=n,this.b=a}o(Ne),Ne.prototype.a=function(){return this.c},Ne.prototype.toString=function(){return"Literal: "+this.c},De.prototype.a=function(e){var t=e.nodeType;return(1==t||2==t)&&(("*"==this.j||this.j==e.localName.toLowerCase())&&("*"==this.c||this.c==(e.namespaceURI?e.namespaceURI.toLowerCase():"http://www.w3.org/1999/xhtml")))},De.prototype.f=function(){return this.j},De.prototype.toString=function(){return"Name Test: "+("http://www.w3.org/1999/xhtml"==this.c?"":this.c+":")+this.j},o(Be),Be.prototype.a=function(){return this.c},Be.prototype.toString=function(){return"Number: "+this.c},o(Fe),o(He),He.prototype.a=function(e){var t=new J;return 9==(e=e.a).nodeType?ee(t,e):ee(t,e.ownerDocument),t},He.prototype.toString=function(){return"Root Helper Expression"},o(We),We.prototype.a=function(e){var t=new J;return ee(t,e.a),t},We.prototype.toString=function(){return"Context Helper Expression"},Fe.prototype.a=function(e){var t=this.h.a(e);if(!(t instanceof J))throw Error("Filter expression must evaluate to nodeset.");for(var n=0,a=(e=this.c).length;n<a&&t.l;n++){var i,o=e[n],r=ae(t,o.c.a);if(o.g||o.c!=Qe)if(o.g||o.c!=tt)for(i=oe(r),t=o.a(new ye(i));null!=(i=oe(r));)t=$(t,i=o.a(new ye(i)));else i=oe(r),t=o.a(new ye(i));else{for(i=oe(r);(t=oe(r))&&(!i.contains||i.contains(t))&&8&t.compareDocumentPosition(i);i=t);t=o.a(new ye(i))}}return t},Fe.prototype.toString=function(){var e;if(e="Path Expression:"+le(this.h),this.c.length){var t=h(this.c,(function(e,t){return e+le(t)}),"Steps:");e+=le(t)}return e},o(ze),ze.prototype.a=function(e){var t=new J;return d(this.c,(function(n){if(!((n=n.a(e))instanceof J))throw Error("Path expression must evaluate to NodeSet.");t=$(t,n)})),t},ze.prototype.toString=function(){return h(this.c,(function(e,t){return e+le(t)}),"Union Expression:")},Ge.prototype.toString=function(){return h(this.a,(function(e,t){return e+le(t)}),"Predicates:")},o(qe),qe.prototype.a=function(e){var t=e.a,n=null,a=null,i=null,o=0;if((n=this.f)&&(a=n.name,i=n.s?de(n.s,e):null,o=1),this.u)if(this.g||this.c!=Xe)if(t=oe(e=ae(new qe($e,new ke("node")).a(e))))for(n=this.m(t,a,i,o);null!=(t=oe(e));)n=$(n,this.m(t,a,i,o));else n=new J;else n=F(this.o,t,a,i),n=Ve(this.h,n,o);else n=this.m(e.a,a,i,o);return n},qe.prototype.m=function(e,t,n,a){return e=this.c.f(this.o,e,t,n),Ve(this.h,e,a)},qe.prototype.toString=function(){var e;if(e="Step:"+le("Operator: "+(this.u?"//":"/")),this.c.j&&(e+=le("Axis: "+this.c)),e+=le(this.o),this.h.a.length){var t=h(this.h.a,(function(e,t){return e+le(t)}),"Predicates:");e+=le(t)}return e},Ke.prototype.toString=function(){return this.j};var Ye={};function Ze(e,t,n,a){if(Ye.hasOwnProperty(e))throw Error("Axis already created: "+e);return t=new Ke(e,t,n,!!a),Ye[e]=t}Ze("ancestor",(function(e,t){for(var n=new J,a=t;a=a.parentNode;)e.a(a)&&Q(n,a);return n}),!0),Ze("ancestor-or-self",(function(e,t){var n=new J,a=t;do{e.a(a)&&Q(n,a)}while(a=a.parentNode);return n}),!0);var Je=Ze("attribute",(function(e,t){var n=new J;if("style"==(o=e.f())&&t.style&&N)return ee(n,new L(t.style,t,"style",t.style.cssText)),n;var a=t.attributes;if(a)if(e instanceof ke&&null===e.b||"*"==o)for(var i,o=0;i=a[o];o++)N?i.nodeValue&&ee(n,P(t,i)):ee(n,i);else(i=a.getNamedItem(o))&&(N?i.nodeValue&&ee(n,P(t,i)):ee(n,i));return n}),!1),Xe=Ze("child",(function(e,n,a,i,o){return(N?U:z).call(null,e,n,t(a)?a:null,t(i)?i:null,o||new J)}),!1,!0);Ze("descendant",F,!1,!0);var $e=Ze("descendant-or-self",(function(e,t,n,a){var i=new J;return B(t,n,a)&&e.a(t)&&ee(i,t),F(e,t,n,a,i)}),!1,!0),Qe=Ze("following",(function(e,t,n,a){var i=new J;do{for(var o=t;o=o.nextSibling;)B(o,n,a)&&e.a(o)&&ee(i,o),i=F(e,o,n,a,i)}while(t=t.parentNode);return i}),!1,!0);Ze("following-sibling",(function(e,t){for(var n=new J,a=t;a=a.nextSibling;)e.a(a)&&ee(n,a);return n}),!1),Ze("namespace",(function(){return new J}),!1);var et=Ze("parent",(function(e,t){var n=new J;if(9==t.nodeType)return n;if(2==t.nodeType)return ee(n,t.ownerElement),n;var a=t.parentNode;return e.a(a)&&ee(n,a),n}),!1),tt=Ze("preceding",(function(e,t,n,a){var i=new J,o=[];do{o.unshift(t)}while(t=t.parentNode);for(var r=1,l=o.length;r<l;r++){var u=[];for(t=o[r];t=t.previousSibling;)u.unshift(t);for(var s=0,c=u.length;s<c;s++)B(t=u[s],n,a)&&e.a(t)&&ee(i,t),i=F(e,t,n,a,i)}return i}),!0,!0);Ze("preceding-sibling",(function(e,t){for(var n=new J,a=t;a=a.previousSibling;)e.a(a)&&Q(n,a);return n}),!0);var nt=Ze("self",(function(e,t){var n=new J;return e.a(t)&&ee(n,t),n}),!1);function at(e){re.call(this,1),this.c=e,this.g=e.g,this.b=e.b}function it(e,t){this.a=e,this.b=t}function ot(e){for(var t,n=[];;){rt(e,"Missing right hand side of binary expression."),t=ht(e);var a=Re(e.a);if(!a)break;var i=(a=me[a]||null)&&a.w;if(!i){e.a.a--;break}for(;n.length&&i<=n[n.length-1].w;)t=new he(n.pop(),n.pop(),t);n.push(t,a)}for(;n.length;)t=new he(n.pop(),n.pop(),t);return t}function rt(e,t){if(Oe(e.a))throw Error(t)}function lt(e,t){var n=Re(e.a);if(n!=t)throw Error("Bad token, expected: "+t+" got: "+n)}function ut(e){if(")"!=(e=Re(e.a)))throw Error("Bad token: "+e)}function st(e){if(2>(e=Re(e.a)).length)throw Error("Unclosed literal string");return new Ne(e)}function ct(e){var t,n,a=[];if(Ue(Me(e.a))){if(t=Re(e.a),n=Me(e.a),"/"==t&&(Oe(e.a)||"."!=n&&".."!=n&&"@"!=n&&"*"!=n&&!/(?![0-9])[\w]/.test(n)))return new He;n=new He,rt(e,"Missing next location step."),t=dt(e,t),a.push(t)}else{e:{switch(n=(t=Me(e.a)).charAt(0)){case"$":throw Error("Variable reference not allowed in HTML XPath");case"(":Re(e.a),t=ot(e),rt(e,'unclosed "("'),lt(e,")");break;case'"':case"'":t=st(e);break;default:if(isNaN(+t)){if(Se(t)||!/(?![0-9])[\w]/.test(n)||"("!=Me(e.a,1)){t=null;break e}for(t=Re(e.a),t=Ce[t]||null,Re(e.a),n=[];")"!=Me(e.a)&&(rt(e,"Missing function argument list."),n.push(ot(e)),","==Me(e.a));)Re(e.a);rt(e,"Unclosed function argument list."),ut(e),t=new we(t,n)}else t=new Be(+Re(e.a))}"["==Me(e.a)&&(t=new be(t,n=new Ge(ft(e))))}if(t){if(!Ue(Me(e.a)))return t;n=t}else t=dt(e,"/"),n=new We,a.push(t)}for(;Ue(Me(e.a));)t=Re(e.a),rt(e,"Missing next location step."),t=dt(e,t),a.push(t);return new Fe(n,a)}function dt(e,t){var n,a,i,o;if("/"!=t&&"//"!=t)throw Error('Step op should be "/" or "//"');if("."==Me(e.a))return a=new qe(nt,new ke("node")),Re(e.a),a;if(".."==Me(e.a))return a=new qe(et,new ke("node")),Re(e.a),a;if("@"==Me(e.a))o=Je,Re(e.a),rt(e,"Missing attribute name");else if("::"==Me(e.a,1)){if(!/(?![0-9])[\w]/.test(Me(e.a).charAt(0)))throw Error("Bad token: "+Re(e.a));if(n=Re(e.a),!(o=Ye[n]||null))throw Error("No axis with name: "+n);Re(e.a),rt(e,"Missing node name")}else o=Xe;if(n=Me(e.a),!/(?![0-9])[\w\*]/.test(n.charAt(0)))throw Error("Bad token: "+Re(e.a));if("("==Me(e.a,1)){if(!Se(n))throw Error("Invalid node type: "+n);if(!Se(n=Re(e.a)))throw Error("Invalid type name: "+n);lt(e,"("),rt(e,"Bad nodetype");var r=null;'"'!=(i=Me(e.a).charAt(0))&&"'"!=i||(r=st(e)),rt(e,"Bad nodetype"),ut(e),n=new ke(n,r)}else if(-1==(i=(n=Re(e.a)).indexOf(":")))n=new De(n);else{var l;if("*"==(r=n.substring(0,i)))l="*";else if(!(l=e.b(r)))throw Error("Namespace prefix not declared: "+r);n=new De(n=n.substr(i+1),l)}return i=new Ge(ft(e),o.a),a||new qe(o,n,i,"//"==t)}function ft(e){for(var t=[];"["==Me(e.a);){Re(e.a),rt(e,"Missing predicate expression.");var n=ot(e);t.push(n),rt(e,"Unclosed predicate expression."),lt(e,"]")}return t}function ht(e){if("-"==Me(e.a))return Re(e.a),new at(ht(e));var t=ct(e);if("|"!=Me(e.a))e=t;else{for(t=[t];"|"==Re(e.a);)rt(e,"Missing next union location path."),t.push(ct(e));e.a.a--,e=new ze(t)}return e}function pt(e,t){if(!e.length)throw Error("Empty XPath expression.");var n=function(e){e=e.match(Ae);for(var t=0;t<e.length;t++)xe.test(e[t])&&e.splice(t,1);return new Ie(e)}(e);if(Oe(n))throw Error("Invalid XPath expression.");t?"function"==function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}(t)||(t=i(t.lookupNamespaceURI,t)):t=function(){return null};var a=ot(new it(n,t));if(!Oe(n))throw Error("Bad token: "+Re(n));this.evaluate=function(e,t){return new gt(a.a(new ye(e)),t)}}function gt(e,t){if(0==t)if(e instanceof J)t=4;else if("string"==typeof e)t=2;else if("number"==typeof e)t=1;else{if("boolean"!=typeof e)throw Error("Unexpected evaluation result.");t=3}if(2!=t&&1!=t&&3!=t&&!(e instanceof J))throw Error("value could not be converted to the specified type");var n;switch(this.resultType=t,t){case 2:this.stringValue=e instanceof J?ne(e):""+e;break;case 1:this.numberValue=e instanceof J?+ne(e):+e;break;case 3:this.booleanValue=e instanceof J?0<e.l:!!e;break;case 4:case 5:case 6:case 7:var a=ae(e);n=[];for(var i=oe(a);i;i=oe(a))n.push(i instanceof L?i.a:i);this.snapshotLength=e.l,this.invalidIteratorState=!1;break;case 8:case 9:a=te(e),this.singleNodeValue=a instanceof L?a.a:a;break;default:throw Error("Unknown XPathResult type.")}var o=0;this.iterateNext=function(){if(4!=t&&5!=t)throw Error("iterateNext called with wrong result type");return o>=n.length?null:n[o++]},this.snapshotItem=function(e){if(6!=t&&7!=t)throw Error("snapshotItem called with wrong result type");return e>=n.length||0>e?null:n[e]}}function mt(e){this.lookupNamespaceURI=Le(e)}function vt(t,n){var a=t||e,i=a.document;i.evaluate&&!n||(a.XPathResult=gt,i.evaluate=function(e,t,n,a){return new pt(e,n).evaluate(t,a)},i.createExpression=function(e,t){return new pt(e,t)},i.createNSResolver=function(e){return new mt(e)})}o(at),at.prototype.a=function(e){return-ce(this.c,e)},at.prototype.toString=function(){return"Unary Expression: -"+le(this.c)},gt.ANY_TYPE=0,gt.NUMBER_TYPE=1,gt.STRING_TYPE=2,gt.BOOLEAN_TYPE=3,gt.UNORDERED_NODE_ITERATOR_TYPE=4,gt.ORDERED_NODE_ITERATOR_TYPE=5,gt.UNORDERED_NODE_SNAPSHOT_TYPE=6,gt.ORDERED_NODE_SNAPSHOT_TYPE=7,gt.ANY_UNORDERED_NODE_TYPE=8,gt.FIRST_ORDERED_NODE_TYPE=9;var _t,yt=["wgxpath","install"],bt=e;yt[0]in bt||!bt.execScript||bt.execScript("var "+yt[0]);for(;yt.length&&(_t=yt.shift());)yt.length||void 0===vt?bt=bt[_t]?bt[_t]:bt[_t]={}:bt[_t]=vt}).call(n.g),e.exports.install=wgxpath.install,e.exports.XPathResultType={ANY_TYPE:0,NUMBER_TYPE:1,STRING_TYPE:2,BOOLEAN_TYPE:3,UNORDERED_NODE_ITERATOR_TYPE:4,ORDERED_NODE_ITERATOR_TYPE:5,UNORDERED_NODE_SNAPSHOT_TYPE:6,ORDERED_NODE_SNAPSHOT_TYPE:7,ANY_UNORDERED_NODE_TYPE:8,FIRST_ORDERED_NODE_TYPE:9}}},l={};function u(e){if(l[e])return l[e].exports;var t=l[e]={id:e,loaded:!1,exports:{}};return r[e].call(t.exports,t,t.exports,u),t.loaded=!0,t.exports}u.m=r,u.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return u.d(t,{a:t}),t},u.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);u.r(n);var a={};if(2&t&&"object"==typeof e&&e)for(var i in e)a[i]=function(t){return e[t]}.bind(null,i);return a.default=function(){return e},u.d(n,a),n},u.d=function(e,t){for(var n in t)u.o(t,n)&&!u.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},u.f={},u.e=function(e){return Promise.all(Object.keys(u.f).reduce((function(t,n){return u.f[n](e,t),t}),[]))},u.u=function(e){return"js/7daaddae/debug.js"},u.miniCssF=function(e){return 296===e?"css/7daaddae/widget.css":"css/7daaddae/debug.widget.css"},u.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),u.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t={},n="widget_react:",u.l=function(e,a,i){if(t[e])t[e].push(a);else{var o,r;if(void 0!==i)for(var l=document.getElementsByTagName("script"),s=0;s<l.length;s++){var c=l[s];if(c.getAttribute("src")==e||c.getAttribute("data-webpack")==n+i){o=c;break}}o||(r=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,u.nc&&o.setAttribute("nonce",u.nc),o.setAttribute("data-webpack",n+i),o.src=e),t[e]=[a];var d=function(n,a){o.onerror=o.onload=null,clearTimeout(f);var i=t[e];if(delete t[e],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((function(e){return e(a)})),n)return n(a)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=d.bind(null,o.onerror),o.onload=d.bind(null,o.onload),r&&document.head.appendChild(o)}},u.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},u.p="/public/",a=function(e,t,n){var a=document.createElement("link");return a.rel="stylesheet",a.type="text/css",a.onload=t,a.onerror=function(t){var i=t&&t.target&&t.target.src||e,o=new Error("Loading CSS chunk "+chunkId+" failed.\n("+i+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=i,a.parentNode.removeChild(a),n(o)},a.href=e,function(e){window.parent.jivo_cspNonce&&e.setAttribute("nonce",window.parent.jivo_cspNonce);var t=window.parent.document.getElementsByTagName("head")[0];if(!t)throw new Error("Error inserting css:",e.href,"Reason: no head");t.appendChild(e)}(a),a},i=function(e){return new Promise((function(t,n){var i=u.miniCssF(e),o=u.p+i;if(function(e,t){for(var n=document.getElementsByTagName("link"),a=0;a<n.length;a++){var i=(r=n[a]).getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(i===e||i===t))return r}var o=document.getElementsByTagName("style");for(a=0;a<o.length;a++){var r;if((i=(r=o[a]).getAttribute("data-href"))===e||i===t)return r}}(i,o))return t();a(o,t,n)}))},o={296:0},u.f.miniCss=function(e,t){o[e]?t.push(o[e]):0!==o[e]&&{711:1}[e]&&t.push(o[e]=i(e).then((function(){o[e]=0}),(function(t){throw delete o[e],t})))},function(){var e={296:0};u.f.j=function(t,n){var a=u.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else{var i=new Promise((function(n,i){a=e[t]=[n,i]}));n.push(a[2]=i);var o=u.p+u.u(t),r=new Error;u.l(o,(function(n){if(u.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;r.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",r.name="ChunkLoadError",r.type=i,r.request=o,a[1](r)}}),"chunk-"+t)}};var t=self.webpackChunkwidget_react=self.webpackChunkwidget_react||[],n=t.push.bind(t);t.push=function(t){for(var a,i,o=t[0],r=t[1],l=t[2],s=0,c=[];s<o.length;s++)i=o[s],u.o(e,i)&&e[i]&&c.push(e[i][0]),e[i]=0;for(a in r)u.o(r,a)&&(u.m[a]=r[a]);for(l&&l(u),n(t);c.length;)c.shift()()}}(),function(){"use strict";var e=u(60530),t=u(66707),n=e(u(62904)),a=e(u(75043)),i=e(u(81574)),o=e(u(62652)),r=u(23582),l=(a.default.name("index"),new i.default);o.default.chat_started&&!n.default.maintenance&&!r.FeatureManager.isEnabled(r.Feature.RECAPTCHA)||t.cssLoader.subscribe((function(){l.start()}),(function(){l.stop()}))}()}();</script></head><body></body></html>